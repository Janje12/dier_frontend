(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7IaX":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));const a={hideSubHeader:!0,pager:{perPage:4},actions:{columnTitle:"Odaberi",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",width:"15%"},naziv:{title:"Naziv",width:"75%"}}}},"8FOb":function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var a=e("AytR"),i=e("fXoL"),o=e("tk/3");let s=(()=>{class t extends class{}{constructor(t){super(),this.http=t,this.apiUrl=a.a.apiUrl}getOOtpad(){return this.http.get(this.apiUrl+"/api/opasniotpad")}dodajOOtpad(t,n){return this.http.post(this.apiUrl+"/api/opasniotpad",{otpad:t,skladiste:n})}updateOOtpad(t,n){return this.http.patch(this.apiUrl+"/api/opasniotpad/"+t._id,{otpad:t,skladiste:n})}deleteOOtpad(t,n){return this.http.delete(this.apiUrl+"/api/opasniotpad/"+t._id+"/"+n)}}return t.\u0275fac=function(n){return new(n||t)(i.bc(o.b))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},"8sB5":function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var a=e("AytR"),i=e("fXoL"),o=e("tk/3"),s=e("McNs");let c=(()=>{class t extends class{}{constructor(t,n){super(),this.http=t,this.authService=n,this.apiUrl=a.a.apiUrl}getPrevoznoSredstvo(){}updatePrevoznoSredstvo(t){return this.http.patch(this.apiUrl+"/api/prevoznosredstvo/"+t._id,t)}getPrevoznoSredstvoFirme(){let t="";return this.authService.getToken().subscribe(n=>{t=n.getPayload().data.firma._id}),this.http.get(this.apiUrl+"/api/prevoznosredstvo/firma/"+t)}}return t.\u0275fac=function(n){return new(n||t)(i.bc(o.b),i.bc(s.g))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},"9pL+":function(t,n,e){"use strict";e.r(n),e.d(n,"PtotpadModule",(function(){return v}));var a=e("vTDv"),i=e("aceb"),o=e("RS3s"),s=e("O8xV"),c=e("3Pt+"),d=e("tyNb"),l=e("fXoL");let r=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Lb({type:t,selectors:[["ngx-ptotpad"]],decls:1,vars:0,template:function(t,n){1&t&&l.Sb(0,"router-outlet")},directives:[d.h],encapsulation:2}),t})();var b=e("AytR"),u=e("tk/3");let p=(()=>{class t extends class{}{constructor(t){super(),this.http=t,this.apiUrl=b.a.apiUrl}getPTOtpad(){return this.http.get(this.apiUrl+"/api/posebnitokoviotpada")}}return t.\u0275fac=function(n){return new(n||t)(l.bc(u.b))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac}),t})();var h=e("ofXK");const g=[{path:"",component:r,children:[{path:"dodaj-otpad",component:(()=>{class t{constructor(t,n){this.katalogService=t,this.ptotpadService=n,this.katalog=new o.a,this.settings={actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.ptotpad={_id:"",cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,masa:0,jedinicaMere:"",opasnaKomponenta:[{kgMaterije:0,cas:"",hemijskiNaziv:""}]}}ngOnInit(){this.katalogService.getKatalog().subscribe(t=>{this.katalog.load(t)})}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}chooseOtpad(t){this.ptotpad.indeksniBroj=t.data.indeksniBroj,this.ptotpad.naziv=t.data.naziv,this.ptotpad.opis=t.data.naziv}}return t.\u0275fac=function(n){return new(n||t)(l.Rb(s.a),l.Rb(p))},t.\u0275cmp=l.Lb({type:t,selectors:[["ngx-dodaj-otpad"]],decls:59,vars:15,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],["nbInput","","name","Jedinica mere",1,"col","ml-3",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Masa",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,n){if(1&t){const t=l.Yb();l.Xb(0,"div"),l.Xb(1,"nb-card",0),l.Xb(2,"nb-card-header"),l.Ec(3," Dodajte novi inventar otpada "),l.Wb(),l.Xb(4,"nb-card-body"),l.Xb(5,"div",1),l.Xb(6,"div",2),l.Xb(7,"div",3),l.Xb(8,"form"),l.Xb(9,"div",4),l.Xb(10,"label",5),l.Ec(11),l.Wb(),l.Wb(),l.Xb(12,"div",4),l.Xb(13,"label",5),l.Ec(14,"Naziv: "),l.Wb(),l.Xb(15,"input",6),l.fc("ngModelChange",(function(t){return n.ptotpad.naziv=t})),l.Wb(),l.Wb(),l.Xb(16,"div",4),l.Xb(17,"label",5),l.Ec(18,"Opis: "),l.Wb(),l.Xb(19,"input",7),l.fc("ngModelChange",(function(t){return n.ptotpad.opis=t})),l.Wb(),l.Wb(),l.Xb(20,"div",4),l.Xb(21,"label",5),l.Ec(22,"Trenutna kolicina na skladistu: "),l.Wb(),l.Xb(23,"input",8),l.fc("ngModelChange",(function(t){return n.ptotpad.kolicina=t})),l.Wb(),l.Xb(24,"button",9),l.Ec(25,"kg"),l.Wb(),l.Wb(),l.Xb(26,"div",4),l.Xb(27,"label",5),l.Ec(28,"Fizicko stanje otpada: "),l.Wb(),l.Xb(29,"nb-select",10),l.fc("ngModelChange",(function(t){return n.ptotpad.fizickoStanje=t})),l.Xb(30,"nb-option",11),l.Ec(31,"Cvrsto"),l.Wb(),l.Xb(32,"nb-option",12),l.Ec(33,"Tecno"),l.Wb(),l.Xb(34,"nb-option",13),l.Ec(35,"Gasovito"),l.Wb(),l.Xb(36,"nb-option",14),l.Ec(37,"Prah"),l.Wb(),l.Wb(),l.Wb(),l.Xb(38,"div",4),l.Xb(39,"label",5),l.Ec(40,"Jedinica mere: "),l.Wb(),l.Xb(41,"input",15),l.fc("ngModelChange",(function(t){return n.ptotpad.jedinicaMere=t})),l.Wb(),l.Wb(),l.Xb(42,"div",4),l.Xb(43,"label",5),l.Ec(44,"Masa jedinicnog proizvoda: "),l.Wb(),l.Xb(45,"input",16),l.fc("ngModelChange",(function(t){return n.ptotpad.masa=t})),l.Wb(),l.Xb(46,"button",9),l.Ec(47),l.Wb(),l.Wb(),l.Xb(48,"div",4),l.Xb(49,"button",17),l.Ec(50,"Dodaj"),l.Wb(),l.Wb(),l.Wb(),l.Ec(51),l.ic(52,"json"),l.Wb(),l.Xb(53,"div",18),l.Xb(54,"label",19),l.Ec(55,"Pretrazi po indeksnom broju:"),l.Wb(),l.Xb(56,"input",20,21),l.fc("input",(function(){l.wc(t);const e=l.uc(57);return e.value.length>=1&&n.onSearch(e.value)})),l.Wb(),l.Xb(58,"ng2-smart-table",22),l.fc("custom",(function(t){return n.chooseOtpad(t)})),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}2&t&&(l.Eb(11),l.Gc("Indeksni broj: ",n.ptotpad.indeksniBroj,""),l.Eb(4),l.nc("placeholder",n.ptotpad.naziv)("ngModel",n.ptotpad.naziv),l.Eb(4),l.nc("placeholder",n.ptotpad.opis)("ngModel",n.ptotpad.opis),l.Eb(4),l.nc("ngModel",n.ptotpad.kolicina),l.Eb(6),l.nc("ngModel",n.ptotpad.fizickoStanje),l.Eb(12),l.nc("ngModel",n.ptotpad.jedinicaMere),l.Eb(4),l.nc("ngModel",n.ptotpad.masa),l.Eb(2),l.Fc(n.ptotpad.jedinicaMere),l.Eb(4),l.Gc(" ",l.jc(52,13,n.ptotpad)," "),l.Eb(7),l.nc("source",n.katalog)("settings",n.settings))},directives:[i.s,i.u,i.r,c.w,c.l,c.m,i.K,c.b,c.k,c.n,c.p,i.p,i.jb,i.Z,o.b],pipes:[h.h],styles:[""]}),t})()}]}];let m=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(n){return new(n||t)},imports:[[d.g.forChild(g)],d.g]}),t})(),v=(()=>{class t{}return t.\u0275mod=l.Pb({type:t}),t.\u0275inj=l.Ob({factory:function(n){return new(n||t)},providers:[s.a,p],imports:[[a.a,i.v,i.L,i.lb,i.y,o.c,i.q,c.e,m]]}),t})()},"E+HJ":function(t,n,e){"use strict";e.r(n),e.d(n,"AotpadModule",(function(){return W}));var a=e("vTDv"),i=e("tyNb"),o=e("O8xV"),s=e("RS3s"),c=e("fXoL"),d=e("tk/3");let l=(()=>{class t extends class{}{constructor(t){super(),this.http=t}getAOtpad(){return this.http.get("api/ambalazniotpad")}}return t.\u0275fac=function(n){return new(n||t)(c.bc(d.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();var r=e("aceb"),b=e("3Pt+"),u=e("ofXK");let p=(()=>{class t{constructor(t,n){this.katalogService=t,this.aotpadService=n,this.katalog=new s.a,this.settings={hideSubHeader:!0,actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.aotpad={_id:"",fizickoStanje:"",indeksniBroj:"",naziv:"",opis:"",kolicina:0,komunalan:!1}}ngOnInit(){this.katalogService.getKatalog().subscribe(t=>{this.katalog.load(t)})}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}chooseOtpad(t){this.aotpad.indeksniBroj=t.data.indeksniBroj,this.aotpad.naziv=t.data.naziv,this.aotpad.opis=t.data.naziv}}return t.\u0275fac=function(n){return new(n||t)(c.Rb(o.a),c.Rb(l))},t.\u0275cmp=c.Lb({type:t,selectors:[["ngx-dodaj-otpad"]],decls:55,vars:13,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","komunalan",3,"valueChange"],["checked","","name","nekomunalan",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,n){if(1&t){const t=c.Yb();c.Xb(0,"div"),c.Xb(1,"nb-card",0),c.Xb(2,"nb-card-header"),c.Ec(3," Dodajte novi inventar otpada "),c.Wb(),c.Xb(4,"nb-card-body"),c.Xb(5,"div",1),c.Xb(6,"div",2),c.Xb(7,"div",3),c.Xb(8,"form"),c.Xb(9,"div",4),c.Xb(10,"label",5),c.Ec(11),c.Wb(),c.Wb(),c.Xb(12,"div",4),c.Xb(13,"label",5),c.Ec(14,"Naziv: "),c.Wb(),c.Xb(15,"input",6),c.fc("ngModelChange",(function(t){return n.aotpad.naziv=t})),c.Wb(),c.Wb(),c.Xb(16,"div",4),c.Xb(17,"label",5),c.Ec(18,"Opis: "),c.Wb(),c.Xb(19,"input",7),c.fc("ngModelChange",(function(t){return n.aotpad.opis=t})),c.Wb(),c.Wb(),c.Xb(20,"div",4),c.Xb(21,"label",5),c.Ec(22,"Trenutna kolicina na skladistu: "),c.Wb(),c.Xb(23,"input",8),c.fc("ngModelChange",(function(t){return n.aotpad.kolicina=t})),c.Wb(),c.Xb(24,"button",9),c.Ec(25,"kg"),c.Wb(),c.Wb(),c.Xb(26,"div",4),c.Xb(27,"label",5),c.Ec(28,"Fizicko stanje otpada: "),c.Wb(),c.Xb(29,"nb-select",10),c.fc("ngModelChange",(function(t){return n.aotpad.fizickoStanje=t})),c.Xb(30,"nb-option",11),c.Ec(31,"Cvrsto"),c.Wb(),c.Xb(32,"nb-option",12),c.Ec(33,"Tecno"),c.Wb(),c.Xb(34,"nb-option",13),c.Ec(35,"Gasovito"),c.Wb(),c.Xb(36,"nb-option",14),c.Ec(37,"Prah"),c.Wb(),c.Wb(),c.Wb(),c.Xb(38,"div",15),c.Xb(39,"nb-radio-group",16),c.fc("ngModelChange",(function(t){return n.aotpad.komunalan=t})),c.Xb(40,"nb-radio",17),c.fc("valueChange",(function(){return n.aotpad.komunalan=!0})),c.Ec(41,"Komunalan"),c.Wb(),c.Xb(42,"nb-radio",18),c.fc("valueChange",(function(){return n.aotpad.komunalan=!1})),c.Ec(43,"Nekomunalan"),c.Wb(),c.Wb(),c.Wb(),c.Xb(44,"div",4),c.Xb(45,"button",19),c.Ec(46,"Dodaj"),c.Wb(),c.Wb(),c.Wb(),c.Ec(47),c.ic(48,"json"),c.Wb(),c.Xb(49,"div",20),c.Xb(50,"label",21),c.Ec(51,"Pretrazi po indeksnom broju:"),c.Wb(),c.Xb(52,"input",22,23),c.fc("input",(function(){c.wc(t);const e=c.uc(53);return e.value.length>=1&&n.onSearch(e.value)})),c.Wb(),c.Xb(54,"ng2-smart-table",24),c.fc("custom",(function(t){return n.chooseOtpad(t)})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Eb(11),c.Gc("Indeksni broj: ",n.aotpad.indeksniBroj,""),c.Eb(4),c.nc("placeholder",n.aotpad.naziv)("ngModel",n.aotpad.naziv),c.Eb(4),c.nc("placeholder",n.aotpad.opis)("ngModel",n.aotpad.opis),c.Eb(4),c.nc("ngModel",n.aotpad.kolicina),c.Eb(6),c.nc("ngModel",n.aotpad.fizickoStanje),c.Eb(10),c.nc("ngModel",n.aotpad.komunalan),c.Eb(8),c.Gc(" ",c.jc(48,11,n.aotpad)," "),c.Eb(7),c.nc("source",n.katalog)("settings",n.settings))},directives:[r.s,r.u,r.r,b.w,b.l,b.m,r.K,b.b,b.k,b.n,b.p,r.p,r.jb,r.Z,r.gb,r.fb,s.b],pipes:[u.h],styles:[""]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["ngx-aotpad"]],decls:1,vars:0,template:function(t,n){1&t&&c.Sb(0,"router-outlet")},directives:[i.h],encapsulation:2}),t})();var g=e("LRne");let m=(()=>{class t extends class{}{constructor(t){super(),this.http=t}getAmbalaza(){return this.http.get("api/ambalaza")}getVrsteAmbalaza(){return Object(g.a)(["PET","Staklo","Druga vrsta plastike","Gvo\u017e\u0111e","Aluminijum","Palete","Ostalo Drvo","Tekstil","Keramika","Druge vrste ambala\u017ee"])}}return t.\u0275fac=function(n){return new(n||t)(c.bc(d.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();function v(t,n){if(1&t&&(c.Xb(0,"nb-option",17),c.Ec(1),c.Wb()),2&t){const t=n.$implicit;c.nc("value",t),c.Eb(1),c.Fc(t)}}const f=[{path:"",component:h,children:[{path:"dodaj-otpad",component:p},{path:"dodaj-ambalazu",component:(()=>{class t{constructor(t,n){this.katalogService=t,this.ambalazaService=n,this.ambalaza={_id:"",naziv:"",opis:"",kolicina:0,povratna:!0}}ngOnInit(){this.ambalazaService.getVrsteAmbalaza().subscribe(t=>{this.vrste=t})}}return t.\u0275fac=function(n){return new(n||t)(c.Rb(o.a),c.Rb(m))},t.\u0275cmp=c.Lb({type:t,selectors:[["ngx-dodaj-ambalazu"]],decls:37,vars:12,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],["name","naziv",1,"col-8",3,"selected","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","pattern","[0-9]*","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","povratna",3,"valueChange"],["checked","","name","nepovratna",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[3,"value"]],template:function(t,n){1&t&&(c.Xb(0,"div"),c.Xb(1,"nb-card",0),c.Xb(2,"nb-card-header"),c.Ec(3," Dodajte novi inventar ambalaze "),c.Wb(),c.Xb(4,"nb-card-body"),c.Xb(5,"div",1),c.Xb(6,"div",2),c.Xb(7,"div",3),c.Xb(8,"form"),c.Xb(9,"div",4),c.Xb(10,"nb-select",5),c.fc("ngModelChange",(function(t){return n.ambalaza.naziv=t})),c.Cc(11,v,2,2,"nb-option",6),c.Wb(),c.Wb(),c.Xb(12,"div",4),c.Xb(13,"label",7),c.Ec(14,"Naziv: "),c.Wb(),c.Xb(15,"input",8),c.fc("ngModelChange",(function(t){return n.ambalaza.naziv=t})),c.Wb(),c.Wb(),c.Xb(16,"div",4),c.Xb(17,"label",7),c.Ec(18,"Opis: "),c.Wb(),c.Xb(19,"input",9),c.fc("ngModelChange",(function(t){return n.ambalaza.opis=t})),c.Wb(),c.Wb(),c.Xb(20,"div",4),c.Xb(21,"label",7),c.Ec(22,"Trenutna kolicina na skladistu: "),c.Wb(),c.Xb(23,"input",10),c.fc("ngModelChange",(function(t){return n.ambalaza.kolicina=t})),c.Wb(),c.Xb(24,"button",11),c.Ec(25,"kg"),c.Wb(),c.Wb(),c.Xb(26,"div",12),c.Xb(27,"nb-radio-group",13),c.fc("ngModelChange",(function(t){return n.ambalaza.povratna=t})),c.Xb(28,"nb-radio",14),c.fc("valueChange",(function(){return n.ambalaza.povratna=!0})),c.Ec(29,"Povratna"),c.Wb(),c.Xb(30,"nb-radio",15),c.fc("valueChange",(function(){return n.ambalaza.povratna=!1})),c.Ec(31,"Nepovratna"),c.Wb(),c.Wb(),c.Wb(),c.Xb(32,"div",4),c.Xb(33,"button",16),c.Ec(34,"Dodaj"),c.Wb(),c.Wb(),c.Wb(),c.Ec(35),c.ic(36,"json"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Eb(10),c.nc("selected",n.vrste[0])("ngModel",n.ambalaza.naziv),c.Eb(1),c.nc("ngForOf",n.vrste),c.Eb(4),c.nc("placeholder",n.ambalaza.naziv)("ngModel",n.ambalaza.naziv),c.Eb(4),c.nc("placeholder",n.ambalaza.opis)("ngModel",n.ambalaza.opis),c.Eb(4),c.nc("ngModel",n.ambalaza.kolicina),c.Eb(4),c.nc("ngModel",n.ambalaza.povratna),c.Eb(8),c.Gc(" ",c.jc(36,10,n.ambalaza)," "))},directives:[r.s,r.u,r.r,b.w,b.l,b.m,r.jb,b.k,b.n,u.m,r.K,b.b,b.p,b.q,r.p,r.gb,r.fb,r.Z],pipes:[u.h],styles:[""]}),t})()}]}];let k=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(n){return new(n||t)},imports:[[i.g.forChild(f)],i.g]}),t})(),W=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(n){return new(n||t)},providers:[o.a,l,m],imports:[[a.a,k,r.v,r.L,r.lb,r.y,s.c,r.q,b.e,r.hb]]}),t})()},O97o:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var a=e("AytR"),i=e("fXoL"),o=e("tk/3"),s=e("McNs");let c=(()=>{class t extends class{}{constructor(t,n){super(),this.http=t,this.authService=n,this.apiUrl=a.a.apiUrl}getDozvola(){return this.http.get(this.apiUrl+"/api/dozvola")}updateDozvola(t){return this.http.patch(this.apiUrl+"/api/dozvola/"+t._id,t)}getDozvolaFrime(){let t="";return this.authService.getToken().subscribe(n=>{t=n.getPayload().data.firma._id}),this.http.get(this.apiUrl+"/api/dozvola/firma/"+t)}}return t.\u0275fac=function(n){return new(n||t)(i.bc(o.b),i.bc(s.g))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},dgmN:function(t,n,e){"use strict";e.r(n),e.d(n,"PagesModule",(function(){return bt}));var a=e("3Pt+"),i=e("aceb"),o=e("RS3s"),s=e("O97o"),c=e("g6/h"),d=e("v7Ib"),l=e("8sB5"),r=e("ud2R"),b=e("vTDv"),u=e("E+HJ"),p=e("fXoL");let h=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(n){return new(n||t)},imports:[[a.e,b.a,i.v,i.Fb,i.q,i.j,i.J,i.q]]}),t})();var g=e("o/8v"),m=e("rDBk"),v=e("tyNb");let f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-dashboard"]],decls:2,vars:0,consts:[[1,"row"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Ec(1," Glavni panel!\n"),p.Wb())},styles:[".nb-theme-default   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}"]}),t})(),k=(()=>{class t{constructor(t){this.menuService=t}goToHome(){this.menuService.navigateHome()}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(i.X))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-not-found"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-centered","col-xl-4","col-lg-6","col-md-8","col-sm-12"],[1,"title"],[1,"sub-title"],["nbButton","","fullWidth","","type","button",1,"home-button",3,"click"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Xb(2,"nb-card"),p.Xb(3,"nb-card-body"),p.Xb(4,"div",2),p.Xb(5,"h2",3),p.Ec(6,"404 Ne postoji"),p.Wb(),p.Xb(7,"small",4),p.Ec(8,"Stranica koju ste tra\u017eili ne postoji"),p.Wb(),p.Xb(9,"button",5),p.fc("click",(function(){return n.goToHome()})),p.Ec(10," Vrati me na po\u010detnu "),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb())},directives:[i.s,i.r,i.p],styles:[".flex-centered[_ngcontent-%COMP%]{margin:auto}nb-card-body[_ngcontent-%COMP%]{display:flex}.sub-title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{text-align:center}.sub-title[_ngcontent-%COMP%]{display:block;margin-bottom:3rem}.home-button[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),t})();var W=e("McNs"),j=e("mgFL");let X=(()=>{class t{constructor(t,n,e){this.roleService=t,this.authService=n,this.router=e,this.authService.getToken().subscribe(t=>{"admin"===t.getPayload().data.korisnik.uloga&&e.navigate(["admin"])})}ngOnInit(){this.roleService.findOperationsMenu().subscribe(t=>{this.menu=t})}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(r.a),p.Rb(W.g),p.Rb(v.c))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,n){1&t&&(p.Xb(0,"ngx-one-column-layout"),p.Sb(1,"nb-menu",0),p.Sb(2,"router-outlet"),p.Wb()),2&t&&(p.Eb(1),p.nc("items",n.menu))},directives:[j.a,i.V,v.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),t})();var E=e("ofXK"),M=e("LRne"),z=e("SxV6"),S=e("El76"),O=e("8FOb"),C=e("pVkk");const y={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)",editable:!1}}},w={hideSubHeader:!0,actions:{columnTitle:"Dodaj na skladi\u0161te",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}},I=["addTrash"];function x(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div"),p.Xb(1,"div",3),p.Xb(2,"div",4),p.Xb(3,"nb-progress-bar",5),p.Ec(4),p.Wb(),p.Wb(),p.Wb(),p.Xb(5,"nb-card"),p.Xb(6,"nb-card-header"),p.Xb(7,"h2",6),p.Ec(8),p.Xb(9,"nb-icon",7),p.fc("click",(function(){return p.wc(t),p.hc().edit()})),p.Wb(),p.Wb(),p.Wb(),p.Xb(10,"nb-card-body"),p.Xb(11,"ng2-smart-table",8),p.fc("custom",(function(e){p.wc(t);const a=n.$implicit;return p.hc().changeKolicina(e,a)}))("editConfirm",(function(e){p.wc(t);const a=n.$implicit;return p.hc().updateTrash(e,a)}))("deleteConfirm",(function(e){p.wc(t);const a=n.$implicit;return p.hc().deleteTrash(e,a)})),p.Wb(),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=n.$implicit,e=p.hc();p.Eb(3),p.nc("value",e.calculateValue(t))("status",e.calculateStatus(t)),p.Eb(1),p.Hc(" ",t.kolicina,"/",t.maxKolicina," "),p.Eb(4),p.Gc(" ",null==t?null:t.naziv," "),p.Eb(1),p.nc("icon",e.editIcon),p.Eb(2),p.nc("settings",e.currSettings)("source",null==t?null:t.neopasniOtpad)}}function F(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",9),p.Xb(1,"form",10,11),p.fc("ngSubmit",(function(){return p.wc(t),p.hc().dodajOtpad()})),p.Xb(3,"div",12),p.Xb(4,"label",13),p.Ec(5,"Dodaj: "),p.Wb(),p.Xb(6,"input",14,15),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpadKolicina=n})),p.Wb(),p.Wb(),p.Xb(8,"div",16),p.Xb(9,"p"),p.Ec(10),p.Wb(),p.Wb(),p.Xb(11,"button",17),p.Ec(12,"Dodaj"),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=p.uc(7),n=p.hc();p.Eb(6),p.nc("ngModel",n.otpadKolicina),p.Eb(4),p.Gc("Trenutna kolicina otpada na skladistu: ",n.otpad.kolicina,""),p.Eb(1),p.nc("disabled",t.value<1||t.value===n.NaN)}}let D=(()=>{class t{constructor(t,n,e,a,i){this.skladisteService=t,this.windowService=n,this.notpadService=e,this.ootpadService=a,this.toastrService=i,this.skladista=[],this.settings=w,this.editSettings=y,this.currSettings=this.settings,this.editIcon="edit"}ngOnInit(){this.updateSkladiste()}updateSkladiste(){this.skladisteService.getSkladisteFirme().pipe(Object(z.a)()).subscribe(t=>{this.skladista=t,this.skladista$=Object(M.a)(t),this.mergeOtpads()})}mergeOtpads(){if(void 0!==this.skladista)for(const t of this.skladista)t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}dodajOtpad(){this.otpad.kolicina+=this.otpadKolicina,this.otpad.indeksniBroj.endsWith("*")?this.ootpadService.updateOOtpad(this.otpad,this.currSkladiste._id).subscribe(t=>{this.updateSkladiste()}):this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe(t=>{this.updateSkladiste()})}changeKolicina(t,n){this.currSkladiste=n;const e=t.data;this.otpad=e,this.windowService.open(this.addTrash,{title:"Dodaj proizvedenu kolicinu: "+e.naziv})}calculateStatus(t){return t.kolicina/t.maxKolicina*100<33?"success":t.kolicina/t.maxKolicina*100<66?"warning":"danger"}calculateValue(t){return t.kolicina/t.maxKolicina*100}edit(){this.currSettings!==this.editSettings?(this.currSettings=this.editSettings,this.editIcon="close"):(this.currSettings=this.settings,this.editIcon="edit")}showToast(t,n,e){this.toastrService.show(n,t,{status:e})}updateTrash({newData:t,confirm:n},e){try{this.notpadService.updateNOtpad(t,e._id).subscribe(t=>{this.updateSkladiste()}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.naziv,"success")}catch(a){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}deleteTrash({data:t,confirm:n},e){try{this.notpadService.deleteNOtpad(t,e._id).subscribe(t=>{this.updateSkladiste()}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.naziv,"success")}catch(a){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(C.a),p.Rb(i.Hb),p.Rb(S.a),p.Rb(O.a),p.Rb(i.Bb))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-skladiste-proizvodnja"]],viewQuery:function(t,n){var e;1&t&&p.Kc(I,!0,p.N),2&t&&p.tc(e=p.gc())&&(n.addTrash=e.first)},decls:5,vars:3,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["addTrash",""],[1,"row"],[1,"col-12"],["size","large",3,"value","status"],[1,"text-center"],[1,"edit-button",3,"icon","click"],[3,"settings","source","custom","editConfirm","deleteConfirm"],[1,"p-4"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Cc(1,x,12,8,"div",1),p.ic(2,"async"),p.Wb(),p.Cc(3,F,13,3,"ng-template",null,2,p.Dc)),2&t&&(p.Eb(1),p.nc("ngForOf",p.jc(2,1,n.skladista$)))},directives:[E.m,i.db,i.s,i.u,i.H,i.r,o.b,a.w,a.l,a.m,i.K,a.p,a.b,a.k,a.n],pipes:[E.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}.edit-button[_ngcontent-%COMP%]{font-size:100%}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),t})();var P=e("O8xV"),K=e("7IaX");const B={hideSubHeader:!0,actions:{columnTitle:"Dodaj na skladiste",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}},T=["treatTrashTemplate"],N=["addTrashTemplate"];function R(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div"),p.Xb(1,"div",4),p.Xb(2,"div",5),p.Xb(3,"nb-progress-bar",6),p.Ec(4),p.Wb(),p.Wb(),p.Wb(),p.Xb(5,"nb-card"),p.Xb(6,"nb-card-header"),p.Xb(7,"h2",7),p.Ec(8),p.Wb(),p.Wb(),p.Xb(9,"nb-card-body"),p.Xb(10,"ng2-smart-table",8),p.fc("custom",(function(e){p.wc(t);const a=n.$implicit;return p.hc().treatTrash(e,a)})),p.Wb(),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=n.$implicit,e=p.hc();p.Eb(3),p.nc("value",e.calculateValue(t))("status",e.calculateStatus(t)),p.Eb(1),p.Hc(" ",t.kolicina,"/",t.maxKolicina," "),p.Eb(4),p.Fc(null==t?null:t.naziv),p.Eb(2),p.nc("settings",e.settings)("source",null==t?null:t.neopasniOtpad)}}function _(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",24),p.Xb(1,"button",25),p.fc("click",(function(){p.wc(t);const e=n.$implicit;return p.hc(2).chooseOtpad(e)})),p.Ec(2),p.Wb(),p.Wb()}if(2&t){const t=n.$implicit;p.Eb(1),p.nc("nbPopover",t.naziv),p.Eb(1),p.Gc(" ",t.indeksniBroj," ")}}function L(t,n){if(1&t&&(p.Xb(0,"nb-option",26),p.Ec(1),p.Wb()),2&t){const t=n.$implicit;p.nc("value",t),p.Eb(1),p.Fc(t.naziv)}}const q=function(){return{standalone:!0}};function $(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",4),p.Xb(1,"div",5),p.Xb(2,"label",9),p.Ec(3,"Pretrazi po indeksnom broju:"),p.Wb(),p.Xb(4,"input",10,11),p.fc("input",(function(){p.wc(t);const n=p.uc(5),e=p.hc();return n.value.length>=1&&e.onSearch(n.value)})),p.Wb(),p.Xb(6,"ng2-smart-table",12),p.fc("custom",(function(n){return p.wc(t),p.hc().chooseOtpad(n)})),p.Wb(),p.Wb(),p.Wb(),p.Xb(7,"div",4),p.Xb(8,"div",13),p.Xb(9,"form",14,15),p.fc("ngSubmit",(function(){return p.wc(t),p.hc().obradiOtpad()})),p.Xb(11,"label",16),p.Ec(12,"Odaberi koli\u010dinu za preradu:"),p.Wb(),p.Xb(13,"input",17,18),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpadKolicina=n})),p.Wb(),p.Xb(15,"button",19),p.Ec(16," Obradi "),p.Wb(),p.Wb(),p.Wb(),p.Xb(17,"div",20),p.Xb(18,"p"),p.Ec(19,"Lista otpada koji nastaju (kolicine dodajte kasnije ovo u KRUG (i)//kasnije):"),p.Wb(),p.Xb(20,"div",4),p.Cc(21,_,3,2,"div",21),p.Wb(),p.Wb(),p.Xb(22,"div",13),p.Xb(23,"label",16),p.Ec(24,"Odaberite skladiste za otpad koji nastane:"),p.Wb(),p.Xb(25,"nb-select",22),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().currSkladisteOstatak=n})),p.Cc(26,L,2,2,"nb-option",23),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=p.uc(14),n=p.hc();p.Eb(6),p.nc("source",n.katalog)("settings",n.settingsKatalog),p.Eb(7),p.nc("ngModelOptions",p.qc(8,q))("ngModel",n.otpadKolicina),p.Eb(2),p.nc("disabled",t.value<1||t.value===n.NaN),p.Eb(6),p.nc("ngForOf",n.otpadKojiNastaje),p.Eb(4),p.nc("ngModel",n.currSkladisteOstatak),p.Eb(1),p.nc("ngForOf",n.skladista)}}function H(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",27),p.Xb(1,"form",14,28),p.fc("ngSubmit",(function(){return p.wc(t),p.hc().dodajOtpad()})),p.Xb(3,"div",29),p.Xb(4,"label",30),p.Ec(5,"Dodaj: "),p.Wb(),p.Xb(6,"input",31,32),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpadKolicina=n})),p.Wb(),p.Wb(),p.Xb(8,"div",33),p.Xb(9,"p"),p.Ec(10),p.Wb(),p.Wb(),p.Xb(11,"button",19),p.Ec(12,"Dodaj"),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=p.uc(7),n=p.hc();p.Eb(6),p.nc("ngModel",n.otpadKolicina),p.Eb(4),p.Gc("Trenutna kolicina otpada na skladistu: ",n.otpad.kolicina,""),p.Eb(1),p.nc("disabled",t.value<1||t.value===n.NaN)}}let U=(()=>{class t{constructor(t,n,e,a){this.skladisteService=t,this.windowService=n,this.notpadService=e,this.katalogService=a,this.skladistaTretman=[],this.skladista=[],this.otpadTretman=[],this.otpadOstatak=[],this.otpadKojiNastaje=[],this.settings=B,this.settingsProduction=w,this.settingsKatalog=K.a,this.katalog=new o.a}ngOnInit(){this.katalogService.getKatalog().subscribe(t=>{this.katalog.load(t)}),this.updateSkladiste()}updateSkladiste(){this.skladisteService.getSkladisteTretmanFirme().subscribe(t=>{this.skladistaTretman=t,this.organizeTrash()}),this.skladisteService.getSkladisteFirme().subscribe(t=>{this.skladista=t})}organizeTrash(){if(void 0!==this.skladistaTretman)for(const t of this.skladistaTretman)t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}obradiOtpad(){this.otpad.kolicina-=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe(),this.otpadKojiNastaje.forEach(t=>{t.opis=t.naziv,t.kolicina=0,this.notpadService.dodajNOtpad(t,this.currSkladisteOstatak._id).subscribe()}),this.updateSkladiste()}dodajOtpad(){this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe(t=>{this.updateSkladiste()})}chooseOtpad(t){let n=t;void 0!==t.data&&(n=t.data),this.otpadKojiNastaje.some(t=>t._id===n._id)?this.removeOtpad(n):this.otpadKojiNastaje.push(n)}removeOtpad(t){const n=this.otpadKojiNastaje.filter(n=>n._id===t._id)[0];if(n){const t=this.otpadKojiNastaje.indexOf(n,0);t>-1&&this.otpadKojiNastaje.splice(t,1)}}treatTrash(t,n){this.currSkladiste=n;const e=t.data;this.otpad=e,this.windowService.open(this.treatTrashTemplate,{title:"Preradi odre\u0111enu kolicinu: "+e.naziv})}addTrash(t,n){this.currSkladiste=n;const e=t.data;this.otpad=e,this.windowService.open(this.treatTrashTemplate,{title:"Preradi odre\u0111enu kolicinu: "+e.naziv})}calculateStatus(t){return t.kolicina/t.maxKolicina*100<33?"success":t.kolicina/t.maxKolicina*100<66?"warning":"danger"}calculateValue(t){return t.kolicina/t.maxKolicina*100}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(C.a),p.Rb(i.Hb),p.Rb(S.a),p.Rb(P.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-skladiste-tretman"]],viewQuery:function(t,n){var e;1&t&&(p.Kc(T,!0,p.N),p.Kc(N,!0,p.N)),2&t&&(p.tc(e=p.gc())&&(n.treatTrashTemplate=e.first),p.tc(e=p.gc())&&(n.addTrashTemplate=e.first))},decls:6,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["treatTrashTemplate",""],["addTrashTemplate",""],[1,"row"],[1,"col-12"],["size","large",3,"value","status"],[1,"text-center"],[3,"settings","source","custom"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],[1,"col-3"],[3,"ngSubmit"],["obradiForm","ngForm"],[1,"label","col-12"],["nbInput","","name","kolicinaOtpada","fullWidth","","type","number","onkeypress","return /[0-9]/i.test(event.key)","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["kolicina",""],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"col-6"],["class","col-2",4,"ngFor","ngForOf"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["nbButton","","status","info","size","small","fullWidth","","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click"],[3,"value"],[1,"p-4"],["dodajForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Cc(1,R,11,7,"div",1),p.Wb(),p.Cc(2,$,27,9,"ng-template",null,2,p.Dc),p.Cc(4,H,13,3,"ng-template",null,3,p.Dc)),2&t&&(p.Eb(1),p.nc("ngForOf",n.skladistaTretman))},directives:[E.m,i.db,i.s,i.u,i.r,o.b,i.K,a.w,a.l,a.m,a.p,a.b,a.k,a.n,i.jb,i.p,i.bb,i.Z],styles:[""]}),t})();const Y={hideSubHeader:!0,actions:{columnTitle:"Odlo\u017ei otpad",position:"right",edit:!1,add:!1,delete:!1,custom:[{name:"Odlo\u017ei",title:'<i class="fa fa-trash-restore"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}},G=["dumpWindow"];function A(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div"),p.Xb(1,"div",3),p.Xb(2,"div",4),p.Xb(3,"nb-progress-bar",5),p.Ec(4),p.Wb(),p.Wb(),p.Wb(),p.Xb(5,"nb-card"),p.Xb(6,"nb-card-header"),p.Xb(7,"h2",6),p.Ec(8),p.Wb(),p.Wb(),p.Xb(9,"nb-card-body"),p.Xb(10,"ng2-smart-table",7),p.fc("custom",(function(e){p.wc(t);const a=n.$implicit;return p.hc().chooseAction(e,a)})),p.Wb(),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=n.$implicit,e=p.hc();p.Eb(3),p.nc("value",e.calculateValue(t))("status",e.calculateStatus(t)),p.Eb(1),p.Hc(" ",t.kolicina,"/",t.maxKolicina," "),p.Eb(4),p.Fc(null==t?null:t.naziv),p.Eb(2),p.nc("settings",e.settings)("source",null==t?null:t.neopasniOtpad)}}function V(t,n){if(1&t&&(p.Xb(0,"nb-option-group",27),p.Xb(1,"nb-option",28),p.Ec(2),p.Wb(),p.Wb()),2&t){const t=n.$implicit,e=n.index;p.nc("title","D"+(e+1)),p.Eb(1),p.nc("value","D"+e),p.Eb(1),p.Fc(t)}}function J(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",8),p.Xb(1,"form",9,10),p.fc("ngSubmit",(function(){return p.wc(t),p.hc().dodajOtpad()})),p.Xb(3,"div",11),p.Xb(4,"label",12),p.Ec(5,"Naziv preduze\u0107a od kojeg je preuzet otpad: "),p.Wb(),p.Xb(6,"input",13,14),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().nazivFirme=n})),p.Wb(),p.Wb(),p.Xb(8,"div",11),p.Xb(9,"label",15),p.Ec(10,"Broj dokumenta o kretanju otpada: "),p.Wb(),p.Xb(11,"input",16,17),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().brDokumenta=n})),p.Wb(),p.Wb(),p.Xb(13,"div",11),p.Xb(14,"label",18),p.Ec(15,"Koli\u010dina: "),p.Wb(),p.Xb(16,"input",19,20),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpadKolicina=n})),p.Wb(),p.Wb(),p.Xb(18,"div",11),p.Xb(19,"label",21),p.Ec(20,"D Oznaka: "),p.Wb(),p.Xb(21,"nb-select",22),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpad.dOznaka=n})),p.Cc(22,V,3,3,"nb-option-group",23),p.Wb(),p.Xb(23,"nb-checkbox",null,24),p.Ec(25,"Promeni D oznaku otpada"),p.Wb(),p.Wb(),p.Xb(26,"div",25),p.Xb(27,"p"),p.Ec(28),p.Wb(),p.Wb(),p.Xb(29,"button",26),p.Ec(30," Odlo\u017ei "),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=p.uc(2),n=p.uc(24),e=p.hc();p.Eb(6),p.nc("ngModel",e.nazivFirme),p.Eb(5),p.nc("ngModel",e.brDokumenta),p.Eb(5),p.nc("ngModel",e.otpadKolicina),p.Eb(5),p.nc("ngModel",e.otpad.dOznaka)("disabled",!n.checked),p.Eb(1),p.nc("ngForOf",e.dOznake),p.Eb(6),p.Gc("Trenutna kolicina otpada na skladistu: ",e.otpad.kolicina,""),p.Eb(1),p.nc("disabled",!t.valid)}}let Z=(()=>{class t{constructor(t,n,e){this.skladisteService=t,this.windowService=n,this.notpadService=e,this.dOznake=["Deponovanje otpada u zemlji\u0161te ili na zemlji\u0161te","Izlaganje otpada procesima u zemlji\u0161tu","Duboko ubrizgavanje","Povr\u0161insko deponovanje ","Odlaganje otpada u posebno projektovane deponije","Ispu\u0161tanje u vode, osim u mora, odnosno okeane","Ispu\u0161tanje u mora, odnosno okeane, uklju\u010duju\u0107i utiskivanje u morsko dno","Biolo\u0161ki tretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Fizi\u010dko-hemijsk itretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Spaljivanje (insineracija) na tlu","Spaljivanje (insineracija) na moru","Trajno skladi\u0161tenje","Me\u0161anje otpada pre podvrgavanja bilo kojoj od operacija od D1 do D12","Prepakovanje otpada pre podvrgavanja bil okojoj od operacija od D1 do D13","Skladi\u0161tenje otpada koje prethodi bilo kojoj od operacija od D1 do D14"],this.settings=Y}ngOnInit(){this.updateSkladiste()}updateSkladiste(){this.skladisteService.getSkladisteDeponijaFirme().subscribe(t=>{this.skladisteDeponija=t,this.mergeOtpads()})}mergeOtpads(){if(void 0!==this.skladisteDeponija)for(const t of this.skladisteDeponija)t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}dodajOtpad(){this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe(t=>{this.updateSkladiste()}),this.windowRef.close()}chooseAction(t,n){"Odlo\u017ei"===t.action&&this.dumpTrash(t.data,n)}dumpTrash(t,n){this.currSkladiste=n,this.otpad=t,this.windowRef=this.windowService.open(this.dumpWindow,{title:"Odlo\u017ei koli\u010dinu: "+t.naziv})}calculateStatus(t){return t.kolicina/t.maxKolicina*100<33?"success":t.kolicina/t.maxKolicina*100<66?"warning":"danger"}calculateValue(t){return t.kolicina/t.maxKolicina*100}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(C.a),p.Rb(i.Hb),p.Rb(S.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-skladiste-deponija"]],viewQuery:function(t,n){var e;1&t&&p.Kc(G,!0,p.N),2&t&&p.tc(e=p.gc())&&(n.dumpWindow=e.first)},decls:4,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["dumpWindow",""],[1,"row"],[1,"col-12"],["size","large",3,"value","status"],[1,"text-center"],[1,"order-table",3,"settings","source","custom"],[1,"p-4"],[3,"ngSubmit"],["dumpForm","ngForm"],[1,"form-group","mt-0"],["for","input-nazivFirme",1,"mb-2"],["required","","fullWidth","","id","input-nazivFirme","name","nazivFirme","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["nazivFirme1","ngModel"],["for","input-brDokumenta",1,"mb-2"],["required","","fullWidth","","id","input-brDokumenta","name","brDokumenta","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["brDokumenta1","ngModel"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","required","","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],["for","input-dOznaka",1,"col-12","mb-2","pl-0"],["name","DOznaka","id","input-dOznaka",1,"pr-2",3,"ngModel","disabled","ngModelChange"],[3,"title",4,"ngFor","ngForOf"],["checkBox",""],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[3,"title"],[3,"value"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Cc(1,A,11,7,"div",1),p.Wb(),p.Cc(2,J,31,8,"ng-template",null,2,p.Dc)),2&t&&(p.Eb(1),p.nc("ngForOf",n.skladisteDeponija))},directives:[E.m,i.db,i.s,i.u,i.r,o.b,a.w,a.l,a.m,i.K,a.b,a.s,a.k,a.n,a.p,i.jb,i.x,i.ab,i.Z],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),t})();const Q=["dodajKolicinu"];function tt(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div"),p.Xb(1,"nb-card"),p.Xb(2,"nb-card-header"),p.Xb(3,"h2",3),p.Ec(4),p.Wb(),p.Wb(),p.Xb(5,"nb-card-body"),p.Xb(6,"ng2-smart-table",4),p.fc("custom",(function(e){p.wc(t);const a=n.$implicit;return p.hc().changeKolicina(e,a)})),p.Wb(),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=n.$implicit,e=p.hc();p.Eb(4),p.Fc(null==t?null:t.naziv),p.Eb(2),p.nc("settings",e.settings)("source",null==t?null:t.neopasniOtpad)}}function nt(t,n){if(1&t){const t=p.Yb();p.Xb(0,"div",5),p.Xb(1,"form",6,7),p.fc("ngSubmit",(function(){return p.wc(t),p.hc().dodajOtpad()})),p.Xb(3,"div",8),p.Xb(4,"label",9),p.Ec(5,"Dodaj: "),p.Wb(),p.Xb(6,"input",10,11),p.fc("ngModelChange",(function(n){return p.wc(t),p.hc().otpadKolicina=n})),p.Wb(),p.Wb(),p.Xb(8,"div",12),p.Xb(9,"p"),p.Ec(10),p.Wb(),p.Wb(),p.Xb(11,"button",13),p.Ec(12,"Dodaj"),p.Wb(),p.Wb(),p.Wb()}if(2&t){const t=p.uc(7),n=p.hc();p.Eb(6),p.nc("ngModel",n.otpadKolicina),p.Eb(4),p.Gc("Trenutna kolicina otpada na skladistu: ",n.otpad.kolicina,""),p.Eb(1),p.nc("disabled",t.value<1||t.value===n.NaN)}}let et=(()=>{class t{constructor(t,n,e){this.skladisteService=t,this.windowService=n,this.notpadService=e,this.settings=w}ngOnInit(){this.updateSkladiste()}updateSkladiste(){this.skladisteService.getSkladisteSkladistenjeFirme().subscribe(t=>{this.skladistaSkladistenje=t,this.mergeOtpads()})}mergeOtpads(){if(void 0!==this.skladistaSkladistenje)for(const t of this.skladistaSkladistenje)t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}dodajOtpad(){this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe(t=>{this.updateSkladiste()})}changeKolicina(t,n){this.currSkladiste=n;const e=t.data;this.otpad=e,this.windowService.open(this.dodajKolicinu,{title:"Dodaj proizvedenu kolicinu: "+e.naziv})}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(C.a),p.Rb(i.Hb),p.Rb(S.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-skladiste-skladistenje"]],viewQuery:function(t,n){var e;1&t&&p.Kc(Q,!0,p.N),2&t&&p.tc(e=p.gc())&&(n.dodajKolicinu=e.first)},decls:4,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["dodajKolicinu",""],[1,"text-center"],[3,"settings","source","custom"],[1,"p-4"],[3,"ngSubmit"],["dodajForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Cc(1,tt,7,3,"div",1),p.Wb(),p.Cc(2,nt,13,3,"ng-template",null,2,p.Dc)),2&t&&(p.Eb(1),p.nc("ngForOf",n.skladistaSkladistenje))},directives:[E.m,i.s,i.u,i.r,o.b,a.w,a.l,a.m,i.K,a.p,a.b,a.k,a.n],styles:[""]}),t})();function at(t,n){1&t&&(p.Xb(0,"div"),p.Sb(1,"ngx-skladiste-proizvodnja"),p.Wb())}function it(t,n){1&t&&(p.Xb(0,"div"),p.Sb(1,"ngx-skladiste-tretman"),p.Wb())}function ot(t,n){1&t&&(p.Xb(0,"div"),p.Sb(1,"ngx-skladiste-deponija"),p.Wb())}function st(t,n){1&t&&(p.Xb(0,"div"),p.Sb(1,"ngx-skladiste-skladistenje"),p.Wb())}const ct=[{path:"",component:X,children:[{path:"dashboard",component:f},{path:"profile",loadChildren:()=>e.e(11).then(e.bind(null,"723k")).then(t=>t.ProfileModule)},{path:"skladiste",component:(()=>{class t{constructor(t){this.roleService=t}ngOnInit(){this.roleService.findOperations().subscribe(t=>{this.operations=t})}}return t.\u0275fac=function(n){return new(n||t)(p.Rb(r.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ngx-skladiste"]],decls:5,vars:4,consts:[[1,"container-fluid"],[4,"ngIf"]],template:function(t,n){1&t&&(p.Xb(0,"div",0),p.Cc(1,at,2,0,"div",1),p.Cc(2,it,2,0,"div",1),p.Cc(3,ot,2,0,"div",1),p.Cc(4,st,2,0,"div",1),p.Wb()),2&t&&(p.Eb(1),p.nc("ngIf",n.operations.proizvodnja),p.Eb(1),p.nc("ngIf",n.operations.tretman),p.Eb(1),p.nc("ngIf",n.operations.odlaganje),p.Eb(1),p.nc("ngIf",n.operations.skladistenje))},directives:[E.n,D,U,Z,et],styles:[""]}),t})()},{path:"notpad",loadChildren:()=>Promise.resolve().then(e.bind(null,"o/8v")).then(t=>t.NotpadModule)},{path:"ootpad",loadChildren:()=>Promise.resolve().then(e.bind(null,"rDBk")).then(t=>t.OotpadModule)},{path:"ptotpad",loadChildren:()=>Promise.resolve().then(e.bind(null,"9pL+")).then(t=>t.PtotpadModule)},{path:"aotpad",loadChildren:()=>Promise.resolve().then(e.bind(null,"E+HJ")).then(t=>t.AotpadModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",component:k}]}];let dt=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(n){return new(n||t)},imports:[[v.g.forChild(ct)],v.g]}),t})();var lt=e("9pL+");let rt=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(n){return new(n||t)},providers:[C.a,r.a,P.a],imports:[[b.a,i.v,o.c,a.e,i.L,i.cb,i.T,i.lb,i.o,i.q,i.eb,i.y,i.J]]}),t})(),bt=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(n){return new(n||t)},providers:[d.a,r.a,i.Bb,c.a,s.a,l.a],imports:[[dt,b.a,i.W,i.q,h,g.NotpadModule,m.OotpadModule,lt.PtotpadModule,u.AotpadModule,rt,i.v,i.xb,i.J,a.e,i.G,i.L,i.eb,i.cb,o.c]]}),t})()},"o/8v":function(t,n,e){"use strict";e.r(n),e.d(n,"NotpadModule",(function(){return w}));var a=e("O97o"),i=e("vTDv"),o=e("tyNb"),s=e("RS3s"),c=e("El76"),d=e("pVkk");const l={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}};var r=e("fXoL"),b=e("McNs"),u=e("aceb"),p=e("3Pt+"),h=e("ofXK");function g(t,n){if(1&t&&(r.Xb(0,"nb-option-group",24),r.Xb(1,"nb-option",25),r.Ec(2),r.Wb(),r.Wb()),2&t){const t=n.$implicit,e=n.index;r.nc("title","D"+(e+1)),r.Eb(1),r.nc("value","D"+e),r.Eb(1),r.Fc(t)}}function m(t,n){if(1&t){const t=r.Yb();r.Xb(0,"nb-option",26),r.fc("selectionChange",(function(){r.wc(t);const e=n.$implicit;return r.hc().updateKatalog(e)})),r.Ec(1),r.Wb()}if(2&t){const t=n.$implicit;r.nc("value",t.skladistaDeponija.naziv),r.Eb(1),r.Fc(t.skladistaDeponija.naziv)}}let v=(()=>{class t{constructor(t,n,e,a,i){this.dozvolaService=t,this.otpadService=n,this.router=e,this.authService=a,this.skladisteService=i,this.settings=l,this.katalog=new s.a,this.dOznake=["Deponovanje otpada u zemlji\u0161te ili na zemlji\u0161te","Izlaganje otpada procesima u zemlji\u0161tu","Duboko ubrizgavanje","Povr\u0161insko deponovanje ","Odlaganje otpada u posebno projektovane deponije","Ispu\u0161tanje u vode, osim u mora, odnosno okeane","Ispu\u0161tanje u mora, odnosno okeane, uklju\u010duju\u0107i utiskivanje u morsko dno","Biolo\u0161ki tretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Fizi\u010dko-hemijsk itretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Spaljivanje (insineracija) na tlu","Spaljivanje (insineracija) na moru","Trajno skladi\u0161tenje","Me\u0161anje otpada pre podvrgavanja bilo kojoj od operacija od D1 do D12","Prepakovanje otpada pre podvrgavanja bil okojoj od operacija od D1 do D13","Skladi\u0161tenje otpada koje prethodi bilo kojoj od operacija od D1 do D14"],this.dozvola=[],this.skladistaDeponija=[],this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:NaN,dOznaka:""}}ngOnInit(){this.dozvolaService.getDozvolaFrime().subscribe(t=>{this.dozvola=t,this.updateKatalog(this.dozvola[0])}),this.skladisteService.getSkladisteDeponijaFirme().subscribe(t=>{this.skladistaDeponija=t})}onSearch(t){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}updateKatalog(t){this.currSkladiste=t.skladistaDeponija,this.katalog.load(t.listaOtpada)}chooseOtpad(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}dodajOtpad(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.currSkladiste._id).subscribe(),this.router.navigate(["pages","skladiste"])}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(a.a),r.Rb(c.a),r.Rb(o.c),r.Rb(b.g),r.Rb(d.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngx-dodaj-deponija"]],decls:52,vars:13,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[3,"ngSubmit"],["form","ngForm"],[1,"row","my-3"],[1,"col-12"],[1,"col"],["nbInput","","required","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","required","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["selected","","required","","name","dOznaka",1,"col","pl-3",3,"ngModel","ngModelChange"],[3,"title",4,"ngFor","ngForOf"],["decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0","required","","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["nbInput","","disabled","",1,"col","ml-3",3,"placeholder"],["nbButton","","type","submit","status","primary",1,"col-6","ml-3",3,"disabled"],[1,"col-6"],[1,"col-12","pl-0"],["fullWidth",""],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"title"],[3,"value"],[3,"value","selectionChange"]],template:function(t,n){if(1&t){const t=r.Yb();r.Xb(0,"nb-card",0),r.Xb(1,"nb-card-header"),r.Xb(2,"h5"),r.Ec(3,"Dodajte novi inventar otpada za odlaganje"),r.Wb(),r.Wb(),r.Xb(4,"nb-card-body"),r.Xb(5,"div",1),r.Xb(6,"div",2),r.Xb(7,"div",3),r.Xb(8,"form",4,5),r.fc("ngSubmit",(function(){return n.dodajOtpad()})),r.Xb(10,"div",6),r.Xb(11,"label",7),r.Ec(12,"Indeksni broj:"),r.Wb(),r.Xb(13,"div",8),r.Xb(14,"b"),r.Ec(15),r.Wb(),r.Wb(),r.Wb(),r.Xb(16,"div",6),r.Xb(17,"label",7),r.Ec(18,"Naziv: "),r.Wb(),r.Xb(19,"input",9),r.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),r.Wb(),r.Wb(),r.Xb(20,"div",6),r.Xb(21,"label",7),r.Ec(22,"Opis: "),r.Wb(),r.Xb(23,"input",10),r.fc("ngModelChange",(function(t){return n.notpad.opis=t})),r.Wb(),r.Wb(),r.Xb(24,"div",6),r.Xb(25,"label",7),r.Ec(26,"D Oznaka:"),r.Wb(),r.Xb(27,"nb-select",11),r.fc("ngModelChange",(function(t){return n.notpad.dOznaka=t})),r.Cc(28,g,3,3,"nb-option-group",12),r.Wb(),r.Wb(),r.Xb(29,"div",6),r.Xb(30,"label",7),r.Ec(31,"Trenutna kolicina na skladistu: "),r.Wb(),r.Xb(32,"input",13),r.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),r.Wb(),r.Xb(33,"button",14),r.Ec(34,"kg"),r.Wb(),r.Wb(),r.Xb(35,"div",6),r.Xb(36,"label",7),r.Ec(37,"Odabarno skladi\u0161te:"),r.Wb(),r.Sb(38,"input",15),r.Wb(),r.Xb(39,"div",6),r.Xb(40,"button",16),r.Ec(41,"Dodaj "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(42,"div",17),r.Xb(43,"label",18),r.Ec(44,"Odaberi skladi\u0161te:"),r.Wb(),r.Xb(45,"nb-select",19),r.Cc(46,m,2,2,"nb-option",20),r.Wb(),r.Xb(47,"label",18),r.Ec(48,"Pretra\u017ei po indeksnom broju:"),r.Wb(),r.Xb(49,"input",21,22),r.fc("input",(function(){r.wc(t);const e=r.uc(50);return n.onSearch(e.value)})),r.Wb(),r.Xb(51,"ng2-smart-table",23),r.fc("custom",(function(t){return n.chooseOtpad(t)})),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.uc(9);r.Eb(15),r.Fc(n.notpad.indeksniBroj),r.Eb(4),r.nc("placeholder",n.notpad.naziv)("ngModel",n.notpad.naziv),r.Eb(4),r.nc("placeholder",n.notpad.opis)("ngModel",n.notpad.opis),r.Eb(4),r.nc("ngModel",n.notpad.dOznaka),r.Eb(1),r.nc("ngForOf",n.dOznake),r.Eb(4),r.nc("ngModel",n.notpad.kolicina),r.Eb(6),r.nc("placeholder",n.currSkladiste.naziv),r.Eb(2),r.nc("disabled",!t.valid),r.Eb(6),r.nc("ngForOf",n.dozvola),r.Eb(5),r.nc("source",n.katalog)("settings",n.settings)}},directives:[u.s,u.u,u.r,p.w,p.l,p.m,u.K,p.b,p.s,p.k,p.n,u.jb,h.m,p.p,u.p,s.b,u.ab,u.Z],styles:[""]}),t})();var f=e("O8xV");function k(t,n){if(1&t&&(r.Xb(0,"nb-option",32),r.Ec(1),r.Wb()),2&t){const t=n.$implicit;r.nc("value",t),r.Eb(1),r.Fc(t)}}function W(t,n){if(1&t&&(r.Xb(0,"nb-option",32),r.Ec(1),r.Wb()),2&t){const t=n.$implicit;r.nc("value",t),r.Eb(1),r.Fc(t.naziv)}}function j(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",10),r.Xb(1,"label",33),r.Ec(2,"\u0160ifra ispitivanja otpada: "),r.Wb(),r.Xb(3,"div",9),r.Xb(4,"input",34),r.fc("ngModelChange",(function(n){return r.wc(t),r.hc().notpad.sifraIspitivanja=n})),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.hc();r.Eb(4),r.nc("ngModel",t.notpad.sifraIspitivanja)}}function X(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div",10),r.Xb(1,"label",35),r.Ec(2,"Datum ispitivanja otpada: "),r.Wb(),r.Xb(3,"div",9),r.Xb(4,"input",36),r.fc("ngModelChange",(function(n){return r.wc(t),r.hc().notpad.datumIspitivanja=n})),r.Wb(),r.Sb(5,"nb-datepicker",37,38),r.Wb(),r.Wb()}if(2&t){const t=r.uc(6),n=r.hc();r.Eb(4),r.nc("ngModel",n.notpad.datumIspitivanja)("nbDatepicker",t),r.Eb(1),r.nc("max",n.today())}}let E=(()=>{class t{constructor(t,n,e,a,i,o){this.katalogService=t,this.otpadService=n,this.router=e,this.authService=a,this.skladisteService=i,this.toastrService=o,this.settings=l,this.katalog=new s.a,this.skladista=[],this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.notpad={indeksniBroj:"",naziv:"",opis:"",fizickoStanje:"",kolicina:0}}ngOnInit(){this.katalogService.getNeopasanKatalog().subscribe(t=>{this.katalog.load(t)}),this.skladisteService.getSkladisteFirme().subscribe(t=>{this.skladista=t})}onSearch(t){this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}chooseOtpad(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}today(){return new Date}addTrash(){this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te"+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}showToast(t,n,e){this.toastrService.show(n,t,{status:e})}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(f.a),r.Rb(c.a),r.Rb(o.c),r.Rb(b.g),r.Rb(d.a),r.Rb(u.Bb))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngx-dodaj-otpad"]],decls:62,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-4","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,n){if(1&t){const t=r.Yb();r.Xb(0,"nb-card",0),r.Xb(1,"nb-card-header"),r.Xb(2,"h5"),r.Ec(3,"Dodajte novi inventar neopasnog otpada"),r.Wb(),r.Wb(),r.Xb(4,"nb-card-body"),r.Xb(5,"div",1),r.Xb(6,"div",2),r.Xb(7,"label",3),r.Ec(8,"Pretra\u017ei po indeksnom broju:"),r.Wb(),r.Xb(9,"input",4,5),r.fc("input",(function(){r.wc(t);const e=r.uc(10);return n.onSearch(e.value)})),r.Wb(),r.Xb(11,"ng2-smart-table",6),r.fc("custom",(function(t){return n.chooseOtpad(t)})),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"form",7,8),r.fc("ngSubmit",(function(){return n.addTrash()})),r.Xb(14,"div",1),r.Xb(15,"div",9),r.Xb(16,"div",10),r.Xb(17,"label",11),r.Ec(18,"Indeksni broj:"),r.Wb(),r.Xb(19,"div",9),r.Sb(20,"input",12),r.Wb(),r.Wb(),r.Xb(21,"div",10),r.Xb(22,"label",13),r.Ec(23,"Naziv: "),r.Wb(),r.Xb(24,"div",9),r.Xb(25,"input",14),r.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),r.Wb(),r.Wb(),r.Wb(),r.Xb(26,"div",10),r.Xb(27,"label",15),r.Ec(28,"Opis: "),r.Wb(),r.Xb(29,"div",9),r.Xb(30,"input",16),r.fc("ngModelChange",(function(t){return n.notpad.opis=t})),r.Wb(),r.Wb(),r.Wb(),r.Xb(31,"div",10),r.Xb(32,"label",17),r.Ec(33,"Trenutna koli\u010dina na skladistu: "),r.Wb(),r.Xb(34,"div",18),r.Xb(35,"input",19),r.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),r.Wb(),r.Wb(),r.Xb(36,"div",20),r.Xb(37,"button",21),r.Ec(38,"kg"),r.Wb(),r.Wb(),r.Wb(),r.Xb(39,"div",10),r.Xb(40,"label",22),r.Ec(41,"Fizicko stanje otpada: "),r.Wb(),r.Xb(42,"div",9),r.Xb(43,"nb-select",23),r.fc("ngModelChange",(function(t){return n.notpad.fizickoStanje=t})),r.Cc(44,k,2,2,"nb-option",24),r.Wb(),r.Wb(),r.Wb(),r.Xb(45,"div",10),r.Xb(46,"label",25),r.Ec(47,"Odaberite skladi\u0161te za otpad: "),r.Wb(),r.Xb(48,"div",9),r.Xb(49,"nb-select",26),r.fc("ngModelChange",(function(t){return n.skladiste=t})),r.Cc(50,W,2,2,"nb-option",24),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(51,"div",9),r.Sb(52,"div",10),r.Xb(53,"nb-toggle",27,28),r.Ec(55,"Imam dokumenat o ispitivanju otpada"),r.Wb(),r.Cc(56,j,5,1,"div",29),r.Cc(57,X,7,3,"div",29),r.Wb(),r.Wb(),r.Xb(58,"div",30),r.Xb(59,"div",2),r.Xb(60,"button",31),r.Ec(61,"Dodaj "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.uc(13),e=r.uc(54);r.Eb(11),r.nc("source",n.katalog)("settings",n.settings),r.Eb(9),r.nc("placeholder",n.notpad.indeksniBroj||"00 00 00"),r.Eb(5),r.nc("ngModel",n.notpad.naziv),r.Eb(5),r.nc("ngModel",n.notpad.opis),r.Eb(5),r.nc("ngModel",n.notpad.kolicina),r.Eb(8),r.nc("ngModel",n.notpad.fizickoStanje),r.Eb(1),r.nc("ngForOf",n.fizickaStanja),r.Eb(5),r.nc("ngModel",n.skladiste),r.Eb(1),r.nc("ngForOf",n.skladista),r.Eb(6),r.nc("ngIf",e.checked),r.Eb(1),r.nc("ngIf",e.checked),r.Eb(3),r.nc("disabled",!t.valid)}},directives:[u.s,u.u,u.r,u.K,s.b,p.w,p.l,p.m,p.b,p.k,p.n,p.p,u.p,u.jb,h.m,p.s,u.Cb,h.n,u.Z,u.D,u.C],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),t})();function M(t,n){if(1&t){const t=r.Yb();r.Xb(0,"nb-option",20),r.fc("selectionChange",(function(){r.wc(t);const e=n.$implicit;return r.hc().updateKatalog(e)})),r.Ec(1),r.Wb()}if(2&t){const t=n.$implicit;r.nc("value",t.skladistaSkladistenje.naziv),r.Eb(1),r.Fc(t.skladistaSkladistenje.naziv)}}let z=(()=>{class t{constructor(t,n,e,a,i){this.dozvolaService=t,this.otpadService=n,this.router=e,this.authService=a,this.skladisteService=i,this.katalog=new s.a,this.settings={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0}}ngOnInit(){this.dozvolaService.getDozvolaFrime().subscribe(t=>{this.dozvola=t,this.updateKatalog(this.dozvola[0])}),this.skladisteService.getSkladisteSkladistenjeFirme().subscribe(t=>{this.skladisteSkladistenje=t})}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}updateKatalog(t){this.skladisteID=t.skladistaSkladistenje._id,this.katalog.load(t.listaOtpada)}chooseOtpad(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}dodajOtpad(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.skladisteID).subscribe(),this.router.navigate(["pages","skladiste"])}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(a.a),r.Rb(c.a),r.Rb(o.c),r.Rb(b.g),r.Rb(d.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngx-dodaj-skladistenje"]],decls:42,vars:10,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[3,"ngSubmit"],["form","ngForm"],[1,"row","my-3"],[1,"col-12"],[1,"col"],["nbInput","","required","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","required","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0","required","","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["nbButton","","type","submit","status","primary",1,"col-6","ml-3",3,"disabled"],[1,"col-6"],[1,"col-7"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3","mb-2",3,"input"],["search",""],[3,"source","settings","custom"],[3,"value","selectionChange"]],template:function(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"nb-card",0),r.Xb(2,"nb-card-header"),r.Xb(3,"h5"),r.Ec(4,"Dodajte novi inventar otpada"),r.Wb(),r.Wb(),r.Xb(5,"nb-card-body"),r.Xb(6,"div",1),r.Xb(7,"div",2),r.Xb(8,"div",3),r.Xb(9,"form",4,5),r.fc("ngSubmit",(function(){return n.dodajOtpad()})),r.Xb(11,"div",6),r.Xb(12,"label",7),r.Ec(13,"Indeksni broj:"),r.Wb(),r.Xb(14,"div",8),r.Xb(15,"b"),r.Ec(16),r.Wb(),r.Wb(),r.Wb(),r.Xb(17,"div",6),r.Xb(18,"label",7),r.Ec(19,"Naziv: "),r.Wb(),r.Xb(20,"input",9),r.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),r.Wb(),r.Wb(),r.Xb(21,"div",6),r.Xb(22,"label",7),r.Ec(23,"Opis: "),r.Wb(),r.Xb(24,"input",10),r.fc("ngModelChange",(function(t){return n.notpad.opis=t})),r.Wb(),r.Wb(),r.Xb(25,"div",6),r.Xb(26,"label",7),r.Ec(27,"Trenutna kolicina na skladistu: "),r.Wb(),r.Xb(28,"input",11),r.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),r.Wb(),r.Xb(29,"button",12),r.Ec(30,"kg"),r.Wb(),r.Wb(),r.Xb(31,"div",6),r.Xb(32,"button",13),r.Ec(33,"Dodaj "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(34,"div",14),r.Xb(35,"label",15),r.Ec(36,"Pretrazi po indeksnom broju:"),r.Wb(),r.Xb(37,"nb-select"),r.Cc(38,M,2,2,"nb-option",16),r.Wb(),r.Xb(39,"input",17,18),r.fc("input",(function(){r.wc(t);const e=r.uc(40);return e.value.length>=1&&n.onSearch(e.value)})),r.Wb(),r.Xb(41,"ng2-smart-table",19),r.fc("custom",(function(t){return n.chooseOtpad(t)})),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.uc(10);r.Eb(16),r.Fc(n.notpad.indeksniBroj),r.Eb(4),r.nc("placeholder",n.notpad.naziv)("ngModel",n.notpad.naziv),r.Eb(4),r.nc("placeholder",n.notpad.opis)("ngModel",n.notpad.opis),r.Eb(4),r.nc("ngModel",n.notpad.kolicina),r.Eb(4),r.nc("disabled",!t.valid),r.Eb(6),r.nc("ngForOf",n.dozvola),r.Eb(3),r.nc("source",n.katalog)("settings",n.settings)}},directives:[u.s,u.u,u.r,p.w,p.l,p.m,u.K,p.b,p.s,p.k,p.n,p.p,u.p,u.jb,h.m,s.b,u.Z],styles:[""]}),t})();function S(t,n){if(1&t){const t=r.Yb();r.Xb(0,"nb-option",20),r.fc("selectionChange",(function(){r.wc(t);const e=n.$implicit;return r.hc().updateKatalog(e)})),r.Ec(1),r.Wb()}if(2&t){const t=n.$implicit;r.nc("value",t.skladistaTretman.naziv),r.Eb(1),r.Fc(t.skladistaTretman.naziv)}}let O=(()=>{class t{constructor(t,n,e,a,i){this.dozvolaService=t,this.otpadService=n,this.router=e,this.authService=a,this.skladisteService=i,this.katalog=new s.a,this.settings={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0,tretman:!0}}ngOnInit(){this.dozvolaService.getDozvolaFrime().subscribe(t=>{this.dozvola=t,this.updateKatalog(this.dozvola[0])}),this.skladisteService.getSkladisteTretmanFirme().subscribe(t=>{this.skladistaTretman=t})}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}updateKatalog(t){this.skladisteID=t.skladistaTretman._id,this.katalog.load(t.listaOtpada)}chooseOtpad(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}dodajOtpad(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.skladisteID).subscribe(),this.router.navigate(["pages","skladiste"])}}return t.\u0275fac=function(n){return new(n||t)(r.Rb(a.a),r.Rb(c.a),r.Rb(o.c),r.Rb(b.g),r.Rb(d.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["ngx-dodaj-tretman"]],decls:42,vars:10,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[3,"ngSubmit"],["form","ngForm"],[1,"row","my-3"],[1,"col-12"],[1,"col"],["nbInput","","required","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","required","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0","required","","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["nbButton","","type","submit","status","primary",1,"col-6","ml-3",3,"disabled"],[1,"col-6"],[1,"col-7"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3","mb-2",3,"input"],["search",""],[3,"source","settings","custom"],[3,"value","selectionChange"]],template:function(t,n){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"nb-card",0),r.Xb(2,"nb-card-header"),r.Xb(3,"h5"),r.Ec(4,"Dodajte novi inventar otpada"),r.Wb(),r.Wb(),r.Xb(5,"nb-card-body"),r.Xb(6,"div",1),r.Xb(7,"div",2),r.Xb(8,"div",3),r.Xb(9,"form",4,5),r.fc("ngSubmit",(function(){return n.dodajOtpad()})),r.Xb(11,"div",6),r.Xb(12,"label",7),r.Ec(13,"Indeksni broj:"),r.Wb(),r.Xb(14,"div",8),r.Xb(15,"b"),r.Ec(16),r.Wb(),r.Wb(),r.Wb(),r.Xb(17,"div",6),r.Xb(18,"label",7),r.Ec(19,"Naziv: "),r.Wb(),r.Xb(20,"input",9),r.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),r.Wb(),r.Wb(),r.Xb(21,"div",6),r.Xb(22,"label",7),r.Ec(23,"Opis: "),r.Wb(),r.Xb(24,"input",10),r.fc("ngModelChange",(function(t){return n.notpad.opis=t})),r.Wb(),r.Wb(),r.Xb(25,"div",6),r.Xb(26,"label",7),r.Ec(27,"Trenutna kolicina na skladistu: "),r.Wb(),r.Xb(28,"input",11),r.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),r.Wb(),r.Xb(29,"button",12),r.Ec(30,"kg"),r.Wb(),r.Wb(),r.Xb(31,"div",6),r.Xb(32,"button",13),r.Ec(33,"Dodaj "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(34,"div",14),r.Xb(35,"label",15),r.Ec(36,"Pretrazi po indeksnom broju:"),r.Wb(),r.Xb(37,"nb-select"),r.Cc(38,S,2,2,"nb-option",16),r.Wb(),r.Xb(39,"input",17,18),r.fc("input",(function(){r.wc(t);const e=r.uc(40);return e.value.length>=1&&n.onSearch(e.value)})),r.Wb(),r.Xb(41,"ng2-smart-table",19),r.fc("custom",(function(t){return n.chooseOtpad(t)})),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.uc(10);r.Eb(16),r.Fc(n.notpad.indeksniBroj),r.Eb(4),r.nc("placeholder",n.notpad.naziv)("ngModel",n.notpad.naziv),r.Eb(4),r.nc("placeholder",n.notpad.opis)("ngModel",n.notpad.opis),r.Eb(4),r.nc("ngModel",n.notpad.kolicina),r.Eb(4),r.nc("disabled",!t.valid),r.Eb(6),r.nc("ngForOf",n.dozvola),r.Eb(3),r.nc("source",n.katalog)("settings",n.settings)}},directives:[u.s,u.u,u.r,p.w,p.l,p.m,u.K,p.b,p.s,p.k,p.n,p.p,u.p,u.jb,h.m,s.b,u.Z],styles:[""]}),t})();const C=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["ngx-notpad"]],decls:1,vars:0,template:function(t,n){1&t&&r.Sb(0,"router-outlet")},directives:[o.h],encapsulation:2}),t})(),children:[{path:"dodaj-proizvodnja",component:E},{path:"dodaj-tretman",component:O},{path:"dodaj-deponija",component:v},{path:"dodaj-skladistenje",component:z}]}];let y=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(n){return new(n||t)},imports:[[o.g.forChild(C)],o.g]}),t})(),w=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(n){return new(n||t)},providers:[f.a,c.a,a.a],imports:[[i.a,y,u.v,u.L,u.lb,u.y,s.c,u.q,p.e,u.E,u.Db]]}),t})()},rDBk:function(t,n,e){"use strict";e.r(n),e.d(n,"OotpadModule",(function(){return M}));var a=e("pVkk"),i=e("vTDv"),o=e("tyNb"),s=e("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Lb({type:t,selectors:[["ngx-dodaj-deponija"]],decls:2,vars:0,template:function(t,n){1&t&&(s.Xb(0,"p"),s.Ec(1,"dodaj-deponija works!"),s.Wb())},styles:[""]}),t})(),d=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Lb({type:t,selectors:[["ngx-dodaj-skladistenje"]],decls:2,vars:0,template:function(t,n){1&t&&(s.Xb(0,"p"),s.Ec(1,"dodaj-skladistenje works!"),s.Wb())},styles:[""]}),t})(),l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Lb({type:t,selectors:[["ngx-dodaj-tretman"]],decls:2,vars:0,template:function(t,n){1&t&&(s.Xb(0,"p"),s.Ec(1,"dodaj-tretman works!"),s.Wb())},styles:[""]}),t})(),r=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Lb({type:t,selectors:[["ngx-ootpad"]],decls:1,vars:0,template:function(t,n){1&t&&s.Sb(0,"router-outlet")},directives:[o.h],encapsulation:2}),t})();var b=e("O8xV"),u=e("RS3s"),p=e("8FOb");const h={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}};var g=e("aceb"),m=e("3Pt+"),v=e("ofXK");function f(t,n){if(1&t&&(s.Xb(0,"nb-option",46),s.Ec(1),s.Wb()),2&t){const t=n.$implicit;s.nc("value",t),s.Eb(1),s.Fc(t)}}function k(t,n){if(1&t){const t=s.Yb();s.Xb(0,"div",32),s.Ec(1),s.Xb(2,"div",10),s.Xb(3,"label",38),s.Ec(4,"CAS: "),s.Wb(),s.Xb(5,"div",12),s.Xb(6,"input",48),s.fc("ngModelChange",(function(e){return s.wc(t),n.$implicit.cas=e})),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",10),s.Xb(8,"label",38),s.Ec(9,"Hemijski naziv: "),s.Wb(),s.Xb(10,"div",12),s.Xb(11,"input",49),s.fc("ngModelChange",(function(e){return s.wc(t),n.$implicit.hemijskiNaziv=e})),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",10),s.Xb(13,"label",38),s.Ec(14,"Kilograma opasne materije po kilogram otpada: "),s.Wb(),s.Xb(15,"div",19),s.Xb(16,"input",50),s.fc("ngModelChange",(function(e){return s.wc(t),n.$implicit.kgMaterije=e})),s.Wb(),s.Wb(),s.Xb(17,"div",21),s.Xb(18,"button",51),s.Ec(19,"kg"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=n.$implicit,e=n.index;s.Eb(1),s.Gc(" Komponenta #",e+1," "),s.Eb(5),s.nc("ngModel",t.cas),s.Eb(5),s.nc("ngModel",t.hemijskiNaziv),s.Eb(5),s.nc("ngModel",t.kgMaterije)}}function W(t,n){if(1&t&&(s.Xb(0,"div",10),s.Cc(1,k,20,4,"div",47),s.Wb()),2&t){const t=s.hc();s.Eb(1),s.nc("ngForOf",t.ootpad.opasnaKomponenta)}}function j(t,n){if(1&t&&(s.Xb(0,"nb-option",46),s.Ec(1),s.Wb()),2&t){const t=n.$implicit;s.nc("value",t),s.Eb(1),s.Fc(t.naziv)}}const X=[{path:"",component:r,children:[{path:"dodaj-proizvodnja",component:(()=>{class t{constructor(t,n,e,a,i){this.katalogService=t,this.opasniOtpadService=n,this.skladisteService=e,this.router=a,this.toastrService=i,this.katalog=new u.a,this.settings=h,this.brojKomponenti=1,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.ootpad={cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,opasnaKomponenta:[]}}ngOnInit(){this.katalogService.getOpasanKatalog().subscribe(t=>{this.katalog.load(t)}),this.skladisteService.getSkladisteFirme().subscribe(t=>{this.skladista=t}),this.updateCAS()}onSearch(t=""){this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}updateCAS(){this.ootpad.opasnaKomponenta=new Array(this.brojKomponenti);for(let t=0;t<this.brojKomponenti;t++)this.ootpad.opasnaKomponenta[t]={kgMaterije:0,cas:"",hemijskiNaziv:""}}chooseOtpad(t){this.ootpad.indeksniBroj=t.data.indeksniBroj,this.ootpad.naziv=t.data.naziv,this.ootpad.opis=t.data.naziv}today(){return new Date}addTrash(){this.opasniOtpadService.dodajOOtpad(this.ootpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}showToast(t,n,e){this.toastrService.show(n,t,{status:e})}}return t.\u0275fac=function(n){return new(n||t)(s.Rb(b.a),s.Rb(p.a),s.Rb(a.a),s.Rb(o.c),s.Rb(g.Bb))},t.\u0275cmp=s.Lb({type:t,selectors:[["ngx-dodaj-otpad"]],decls:90,vars:20,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-4"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],[1,"col-8"],["nbInput","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-6","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""],[1,"col-6"],[1,"col-4","label"],[1,"col-4","mb-2"],["fullWidth","","name","Hlista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","YLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","CLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],[1,"col-12","label"],["fullWidth","","min","1","name","brojKomponeti","nbInput","","type","number",3,"ngModel","ngModelChange"],[1,"col-3"],["fullWidth","","nbButton","","type","button",3,"click"],["class","row mb-2",4,"ngIf"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value"],["class","col-6",4,"ngFor","ngForOf"],["nbInput","","type","text","required","","name","CAS",3,"ngModel","ngModelChange"],["nbInput","","type","text","required","","name","Hemijski naziv",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Kg opasne materije",3,"ngModel","ngModelChange"],["nbButton","","disabled",""]],template:function(t,n){if(1&t){const t=s.Yb();s.Xb(0,"nb-card",0),s.Xb(1,"nb-card-header"),s.Xb(2,"h5"),s.Ec(3,"Dodajte novi inventar opasnog otpada"),s.Wb(),s.Wb(),s.Xb(4,"nb-card-body"),s.Xb(5,"div",1),s.Xb(6,"div",2),s.Xb(7,"label",3),s.Ec(8,"Pretra\u017ei po indeksnom broju:"),s.Wb(),s.Xb(9,"input",4,5),s.fc("input",(function(){s.wc(t);const e=s.uc(10);return n.onSearch(e.value)})),s.Wb(),s.Xb(11,"ng2-smart-table",6),s.fc("custom",(function(t){return n.chooseOtpad(t)})),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"form",7,8),s.fc("ngSubmit",(function(){return n.addTrash()})),s.Xb(14,"div",1),s.Xb(15,"div",9),s.Xb(16,"div",10),s.Xb(17,"label",11),s.Ec(18,"Indeksni broj:"),s.Wb(),s.Xb(19,"div",12),s.Sb(20,"input",13),s.Wb(),s.Wb(),s.Xb(21,"div",10),s.Xb(22,"label",14),s.Ec(23,"Naziv: "),s.Wb(),s.Xb(24,"div",12),s.Xb(25,"input",15),s.fc("ngModelChange",(function(t){return n.ootpad.naziv=t})),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div",10),s.Xb(27,"label",16),s.Ec(28,"Opis: "),s.Wb(),s.Xb(29,"div",12),s.Xb(30,"input",17),s.fc("ngModelChange",(function(t){return n.ootpad.opis=t})),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",10),s.Xb(32,"label",18),s.Ec(33,"Trenutna koli\u010dina na skladistu: "),s.Wb(),s.Xb(34,"div",19),s.Xb(35,"input",20),s.fc("ngModelChange",(function(t){return n.ootpad.kolicina=t})),s.Wb(),s.Wb(),s.Xb(36,"div",21),s.Xb(37,"button",22),s.Ec(38,"kg"),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",10),s.Xb(40,"label",23),s.Ec(41,"Fizicko stanje otpada: "),s.Wb(),s.Xb(42,"div",12),s.Xb(43,"nb-select",24),s.fc("ngModelChange",(function(t){return n.ootpad.fizickoStanje=t})),s.Cc(44,f,2,2,"nb-option",25),s.Wb(),s.Wb(),s.Wb(),s.Xb(45,"div",10),s.Xb(46,"label",26),s.Ec(47,"\u0160ifra ispitivanja otpada: "),s.Wb(),s.Xb(48,"div",12),s.Xb(49,"input",27),s.fc("ngModelChange",(function(t){return n.ootpad.sifraIspitivanja=t})),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",10),s.Xb(51,"label",28),s.Ec(52,"Datum ispitivanja otpada: "),s.Wb(),s.Xb(53,"div",12),s.Xb(54,"input",29),s.fc("ngModelChange",(function(t){return n.ootpad.datumIspitivanja=t})),s.Wb(),s.Sb(55,"nb-datepicker",30,31),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",32),s.Xb(58,"div",10),s.Xb(59,"label",33),s.Ec(60,"H-Lista: "),s.Wb(),s.Xb(61,"label",33),s.Ec(62,"Y-Lista: "),s.Wb(),s.Xb(63,"label",33),s.Ec(64,"C-Lista: "),s.Wb(),s.Xb(65,"div",34),s.Xb(66,"input",35),s.fc("ngModelChange",(function(t){return n.ootpad.hLista=t})),s.Wb(),s.Wb(),s.Xb(67,"div",34),s.Xb(68,"input",36),s.fc("ngModelChange",(function(t){return n.ootpad.yLista=t})),s.Wb(),s.Wb(),s.Xb(69,"div",9),s.Xb(70,"input",37),s.fc("ngModelChange",(function(t){return n.ootpad.cLista=t})),s.Wb(),s.Wb(),s.Wb(),s.Xb(71,"div",10),s.Xb(72,"label",38),s.Ec(73,"Broj opasnih komponenta u otpadu: "),s.Wb(),s.Xb(74,"div",32),s.Xb(75,"input",39),s.fc("ngModelChange",(function(t){return n.brojKomponenti=t})),s.Wb(),s.Wb(),s.Xb(76,"div",40),s.Xb(77,"button",41),s.fc("click",(function(){return n.updateCAS()})),s.Ec(78,"Odaberi"),s.Wb(),s.Wb(),s.Wb(),s.Cc(79,W,2,1,"div",42),s.Xb(80,"div",10),s.Xb(81,"label",38),s.Ec(82,"Odaberite skladi\u0161te za otpad: "),s.Wb(),s.Xb(83,"div",32),s.Xb(84,"nb-select",43),s.fc("ngModelChange",(function(t){return n.skladiste=t})),s.Cc(85,j,2,2,"nb-option",25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(86,"div",44),s.Xb(87,"div",2),s.Xb(88,"button",45),s.Ec(89,"Dodaj "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){const t=s.uc(13),e=s.uc(56);s.Eb(11),s.nc("source",n.katalog)("settings",n.settings),s.Eb(9),s.nc("placeholder",n.ootpad.indeksniBroj||"00 00 00"),s.Eb(5),s.nc("ngModel",n.ootpad.naziv),s.Eb(5),s.nc("ngModel",n.ootpad.opis),s.Eb(5),s.nc("ngModel",n.ootpad.kolicina),s.Eb(8),s.nc("ngModel",n.ootpad.fizickoStanje),s.Eb(1),s.nc("ngForOf",n.fizickaStanja),s.Eb(5),s.nc("ngModel",n.ootpad.sifraIspitivanja),s.Eb(5),s.nc("ngModel",n.ootpad.datumIspitivanja)("nbDatepicker",e),s.Eb(1),s.nc("max",n.today()),s.Eb(11),s.nc("ngModel",n.ootpad.hLista),s.Eb(2),s.nc("ngModel",n.ootpad.yLista),s.Eb(2),s.nc("ngModel",n.ootpad.cLista),s.Eb(5),s.nc("ngModel",n.brojKomponenti),s.Eb(4),s.nc("ngIf",n.brojKomponenti>0),s.Eb(5),s.nc("ngModel",n.skladiste),s.Eb(1),s.nc("ngForOf",n.skladista),s.Eb(3),s.nc("disabled",!t.valid)}},directives:[g.s,g.u,g.r,g.K,u.b,m.w,m.l,m.m,m.b,m.k,m.n,m.p,g.p,g.jb,v.m,m.s,g.D,g.C,v.n,g.Z],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),t})()},{path:"dodaj-tretman",component:l},{path:"dodaj-deponija",component:c},{path:"dodaj-skladistenje",component:d}]}];let E=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(n){return new(n||t)},imports:[[o.g.forChild(X)],o.g]}),t})(),M=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(n){return new(n||t)},providers:[b.a,p.a,a.a],imports:[[i.a,E,g.v,g.L,g.lb,g.y,u.c,g.q,m.e,g.E]]}),t})()}}]);