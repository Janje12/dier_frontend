function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);if(n){var a=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{BKSH:function(e,n,t){"use strict";t.r(n),t.d(n,"ReportsModule",(function(){return me}));var i=t("ofXK"),a=t("3Pt+"),o=t("aceb"),r=t("RS3s"),s=t("tyNb"),c=t("SxV6"),l=t("g6/h"),b=t("ud2R"),u=t("pVkk"),d=t("fXoL"),p=t("gu6j"),f={actions:{columnTitle:"Generi\u0161i DEO/DKO",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"trashReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"trashTransport",title:'<i class="fa fa-truck"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},kolicina:{title:"Koli\u010dina (kg)"}}};function m(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",1),d.Xb(1,"h5"),d.Ec(2),d.Wb(),d.Xb(3,"p"),d.Ec(4,"Generi\u0161i sve izve\u0161taje "),d.Xb(5,"i",2),d.fc("click",(function(){d.wc(t);var e=n.$implicit;return d.hc().allTrashReport(e)})),d.Wb(),d.Wb(),d.Xb(6,"ng2-smart-table",3),d.fc("custom",(function(e){d.wc(t);var i=n.$implicit;return d.hc().chooseAction(e,i)})),d.Wb(),d.Wb()}if(2&e){var i=n.$implicit,a=d.hc();d.Eb(2),d.Gc(" ",i.naziv,""),d.Eb(4),d.nc("settings",a.storageReportSettings)("source",i.neopasniOtpad)}}var g,v=((g=function(){function e(n,t,i){_classCallCheck(this,e),this.skladisteService=n,this.mesecniIzvestajService=t,this.router=i,this.storages=[],this.storageReportSettings=f}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.storageReportSettings.trashProduction=null,this.storageIDs.forEach((function(n){return e.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storages.push(n),e.mergeOtpads()}))}))}},{key:"mergeOtpads",value:function(){if(void 0!==this.storages){var e,n=_createForOfIteratorHelper(this.storages);try{for(n.s();!(e=n.n()).done;){var t=e.value;t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"downloadFile",value:function(e){var n=new Blob([e],{type:"application/pdf"}),t=window.URL.createObjectURL(n);window.open(t)}},{key:"chooseAction",value:function(e,n){"trashReport"===e.action&&("production"===this.type&&this.trashProudctionReport(e,n),"treatment"===this.type&&this.trashTreatmentReport(e,n),"dump"===this.type&&this.trashDumpReport(e,n)),"trashTransport"===e.action&&"production"===this.type&&this.trashTransportReport(e,n)}},{key:"trashProudctionReport",value:function(e,n){var t=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,n,"PRODUCTION").subscribe((function(e){return t.downloadFile(e)}))}},{key:"trashTreatmentReport",value:function(e,n){var t=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,n,"TREATMENT").subscribe((function(e){return t.downloadFile(e)}))}},{key:"trashDumpReport",value:function(e,n){var t=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,n,"DUMP").subscribe((function(e){return t.downloadFile(e)}))}},{key:"trashTransportReport",value:function(e,n){var t=e.data;this.router.navigate(["admin/izvestaji/dko",{trash:t._id,storage:n._id}])}},{key:"allTrashReport",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||g)(d.Rb(u.a),d.Rb(p.a),d.Rb(s.c))},g.\u0275cmp=d.Lb({type:g,selectors:[["ngx-storage-reports"]],inputs:{storageIDs:"storageIDs",type:"type"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,n){1&e&&d.Cc(0,m,7,3,"div",0),2&e&&d.nc("ngForOf",n.storages)},directives:[i.m,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),g);function h(e,n){if(1&e&&(d.Xb(0,"nb-tab",15),d.Sb(1,"ngx-storage-reports",16),d.Wb()),2&e){var t=d.hc();d.Eb(1),d.nc("storageIDs",t.company.skladista)("type","production")}}function k(e,n){1&e&&(d.Xb(0,"nb-tab",17),d.Ec(1," NOT "),d.Wb())}function W(e,n){if(1&e&&(d.Xb(0,"nb-tab",18),d.Sb(1,"ngx-storage-reports",16),d.Wb()),2&e){var t=d.hc();d.Eb(1),d.nc("storageIDs",t.company.skladistaTretman)("type","treatment")}}function y(e,n){if(1&e&&(d.Xb(0,"nb-tab",19),d.Sb(1,"ngx-storage-reports",16),d.Wb()),2&e){var t=d.hc();d.Eb(1),d.nc("storageIDs",t.company.skladistaDeponija)("type","dump")}}function X(e,n){1&e&&(d.Xb(0,"nb-tab",20),d.Ec(1," NOS "),d.Wb())}var C,E,j,M=((C=function(){function e(n,t,i,a,o){_classCallCheck(this,e),this.route=n,this.firmaService=t,this.toastrService=i,this.skladisteService=a,this.roleService=o,this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(n,"pib").subscribe((function(n){e.company=n,e.skladisteService.getAllSkladistaFirme(e.company._id).pipe(Object(c.a)()).subscribe((function(n){e.skladista=n})),e.roleService.findOperations(e.company.radFirme).subscribe((function(n){e.operations=n}))}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}()).\u0275fac=function(e){return new(e||C)(d.Rb(s.a),d.Rb(l.a),d.Rb(o.Hb),d.Rb(u.a),d.Rb(b.a))},C.\u0275cmp=d.Lb({type:C,selectors:[["ngx-company-reports"]],decls:23,vars:7,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"storageIDs","type"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,n){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Xb(2,"div",0),d.Xb(3,"div",1),d.Xb(4,"a",2),d.Sb(5,"i",3),d.Wb(),d.Wb(),d.Xb(6,"div",4),d.Xb(7,"h5"),d.Ec(8),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"nb-card-body"),d.Xb(10,"div",5),d.Xb(11,"div",6),d.Xb(12,"label",7),d.Ec(13,"Email za prijem dokumenata:"),d.Wb(),d.Xb(14,"div",6),d.Xb(15,"input",8),d.fc("ngModelChange",(function(e){return n.company.emailPrijem=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(16,"div",5),d.Xb(17,"nb-tabset",9),d.Cc(18,h,2,2,"nb-tab",10),d.Cc(19,k,2,0,"nb-tab",11),d.Cc(20,W,2,2,"nb-tab",12),d.Cc(21,y,2,2,"nb-tab",13),d.Cc(22,X,2,0,"nb-tab",14),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(8),d.Fc(n.company.naziv),d.Eb(7),d.nc("ngModel",n.company.emailPrijem),d.Eb(3),d.nc("ngIf",null==n.operations?null:n.operations.proizvodnja),d.Eb(1),d.nc("ngIf",null==n.operations?null:n.operations.transport),d.Eb(1),d.nc("ngIf",null==n.operations?null:n.operations.tretman),d.Eb(1),d.nc("ngIf",null==n.operations?null:n.operations.odlaganje),d.Eb(1),d.nc("ngIf",null==n.operations?null:n.operations.skladistenje))},directives:[o.w,o.y,s.f,o.v,o.O,a.b,a.k,a.n,o.Cb,i.n,o.Bb,v],styles:[""]}),C),I={pager:{perPage:10},actions:{add:!1,edit:!1,delete:!1},columns:{dan:{title:"Dan"},ukupnoStanje:{title:"Ukupno stanje (kg)"},ukupnoProizvodnja:{title:"Ukupna proizvodnja (kg)"},ukupnoTransport:{title:"Ukupan transport (kg)"},DKO:{valuePrepareFunction:function(e,n){return n.nazivFirme?n.nazivFirme+" "+n.brojDozvole:"/"},title:"DKO"}}},z=((E=function(){function e(n,t){_classCallCheck(this,e),this.route=n,this.reportService=t,this.settings=I,this.report={_id:"",dnevniIzvestaj:[],godina:0,mesec:0,otpad:{naziv:"",indeksniBroj:"",nacinPakovanja:"",qLista:"",opis:"",kolicina:0},skladiste:{naziv:"",maxKolicina:0,kolicina:0,adresa:void 0,_id:""},ukupnoProizvodnja:0,ukupnoStanje:0,ukupnoTransport:0}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("id");this.reportService.getOneMonthlyReport(n).subscribe((function(n){e.report=n,e.dailyReports=e.report.dnevniIzvestaj}))}}]),e}()).\u0275fac=function(e){return new(e||E)(d.Rb(s.a),d.Rb(p.a))},E.\u0275cmp=d.Lb({type:E,selectors:[["monthly-report-information"]],decls:53,vars:11,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row"],[1,"col-12"],[1,"label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"row","mt-2"],[3,"settings","source"]],template:function(e,n){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Xb(2,"div",0),d.Xb(3,"div",1),d.Xb(4,"a",2),d.Sb(5,"i",3),d.Wb(),d.Wb(),d.Xb(6,"div",4),d.Xb(7,"h5"),d.Ec(8),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"nb-card-body"),d.Xb(10,"div",5),d.Xb(11,"div",6),d.Xb(12,"label",7),d.Ec(13,"Godina: "),d.Wb(),d.Xb(14,"input",8),d.fc("ngModelChange",(function(e){return n.report.godina=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"div",5),d.Xb(16,"div",6),d.Xb(17,"label",7),d.Ec(18,"Mesec: "),d.Wb(),d.Xb(19,"input",8),d.fc("ngModelChange",(function(e){return n.report.mesec=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"div",5),d.Xb(21,"div",6),d.Xb(22,"label",7),d.Ec(23,"Skladi\u0161te: "),d.Wb(),d.Xb(24,"input",8),d.fc("ngModelChange",(function(e){return n.report.skladiste.naziv=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(25,"div",5),d.Xb(26,"div",6),d.Xb(27,"label",7),d.Ec(28,"Indeksni Broj: "),d.Wb(),d.Xb(29,"input",8),d.fc("ngModelChange",(function(e){return n.report.otpad.indeksniBroj=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(30,"div",5),d.Xb(31,"div",6),d.Xb(32,"label",7),d.Ec(33,"Trenutna Koli\u010dina na stanju: "),d.Wb(),d.Xb(34,"input",8),d.fc("ngModelChange",(function(e){return n.report.otpad.kolicina=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",5),d.Xb(36,"div",9),d.Xb(37,"label",7),d.Ec(38,"Fizi\u010dko stanje: "),d.Wb(),d.Xb(39,"input",8),d.fc("ngModelChange",(function(e){return n.report.otpad.fizickoStanje=e})),d.Wb(),d.Wb(),d.Xb(40,"div",9),d.Xb(41,"label",7),d.Ec(42,"Na\u010din pakovanja: "),d.Wb(),d.Xb(43,"input",8),d.fc("ngModelChange",(function(e){return n.report.otpad.nacinPakovanja=e})),d.Wb(),d.Wb(),d.Xb(44,"div",9),d.Xb(45,"label",7),d.Ec(46,"Q Lista: "),d.Wb(),d.Xb(47,"input",8),d.fc("ngModelChange",(function(e){return n.report.otpad.qLista=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",10),d.Xb(49,"div",6),d.Xb(50,"label",7),d.Ec(51,"Izve\u0161taj za svaki dan:"),d.Wb(),d.Sb(52,"ng2-smart-table",11),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(8),d.Fc(n.report.otpad.naziv),d.Eb(6),d.nc("ngModel",n.report.godina),d.Eb(5),d.nc("ngModel",n.report.mesec),d.Eb(5),d.nc("ngModel",n.report.skladiste.naziv),d.Eb(5),d.nc("ngModel",n.report.otpad.indeksniBroj),d.Eb(5),d.nc("ngModel",n.report.otpad.kolicina),d.Eb(5),d.nc("ngModel",n.report.otpad.fizickoStanje),d.Eb(4),d.nc("ngModel",n.report.otpad.nacinPakovanja),d.Eb(4),d.nc("ngModel",n.report.otpad.qLista),d.Eb(5),d.nc("settings",n.settings)("source",n.dailyReports))},directives:[o.w,o.y,s.f,o.v,o.O,a.b,a.k,a.n,r.b],styles:[""]}),E),S={pager:{perPage:10},actions:{columnTitle:"Jedan izve\u0161taj/Svi izve\u0161taji",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv Firme"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}},w=((j=function(){function e(n,t,i){_classCallCheck(this,e),this.firmaService=n,this.toastrService=t,this.router=i,this.companySource=new r.a,this.companySettings=S}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firmaService.getFirma().subscribe((function(n){e.companySource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"companyReports",value:function(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.gotoAllReports(e)}},{key:"gotoCompanyReport",value:function(e){var n=e.data;this.router.navigate(["admin/izvestaji/firme/",n.pib])}},{key:"gotoAllReports",value:function(e){var n=e.data;this.router.navigate(["admin/izvestaji/godisnji-izvestaji/",n.pib])}}]),e}()).\u0275fac=function(e){return new(e||j)(d.Rb(l.a),d.Rb(o.Hb),d.Rb(s.c))},j.\u0275cmp=d.Lb({type:j,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,n){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Ec(2,"Firme"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"ng2-smart-table",0),d.fc("custom",(function(e){return n.companyReports(e)})),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(4),d.nc("settings",n.companySettings)("source",n.companySource))},directives:[o.w,o.y,o.v,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),j),O=t("LRne"),T=t("X+yL"),x=t("El76");function P(e,n){1&e&&(d.Xb(0,"span"),d.Ec(1,"proizvo\u0111a\u010du"),d.Wb())}function _(e,n){1&e&&(d.Xb(0,"span"),d.Ec(1,"transporteru"),d.Wb())}function L(e,n){1&e&&(d.Xb(0,"span"),d.Ec(1,"primalacu"),d.Wb())}function R(e,n){if(1&e&&(d.Xb(0,"nb-option",16),d.Ec(1),d.Wb()),2&e){var t=n.$implicit;d.nc("value",t),d.Eb(1),d.Fc(t.naziv)}}function F(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",1),d.Xb(1,"button",13),d.fc("click",(function(){return d.wc(t),d.hc().chooseCompany()})),d.Ec(2,"Odaberi ve\u0107 postoje\u0107u firmu "),d.Wb(),d.Xb(3,"nb-select",14),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().tmpCompany=e})),d.Cc(4,R,2,2,"nb-option",15),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(1),d.nc("disabled",i.firstLoad),d.Eb(2),d.nc("disabled",!i.firstLoad)("ngModel",i.tmpCompany),d.Eb(1),d.nc("ngForOf",i.companies)}}function V(e,n){if(1&e&&(d.Xb(0,"nb-option",16),d.Ec(1),d.Wb()),2&e){var t=n.$implicit;d.nc("value",t),d.Eb(1),d.Fc(t)}}function D(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div"),d.Xb(1,"div",0),d.Xb(2,"div",4),d.Xb(3,"label",5),d.Ec(4,"Predvi\u0111en na\u010din postupanja sa otpadom:"),d.Wb(),d.Wb(),d.Xb(5,"div",1),d.Xb(6,"nb-radio-group",17,18),d.fc("valueChange",(function(){d.wc(t);var e=d.uc(7);return d.hc().selectList(e.value)})),d.Xb(8,"nb-radio",19),d.Ec(9,"Tretman (R)"),d.Wb(),d.Xb(10,"nb-radio",20),d.Ec(11,"Odlaganje (D)"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",0),d.Xb(13,"div",4),d.Xb(14,"label",5),d.Ec(15,"Odaberite R/D Listu"),d.Wb(),d.Wb(),d.Xb(16,"div",1),d.Xb(17,"nb-select",21),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.nacinPostupanja=e})),d.Cc(18,V,2,2,"nb-option",15),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(17),d.nc("ngModel",i.dko.nacinPostupanja),d.Eb(1),d.nc("ngForOf",i.treatmentList)}}function U(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div"),d.Xb(1,"div",0),d.Xb(2,"div",4),d.Xb(3,"label",5),d.Ec(4,"Vrsta prevoznog sredstva:"),d.Wb(),d.Wb(),d.Xb(5,"div",1),d.Xb(6,"nb-select",21),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.vrstaVozila=e})),d.Xb(7,"nb-option",22),d.Ec(8,"Kamion"),d.Wb(),d.Xb(9,"nb-option",23),d.Ec(10,"Kombi"),d.Wb(),d.Xb(11,"nb-option",24),d.Ec(12,"Automobil"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(13,"div",0),d.Xb(14,"div",4),d.Xb(15,"label",5),d.Ec(16,"Registraski broj prevoznog sredstva:"),d.Wb(),d.Wb(),d.Xb(17,"div",1),d.Xb(18,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.registarskiBroj=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(19,"div",0),d.Xb(20,"div",4),d.Xb(21,"label",26),d.Ec(22,"Dozvola za prevoznika otpada:"),d.Wb(),d.Wb(),d.Xb(23,"div",10),d.Xb(24,"input",27),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.sifraDozvoleTransport=e})),d.Wb(),d.Wb(),d.Xb(25,"div",10),d.Xb(26,"input",28),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.datumDozvoleTransport=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"div",0),d.Xb(28,"div",4),d.Xb(29,"label",5),d.Ec(30,"Ruta kretanja pocetna/krajnja:"),d.Wb(),d.Wb(),d.Xb(31,"div",1),d.Xb(32,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.rutaKretanja[0]=e})),d.Wb(),d.Wb(),d.Xb(33,"div",1),d.Xb(34,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.rutaKretanja[1]=e})),d.Wb(),d.Wb(),d.Xb(35,"div",1),d.Xb(36,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.rutaKretanja[2]=e})),d.Wb(),d.Wb(),d.Xb(37,"div",1),d.Xb(38,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.rutaKretanja[3]=e})),d.Wb(),d.Wb(),d.Xb(39,"div",1),d.Xb(40,"input",25),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.rutaKretanja[4]=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(6),d.nc("ngModel",i.dko.vrstaVozila),d.Eb(12),d.nc("ngModel",i.dko.registarskiBroj),d.Eb(6),d.nc("ngModel",i.dko.sifraDozvoleTransport),d.Eb(2),d.nc("ngModel",i.dko.datumDozvoleTransport),d.Eb(6),d.nc("ngModel",i.dko.rutaKretanja[0]),d.Eb(2),d.nc("ngModel",i.dko.rutaKretanja[1]),d.Eb(2),d.nc("ngModel",i.dko.rutaKretanja[2]),d.Eb(2),d.nc("ngModel",i.dko.rutaKretanja[3]),d.Eb(2),d.nc("ngModel",i.dko.rutaKretanja[4])}}function B(e,n){if(1&e){var t=d.Yb();d.Xb(0,"nb-radio-group",21),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc(2).dko.vrstaPrimalaca=e})),d.Xb(1,"nb-radio",32),d.Ec(2,"Tretman"),d.Wb(),d.Xb(3,"nb-radio",33),d.Ec(4,"Skladistenje"),d.Wb(),d.Xb(5,"nb-radio",34),d.Ec(6,"Odlaganje"),d.Wb(),d.Wb()}if(2&e){var i=d.hc(2);d.nc("ngModel",i.dko.vrstaPrimalaca)}}function K(e,n){if(1&e){var t=d.Yb();d.Xb(0,"nb-radio-group",21),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc(2).dko.vrstaPrimalaca=e})),d.Xb(1,"nb-radio",35),d.Ec(2,"Tretman"),d.Wb(),d.Xb(3,"nb-radio",36),d.Ec(4,"Skladistenje "),d.Wb(),d.Xb(5,"nb-radio",37),d.Ec(6,"Odlaganje"),d.Wb(),d.Wb()}if(2&e){var i=d.hc(2);d.nc("ngModel",i.dko.vrstaPrimalaca),d.Eb(1),d.nc("disabled",!i.checkCompanyType("Tretman Neopasnog Otpada")),d.Eb(2),d.nc("disabled",!i.checkCompanyType("Skladi\u0161tenje Neopasnog Otpada")),d.Eb(2),d.nc("disabled",!i.checkCompanyType("Odlaganje Neopasnog Otpada"))}}function q(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div"),d.Xb(1,"div",0),d.Xb(2,"div",4),d.Xb(3,"label",26),d.Ec(4,"Vrsta primalaca:"),d.Wb(),d.Wb(),d.Xb(5,"div",1),d.Cc(6,B,7,1,"nb-radio-group",29),d.Cc(7,K,7,4,"nb-radio-group",29),d.Wb(),d.Wb(),d.Xb(8,"div",0),d.Xb(9,"div",4),d.Xb(10,"label",26),d.Ec(11,"Dozvola za primalaca otpada:"),d.Wb(),d.Wb(),d.Xb(12,"div",10),d.Xb(13,"input",30),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.sifraDozvolePrimalac=e})),d.Wb(),d.Wb(),d.Xb(14,"div",10),d.Xb(15,"input",31),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.datumDozvolePrimalac=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(6),d.nc("ngIf",!i.firstLoad),d.Eb(1),d.nc("ngIf",i.firstLoad),d.Eb(6),d.nc("ngModel",i.dko.sifraDozvolePrimalac),d.Eb(2),d.nc("ngModel",i.dko.datumDozvolePrimalac)}}var A,N=((A=function(){function e(n,t){_classCallCheck(this,e),this.dkoService=n,this.firmaService=t,this.tmpCompany={adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},email:"",mat:"",naziv:"",pib:"",radFirme:[],telefon:""},this.companies=[],this.firstLoad=!1,this.dLista=[],this.rLista=[],this.treatmentList=[];for(var i=1;i<=15;i++)this.dLista.push("D"+i);for(var a=1;a<=13;a++)this.rLista.push("R"+a)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(n){e.dko=n,e.company&&(e.tmpCompany=e.company,e.dko.firmaProizvodjac=e.tmpCompany)}))}},{key:"selectList",value:function(e){this.treatmentList="R"===e?this.rLista:this.dLista}},{key:"sendCompany",value:function(){if("transport"===this.type)this.tmpCompany.radFirme.push("Transport "+this.trashType+" Otpada"),this.dko.firmaTransport=this.tmpCompany;else if("recipient"===this.type){var e=this.dko.vrstaPrimalaca.startsWith("s")?"Skladi\u0161tenje":this.dko.vrstaPrimalaca;e=e[0].toUpperCase()+e.substr(1).toLowerCase(),this.tmpCompany.radFirme.push(e+" "+this.trashType+" Otpada"),this.dko.firmaPrimalac=this.tmpCompany}this.dkoService.sendDKO(Object(O.a)(this.dko))}},{key:"chooseCompany",value:function(){var e=this;"transport"!==this.type||this.firstLoad?"recipient"!==this.type||this.firstLoad||(this.firstLoad=!0,this.firmaService.findFirmas("Tretman "+this.trashType+" Otpada","radFirme").pipe(Object(c.a)()).subscribe((function(n){e.companies=e.companies.concat(n)})),this.firmaService.findFirmas("Odlaganje "+this.trashType+" Otpada","radFirme").pipe(Object(c.a)()).subscribe((function(n){e.companies=e.companies.concat(n)})),this.firmaService.findFirmas("Skladi\u0161tenje "+this.trashType+" Otpada","radFirme").pipe(Object(c.a)()).subscribe((function(n){e.companies=e.companies.concat(n)}))):this.firmaService.findFirmas("Transport "+this.trashType+" Otpada","radFirme").pipe(Object(c.a)()).subscribe((function(n){e.companies=n,e.firstLoad=!0}))}},{key:"checkCompanyType",value:function(e){return!!this.tmpCompany.radFirme.includes(e)}}]),e}()).\u0275fac=function(e){return new(e||A)(d.Rb(T.a),d.Rb(l.a))},A.\u0275cmp=d.Lb({type:A,selectors:[["company-part"]],inputs:{company:"company",type:"type",trashType:"trashType"},decls:80,vars:28,consts:[[1,"row","mb-1"],[1,"col-6"],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-12"],[1,"label"],["fullWidth","","nbInput","","type","text",3,"ngModel","disabled","ngModelChange"],["nbInput","","fullWidth","",3,"disabled","ngModel","ngModelChange"],[1,"row","ml-2"],[1,"row","mt-2"],[1,"col-3"],["nbButton","","fullWidth","","status","danger","nbStepperPrevious",""],["nbButton","","fullWidth","","status","primary","type","button","nbStepperNext","",3,"click"],["fullWidth","","nbButton","","status","info","type","button",3,"disabled","click"],["fullWidth","",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"valueChange"],["nacinPostupanja",""],["value","R"],["value","D"],["fullWidth","",3,"ngModel","ngModelChange"],["value","kamion"],["value","kombi"],["value","automobil"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullWidth","",1,"label"],["fullWidth","","placeholder","Sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","placeholder","Datum nastanka","nbInput","","type","date",3,"ngModel","ngModelChange"],["fullWidth","",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","placeholder","sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date","placeholder","datum nastanka",3,"ngModel","ngModelChange"],["value","treatment"],["value","storage"],["value","dump"],["value","treatment",3,"disabled"],["value","storage",3,"disabled"],["value","dump",3,"disabled"]],template:function(e,n){1&e&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"h5"),d.Ec(3,"Podaci o "),d.Cc(4,P,2,0,"span",2),d.Cc(5,_,2,0,"span",2),d.Cc(6,L,2,0,"span",2),d.Ec(7),d.Wb(),d.Wb(),d.Cc(8,F,5,4,"div",3),d.Wb(),d.Xb(9,"div",0),d.Xb(10,"div",4),d.Xb(11,"label",5),d.Ec(12,"PIB firme:"),d.Wb(),d.Wb(),d.Xb(13,"div",1),d.Xb(14,"input",6),d.fc("ngModelChange",(function(e){return n.tmpCompany.mat=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"div",0),d.Xb(16,"div",4),d.Xb(17,"label",5),d.Ec(18,"Mati\u010dni broj firme:"),d.Wb(),d.Wb(),d.Xb(19,"div",1),d.Xb(20,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.pib=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"div",0),d.Xb(22,"div",4),d.Xb(23,"label",5),d.Ec(24,"Naziv firme:"),d.Wb(),d.Wb(),d.Xb(25,"div",1),d.Xb(26,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.naziv=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"div",0),d.Xb(28,"div",4),d.Xb(29,"label",5),d.Ec(30,"Adresa firme:"),d.Wb(),d.Wb(),d.Xb(31,"div",8),d.Xb(32,"div",4),d.Xb(33,"label",5),d.Ec(34,"Op\u0161tina:"),d.Wb(),d.Wb(),d.Xb(35,"div",1),d.Xb(36,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.adresa.mesto.opstinaNaziv=e})),d.Wb(),d.Wb(),d.Xb(37,"div",4),d.Xb(38,"label",5),d.Ec(39,"Mesto:"),d.Wb(),d.Wb(),d.Xb(40,"div",1),d.Xb(41,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.adresa.mesto.mestoNaziv=e})),d.Wb(),d.Wb(),d.Xb(42,"div",4),d.Xb(43,"label",5),d.Ec(44,"Po\u0161tanski broj:"),d.Wb(),d.Wb(),d.Xb(45,"div",1),d.Xb(46,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.adresa.mesto.postanskiBroj=e})),d.Wb(),d.Wb(),d.Xb(47,"div",4),d.Xb(48,"label",5),d.Ec(49,"Ulica i broj:"),d.Wb(),d.Wb(),d.Xb(50,"div",1),d.Xb(51,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.adresa.ulica=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(52,"div",0),d.Xb(53,"div",4),d.Xb(54,"label",5),d.Ec(55,"Email firme:"),d.Wb(),d.Wb(),d.Xb(56,"div",1),d.Xb(57,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.email=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(58,"div",0),d.Xb(59,"div",4),d.Xb(60,"label",5),d.Ec(61,"Telefon firme:"),d.Wb(),d.Wb(),d.Xb(62,"div",1),d.Xb(63,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.telefon=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(64,"div",0),d.Xb(65,"div",4),d.Xb(66,"label",5),d.Ec(67,"Telefaks firme:"),d.Wb(),d.Wb(),d.Xb(68,"div",1),d.Xb(69,"input",7),d.fc("ngModelChange",(function(e){return n.tmpCompany.faks=e})),d.Wb(),d.Wb(),d.Wb(),d.Cc(70,D,19,2,"div",2),d.Cc(71,U,41,9,"div",2),d.Cc(72,q,16,4,"div",2),d.Xb(73,"div",9),d.Xb(74,"div",10),d.Xb(75,"button",11),d.Ec(76,"Nazad"),d.Wb(),d.Wb(),d.Xb(77,"div",10),d.Xb(78,"button",12),d.fc("click",(function(){return n.sendCompany()})),d.Ec(79,"Dalje "),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(4),d.nc("ngIf","production"===n.type),d.Eb(1),d.nc("ngIf","transport"===n.type),d.Eb(1),d.nc("ngIf","recipient"===n.type),d.Eb(1),d.Gc(" ","'"+(null==n.tmpCompany?null:n.tmpCompany.naziv)+"'",""),d.Eb(1),d.nc("ngIf","production"!==n.type),d.Eb(6),d.nc("ngModel",n.tmpCompany.mat)("disabled","production"===n.type),d.Eb(6),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.pib),d.Eb(6),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.naziv),d.Eb(10),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.adresa.mesto.opstinaNaziv),d.Eb(5),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.adresa.mesto.mestoNaziv),d.Eb(5),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.adresa.mesto.postanskiBroj),d.Eb(5),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.adresa.ulica),d.Eb(6),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.email),d.Eb(6),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.telefon),d.Eb(6),d.nc("disabled","production"===n.type)("ngModel",n.tmpCompany.faks),d.Eb(1),d.nc("ngIf","production"===n.type),d.Eb(1),d.nc("ngIf","transport"===n.type),d.Eb(1),d.nc("ngIf","recipient"===n.type))},directives:[i.n,o.O,a.b,a.k,a.n,o.t,o.zb,o.yb,o.nb,i.m,o.db,o.kb,o.jb],styles:[""]}),A);function H(e,n){if(1&e&&(d.Xb(0,"button",16),d.Ec(1),d.Sb(2,"nb-icon",17),d.Wb()),2&e){var t=d.hc(),i=t.$implicit,a=t.index,o=d.hc();d.Eb(1),d.Gc(" ",i," "),d.Eb(1),d.nc("icon",a===o.dko.rutaKretanja.length-1?"checkmark-circle":"arrowhead-right")}}function G(e,n){if(1&e&&(d.Xb(0,"div",14),d.Cc(1,H,3,2,"button",15),d.Wb()),2&e){var t=n.$implicit;d.Eb(1),d.nc("ngIf",""!==t&&void 0!==t)}}var Z,$=((Z=function(){function e(n,t){_classCallCheck(this,e),this.dkoService=n,this.router=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(n){e.dko=n;for(var t=0;t<5;t++)void 0!==e.dko.rutaKretanja[t]&&""!==e.dko.rutaKretanja[t]||e.dko.rutaKretanja.splice(t,1)}))}},{key:"downloadFile",value:function(e){var n=new Blob([e],{type:"application/pdf"}),t=window.URL.createObjectURL(n);window.open(t)}},{key:"generateDKO",value:function(){var e=this;this.dkoService.generateDKO(this.dko,this.storage._id,this.trash._id).subscribe((function(n){e.dko.otpad.indeksniBroj.endsWith("*")||e.downloadFile(n),e.router.navigate(["/admin/izvestaji/firme/"+e.dko.firmaProizvodjac.pib])}))}}]),e}()).\u0275fac=function(e){return new(e||Z)(d.Rb(T.a),d.Rb(s.c))},Z.\u0275cmp=d.Lb({type:Z,selectors:[["confirm-part"]],inputs:{storage:"storage",trash:"trash"},decls:37,vars:5,consts:[[1,"row"],[1,"row","mb-1"],[1,"col-4"],[1,"label"],["nbButton","","outline","","status","success","fullWidth",""],["nbButton","","outline","","status","info","fullWidth",""],["nbButton","","outline","","status","danger","fullWidth",""],[1,"col-6"],["nbButton","","outline","","status","warning","fullWidth",""],[1,"label","col-12"],["class","col",4,"ngFor","ngForOf"],[1,"row","mt-5"],["nbButton","","fullWidth","","nbStepperPrevious","","status","danger"],["nbButton","","fullWidth","","status","success",3,"click"],[1,"col"],["nbButton","","fullWidth","",4,"ngIf"],["nbButton","","fullWidth",""],[3,"icon"]],template:function(e,n){1&e&&(d.Xb(0,"div",0),d.Xb(1,"h5"),d.Ec(2,"Potvrda i generisanje dokumenta"),d.Wb(),d.Wb(),d.Xb(3,"div",1),d.Xb(4,"div",2),d.Xb(5,"label",3),d.Ec(6,"Proizvo\u0111a\u010d:"),d.Wb(),d.Xb(7,"button",4),d.Ec(8),d.Wb(),d.Wb(),d.Xb(9,"div",2),d.Xb(10,"label",3),d.Ec(11,"Transporter:"),d.Wb(),d.Xb(12,"button",5),d.Ec(13),d.Wb(),d.Wb(),d.Xb(14,"div",2),d.Xb(15,"label",3),d.Ec(16,"Primalac:"),d.Wb(),d.Xb(17,"button",6),d.Ec(18),d.Wb(),d.Wb(),d.Wb(),d.Xb(19,"div",1),d.Xb(20,"div",7),d.Xb(21,"label",3),d.Ec(22,"Otpad "),d.Wb(),d.Xb(23,"button",8),d.Ec(24),d.Wb(),d.Wb(),d.Wb(),d.Xb(25,"div",1),d.Xb(26,"label",9),d.Ec(27,"Ruta kretanja otpada"),d.Wb(),d.Cc(28,G,2,1,"div",10),d.Wb(),d.Xb(29,"div",11),d.Xb(30,"div",2),d.Xb(31,"button",12),d.Ec(32,"Nazad"),d.Wb(),d.Wb(),d.Sb(33,"div",2),d.Xb(34,"div",2),d.Xb(35,"button",13),d.fc("click",(function(){return n.generateDKO()})),d.Ec(36,"Generisi dokument"),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(8),d.Fc(null==n.dko||null==n.dko.firmaProizvodjac?null:n.dko.firmaProizvodjac.naziv),d.Eb(5),d.Fc(null==n.dko||null==n.dko.firmaTransport?null:n.dko.firmaTransport.naziv),d.Eb(5),d.Fc(null==n.dko||null==n.dko.firmaPrimalac?null:n.dko.firmaPrimalac.naziv),d.Eb(6),d.Fc(null==n.dko||null==n.dko.otpad?null:n.dko.otpad.naziv),d.Eb(4),d.nc("ngForOf",n.dko.rutaKretanja))},directives:[o.t,i.m,o.zb,i.n,o.L],styles:[""]}),Z);function Y(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div"),d.Xb(1,"div",0),d.Xb(2,"div",1),d.Xb(3,"label",2),d.Ec(4,"H Lista:"),d.Wb(),d.Wb(),d.Xb(5,"div",3),d.Xb(6,"input",33),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().trash.hLista=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"div",0),d.Xb(8,"div",1),d.Xb(9,"label",2),d.Ec(10,"Y Lista:"),d.Wb(),d.Wb(),d.Xb(11,"div",3),d.Xb(12,"input",34),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().trash.yLista=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(13,"div",0),d.Xb(14,"div",1),d.Xb(15,"label",2),d.Ec(16,"C Lista:"),d.Wb(),d.Wb(),d.Xb(17,"div",3),d.Xb(18,"input",34),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().trash.cLista=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(6),d.nc("ngModel",i.trash.hLista),d.Eb(6),d.nc("ngModel",i.trash.yLista),d.Eb(6),d.nc("ngModel",i.trash.cLista)}}function J(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",3),d.Xb(1,"input",35),d.fc("ngModelChange",(function(e){return d.wc(t),d.hc().dko.nacinPakovanja=e})),d.Wb(),d.Wb()}if(2&e){var i=d.hc();d.Eb(1),d.nc("ngModel",i.dko.nacinPakovanja)}}function Q(e,n){if(1&e&&(d.Xb(0,"nb-option",36),d.Ec(1),d.Wb()),2&e){var t=n.$implicit;d.nc("value",t),d.Eb(1),d.Fc(t)}}var ee,ne=((ee=function(){function e(n){_classCallCheck(this,e),this.dkoService=n,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(n){e.dko=n,e.dko.otpad=e.trash,e.dko.masaOtpada=e.trash.kolicina,e.dko.datumIspitivanja=e.trash.datumIspitivanja,e.dko.sifraIspitivanja=e.trash.sifraIspitivanja,e.dko.fizickoStanje=e.trash.fizickoStanje,e.dko.qLista=e.trash.qLista,e.dko.nacinPakovanja=e.trash.nacinPakovanja,Object(d.Y)()&&(e.dko.vrstaOtpada="indutstrijski",e.dko.masaOtpada=10,e.dko.datumIspitivanja=new Date(2020,3,4),e.dko.sifraIspitivanja="1234DA",e.dko.qLista="Q1",e.dko.nacinPakovanja="Bure")})),this.dkoService.sendDKO(Object(O.a)(this.dko))}}]),e}()).\u0275fac=function(e){return new(e||ee)(d.Rb(T.a))},ee.\u0275cmp=d.Lb({type:ee,selectors:[["trash-part"]],inputs:{trash:"trash",trashType:"trashType"},decls:102,vars:15,consts:[[1,"row","mb-1"],[1,"col-12"],[1,"label"],[1,"col-6"],["fullWidth","",3,"ngModel","ngModelChange"],["value","Industrijski"],["value","Komercijalni"],["value","Otpad iz doma\u0107instva"],["disabled","","fullWidth","","nbInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","number",3,"ngModel","ngModelChange"],["value","Bure"],["value","Kanister"],["value","Sanduk"],["value","Kese"],["value","Posude pod pritiskom"],["value","Kompozitno pakovanje"],["value","U rasutom stanju"],["value","ostalo"],["ostalo",""],["class","col-6",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","",1,"label"],[1,"col-3"],["fullWidth","","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","text",3,"ngModel","ngModelChange"],["value","drumski"],["value","\u017eelezni\u010dki"],["value","re\u010dni"],[1,"row","mt-2"],["nbButton","","fullWidth","","status","primary","nbStepperNext",""],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","disabled","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","ostalo",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,n){if(1&e&&(d.Xb(0,"div",0),d.Xb(1,"h5"),d.Ec(2),d.Wb(),d.Wb(),d.Xb(3,"div",0),d.Xb(4,"div",1),d.Xb(5,"label",2),d.Ec(6,"Vrsta Otpada:"),d.Wb(),d.Wb(),d.Xb(7,"div",3),d.Xb(8,"nb-select",4),d.fc("ngModelChange",(function(e){return n.dko.vrstaOtpada=e})),d.Xb(9,"nb-option",5),d.Ec(10,"Industrijski"),d.Wb(),d.Xb(11,"nb-option",6),d.Ec(12,"Komercijalni"),d.Wb(),d.Xb(13,"nb-option",7),d.Ec(14,"Otpad iz doma\u0107instva"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"div",0),d.Xb(16,"div",1),d.Xb(17,"label",2),d.Ec(18,"Indeksni broj:"),d.Wb(),d.Wb(),d.Xb(19,"div",3),d.Xb(20,"input",8),d.fc("ngModelChange",(function(e){return n.trash.indeksniBroj=e})),d.Wb(),d.Wb(),d.Wb(),d.Cc(21,Y,19,3,"div",9),d.Xb(22,"div",0),d.Xb(23,"div",1),d.Xb(24,"label",2),d.Ec(25,"Q Lista:"),d.Wb(),d.Wb(),d.Xb(26,"div",3),d.Xb(27,"input",10),d.fc("ngModelChange",(function(e){return n.dko.qLista=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(28,"div",0),d.Xb(29,"div",1),d.Xb(30,"label",2),d.Ec(31,"Masa otpada:"),d.Wb(),d.Wb(),d.Xb(32,"div",3),d.Xb(33,"input",11),d.fc("ngModelChange",(function(e){return n.dko.masaOtpada=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(34,"div",0),d.Xb(35,"div",1),d.Xb(36,"label",2),d.Ec(37,"Na\u010din pakovanja otpada:"),d.Wb(),d.Wb(),d.Xb(38,"div",3),d.Xb(39,"nb-select",4),d.fc("ngModelChange",(function(e){return n.dko.nacinPakovanja=e})),d.Xb(40,"nb-option",12),d.Ec(41,"Bure"),d.Wb(),d.Xb(42,"nb-option",13),d.Ec(43,"Kanister"),d.Wb(),d.Xb(44,"nb-option",14),d.Ec(45,"Sanduk"),d.Wb(),d.Xb(46,"nb-option",15),d.Ec(47,"Kese"),d.Wb(),d.Xb(48,"nb-option",16),d.Ec(49,"Posude pod pritiskom"),d.Wb(),d.Xb(50,"nb-option",17),d.Ec(51,"Kompozitno pakovanje"),d.Wb(),d.Xb(52,"nb-option",18),d.Ec(53,"U rasutom stanju"),d.Wb(),d.Xb(54,"nb-option",19,20),d.Ec(56,"Ostalo"),d.Wb(),d.Wb(),d.Wb(),d.Cc(57,J,2,1,"div",21),d.Wb(),d.Xb(58,"div",0),d.Xb(59,"div",1),d.Xb(60,"label",2),d.Ec(61,"Fizi\u010dko stanje otpada:"),d.Wb(),d.Wb(),d.Xb(62,"div",3),d.Xb(63,"nb-select",4),d.fc("ngModelChange",(function(e){return n.dko.fizickoStanje=e})),d.Cc(64,Q,2,2,"nb-option",22),d.Wb(),d.Wb(),d.Wb(),d.Xb(65,"div",0),d.Xb(66,"div",1),d.Xb(67,"label",23),d.Ec(68,"Izve\u0161taj o ispitivanju otpada:"),d.Wb(),d.Wb(),d.Xb(69,"div",24),d.Xb(70,"input",25),d.fc("ngModelChange",(function(e){return n.dko.sifraIspitivanja=e})),d.Wb(),d.Wb(),d.Xb(71,"div",24),d.Xb(72,"input",26),d.fc("ngModelChange",(function(e){return n.dko.datumIspitivanja=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(73,"div",0),d.Xb(74,"div",1),d.Xb(75,"label",2),d.Ec(76,"Odredi\u0161te:"),d.Wb(),d.Wb(),d.Xb(77,"div",3),d.Xb(78,"input",27),d.fc("ngModelChange",(function(e){return n.dko.rutaKretanja[0]=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(79,"div",0),d.Xb(80,"div",1),d.Xb(81,"label",2),d.Ec(82,"Vrsta prevoza:"),d.Wb(),d.Wb(),d.Xb(83,"div",3),d.Xb(84,"nb-select",4),d.fc("ngModelChange",(function(e){return n.dko.vidPrevoza=e})),d.Xb(85,"nb-option",28),d.Ec(86,"Drumski"),d.Wb(),d.Xb(87,"nb-option",29),d.Ec(88,"\u017delezni\u010dki"),d.Wb(),d.Xb(89,"nb-option",30),d.Ec(90,"Re\u010dni"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(91,"div",0),d.Xb(92,"div",1),d.Xb(93,"label",2),d.Ec(94,"Posebne napomene za rukovanje i dodatne informacije:"),d.Wb(),d.Wb(),d.Xb(95,"div",3),d.Xb(96,"input",27),d.fc("ngModelChange",(function(e){return n.dko.dodatneInformacije=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(97,"div",31),d.Sb(98,"div",24),d.Xb(99,"div",24),d.Xb(100,"button",32),d.Ec(101,"Dalje"),d.Wb(),d.Wb(),d.Wb()),2&e){var t=d.uc(55);d.Eb(2),d.Gc("Podaci o otpadu '",null==n.trash?null:n.trash.naziv,"'"),d.Eb(6),d.nc("ngModel",n.dko.vrstaOtpada),d.Eb(12),d.nc("ngModel",n.trash.indeksniBroj),d.Eb(1),d.nc("ngIf","Opasnog"===n.trashType),d.Eb(6),d.nc("ngModel",n.dko.qLista),d.Eb(6),d.nc("ngModel",n.dko.masaOtpada),d.Eb(6),d.nc("ngModel",n.dko.nacinPakovanja),d.Eb(18),d.nc("ngIf",t.selected),d.Eb(6),d.nc("ngModel",n.dko.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(6),d.nc("ngModel",n.dko.sifraIspitivanja),d.Eb(2),d.nc("ngModel",n.dko.datumIspitivanja),d.Eb(6),d.nc("ngModel",n.dko.rutaKretanja[0]),d.Eb(6),d.nc("ngModel",n.dko.vidPrevoza),d.Eb(12),d.nc("ngModel",n.dko.dodatneInformacije)}},directives:[o.nb,a.k,a.n,o.db,o.O,a.b,i.n,a.p,i.m,o.t,o.yb],styles:[""]}),ee);function te(e,n){if(1&e&&(d.Xb(0,"nb-step",11),d.Xb(1,"div",12),d.Sb(2,"trash-part",13),d.ic(3,"async"),d.Wb(),d.Wb()),2&e){var t=d.hc();d.Eb(2),d.nc("trashType",t.trashType)("trash",d.jc(3,2,t.trash$))}}function ie(e,n){if(1&e&&(d.Xb(0,"nb-step",14),d.Sb(1,"company-part",15),d.ic(2,"async"),d.Wb()),2&e){var t=d.hc();d.Eb(1),d.nc("trashType",t.trashType)("company",d.jc(2,3,t.company$))("type","production")}}var ae,oe,re=((ae=function(){function e(n,t,i,a,o){_classCallCheck(this,e),this.route=n,this.notpadService=t,this.skladisteService=i,this.firmaService=a,this.dkoService=o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.params.storage;this.notpadService.findNOtpad(this.route.snapshot.params.trash).subscribe((function(n){e.trash=n,e.trash$=Object(O.a)(n),e.trashType=e.trash.indeksniBroj.endsWith("*")?"Opasnog":"Neopasnog"})),this.skladisteService.findSkladiste("_id",n).subscribe((function(n){e.storage=n,e.dkoService.getDKO().subscribe((function(n){e.dko=n,e.dko.rutaKretanja=[e.storage.adresa.mesto.opstinaNaziv].concat(_toConsumableArray(e.dko.rutaKretanja)),e.dko.vrstaProizvodjaca=e.storage.__t?"SkladisteTretman"===e.storage.__t?"treatment":"storage":"production"})),e.dkoService.sendDKO(Object(O.a)(e.dko))})),this.firmaService.findFirma(n,"skladista").pipe(Object(c.a)()).subscribe((function(n){e.company=n,e.company$=Object(O.a)(n)}))}}]),e}()).\u0275fac=function(e){return new(e||ae)(d.Rb(s.a),d.Rb(x.a),d.Rb(u.a),d.Rb(l.a),d.Rb(T.a))},ae.\u0275cmp=d.Lb({type:ae,selectors:[["trash-transport-report"]],decls:15,vars:10,consts:[[1,"col-1"],[3,"routerLink"],[1,"fa","fa-2x","fa-arrow-left"],["orientation","vertical",3,"linear"],["label","Podaci o otpadu",4,"ngIf"],["label","Podaci o proizvo\u0111a\u010du",4,"ngIf"],["label","Podaci o transporteru"],[3,"trashType","type"],["label","Podaci o primalacu"],["label","Potvrda"],[3,"storage","trash"],["label","Podaci o otpadu"],[1,"test"],[3,"trashType","trash"],["label","Podaci o proizvo\u0111a\u010du"],[3,"trashType","company","type"]],template:function(e,n){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Xb(2,"div",0),d.Xb(3,"a",1),d.Sb(4,"i",2),d.Wb(),d.Wb(),d.Wb(),d.Xb(5,"nb-card-body"),d.Xb(6,"nb-stepper",3),d.Cc(7,te,4,4,"nb-step",4),d.Cc(8,ie,3,5,"nb-step",5),d.Xb(9,"nb-step",6),d.Sb(10,"company-part",7),d.Wb(),d.Xb(11,"nb-step",8),d.Sb(12,"company-part",7),d.Wb(),d.Xb(13,"nb-step",9),d.Sb(14,"confirm-part",10),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(3),d.nc("routerLink","/admin/izvestaji/firme/"+(null==n.company?null:n.company.pib)),d.Eb(3),d.nc("linear",!1),d.Eb(1),d.nc("ngIf",n.trash$),d.Eb(1),d.nc("ngIf",n.company$),d.Eb(2),d.nc("trashType",n.trashType)("type","transport"),d.Eb(2),d.nc("trashType",n.trashType)("type","recipient"),d.Eb(2),d.nc("storage",n.storage)("trash",n.trash))},directives:[o.w,o.y,s.f,o.v,o.wb,i.n,o.vb,N,$,ne],pipes:[i.b],styles:[".test[_ngcontent-%COMP%]{width:147%}"]}),ae),se={actions:{columnTitle:"Generi\u0161i GIO/Detaljnije",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"yearlyReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"moreInfo",title:'<i class="fa fa-info-circle"></i>'}]},columns:{otpad:{valuePrepareFunction:function(e,n){return n.otpad.naziv+" ("+n.otpad.indeksniBroj+")"},title:"Otpad"},ukupnoProizvodnja:{title:"Ukupno proizvedeno"},ukupnoTransport:{title:"Ukupno transportovano"},ukupnoStanje:{title:"Ukupno stanje"}}},ce=((oe=function(){function e(n,t,i){_classCallCheck(this,e),this.reportService=n,this.router=t,this.companyService=i,this.reports=[],this.settings=se}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.reportService.getAllMesecniIzvestajFirme(this.companyPIB).subscribe((function(n){console.log(n),console.log(e.month),e.reports=n.filter((function(n){return n.mesec===e.month}))})),this.companyService.findFirma(this.companyPIB,"pib").subscribe((function(n){e.company=n}))}},{key:"chooseAction",value:function(e){"moreInfo"===e.action&&this.reportInfo(e),"yearlyReport"===e.action&&this.generateYearlyReport(e.data)}},{key:"generateYearlyReport",value:function(e){var n=this,t=e.otpad;this.reportService.createGodisnjiIzvestaj(t,"PRODUCTION",this.company).subscribe((function(e){return n.downloadFile(e)}))}},{key:"reportInfo",value:function(e){var n=e.data;this.router.navigate(["admin/izvestaji/mesecni-izvestaj",n._id])}},{key:"downloadFile",value:function(e){var n=new Blob([e],{type:"application/pdf"}),t=window.URL.createObjectURL(n);window.open(t)}}]),e}()).\u0275fac=function(e){return new(e||oe)(d.Rb(p.a),d.Rb(s.c),d.Rb(l.a))},oe.\u0275cmp=d.Lb({type:oe,selectors:[["monthly-reports"]],inputs:{month:"month",companyPIB:"companyPIB"},decls:2,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,n){1&e&&(d.Xb(0,"div"),d.Xb(1,"ng2-smart-table",0),d.fc("custom",(function(e){return n.chooseAction(e)})),d.Wb(),d.Wb()),2&e&&(d.Eb(1),d.nc("settings",n.settings)("source",n.reports))},directives:[r.b],styles:[""]}),oe);function le(e,n){if(1&e&&(d.Xb(0,"nb-tab",2),d.Sb(1,"monthly-reports",3),d.Wb()),2&e){var t=n.$implicit,i=n.index,a=d.hc();d.nc("active",a.currMonth===i)("tabTitle",t),d.Eb(1),d.nc("companyPIB",a.companyPIB)("month",i)}}var be,ue,de,pe=[{path:"",component:w},{path:"firme/:pib",component:M},{path:"dko",component:re},{path:"godisnji-izvestaji/:pib",component:(be=function(){function e(n){_classCallCheck(this,e),this.route=n,this.months=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],this.currMonth=0,this.companyPIB=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.companyPIB=this.route.snapshot.paramMap.get("pib"),this.months$=Object(O.a)(this.months),this.currMonth=(new Date).getMonth()}}]),e}(),be.\u0275fac=function(e){return new(e||be)(d.Rb(s.a))},be.\u0275cmp=d.Lb({type:be,selectors:[["yearly-reports"]],decls:9,vars:3,consts:[["tabTitle","2020"],[3,"active","tabTitle",4,"ngFor","ngForOf"],[3,"active","tabTitle"],[3,"companyPIB","month"]],template:function(e,n){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Ec(2,"Ime kompanije"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"nb-tabset"),d.Xb(5,"nb-tab",0),d.Xb(6,"nb-tabset"),d.Cc(7,le,2,4,"nb-tab",1),d.ic(8,"async"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(7),d.nc("ngForOf",d.jc(8,1,n.months$)))},directives:[o.w,o.y,o.v,o.Cb,o.Bb,i.m,ce],pipes:[i.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),be)},{path:"mesecni-izvestaj/:id",component:z}],fe=((de=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:de}),de.\u0275inj=d.Ob({factory:function(e){return new(e||de)},imports:[[s.g.forChild(pe)],s.g]}),de),me=((ue=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:ue}),ue.\u0275inj=d.Ob({factory:function(e){return new(e||ue)},imports:[[i.c,fe,o.u,o.N,o.xb,o.z,o.Db,r.c,o.P,a.e]]}),ue)},FYoA:function(e,n,t){"use strict";t.r(n),t.d(n,"AdminModule",(function(){return Qe}));var i,a,o=t("ofXK"),r=t("3Pt+"),s=t("aceb"),c=t("RS3s"),l=t("X+yL"),b=t("g6/h"),u=t("v7Ib"),d=t("gu6j"),p=t("El76"),f=t("ud2R"),m=t("pVkk"),g=t("vTDv"),v=t("tyNb"),h=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/korisnici",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/firme",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/skladiste",icon:{icon:"box",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/izvestaji",icon:{icon:"print",pack:"font-awesome"}}],k=t("fXoL"),W=t("mgFL"),y=((i=function(){function e(){_classCallCheck(this,e),this.menu=h}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=k.Lb({type:i,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,n){1&e&&(k.Xb(0,"ngx-one-column-layout"),k.Sb(1,"nb-menu",0),k.Sb(2,"router-outlet"),k.Wb()),2&e&&(k.Eb(1),k.nc("items",n.menu))},directives:[W.a,s.Z,v.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),i),X={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv"},email:{title:"Email"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}},C=((a=function(){function e(n,t,i){_classCallCheck(this,e),this.firmaService=n,this.toastrService=t,this.router=i,this.companySource=new c.a,this.companySettings=X}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firmaService.getFirma().subscribe((function(n){e.companySource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createCompany",value:function(e){var n=e.newData,t=e.confirm;try{this.firmaService.createFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateCompany",value:function(e){var n=e.newData,t=e.confirm;try{this.firmaService.updateFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteCompany",value:function(e){var n=e.data,t=e.confirm;try{this.firmaService.deleteFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"companyInfo",value:function(e){var n=e.data;this.router.navigate(["admin/firme",n.pib])}}]),e}()).\u0275fac=function(e){return new(e||a)(k.Rb(b.a),k.Rb(s.Hb),k.Rb(v.c))},a.\u0275cmp=k.Lb({type:a,selectors:[["ngx-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(k.Xb(0,"nb-card"),k.Xb(1,"nb-card-header"),k.Ec(2,"Firme"),k.Wb(),k.Xb(3,"nb-card-body"),k.Xb(4,"ng2-smart-table",0),k.fc("createConfirm",(function(e){return n.createCompany(e)}))("editConfirm",(function(e){return n.updateCompany(e)}))("deleteConfirm",(function(e){return n.deleteCompany(e)}))("custom",(function(e){return n.companyInfo(e)})),k.Wb(),k.Wb(),k.Wb()),2&e&&(k.Eb(4),k.nc("settings",n.companySettings)("source",n.companySource))},directives:[s.w,s.y,s.v,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),a),E=t("McNs");function j(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Email je obavezan! "),k.Wb())}function M(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Email mora biti validan! "),k.Wb())}function I(e,n){if(1&e&&(k.Vb(0),k.Cc(1,j,2,0,"p",47),k.Cc(2,M,2,0,"p",47),k.Ub()),2&e){k.hc();var t=k.uc(41);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function z(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Email je obavezan! "),k.Wb())}function S(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Email mora biti validan! "),k.Wb())}function w(e,n){if(1&e&&(k.Vb(0),k.Cc(1,z,2,0,"p",47),k.Cc(2,S,2,0,"p",47),k.Ub()),2&e){k.hc();var t=k.uc(49);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function O(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Telefon je obavezan! "),k.Wb())}function T(e,n){if(1&e&&(k.Xb(0,"p",48),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function x(e,n){if(1&e&&(k.Vb(0),k.Cc(1,O,2,0,"p",47),k.Cc(2,T,2,2,"p",47),k.Ub()),2&e){k.hc();var t=k.uc(57);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function P(e,n){if(1&e&&(k.Xb(0,"p",48),k.Ec(1),k.Wb()),2&e){var t=k.hc(3);k.Eb(1),k.Hc(" Faks mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function _(e,n){if(1&e&&(k.Vb(0),k.Cc(1,P,2,2,"p",47),k.Ub()),2&e){k.hc();var t=k.uc(6);k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function L(e,n){if(1&e){var t=k.Yb();k.Xb(0,"div",10),k.Xb(1,"div",0),k.Xb(2,"label",49),k.Ec(3,"Faks:"),k.Wb(),k.Wb(),k.Xb(4,"div",9),k.Xb(5,"input",50,51),k.fc("ngModelChange",(function(e){return k.wc(t),k.hc().company.faks=e})),k.Wb(),k.Cc(7,_,2,1,"ng-container",23),k.Wb(),k.Wb()}if(2&e){var i=k.uc(6),a=k.hc();k.Eb(5),k.nc("ngModel",a.company.faks)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),k.Eb(2),k.nc("ngIf",i.invalid&&i.touched)}}function R(e,n){1&e&&(k.Xb(0,"p",48),k.Ec(1," Zakosni zastupnik firme je obavezan! "),k.Wb())}function F(e,n){if(1&e&&(k.Xb(0,"p",48),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",t.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function V(e,n){if(1&e&&(k.Vb(0),k.Cc(1,R,2,0,"p",47),k.Cc(2,F,2,2,"p",47),k.Ub()),2&e){k.hc();var t=k.uc(66);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function D(e,n){1&e&&k.Sb(0,"input",52),2&e&&k.nc("placeholder",n.$implicit)}var U,B=((U=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.route=n,this.firmaService=t,this.options=i,this.toastrService=a,this.router=o,this.company={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(n,"pib").subscribe((function(n){e.company=n}))}},{key:"getConfigValue",value:function(e){return Object(E.n)(this.options,e,null)}},{key:"updateCompany",value:function(e){e.valid?(this.firmaService.updateFirma(this.company).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"gotoUser",value:function(){this.router.navigate(["admin/korisnici",this.company.menadzer])}}]),e}()).\u0275fac=function(e){return new(e||U)(k.Rb(v.a),k.Rb(b.a),k.Rb(E.a),k.Rb(s.Hb),k.Rb(v.c))},U.\u0275cmp=k.Lb({type:U,selectors:[["ngx-company"]],decls:96,vars:34,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,n){if(1&e){var t=k.Yb();k.Xb(0,"nb-card",0),k.Xb(1,"form",1,2),k.fc("ngSubmit",(function(){k.wc(t);var e=k.uc(2);return n.updateCompany(e)})),k.Xb(3,"nb-card-header"),k.Xb(4,"div",3),k.Xb(5,"div",4),k.Xb(6,"a",5),k.Sb(7,"i",6),k.Wb(),k.Wb(),k.Xb(8,"div",7),k.Xb(9,"h5",8),k.Ec(10),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(11,"nb-card-body"),k.Xb(12,"div",3),k.Xb(13,"div",9),k.Xb(14,"div",10),k.Xb(15,"div",0),k.Xb(16,"label",11),k.Ec(17,"Naziv Firme:"),k.Wb(),k.Wb(),k.Xb(18,"div",9),k.Xb(19,"input",12,13),k.fc("ngModelChange",(function(e){return n.company.naziv=e})),k.Wb(),k.Wb(),k.Wb(),k.Xb(21,"div",10),k.Xb(22,"div",0),k.Xb(23,"label",14),k.Ec(24,"PIB:"),k.Wb(),k.Wb(),k.Xb(25,"div",9),k.Xb(26,"input",15,16),k.fc("ngModelChange",(function(e){return n.company.pib=e})),k.Wb(),k.Wb(),k.Wb(),k.Xb(28,"div",10),k.Xb(29,"div",0),k.Xb(30,"label",17),k.Ec(31,"Mati\u010dni broj:"),k.Wb(),k.Wb(),k.Xb(32,"div",9),k.Xb(33,"input",18,19),k.fc("ngModelChange",(function(e){return n.company.mat=e})),k.Wb(),k.Wb(),k.Wb(),k.Xb(35,"div",10),k.Xb(36,"div",0),k.Xb(37,"label",20),k.Ec(38,"Email:"),k.Wb(),k.Wb(),k.Xb(39,"div",9),k.Xb(40,"input",21,22),k.fc("ngModelChange",(function(e){return n.company.email=e})),k.Wb(),k.Cc(42,I,3,2,"ng-container",23),k.Wb(),k.Wb(),k.Xb(43,"div",10),k.Xb(44,"div",0),k.Xb(45,"label",24),k.Ec(46,"Email za prijem dokumenata:"),k.Wb(),k.Wb(),k.Xb(47,"div",9),k.Xb(48,"input",25,26),k.fc("ngModelChange",(function(e){return n.company.emailPrijem=e})),k.Wb(),k.Cc(50,w,3,2,"ng-container",23),k.Wb(),k.Wb(),k.Xb(51,"div",10),k.Xb(52,"div",0),k.Xb(53,"label",27),k.Ec(54,"Telefon:"),k.Wb(),k.Wb(),k.Xb(55,"div",9),k.Xb(56,"input",28,29),k.fc("ngModelChange",(function(e){return n.company.telefon=e})),k.Wb(),k.Cc(58,x,3,2,"ng-container",23),k.Wb(),k.Wb(),k.Cc(59,L,8,6,"div",30),k.Xb(60,"div",10),k.Xb(61,"div",0),k.Xb(62,"label",31),k.Ec(63,"Zakonski Zastupnik Firme:"),k.Wb(),k.Wb(),k.Xb(64,"div",9),k.Xb(65,"input",32,33),k.fc("ngModelChange",(function(e){return n.company.zakonskiZastupnik=e})),k.Wb(),k.Cc(67,V,3,2,"ng-container",23),k.Wb(),k.Wb(),k.Wb(),k.Xb(68,"div",9),k.Xb(69,"div",10),k.Xb(70,"div",0),k.Xb(71,"label",34),k.Ec(72,"Adresa Firme:"),k.Wb(),k.Wb(),k.Xb(73,"div",9),k.Sb(74,"input",35),k.Wb(),k.Wb(),k.Xb(75,"div",3),k.Xb(76,"div",0),k.Xb(77,"label",36),k.Ec(78,"Rad firme:"),k.Wb(),k.Wb(),k.Xb(79,"div",9),k.Cc(80,D,1,1,"input",37),k.Wb(),k.Wb(),k.Xb(81,"div",10),k.Xb(82,"div",0),k.Xb(83,"label",38),k.Ec(84,"Menad\u017eer Firme:"),k.Wb(),k.Wb(),k.Xb(85,"div",39),k.Sb(86,"input",40),k.Wb(),k.Xb(87,"div",41),k.Xb(88,"button",42),k.fc("click",(function(){return n.gotoUser()})),k.Sb(89,"i",43),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(90,"nb-card-footer"),k.Xb(91,"div",3),k.Sb(92,"div",44),k.Xb(93,"div",45),k.Xb(94,"button",46),k.Ec(95,"SA\u010cUVAJ"),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&e){var i=k.uc(41),a=k.uc(49),o=k.uc(57),r=k.uc(66);k.Eb(10),k.Gc(" ",n.company.naziv,""),k.Eb(9),k.nc("ngModel",n.company.naziv),k.Eb(7),k.nc("ngModel",n.company.pib),k.Eb(7),k.nc("ngModel",n.company.mat),k.Eb(7),k.nc("ngModel",n.company.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),k.Eb(2),k.nc("ngIf",i.invalid&&i.touched),k.Eb(6),k.nc("ngModel",n.company.emailPrijem)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),k.Eb(2),k.nc("ngIf",a.invalid&&a.touched),k.Eb(6),k.nc("ngModel",n.company.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),k.Eb(2),k.nc("ngIf",o.invalid&&o.touched),k.Eb(1),k.nc("ngIf",""===n.company.faks),k.Eb(6),k.nc("ngModel",n.company.zakonskiZastupnik)("maxlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",n.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),k.Eb(2),k.nc("ngIf",r.invalid&&r.touched),k.Eb(7),k.nc("placeholder",n.company.adresa.mesto.opstinaNaziv+", "+n.company.adresa.mesto.mestoNaziv+", "+n.company.adresa.ulica),k.Eb(6),k.nc("ngForOf",n.company.radFirme),k.Eb(6),k.nc("placeholder",n.company.menadzer)}},directives:[s.w,r.w,r.l,r.m,s.y,v.f,s.v,s.O,r.b,r.k,r.n,r.q,r.s,o.n,r.f,r.g,o.m,s.t,s.x],styles:[""]}),U),K=t("SxV6");function q(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Ime je obavezno! "),k.Wb())}function A(e,n){if(1&e&&(k.Xb(0,"p",27),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function N(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Ime mora biti validno! "),k.Wb())}function H(e,n){if(1&e&&(k.Vb(0),k.Cc(1,q,2,0,"p",26),k.Cc(2,A,2,2,"p",26),k.Cc(3,N,2,0,"p",26),k.Ub()),2&e){k.hc();var t=k.uc(8);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function G(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Prezime je obavezno! "),k.Wb())}function Z(e,n){if(1&e&&(k.Xb(0,"p",27),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.prezime.maxLength")," ")}}function $(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Prezime mora biti validno! "),k.Wb())}function Y(e,n){if(1&e&&(k.Vb(0),k.Cc(1,G,2,0,"p",26),k.Cc(2,Z,2,2,"p",26),k.Cc(3,$,2,0,"p",26),k.Ub()),2&e){k.hc();var t=k.uc(16),i=k.uc(8);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function J(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Email je obavezan! "),k.Wb())}function Q(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Email mora biti validan! "),k.Wb())}function ee(e,n){if(1&e&&(k.Vb(0),k.Cc(1,J,2,0,"p",26),k.Cc(2,Q,2,0,"p",26),k.Ub()),2&e){k.hc();var t=k.uc(24);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ne(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Korisni\u010dko ime je obavezno! "),k.Wb())}function te(e,n){if(1&e&&(k.Xb(0,"p",27),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function ie(e,n){if(1&e&&(k.Vb(0),k.Cc(1,ne,2,0,"p",26),k.Cc(2,te,2,2,"p",26),k.Ub()),2&e){k.hc();var t=k.uc(32);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function ae(e,n){1&e&&(k.Xb(0,"p",27),k.Ec(1," Telefon je obavezan! "),k.Wb())}function oe(e,n){if(1&e&&(k.Xb(0,"p",27),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function re(e,n){if(1&e&&(k.Vb(0),k.Cc(1,ae,2,0,"p",26),k.Cc(2,oe,2,2,"p",26),k.Ub()),2&e){k.hc();var t=k.uc(40);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var se,ce,le=((ce=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.korisnikService=n,this.options=t,this.toastrService=i,this.authService=a,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getCurrentKorisnik().pipe(Object(K.a)()).subscribe((function(n){e.korisnik=n}))}},{key:"getConfigValue",value:function(e){return Object(E.n)(this.options,e,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(e){if(e.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var n=null;this.authService.getToken().subscribe((function(e){n=e})),this.authService.refreshToken("email",n).subscribe((function(e){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}()).\u0275fac=function(e){return new(e||ce)(k.Rb(u.a),k.Rb(E.a),k.Rb(s.Hb),k.Rb(E.g))},ce.\u0275cmp=k.Lb({type:ce,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=k.Yb();k.Xb(0,"form",0,1),k.fc("ngSubmit",(function(){k.wc(t);var e=k.uc(1);return n.updateKorisnik(e)})),k.Xb(2,"div",2),k.Xb(3,"div",3),k.Xb(4,"label",4),k.Ec(5,"Ime:"),k.Wb(),k.Wb(),k.Xb(6,"div",5),k.Xb(7,"input",6,7),k.fc("ngModelChange",(function(e){return n.korisnik.ime=e})),k.Wb(),k.Cc(9,H,4,3,"ng-container",8),k.Wb(),k.Wb(),k.Xb(10,"div",2),k.Xb(11,"div",3),k.Xb(12,"label",9),k.Ec(13,"Prezime:"),k.Wb(),k.Wb(),k.Xb(14,"div",5),k.Xb(15,"input",10,11),k.fc("ngModelChange",(function(e){return n.korisnik.prezime=e})),k.Wb(),k.Cc(17,Y,4,3,"ng-container",8),k.Wb(),k.Wb(),k.Xb(18,"div",2),k.Xb(19,"div",3),k.Xb(20,"label",12),k.Ec(21,"Email:"),k.Wb(),k.Wb(),k.Xb(22,"div",5),k.Xb(23,"input",13,14),k.fc("ngModelChange",(function(e){return n.korisnik.email=e})),k.Wb(),k.Cc(25,ee,3,2,"ng-container",8),k.Wb(),k.Wb(),k.Xb(26,"div",2),k.Xb(27,"div",3),k.Xb(28,"label",15),k.Ec(29,"Korisni\u010dko ime:"),k.Wb(),k.Wb(),k.Xb(30,"div",5),k.Xb(31,"input",16,17),k.fc("ngModelChange",(function(e){return n.korisnik.korisnickoIme=e})),k.Wb(),k.Cc(33,ie,3,2,"ng-container",8),k.Wb(),k.Wb(),k.Xb(34,"div",2),k.Xb(35,"div",3),k.Xb(36,"label",18),k.Ec(37,"Telefon:"),k.Wb(),k.Wb(),k.Xb(38,"div",5),k.Xb(39,"input",19,20),k.fc("ngModelChange",(function(e){return n.korisnik.telefon=e})),k.Wb(),k.Cc(41,re,3,2,"ng-container",8),k.Wb(),k.Wb(),k.Xb(42,"div",21),k.Sb(43,"div",22),k.Xb(44,"div",23),k.Xb(45,"button",24),k.fc("click",(function(){return n.enableInputs()})),k.Ec(46,"IZMENI"),k.Wb(),k.Wb(),k.Xb(47,"div",23),k.Xb(48,"button",25),k.Ec(49,"SA\u010cUVAJ"),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&e){var i=k.uc(8),a=k.uc(16),o=k.uc(24),r=k.uc(32),s=k.uc(40);k.Eb(7),k.nc("ngModel",n.korisnik.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),k.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),k.Eb(2),k.nc("ngIf",i.invalid&&i.touched),k.Eb(6),k.nc("ngModel",n.korisnik.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),k.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),k.Eb(2),k.nc("ngIf",a.invalid&&a.touched),k.Eb(6),k.nc("ngModel",n.korisnik.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),k.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),k.Eb(2),k.nc("ngIf",o.invalid&&o.touched),k.Eb(6),k.nc("ngModel",n.korisnik.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),k.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),k.Eb(2),k.nc("ngIf",r.invalid&&r.touched),k.Eb(6),k.nc("ngModel",n.korisnik.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),k.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),k.Eb(2),k.nc("ngIf",s.invalid&&s.touched),k.Eb(4),k.nc("disabled",!n.inputsDisabled),k.Eb(3),k.nc("disabled",n.inputsDisabled)}},directives:[r.w,r.l,r.m,s.O,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.n,s.t],styles:[""]}),ce),be=((se=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||se)},se.\u0275cmp=k.Lb({type:se,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,n){1&e&&(k.Xb(0,"nb-card"),k.Xb(1,"nb-card-body"),k.Sb(2,"ngx-profile-korisnik"),k.Wb(),k.Wb())},directives:[s.w,s.v,le],styles:[""]}),se),ue={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}};function de(e,n){1&e&&(k.Xb(0,"p",34),k.Ec(1," Naziv skladi\u0161ta je obavezan! "),k.Wb())}function pe(e,n){if(1&e&&(k.Vb(0),k.Cc(1,de,2,0,"p",33),k.Ub()),2&e){k.hc();var t=k.uc(22);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required)}}function fe(e,n){1&e&&(k.Xb(0,"p",34),k.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),k.Wb())}function me(e,n){if(1&e&&(k.Vb(0),k.Cc(1,fe,2,0,"p",33),k.Ub()),2&e){k.hc();var t=k.uc(36);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required)}}function ge(e,n){if(1&e&&(k.Xb(0,"div",11),k.Xb(1,"div",0),k.Xb(2,"label",35),k.Ec(3,"Geolokacija Skladi\u0161ta:"),k.Wb(),k.Wb(),k.Xb(4,"div",10),k.Sb(5,"input",36),k.Wb(),k.Wb()),2&e){var t=k.hc();k.Eb(5),k.nc("placeholder",t.storage.geolokacijaN+"N"+t.storage.geolokacijaE+"E")}}function ve(e,n){if(1&e&&(k.Xb(0,"div",11),k.Xb(1,"div",0),k.Xb(2,"label",37),k.Ec(3,"Vrsta Deponije:"),k.Wb(),k.Wb(),k.Xb(4,"div",10),k.Sb(5,"input",38),k.Wb(),k.Wb()),2&e){var t=k.hc();k.Eb(5),k.nc("placeholder",t.storage.vrstaDeponije)}}var he,ke,We=function(){return{standalone:!0}},ye=((he=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=n,this.skladisteService=t,this.options=i,this.toastrService=a,this.router=o,this.notpadService=r,this.firmaService=s,this.storage={geolokacijaE:void 0,geolokacijaN:void 0,vrstaDeponije:void 0,_id:"",adresa:{mesto:{mestoNaziv:"",mestoSifra:0,opstinaNaziv:"",opstinaSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:0,naziv:""},this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.settings=ue}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storage=n;var t=e.storage.__t?e.storage.__t:"skladista";t=(t=t.charAt(0).toLowerCase()+t.slice(1)).substring(0,8)+"a"+t.slice(9),e.firmaService.findFirma(e.storage._id,t).subscribe((function(n){e.company=n})),e.mergeOtpads()})),this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var e=this,n=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storage=n,e.mergeOtpads()}))}},{key:"mergeOtpads",value:function(){void 0!==this.storage&&(this.storage.neopasniOtpad=this.storage.neopasniOtpad.concat(this.storage.opasniOtpad))}},{key:"getConfigValue",value:function(e){return Object(E.n)(this.options,e,null)}},{key:"updateStorage",value:function(e){e.valid?(this.skladisteService.updateSkladiste(this.storage).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"updateTrash",value:function(e,n){var t=this,i=e.newData,a=e.confirm;try{this.notpadService.updateNOtpad(i,n._id).subscribe((function(e){t.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(e,n){var t=this,i=e.data,a=e.confirm;try{this.notpadService.deleteNOtpad(i,n._id).subscribe((function(e){t.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"calculateStatus",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100<33?"success":this.storage.kolicina/this.storage.maxKolicina*100<66?"warning":"danger"}},{key:"calculateValue",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/firme",this.company.pib])}}]),e}()).\u0275fac=function(e){return new(e||he)(k.Rb(v.a),k.Rb(m.a),k.Rb(E.a),k.Rb(s.Hb),k.Rb(v.c),k.Rb(p.a),k.Rb(b.a))},he.\u0275cmp=k.Lb({type:he,selectors:[["ngx-storage"]],decls:62,vars:29,consts:[[1,"col-12"],[3,"ngSubmit"],["formSkladista","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["velicina","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-firma",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-firma","name","firma","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],["size","large",3,"value","status"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolokacijaN",1,"label"],["disabled","","fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"placeholder"]],template:function(e,n){if(1&e){var t=k.Yb();k.Xb(0,"nb-card",0),k.Xb(1,"form",1,2),k.fc("ngSubmit",(function(){k.wc(t);var e=k.uc(2);return n.updateStorage(e)})),k.Xb(3,"nb-card-header"),k.Xb(4,"div",3),k.Xb(5,"div",4),k.Xb(6,"a",5),k.Sb(7,"i",6),k.Wb(),k.Wb(),k.Xb(8,"div",7),k.Xb(9,"h5",8),k.Ec(10),k.Wb(),k.Xb(11,"p",9),k.Ec(12),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(13,"nb-card-body"),k.Xb(14,"div",3),k.Xb(15,"div",10),k.Xb(16,"div",11),k.Xb(17,"div",0),k.Xb(18,"label",12),k.Ec(19,"Naziv skladi\u0161ta:"),k.Wb(),k.Wb(),k.Xb(20,"div",10),k.Xb(21,"input",13,14),k.fc("ngModelChange",(function(e){return n.storage.naziv=e})),k.Wb(),k.Cc(23,pe,2,1,"ng-container",15),k.Wb(),k.Wb(),k.Xb(24,"div",11),k.Xb(25,"div",0),k.Xb(26,"label",16),k.Ec(27,"Adresa Skladi\u0161ta:"),k.Wb(),k.Wb(),k.Xb(28,"div",10),k.Sb(29,"input",17),k.Wb(),k.Wb(),k.Xb(30,"div",11),k.Xb(31,"div",0),k.Xb(32,"label",18),k.Ec(33,"Veli\u010dina skladi\u0161ta:"),k.Wb(),k.Wb(),k.Xb(34,"div",10),k.Xb(35,"input",19,20),k.fc("ngModelChange",(function(e){return n.storage.maxKolicina=e})),k.Wb(),k.Cc(37,me,2,1,"ng-container",15),k.Wb(),k.Wb(),k.Wb(),k.Xb(38,"div",10),k.Cc(39,ge,6,1,"div",21),k.Cc(40,ve,6,1,"div",21),k.Xb(41,"div",11),k.Xb(42,"div",0),k.Xb(43,"label",22),k.Ec(44,"Firma skladi\u0161ta:"),k.Wb(),k.Wb(),k.Xb(45,"div",23),k.Sb(46,"input",24),k.Wb(),k.Xb(47,"div",25),k.Xb(48,"button",26),k.fc("click",(function(){return n.gotoCompany()})),k.Sb(49,"i",27),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(50,"div",11),k.Xb(51,"div",0),k.Xb(52,"nb-progress-bar",28),k.Ec(53),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(54,"nb-card-footer"),k.Xb(55,"div",3),k.Sb(56,"div",29),k.Xb(57,"div",30),k.Xb(58,"button",31),k.Ec(59,"SA\u010cUVAJ"),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(60,"nb-card-body"),k.Xb(61,"ng2-smart-table",32),k.fc("editConfirm",(function(e){return n.updateTrash(e,n.storage)}))("deleteConfirm",(function(e){return n.deleteTrash(e,n.storage)})),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&e){var i=k.uc(22),a=k.uc(36);k.Eb(10),k.Fc(n.storage.naziv),k.Eb(2),k.Fc(n.storage.__t),k.Eb(9),k.nc("ngModel",n.storage.naziv)("ngModelOptions",k.qc(27,We))("maxlength",n.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",n.getConfigValue("forms.validation.nazivFirme.minLength"))("required",n.getConfigValue("forms.validation.nazivFirme.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),k.Eb(2),k.nc("ngIf",i.invalid&&i.touched),k.Eb(6),k.nc("placeholder",n.storage.adresa.mesto.opstinaNaziv+", "+n.storage.adresa.mesto.mestoNaziv+", "+n.storage.adresa.ulica),k.Eb(6),k.nc("ngModel",n.storage.maxKolicina)("ngModelOptions",k.qc(28,We))("pattern",n.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",n.getConfigValue("forms.validation.velicinaSkladista.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),k.Eb(2),k.nc("ngIf",a.invalid&&a.touched),k.Eb(2),k.nc("ngIf",void 0!==n.storage.geolokacijaN),k.Eb(1),k.nc("ngIf",void 0!==n.storage.vrstaDeponije),k.Eb(6),k.nc("placeholder",n.company.naziv),k.Eb(6),k.nc("value",n.calculateValue())("status",n.calculateStatus()),k.Eb(1),k.Hc(" ",n.storage.kolicina,"/",n.storage.maxKolicina," "),k.Eb(8),k.nc("settings",n.settings)("source",null==n.storage?null:n.storage.neopasniOtpad)}},directives:[s.w,r.w,r.l,r.m,s.y,v.f,s.v,s.O,r.b,r.k,r.n,r.f,r.g,r.s,o.n,r.p,r.q,s.t,s.hb,s.x,c.b],styles:[""]}),he),Xe={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{naziv:{title:"Naziv"},maxKolicina:{title:"Veli\u010dina"},kolicina:{title:"Trenutno stanje"},popunjenost:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}},Ce=((ke=function(){function e(n,t,i){_classCallCheck(this,e),this.skladisteService=n,this.toastrService=t,this.router=i,this.storageSource=new c.a,this.storageSettings=Xe}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.skladisteService.getSkladiste().subscribe((function(n){n.forEach((function(e){return e.popunjenost=(e.kolicina/e.maxKolicina*100).toFixed(0)})),e.storageSource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createStorage",value:function(e){var n=e.newData,t=e.confirm;try{this.skladisteService.createSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateStorage",value:function(e){var n=e.newData,t=e.confirm;try{this.skladisteService.updateSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteStorage",value:function(e){var n=e.data,t=e.confirm;try{this.skladisteService.deleteSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"storageInfo",value:function(e){var n=e.data;this.router.navigate(["admin/skladiste",n._id])}}]),e}()).\u0275fac=function(e){return new(e||ke)(k.Rb(m.a),k.Rb(s.Hb),k.Rb(v.c))},ke.\u0275cmp=k.Lb({type:ke,selectors:[["ngx-storages"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(k.Xb(0,"nb-card"),k.Xb(1,"nb-card-header"),k.Ec(2,"Skladi\u0161ta"),k.Wb(),k.Xb(3,"nb-card-body"),k.Xb(4,"ng2-smart-table",0),k.fc("createConfirm",(function(e){return n.createStorage(e)}))("editConfirm",(function(e){return n.updateStorage(e)}))("deleteConfirm",(function(e){return n.deleteStorage(e)}))("custom",(function(e){return n.storageInfo(e)})),k.Wb(),k.Wb(),k.Wb()),2&e&&(k.Eb(4),k.nc("settings",n.storageSettings)("source",n.storageSource))},directives:[s.w,s.y,s.v,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),ke);function Ee(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Ime je obavezno! "),k.Wb())}function je(e,n){if(1&e&&(k.Xb(0,"p",40),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function Me(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Ime mora biti validno! "),k.Wb())}function Ie(e,n){if(1&e&&(k.Vb(0),k.Cc(1,Ee,2,0,"p",39),k.Cc(2,je,2,2,"p",39),k.Cc(3,Me,2,0,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(19);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ze(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Prezime je obavezno! "),k.Wb())}function Se(e,n){if(1&e&&(k.Xb(0,"p",40),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.prezime.maxLength")," ")}}function we(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Prezime mora biti validno! "),k.Wb())}function Oe(e,n){if(1&e&&(k.Vb(0),k.Cc(1,ze,2,0,"p",39),k.Cc(2,Se,2,2,"p",39),k.Cc(3,we,2,0,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(27),i=k.uc(19);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Te(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Email je obavezan! "),k.Wb())}function xe(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Email mora biti validan! "),k.Wb())}function Pe(e,n){if(1&e&&(k.Vb(0),k.Cc(1,Te,2,0,"p",39),k.Cc(2,xe,2,0,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(35);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function _e(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Korisni\u010dko ime je obavezno! "),k.Wb())}function Le(e,n){if(1&e&&(k.Xb(0,"p",40),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function Re(e,n){if(1&e&&(k.Vb(0),k.Cc(1,_e,2,0,"p",39),k.Cc(2,Le,2,2,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(43);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Fe(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Telefon je obavezan! "),k.Wb())}function Ve(e,n){if(1&e&&(k.Xb(0,"p",40),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function De(e,n){if(1&e&&(k.Vb(0),k.Cc(1,Fe,2,0,"p",39),k.Cc(2,Ve,2,2,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(51);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ue(e,n){1&e&&(k.Xb(0,"p",40),k.Ec(1," Uloga je obavezna! "),k.Wb())}function Be(e,n){if(1&e&&(k.Xb(0,"p",40),k.Ec(1),k.Wb()),2&e){var t=k.hc(2);k.Eb(1),k.Hc(" Uloga mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function Ke(e,n){if(1&e&&(k.Vb(0),k.Cc(1,Ue,2,0,"p",39),k.Cc(2,Be,2,2,"p",39),k.Ub()),2&e){k.hc();var t=k.uc(60);k.Eb(1),k.nc("ngIf",null==t.errors?null:t.errors.required),k.Eb(1),k.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var qe,Ae,Ne,He,Ge=((qe=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.route=n,this.korisnikService=t,this.options=i,this.toastrService=a,this.router=o,this.user={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:"",firma:{_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("korisnickoIme");this.korisnikService.findKorisnik(n,"korisnickoIme").subscribe((function(n){e.user=n}))}},{key:"getConfigValue",value:function(e){return Object(E.n)(this.options,e,null)}},{key:"updateUser",value:function(e){e.valid?(this.korisnikService.updateKorisnik(this.user).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/firme",this.user.firma.pib])}}]),e}()).\u0275fac=function(e){return new(e||qe)(k.Rb(v.a),k.Rb(u.a),k.Rb(E.a),k.Rb(s.Hb),k.Rb(v.c))},qe.\u0275cmp=k.Lb({type:qe,selectors:[["ngx-user"]],decls:77,vars:47,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-uloga",1,"label"],["fullWidth","","id","input-uloga","name","uloga","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["uloga","ngModel"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=k.Yb();k.Xb(0,"nb-card",0),k.Xb(1,"form",1,2),k.fc("ngSubmit",(function(){k.wc(t);var e=k.uc(2);return n.updateUser(e)})),k.Xb(3,"nb-card-header"),k.Xb(4,"div",3),k.Xb(5,"div",4),k.Xb(6,"a",5),k.Sb(7,"i",6),k.Wb(),k.Wb(),k.Xb(8,"div",7),k.Xb(9,"h5",8),k.Ec(10),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(11,"div",3),k.Xb(12,"nb-card-body",9),k.Xb(13,"div",10),k.Xb(14,"div",0),k.Xb(15,"label",11),k.Ec(16,"Ime:"),k.Wb(),k.Wb(),k.Xb(17,"div",9),k.Xb(18,"input",12,13),k.fc("ngModelChange",(function(e){return n.user.ime=e})),k.Wb(),k.Cc(20,Ie,4,3,"ng-container",14),k.Wb(),k.Wb(),k.Xb(21,"div",10),k.Xb(22,"div",0),k.Xb(23,"label",15),k.Ec(24,"Prezime:"),k.Wb(),k.Wb(),k.Xb(25,"div",9),k.Xb(26,"input",16,17),k.fc("ngModelChange",(function(e){return n.user.prezime=e})),k.Wb(),k.Cc(28,Oe,4,3,"ng-container",14),k.Wb(),k.Wb(),k.Xb(29,"div",10),k.Xb(30,"div",0),k.Xb(31,"label",18),k.Ec(32,"Email:"),k.Wb(),k.Wb(),k.Xb(33,"div",9),k.Xb(34,"input",19,20),k.fc("ngModelChange",(function(e){return n.user.email=e})),k.Wb(),k.Cc(36,Pe,3,2,"ng-container",14),k.Wb(),k.Wb(),k.Xb(37,"div",10),k.Xb(38,"div",0),k.Xb(39,"label",21),k.Ec(40,"Korisni\u010dko ime:"),k.Wb(),k.Wb(),k.Xb(41,"div",9),k.Xb(42,"input",22,23),k.fc("ngModelChange",(function(e){return n.user.korisnickoIme=e})),k.Wb(),k.Cc(44,Re,3,2,"ng-container",14),k.Wb(),k.Wb(),k.Xb(45,"div",10),k.Xb(46,"div",0),k.Xb(47,"label",24),k.Ec(48,"Telefon:"),k.Wb(),k.Wb(),k.Xb(49,"div",9),k.Xb(50,"input",25,26),k.fc("ngModelChange",(function(e){return n.user.telefon=e})),k.Wb(),k.Cc(52,De,3,2,"ng-container",14),k.Wb(),k.Wb(),k.Wb(),k.Xb(53,"nb-card-body",9),k.Xb(54,"div",10),k.Xb(55,"div",0),k.Xb(56,"label",27),k.Ec(57,"Uloga:"),k.Wb(),k.Wb(),k.Xb(58,"div",9),k.Xb(59,"input",28,29),k.fc("ngModelChange",(function(e){return n.user.uloga=e})),k.Wb(),k.Cc(61,Ke,3,2,"ng-container",14),k.Wb(),k.Wb(),k.Xb(62,"div",10),k.Xb(63,"div",0),k.Xb(64,"label",30),k.Ec(65,"Firma:"),k.Wb(),k.Wb(),k.Xb(66,"div",31),k.Sb(67,"input",32),k.Wb(),k.Xb(68,"div",33),k.Xb(69,"button",34),k.fc("click",(function(){return n.gotoCompany()})),k.Sb(70,"i",35),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(71,"nb-card-footer"),k.Xb(72,"div",3),k.Sb(73,"div",36),k.Xb(74,"div",37),k.Xb(75,"button",38),k.Ec(76,"SA\u010cUVAJ"),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&e){var i=k.uc(19),a=k.uc(27),o=k.uc(35),r=k.uc(43),s=k.uc(51),c=k.uc(60);k.Eb(10),k.Hc(" ",n.user.ime," ",n.user.prezime,""),k.Eb(8),k.nc("ngModel",n.user.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),k.Eb(2),k.nc("ngIf",i.invalid&&i.touched),k.Eb(6),k.nc("ngModel",n.user.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),k.Eb(2),k.nc("ngIf",a.invalid&&a.touched),k.Eb(6),k.nc("ngModel",n.user.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),k.Eb(2),k.nc("ngIf",o.invalid&&o.touched),k.Eb(6),k.nc("ngModel",n.user.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),k.Eb(2),k.nc("ngIf",r.invalid&&r.touched),k.Eb(6),k.nc("ngModel",n.user.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),k.Eb(2),k.nc("ngIf",s.invalid&&s.touched),k.Eb(7),k.nc("ngModel",n.user.uloga)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),k.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),k.Eb(2),k.nc("ngIf",c.invalid&&c.touched),k.Eb(6),k.nc("placeholder",n.user.firma.naziv)}},directives:[s.w,r.w,r.l,r.m,s.y,v.f,s.v,s.O,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.n,s.t,s.x],styles:[""]}),qe),Ze={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{ime:{title:"Ime"},prezime:{title:"Prezime"},korisnickoIme:{title:"Korisni\u010dko ime"},email:{title:"Email"},telefon:{title:"Telefon"},firma:{editable:!1,valuePrepareFunction:function(e,n){return n.firma.naziv},title:"Firma"}}},$e=[{path:"",component:y,children:[{path:"admin-dashboard",loadChildren:function(){return t.e(9).then(t.bind(null,"LaSW")).then((function(e){return e.AdminDashboardModule}))}},{path:"profile",component:be},{path:"korisnici",component:(Ae=function(){function e(n,t,i){_classCallCheck(this,e),this.korisnikService=n,this.toastrService=t,this.router=i,this.usersSource=new c.a,this.userSettings=Ze}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getKorisnik().subscribe((function(n){e.usersSource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createUser",value:function(e){var n=e.newData,t=e.confirm;try{this.korisnikService.createKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateUser",value:function(e){var n=e.newData,t=e.confirm;try{this.korisnikService.updateKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteUser",value:function(e){var n=e.data,t=e.confirm;try{this.korisnikService.deleteKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"userInfo",value:function(e){var n=e.data;this.router.navigate(["admin/korisnici",n.korisnickoIme])}}]),e}(),Ae.\u0275fac=function(e){return new(e||Ae)(k.Rb(u.a),k.Rb(s.Hb),k.Rb(v.c))},Ae.\u0275cmp=k.Lb({type:Ae,selectors:[["ngx-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(k.Xb(0,"nb-card"),k.Xb(1,"nb-card-header"),k.Ec(2,"Korisnici"),k.Wb(),k.Xb(3,"nb-card-body"),k.Xb(4,"ng2-smart-table",0),k.fc("createConfirm",(function(e){return n.createUser(e)}))("editConfirm",(function(e){return n.updateUser(e)}))("deleteConfirm",(function(e){return n.deleteUser(e)}))("custom",(function(e){return n.userInfo(e)})),k.Wb(),k.Wb(),k.Wb()),2&e&&(k.Eb(4),k.nc("settings",n.userSettings)("source",n.usersSource))},directives:[s.w,s.y,s.v,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),Ae)},{path:"korisnici/:korisnickoIme",component:Ge},{path:"firme",component:C},{path:"firme/:pib",component:B},{path:"skladiste",component:Ce},{path:"skladiste/:id",component:ye},{path:"izvestaji",loadChildren:function(){return Promise.resolve().then(t.bind(null,"BKSH")).then((function(e){return e.ReportsModule}))}}]}],Ye=((Ne=function e(){_classCallCheck(this,e)}).\u0275mod=k.Pb({type:Ne}),Ne.\u0275inj=k.Ob({factory:function(e){return new(e||Ne)},imports:[[v.g.forChild($e)],v.g]}),Ne),Je=t("BKSH"),Qe=((He=function e(){_classCallCheck(this,e)}).\u0275mod=k.Pb({type:He}),He.\u0275inj=k.Ob({factory:function(e){return new(e||He)},providers:[u.a,b.a,p.a,d.a,m.a,f.a,l.a],imports:[[o.c,Ye,g.a,s.ab,s.z,c.c,s.P,r.e,s.u,s.N,s.ib,s.k,s.Db,s.xb,s.pb,s.I,s.lb,Je.ReportsModule]]}),He)},"X+yL":function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i,a=t("tk/3"),o=t("LRne"),r=t("AytR"),s=t("fXoL"),c=((i=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this)).http=e,i.apiUrl=r.a.apiUrl,i.dko={datumDozvolePrimalac:new Date,datumDozvoleTransport:new Date,datumIspitivanja:new Date,dodatneInformacije:"",fizickoStanje:"",vrstaProizvodjaca:"",masaOtpada:0,nacinPakovanja:"",nacinPostupanja:"",otpad:void 0,qLista:"",registarskiBroj:"",rutaKretanja:new Array(5),sifraDozvolePrimalac:"",sifraDozvoleTransport:"",sifraIspitivanja:"",vidPrevoza:"",vrstaOtpada:"",vrstaPrimalaca:"",vrstaVozila:""},i}return _createClass(t,[{key:"sendSyncDKO",value:function(e){this.dko=e}},{key:"sendDKO",value:function(e){var n=this;e.subscribe((function(e){n.dko=e}))}},{key:"getDKO",value:function(){return Object(o.a)(this.dko)}},{key:"generateDKO",value:function(e,n,t){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/dko",{dko:e,skladiste:n,trash:t},{headers:i,responseType:"blob"})}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(s.bc(a.b))},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac}),i)},gu6j:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i,a=t("tk/3"),o=t("AytR"),r=t("fXoL"),s=((i=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this)).http=e,i.apiUrl=o.a.apiUrl,i}return _createClass(t,[{key:"getMesecniIzvestaj",value:function(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}},{key:"getOneMonthlyReport",value:function(e){return this.http.get(this.apiUrl+"/api/mesecniizvestaj/"+e)}},{key:"createMesecniIzvestaj",value:function(e,n,t){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:t,storageID:n._id},{headers:i,responseType:"blob"})}},{key:"createGodisnjiIzvestaj",value:function(e,n,t){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/godisnjiizvestaj",{trash:e,reportType:n,company:t},{headers:i,responseType:"blob"})}},{key:"getAllMesecniIzvestajFirme",value:function(e){return this.mesecniIzvestaj$||(this.mesecniIzvestaj$=this.http.get(this.apiUrl+"/api/mesecniizvestaj/firma/"+e)),this.mesecniIzvestaj$}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(r.bc(a.b))},i.\u0275prov=r.Nb({token:i,factory:i.\u0275fac}),i)}}]);