function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{BKSH:function(e,t,n){"use strict";n.r(t),n.d(t,"ReportsModule",(function(){return fe}));var i=n("ofXK"),a=n("3Pt+"),o=n("aceb"),r=n("RS3s"),s=n("tyNb"),c=n("SxV6"),l=n("wH5/"),b=n("ud2R"),d=n("7Oz7"),u=n("fXoL"),p=n("gu6j"),m={actions:{columnTitle:"Generi\u0161i DEO/DKO",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"trashReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"trashTransport",title:'<i class="fa fa-truck"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},kolicina:{title:"Koli\u010dina (kg)"}}};function f(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div",1),u.Xb(1,"h5"),u.Hc(2),u.Wb(),u.Xb(3,"p"),u.Hc(4,"Generi\u0161i sve izve\u0161taje "),u.Xb(5,"i",2),u.fc("click",(function(){u.zc(n);var e=t.$implicit;return u.jc().allTrashReport(e)})),u.Wb(),u.Wb(),u.Xb(6,"ng2-smart-table",3),u.fc("custom",(function(e){u.zc(n);var i=t.$implicit;return u.jc().chooseAction(e,i)})),u.Wb(),u.Wb()}if(2&e){var i=t.$implicit,a=u.jc();u.Eb(2),u.Jc(" ",i.naziv,""),u.Eb(4),u.pc("settings",a.storageReportSettings)("source",i.neopasniOtpad)}}var g,v=((g=function(){function e(t,n,i){_classCallCheck(this,e),this.skladisteService=t,this.mesecniIzvestajService=n,this.router=i,this.storages=[],this.storageReportSettings=m}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.storageReportSettings.trashProduction=null,this.storageIDs.forEach((function(t){return e.skladisteService.getStorage(t).subscribe((function(t){e.storages.push(t)}))}))}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"chooseAction",value:function(e,t){"trashReport"===e.action&&("production"===this.type&&this.trashProudctionReport(e,t),"treatment"===this.type&&this.trashTreatmentReport(e,t),"dump"===this.type&&this.trashDumpReport(e,t)),"trashTransport"===e.action&&"production"===this.type&&this.trashTransportReport(e,t)}},{key:"trashProudctionReport",value:function(e,t){var n=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,t,"PRODUCTION").subscribe((function(e){return n.downloadFile(e)}))}},{key:"trashTreatmentReport",value:function(e,t){var n=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,t,"TREATMENT").subscribe((function(e){return n.downloadFile(e)}))}},{key:"trashDumpReport",value:function(e,t){var n=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,t,"DUMP").subscribe((function(e){return n.downloadFile(e)}))}},{key:"trashTransportReport",value:function(e,t){var n=e.data;this.router.navigate(["admin/izvestaji/dko",{trash:n._id,storage:t._id}])}},{key:"allTrashReport",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||g)(u.Rb(d.a),u.Rb(p.a),u.Rb(s.c))},g.\u0275cmp=u.Lb({type:g,selectors:[["ngx-storage-reports"]],inputs:{storageIDs:"storageIDs",type:"type"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,t){1&e&&u.Fc(0,f,7,3,"div",0),2&e&&u.pc("ngForOf",t.storages)},directives:[i.l,r.b],styles:["[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]   ng2-st-tbody-edit-delete[_ngcontent-%COMP%]{display:flex!important;height:0!important}[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),g);function h(e,t){if(1&e&&(u.Xb(0,"nb-tab",15),u.Sb(1,"ngx-storage-reports",16),u.Wb()),2&e){var n=u.jc();u.Eb(1),u.pc("storageIDs",n.company.storages)("type","production")}}function W(e,t){1&e&&(u.Xb(0,"nb-tab",17),u.Hc(1," NOT "),u.Wb())}function k(e,t){if(1&e&&(u.Xb(0,"nb-tab",18),u.Sb(1,"ngx-storage-reports",16),u.Wb()),2&e){var n=u.jc();u.Eb(1),u.pc("storageIDs",n.company.storages)("type","treatment")}}function X(e,t){if(1&e&&(u.Xb(0,"nb-tab",19),u.Sb(1,"ngx-storage-reports",16),u.Wb()),2&e){var n=u.jc();u.Eb(1),u.pc("storageIDs",n.company.storages)("type","dump")}}function y(e,t){1&e&&(u.Xb(0,"nb-tab",20),u.Hc(1," NOS "),u.Wb())}var C,j,M,I=((C=function(){function e(t,n,i,a,o){_classCallCheck(this,e),this.route=t,this.firmaService=n,this.toastrService=i,this.skladisteService=a,this.roleService=o,this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:"",manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("pib");this.firmaService.getCompany(t,"pib").subscribe((function(t){e.company=t,e.skladisteService.getCompaniesStorage("",e.company._id).pipe(Object(c.a)()).subscribe((function(t){e.skladista=t})),e.roleService.getOperations().subscribe((function(t){e.operations=t}))}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||C)(u.Rb(s.a),u.Rb(l.a),u.Rb(o.Kb),u.Rb(d.a),u.Rb(b.a))},C.\u0275cmp=u.Lb({type:C,selectors:[["ngx-company-reports"]],decls:23,vars:7,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"storageIDs","type"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Xb(2,"div",0),u.Xb(3,"div",1),u.Xb(4,"a",2),u.Sb(5,"i",3),u.Wb(),u.Wb(),u.Xb(6,"div",4),u.Xb(7,"h5"),u.Hc(8),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"nb-card-body"),u.Xb(10,"div",5),u.Xb(11,"div",6),u.Xb(12,"label",7),u.Hc(13,"Email za prijem dokumenata:"),u.Wb(),u.Xb(14,"div",6),u.Xb(15,"input",8),u.fc("ngModelChange",(function(e){return t.company.emailReception=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(16,"div",5),u.Xb(17,"nb-tabset",9),u.Fc(18,h,2,2,"nb-tab",10),u.Fc(19,W,2,0,"nb-tab",11),u.Fc(20,k,2,2,"nb-tab",12),u.Fc(21,X,2,2,"nb-tab",13),u.Fc(22,y,2,0,"nb-tab",14),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(8),u.Ic(t.company.name),u.Eb(7),u.pc("ngModel",t.company.emailReception),u.Eb(3),u.pc("ngIf",null==t.operations?null:t.operations.proizvodnja),u.Eb(1),u.pc("ngIf",null==t.operations?null:t.operations.transport),u.Eb(1),u.pc("ngIf",null==t.operations?null:t.operations.tretman),u.Eb(1),u.pc("ngIf",null==t.operations?null:t.operations.odlaganje),u.Eb(1),u.pc("ngIf",null==t.operations?null:t.operations.skladistenje))},directives:[o.x,o.A,s.f,o.w,o.Q,a.b,a.k,a.n,o.Fb,i.m,o.Eb,v],styles:[""]}),C),S={pager:{perPage:10},actions:{add:!1,edit:!1,delete:!1},columns:{dan:{title:"Dan"},ukupnoStanje:{title:"Ukupno stanje (kg)"},ukupnoProizvodnja:{title:"Ukupna proizvodnja (kg)"},ukupnoTransport:{title:"Ukupan transport (kg)"},DKO:{valuePrepareFunction:function(e,t){return t.nazivFirme?t.nazivFirme+" "+t.brojDozvole:"/"},title:"DKO"}}},E=((j=function(){function e(t,n){_classCallCheck(this,e),this.route=t,this.reportService=n,this.settings=S,this.report={_id:"",dnevniIzvestaj:[],godina:0,mesec:0,otpad:{name:"",indexNumber:"",packaging:"",qList:"",desc:"",amount:0},skladiste:{name:"",maxAmount:0,amount:0,address:void 0},ukupnoProizvodnja:0,ukupnoStanje:0,ukupnoTransport:0}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.reportService.getOneMonthlyReport(t).subscribe((function(t){e.report=t,e.dailyReports=e.report.dnevniIzvestaj}))}}]),e}()).\u0275fac=function(e){return new(e||j)(u.Rb(s.a),u.Rb(p.a))},j.\u0275cmp=u.Lb({type:j,selectors:[["monthly-report-information"]],decls:53,vars:11,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row"],[1,"col-12"],[1,"label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"row","mt-2"],[3,"settings","source"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Xb(2,"div",0),u.Xb(3,"div",1),u.Xb(4,"a",2),u.Sb(5,"i",3),u.Wb(),u.Wb(),u.Xb(6,"div",4),u.Xb(7,"h5"),u.Hc(8),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"nb-card-body"),u.Xb(10,"div",5),u.Xb(11,"div",6),u.Xb(12,"label",7),u.Hc(13,"Godina: "),u.Wb(),u.Xb(14,"input",8),u.fc("ngModelChange",(function(e){return t.report.godina=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(15,"div",5),u.Xb(16,"div",6),u.Xb(17,"label",7),u.Hc(18,"Mesec: "),u.Wb(),u.Xb(19,"input",8),u.fc("ngModelChange",(function(e){return t.report.mesec=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(20,"div",5),u.Xb(21,"div",6),u.Xb(22,"label",7),u.Hc(23,"Skladi\u0161te: "),u.Wb(),u.Xb(24,"input",8),u.fc("ngModelChange",(function(e){return t.report.skladiste.name=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(25,"div",5),u.Xb(26,"div",6),u.Xb(27,"label",7),u.Hc(28,"Indeksni Broj: "),u.Wb(),u.Xb(29,"input",8),u.fc("ngModelChange",(function(e){return t.report.otpad.indexNumber=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(30,"div",5),u.Xb(31,"div",6),u.Xb(32,"label",7),u.Hc(33,"Trenutna Koli\u010dina na stanju: "),u.Wb(),u.Xb(34,"input",8),u.fc("ngModelChange",(function(e){return t.report.otpad.amount=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(35,"div",5),u.Xb(36,"div",9),u.Xb(37,"label",7),u.Hc(38,"Fizi\u010dko stanje: "),u.Wb(),u.Xb(39,"input",8),u.fc("ngModelChange",(function(e){return t.report.otpad.state=e})),u.Wb(),u.Wb(),u.Xb(40,"div",9),u.Xb(41,"label",7),u.Hc(42,"Na\u010din pakovanja: "),u.Wb(),u.Xb(43,"input",8),u.fc("ngModelChange",(function(e){return t.report.otpad.packaging=e})),u.Wb(),u.Wb(),u.Xb(44,"div",9),u.Xb(45,"label",7),u.Hc(46,"Q Lista: "),u.Wb(),u.Xb(47,"input",8),u.fc("ngModelChange",(function(e){return t.report.otpad.qList=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(48,"div",10),u.Xb(49,"div",6),u.Xb(50,"label",7),u.Hc(51,"Izve\u0161taj za svaki dan:"),u.Wb(),u.Sb(52,"ng2-smart-table",11),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(8),u.Ic(t.report.otpad.name),u.Eb(6),u.pc("ngModel",t.report.godina),u.Eb(5),u.pc("ngModel",t.report.mesec),u.Eb(5),u.pc("ngModel",t.report.skladiste.name),u.Eb(5),u.pc("ngModel",t.report.otpad.indexNumber),u.Eb(5),u.pc("ngModel",t.report.otpad.amount),u.Eb(5),u.pc("ngModel",t.report.otpad.state),u.Eb(4),u.pc("ngModel",t.report.otpad.packaging),u.Eb(4),u.pc("ngModel",t.report.otpad.qList),u.Eb(5),u.pc("settings",t.settings)("source",t.dailyReports))},directives:[o.x,o.A,s.f,o.w,o.Q,a.b,a.k,a.n,r.b],styles:[""]}),j),w={pager:{perPage:10},actions:{columnTitle:"Jedan izve\u0161taj/Svi izve\u0161taji",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv Firme"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}},z=((M=function(){function e(t,n,i){_classCallCheck(this,e),this.firmaService=t,this.toastrService=n,this.router=i,this.companySource=new r.a,this.companySettings=w}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firmaService.getCompanys("","").subscribe((function(t){e.companySource.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"companyReports",value:function(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.gotoAllReports(e)}},{key:"gotoCompanyReport",value:function(e){var t=e.data;this.router.navigate(["admin/izvestaji/firme/",t.pib])}},{key:"gotoAllReports",value:function(e){var t=e.data;this.router.navigate(["admin/izvestaji/godisnji-izvestaji/",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||M)(u.Rb(l.a),u.Rb(o.Kb),u.Rb(s.c))},M.\u0275cmp=u.Lb({type:M,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Hc(2,"Firme"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"ng2-smart-table",0),u.fc("custom",(function(e){return t.companyReports(e)})),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.pc("settings",t.companySettings)("source",t.companySource))},directives:[o.x,o.A,o.w,r.b],styles:["[_nghost-%COMP%]   ng2-st-tbody-edit-delete[_ngcontent-%COMP%]{display:flex!important;height:0!important}[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),M),x=n("LRne"),H=n("X+yL"),O=n("Lx1j");function P(e,t){1&e&&(u.Xb(0,"span"),u.Hc(1,"proizvo\u0111a\u010du"),u.Wb())}function T(e,t){1&e&&(u.Xb(0,"span"),u.Hc(1,"transporteru"),u.Wb())}function _(e,t){1&e&&(u.Xb(0,"span"),u.Hc(1,"primalacu"),u.Wb())}function F(e,t){if(1&e&&(u.Xb(0,"nb-option",16),u.Hc(1),u.Wb()),2&e){var n=t.$implicit;u.pc("value",n),u.Eb(1),u.Ic(n.name)}}function R(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div",1),u.Xb(1,"button",13),u.fc("click",(function(){return u.zc(n),u.jc().chooseCompany()})),u.Hc(2,"Odaberi ve\u0107 postoje\u0107u firmu "),u.Wb(),u.Xb(3,"nb-select",14),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().tmpCompany=e})),u.Fc(4,F,2,2,"nb-option",15),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(1),u.pc("disabled",i.firstLoad),u.Eb(2),u.pc("disabled",!i.firstLoad)("ngModel",i.tmpCompany),u.Eb(1),u.pc("ngForOf",i.companies)}}function L(e,t){if(1&e&&(u.Xb(0,"nb-option",16),u.Hc(1),u.Wb()),2&e){var n=t.$implicit;u.pc("value",n),u.Eb(1),u.Ic(n)}}function U(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",0),u.Xb(2,"div",4),u.Xb(3,"label",5),u.Hc(4,"Predvi\u0111en na\u010din postupanja sa otpadom:"),u.Wb(),u.Wb(),u.Xb(5,"div",1),u.Xb(6,"nb-radio-group",17,18),u.fc("valueChange",(function(){u.zc(n);var e=u.xc(7);return u.jc().selectList(e.value)})),u.Xb(8,"nb-radio",19),u.Hc(9,"Tretman (R)"),u.Wb(),u.Xb(10,"nb-radio",20),u.Hc(11,"Odlaganje (D)"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(12,"div",0),u.Xb(13,"div",4),u.Xb(14,"label",5),u.Hc(15,"Odaberite R/D Listu"),u.Wb(),u.Wb(),u.Xb(16,"div",1),u.Xb(17,"nb-select",21),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.nacinPostupanja=e})),u.Fc(18,L,2,2,"nb-option",15),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(17),u.pc("ngModel",i.dko.nacinPostupanja),u.Eb(1),u.pc("ngForOf",i.treatmentList)}}function D(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",0),u.Xb(2,"div",4),u.Xb(3,"label",5),u.Hc(4,"Vrsta prevoznog sredstva:"),u.Wb(),u.Wb(),u.Xb(5,"div",1),u.Xb(6,"nb-select",21),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.vrstaVozila=e})),u.Xb(7,"nb-option",22),u.Hc(8,"Kamion"),u.Wb(),u.Xb(9,"nb-option",23),u.Hc(10,"Kombi"),u.Wb(),u.Xb(11,"nb-option",24),u.Hc(12,"Automobil"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",0),u.Xb(14,"div",4),u.Xb(15,"label",5),u.Hc(16,"Registraski broj prevoznog sredstva:"),u.Wb(),u.Wb(),u.Xb(17,"div",1),u.Xb(18,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.registarskiBroj=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(19,"div",0),u.Xb(20,"div",4),u.Xb(21,"label",26),u.Hc(22,"Dozvola za prevoznika otpada:"),u.Wb(),u.Wb(),u.Xb(23,"div",10),u.Xb(24,"input",27),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.sifraDozvoleTransport=e})),u.Wb(),u.Wb(),u.Xb(25,"div",10),u.Xb(26,"input",28),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.datumDozvoleTransport=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(27,"div",0),u.Xb(28,"div",4),u.Xb(29,"label",5),u.Hc(30,"Ruta kretanja pocetna/krajnja:"),u.Wb(),u.Wb(),u.Xb(31,"div",1),u.Xb(32,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.rutaKretanja[0]=e})),u.Wb(),u.Wb(),u.Xb(33,"div",1),u.Xb(34,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.rutaKretanja[1]=e})),u.Wb(),u.Wb(),u.Xb(35,"div",1),u.Xb(36,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.rutaKretanja[2]=e})),u.Wb(),u.Wb(),u.Xb(37,"div",1),u.Xb(38,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.rutaKretanja[3]=e})),u.Wb(),u.Wb(),u.Xb(39,"div",1),u.Xb(40,"input",25),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.rutaKretanja[4]=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(6),u.pc("ngModel",i.dko.vrstaVozila),u.Eb(12),u.pc("ngModel",i.dko.registarskiBroj),u.Eb(6),u.pc("ngModel",i.dko.sifraDozvoleTransport),u.Eb(2),u.pc("ngModel",i.dko.datumDozvoleTransport),u.Eb(6),u.pc("ngModel",i.dko.rutaKretanja[0]),u.Eb(2),u.pc("ngModel",i.dko.rutaKretanja[1]),u.Eb(2),u.pc("ngModel",i.dko.rutaKretanja[2]),u.Eb(2),u.pc("ngModel",i.dko.rutaKretanja[3]),u.Eb(2),u.pc("ngModel",i.dko.rutaKretanja[4])}}function V(e,t){if(1&e){var n=u.Yb();u.Xb(0,"nb-radio-group",21),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc(2).dko.vrstaPrimalaca=e})),u.Xb(1,"nb-radio",32),u.Hc(2,"Tretman"),u.Wb(),u.Xb(3,"nb-radio",33),u.Hc(4,"Skladistenje"),u.Wb(),u.Xb(5,"nb-radio",34),u.Hc(6,"Odlaganje"),u.Wb(),u.Wb()}if(2&e){var i=u.jc(2);u.pc("ngModel",i.dko.vrstaPrimalaca)}}function N(e,t){if(1&e){var n=u.Yb();u.Xb(0,"nb-radio-group",21),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc(2).dko.vrstaPrimalaca=e})),u.Xb(1,"nb-radio",35),u.Hc(2,"Tretman"),u.Wb(),u.Xb(3,"nb-radio",36),u.Hc(4,"Skladistenje "),u.Wb(),u.Xb(5,"nb-radio",37),u.Hc(6,"Odlaganje"),u.Wb(),u.Wb()}if(2&e){var i=u.jc(2);u.pc("ngModel",i.dko.vrstaPrimalaca),u.Eb(1),u.pc("disabled",!i.checkCompanyType("Tretman Neopasnog Otpada")),u.Eb(2),u.pc("disabled",!i.checkCompanyType("Skladi\u0161tenje Neopasnog Otpada")),u.Eb(2),u.pc("disabled",!i.checkCompanyType("Odlaganje Neopasnog Otpada"))}}function B(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",0),u.Xb(2,"div",4),u.Xb(3,"label",26),u.Hc(4,"Vrsta primalaca:"),u.Wb(),u.Wb(),u.Xb(5,"div",1),u.Fc(6,V,7,1,"nb-radio-group",29),u.Fc(7,N,7,4,"nb-radio-group",29),u.Wb(),u.Wb(),u.Xb(8,"div",0),u.Xb(9,"div",4),u.Xb(10,"label",26),u.Hc(11,"Dozvola za primalaca otpada:"),u.Wb(),u.Wb(),u.Xb(12,"div",10),u.Xb(13,"input",30),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.sifraDozvolePrimalac=e})),u.Wb(),u.Wb(),u.Xb(14,"div",10),u.Xb(15,"input",31),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.datumDozvolePrimalac=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(6),u.pc("ngIf",!i.firstLoad),u.Eb(1),u.pc("ngIf",i.firstLoad),u.Eb(6),u.pc("ngModel",i.dko.sifraDozvolePrimalac),u.Eb(2),u.pc("ngModel",i.dko.datumDozvolePrimalac)}}var q,K=((q=function(){function e(t,n){_classCallCheck(this,e),this.dkoService=t,this.firmaService=n,this.tmpCompany={address:{location:void 0,street:""},email:"",mat:"",name:"",operations:[],pib:"",telephone:""},this.companies=[],this.firstLoad=!1,this.dLista=[],this.rLista=[],this.treatmentList=[];for(var i=1;i<=15;i++)this.dLista.push("D"+i);for(var a=1;a<=13;a++)this.rLista.push("R"+a)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t,e.company&&(e.tmpCompany=e.company,e.dko.firmaProizvodjac=e.tmpCompany)}))}},{key:"selectList",value:function(e){this.treatmentList="R"===e?this.rLista:this.dLista}},{key:"sendCompany",value:function(){if("transport"===this.type)this.tmpCompany.operations.push("Transport "+this.trashType+" Otpada"),this.dko.firmaTransport=this.tmpCompany;else if("recipient"===this.type){var e=this.dko.vrstaPrimalaca.startsWith("s")?"Skladi\u0161tenje":this.dko.vrstaPrimalaca;e=e[0].toUpperCase()+e.substr(1).toLowerCase(),this.tmpCompany.operations.push(e+" "+this.trashType+" Otpada"),this.dko.firmaPrimalac=this.tmpCompany}this.dkoService.sendDKO(Object(x.a)(this.dko))}},{key:"chooseCompany",value:function(){("transport"!==this.type||this.firstLoad)&&("recipient"!==this.type||this.firstLoad||(this.firstLoad=!0))}},{key:"checkCompanyType",value:function(e){return!!this.tmpCompany.operations.includes(e)}}]),e}()).\u0275fac=function(e){return new(e||q)(u.Rb(H.a),u.Rb(l.a))},q.\u0275cmp=u.Lb({type:q,selectors:[["company-part"]],inputs:{company:"company",type:"type",trashType:"trashType"},decls:80,vars:28,consts:[[1,"row","mb-1"],[1,"col-6"],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-12"],[1,"label"],["fullWidth","","nbInput","","type","text",3,"ngModel","disabled","ngModelChange"],["nbInput","","fullWidth","",3,"disabled","ngModel","ngModelChange"],[1,"row","ml-2"],[1,"row","mt-2"],[1,"col-3"],["nbButton","","fullWidth","","status","danger","nbStepperPrevious",""],["nbButton","","fullWidth","","status","primary","type","button","nbStepperNext","",3,"click"],["fullWidth","","nbButton","","status","info","type","button",3,"disabled","click"],["fullWidth","",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"valueChange"],["nacinPostupanja",""],["value","R"],["value","D"],["fullWidth","",3,"ngModel","ngModelChange"],["value","kamion"],["value","kombi"],["value","automobil"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullWidth","",1,"label"],["fullWidth","","placeholder","Sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","placeholder","Datum nastanka","nbInput","","type","date",3,"ngModel","ngModelChange"],["fullWidth","",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","placeholder","sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date","placeholder","datum nastanka",3,"ngModel","ngModelChange"],["value","treatment"],["value","storage"],["value","dump"],["value","treatment",3,"disabled"],["value","storage",3,"disabled"],["value","dump",3,"disabled"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"h5"),u.Hc(3,"Podaci o "),u.Fc(4,P,2,0,"span",2),u.Fc(5,T,2,0,"span",2),u.Fc(6,_,2,0,"span",2),u.Hc(7),u.Wb(),u.Wb(),u.Fc(8,R,5,4,"div",3),u.Wb(),u.Xb(9,"div",0),u.Xb(10,"div",4),u.Xb(11,"label",5),u.Hc(12,"PIB firme:"),u.Wb(),u.Wb(),u.Xb(13,"div",1),u.Xb(14,"input",6),u.fc("ngModelChange",(function(e){return t.tmpCompany.mat=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(15,"div",0),u.Xb(16,"div",4),u.Xb(17,"label",5),u.Hc(18,"Mati\u010dni broj firme:"),u.Wb(),u.Wb(),u.Xb(19,"div",1),u.Xb(20,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.pib=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(21,"div",0),u.Xb(22,"div",4),u.Xb(23,"label",5),u.Hc(24,"Naziv firme:"),u.Wb(),u.Wb(),u.Xb(25,"div",1),u.Xb(26,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.name=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(27,"div",0),u.Xb(28,"div",4),u.Xb(29,"label",5),u.Hc(30,"Adresa firme:"),u.Wb(),u.Wb(),u.Xb(31,"div",8),u.Xb(32,"div",4),u.Xb(33,"label",5),u.Hc(34,"Op\u0161tina:"),u.Wb(),u.Wb(),u.Xb(35,"div",1),u.Xb(36,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.townshipName=e})),u.Wb(),u.Wb(),u.Xb(37,"div",4),u.Xb(38,"label",5),u.Hc(39,"Location:"),u.Wb(),u.Wb(),u.Xb(40,"div",1),u.Xb(41,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.placeName=e})),u.Wb(),u.Wb(),u.Xb(42,"div",4),u.Xb(43,"label",5),u.Hc(44,"Po\u0161tanski broj:"),u.Wb(),u.Wb(),u.Xb(45,"div",1),u.Xb(46,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.zipCode=e})),u.Wb(),u.Wb(),u.Xb(47,"div",4),u.Xb(48,"label",5),u.Hc(49,"Ulica i broj:"),u.Wb(),u.Wb(),u.Xb(50,"div",1),u.Xb(51,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.address.street=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(52,"div",0),u.Xb(53,"div",4),u.Xb(54,"label",5),u.Hc(55,"Email firme:"),u.Wb(),u.Wb(),u.Xb(56,"div",1),u.Xb(57,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.email=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(58,"div",0),u.Xb(59,"div",4),u.Xb(60,"label",5),u.Hc(61,"Telefon firme:"),u.Wb(),u.Wb(),u.Xb(62,"div",1),u.Xb(63,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.telephone=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(64,"div",0),u.Xb(65,"div",4),u.Xb(66,"label",5),u.Hc(67,"Telefaks firme:"),u.Wb(),u.Wb(),u.Xb(68,"div",1),u.Xb(69,"input",7),u.fc("ngModelChange",(function(e){return t.tmpCompany.fax=e})),u.Wb(),u.Wb(),u.Wb(),u.Fc(70,U,19,2,"div",2),u.Fc(71,D,41,9,"div",2),u.Fc(72,B,16,4,"div",2),u.Xb(73,"div",9),u.Xb(74,"div",10),u.Xb(75,"button",11),u.Hc(76,"Nazad"),u.Wb(),u.Wb(),u.Xb(77,"div",10),u.Xb(78,"button",12),u.fc("click",(function(){return t.sendCompany()})),u.Hc(79,"Dalje "),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.pc("ngIf","production"===t.type),u.Eb(1),u.pc("ngIf","transport"===t.type),u.Eb(1),u.pc("ngIf","recipient"===t.type),u.Eb(1),u.Jc(" ","'"+(null==t.tmpCompany?null:t.tmpCompany.name)+"'",""),u.Eb(1),u.pc("ngIf","production"!==t.type),u.Eb(6),u.pc("ngModel",t.tmpCompany.mat)("disabled","production"===t.type),u.Eb(6),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.pib),u.Eb(6),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.name),u.Eb(10),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.townshipName),u.Eb(5),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.placeName),u.Eb(5),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.zipCode),u.Eb(5),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.street),u.Eb(6),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.email),u.Eb(6),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.telephone),u.Eb(6),u.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.fax),u.Eb(1),u.pc("ngIf","production"===t.type),u.Eb(1),u.pc("ngIf","transport"===t.type),u.Eb(1),u.pc("ngIf","recipient"===t.type))},directives:[i.m,o.Q,a.b,a.k,a.n,o.t,o.Cb,o.Bb,o.qb,i.l,o.fb,o.mb,o.lb],styles:[""]}),q);function A(e,t){if(1&e&&(u.Xb(0,"button",16),u.Hc(1),u.Sb(2,"nb-icon",17),u.Wb()),2&e){var n=u.jc(),i=n.$implicit,a=n.index,o=u.jc();u.Eb(1),u.Jc(" ",i," "),u.Eb(1),u.pc("icon",a===o.dko.rutaKretanja.length-1?"checkmark-circle":"arrowhead-right")}}function G(e,t){if(1&e&&(u.Xb(0,"div",14),u.Fc(1,A,3,2,"button",15),u.Wb()),2&e){var n=t.$implicit;u.Eb(1),u.pc("ngIf",""!==n&&void 0!==n)}}var $,Y=(($=function(){function e(t,n){_classCallCheck(this,e),this.dkoService=t,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t;for(var n=0;n<5;n++)void 0!==e.dko.rutaKretanja[n]&&""!==e.dko.rutaKretanja[n]||e.dko.rutaKretanja.splice(n,1)}))}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"generateDKO",value:function(){var e=this;this.dkoService.generateDKO(this.dko,this.storage._id,this.trash._id).subscribe((function(t){e.dko.otpad.indexNumber.endsWith("*")||e.downloadFile(t),e.router.navigate(["/admin/izvestaji/firme/"+e.dko.firmaProizvodjac.pib])}))}}]),e}()).\u0275fac=function(e){return new(e||$)(u.Rb(H.a),u.Rb(s.c))},$.\u0275cmp=u.Lb({type:$,selectors:[["confirm-part"]],inputs:{storage:"storage",trash:"trash"},decls:37,vars:5,consts:[[1,"row"],[1,"row","mb-1"],[1,"col-4"],[1,"label"],["nbButton","","outline","","status","success","fullWidth",""],["nbButton","","outline","","status","info","fullWidth",""],["nbButton","","outline","","status","danger","fullWidth",""],[1,"col-6"],["nbButton","","outline","","status","warning","fullWidth",""],[1,"label","col-12"],["class","col",4,"ngFor","ngForOf"],[1,"row","mt-5"],["nbButton","","fullWidth","","nbStepperPrevious","","status","danger"],["nbButton","","fullWidth","","status","success",3,"click"],[1,"col"],["nbButton","","fullWidth","",4,"ngIf"],["nbButton","","fullWidth",""],[3,"icon"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Xb(1,"h5"),u.Hc(2,"Potvrda i generisanje dokumenta"),u.Wb(),u.Wb(),u.Xb(3,"div",1),u.Xb(4,"div",2),u.Xb(5,"label",3),u.Hc(6,"Proizvo\u0111a\u010d:"),u.Wb(),u.Xb(7,"button",4),u.Hc(8),u.Wb(),u.Wb(),u.Xb(9,"div",2),u.Xb(10,"label",3),u.Hc(11,"Transporter:"),u.Wb(),u.Xb(12,"button",5),u.Hc(13),u.Wb(),u.Wb(),u.Xb(14,"div",2),u.Xb(15,"label",3),u.Hc(16,"Primalac:"),u.Wb(),u.Xb(17,"button",6),u.Hc(18),u.Wb(),u.Wb(),u.Wb(),u.Xb(19,"div",1),u.Xb(20,"div",7),u.Xb(21,"label",3),u.Hc(22,"Otpad "),u.Wb(),u.Xb(23,"button",8),u.Hc(24),u.Wb(),u.Wb(),u.Wb(),u.Xb(25,"div",1),u.Xb(26,"label",9),u.Hc(27,"Ruta kretanja otpada"),u.Wb(),u.Fc(28,G,2,1,"div",10),u.Wb(),u.Xb(29,"div",11),u.Xb(30,"div",2),u.Xb(31,"button",12),u.Hc(32,"Nazad"),u.Wb(),u.Wb(),u.Sb(33,"div",2),u.Xb(34,"div",2),u.Xb(35,"button",13),u.fc("click",(function(){return t.generateDKO()})),u.Hc(36,"Generisi dokument"),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(8),u.Ic(null==t.dko||null==t.dko.firmaProizvodjac?null:t.dko.firmaProizvodjac.naziv),u.Eb(5),u.Ic(null==t.dko||null==t.dko.firmaTransport?null:t.dko.firmaTransport.naziv),u.Eb(5),u.Ic(null==t.dko||null==t.dko.firmaPrimalac?null:t.dko.firmaPrimalac.naziv),u.Eb(6),u.Ic(null==t.dko||null==t.dko.otpad?null:t.dko.otpad.naziv),u.Eb(4),u.pc("ngForOf",t.dko.rutaKretanja))},directives:[o.t,i.l,o.Cb,i.m,o.N],styles:[""]}),$);function J(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",0),u.Xb(2,"div",1),u.Xb(3,"label",2),u.Hc(4,"H Lista:"),u.Wb(),u.Wb(),u.Xb(5,"div",3),u.Xb(6,"input",33),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().trash.hList=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(7,"div",0),u.Xb(8,"div",1),u.Xb(9,"label",2),u.Hc(10,"Y Lista:"),u.Wb(),u.Wb(),u.Xb(11,"div",3),u.Xb(12,"input",34),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().trash.yList=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",0),u.Xb(14,"div",1),u.Xb(15,"label",2),u.Hc(16,"C Lista:"),u.Wb(),u.Wb(),u.Xb(17,"div",3),u.Xb(18,"input",34),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().trash.cList=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(6),u.pc("ngModel",i.trash.hList),u.Eb(6),u.pc("ngModel",i.trash.yList),u.Eb(6),u.pc("ngModel",i.trash.cList)}}function Z(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div",3),u.Xb(1,"input",35),u.fc("ngModelChange",(function(e){return u.zc(n),u.jc().dko.nacinPakovanja=e})),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Eb(1),u.pc("ngModel",i.dko.nacinPakovanja)}}function Q(e,t){if(1&e&&(u.Xb(0,"nb-option",36),u.Hc(1),u.Wb()),2&e){var n=t.$implicit;u.pc("value",n),u.Eb(1),u.Ic(n)}}var ee,te=((ee=function(){function e(t){_classCallCheck(this,e),this.dkoService=t,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t,e.dko.otpad=e.trash,e.dko.masaOtpada=e.trash.amount,e.dko.datumIspitivanja=e.trash.examinationDate,e.dko.sifraIspitivanja=e.trash.examinationCode,e.dko.fizickoStanje=e.trash.state,e.dko.qLista=e.trash.qList,e.dko.nacinPakovanja=e.trash.packaging,Object(u.Y)()&&(e.dko.vrstaOtpada="indutstrijski",e.dko.masaOtpada=10,e.dko.datumIspitivanja=new Date(2020,3,4),e.dko.sifraIspitivanja="1234DA",e.dko.qLista="Q1",e.dko.nacinPakovanja="Bure")})),this.dkoService.sendDKO(Object(x.a)(this.dko))}}]),e}()).\u0275fac=function(e){return new(e||ee)(u.Rb(H.a))},ee.\u0275cmp=u.Lb({type:ee,selectors:[["trash-part"]],inputs:{trash:"trash",trashType:"trashType"},decls:102,vars:15,consts:[[1,"row","mb-1"],[1,"col-12"],[1,"label"],[1,"col-6"],["fullWidth","",3,"ngModel","ngModelChange"],["value","Industrijski"],["value","Komercijalni"],["value","Otpad iz doma\u0107instva"],["disabled","","fullWidth","","nbInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","number",3,"ngModel","ngModelChange"],["value","Bure"],["value","Kanister"],["value","Sanduk"],["value","Kese"],["value","Posude pod pritiskom"],["value","Kompozitno pakovanje"],["value","U rasutom stanju"],["value","ostalo"],["ostalo",""],["class","col-6",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","",1,"label"],[1,"col-3"],["fullWidth","","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","text",3,"ngModel","ngModelChange"],["value","drumski"],["value","\u017eelezni\u010dki"],["value","re\u010dni"],[1,"row","mt-2"],["nbButton","","fullWidth","","status","primary","nbStepperNext",""],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","disabled","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","ostalo",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){if(1&e&&(u.Xb(0,"div",0),u.Xb(1,"h5"),u.Hc(2),u.Wb(),u.Wb(),u.Xb(3,"div",0),u.Xb(4,"div",1),u.Xb(5,"label",2),u.Hc(6,"Vrsta Otpada:"),u.Wb(),u.Wb(),u.Xb(7,"div",3),u.Xb(8,"nb-select",4),u.fc("ngModelChange",(function(e){return t.dko.vrstaOtpada=e})),u.Xb(9,"nb-option",5),u.Hc(10,"Industrijski"),u.Wb(),u.Xb(11,"nb-option",6),u.Hc(12,"Komercijalni"),u.Wb(),u.Xb(13,"nb-option",7),u.Hc(14,"Otpad iz doma\u0107instva"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(15,"div",0),u.Xb(16,"div",1),u.Xb(17,"label",2),u.Hc(18,"Indeksni broj:"),u.Wb(),u.Wb(),u.Xb(19,"div",3),u.Xb(20,"input",8),u.fc("ngModelChange",(function(e){return t.trash.indexNumber=e})),u.Wb(),u.Wb(),u.Wb(),u.Fc(21,J,19,3,"div",9),u.Xb(22,"div",0),u.Xb(23,"div",1),u.Xb(24,"label",2),u.Hc(25,"Q Lista:"),u.Wb(),u.Wb(),u.Xb(26,"div",3),u.Xb(27,"input",10),u.fc("ngModelChange",(function(e){return t.dko.qLista=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"div",0),u.Xb(29,"div",1),u.Xb(30,"label",2),u.Hc(31,"Masa otpada:"),u.Wb(),u.Wb(),u.Xb(32,"div",3),u.Xb(33,"input",11),u.fc("ngModelChange",(function(e){return t.dko.masaOtpada=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(34,"div",0),u.Xb(35,"div",1),u.Xb(36,"label",2),u.Hc(37,"Na\u010din pakovanja otpada:"),u.Wb(),u.Wb(),u.Xb(38,"div",3),u.Xb(39,"nb-select",4),u.fc("ngModelChange",(function(e){return t.dko.nacinPakovanja=e})),u.Xb(40,"nb-option",12),u.Hc(41,"Bure"),u.Wb(),u.Xb(42,"nb-option",13),u.Hc(43,"Kanister"),u.Wb(),u.Xb(44,"nb-option",14),u.Hc(45,"Sanduk"),u.Wb(),u.Xb(46,"nb-option",15),u.Hc(47,"Kese"),u.Wb(),u.Xb(48,"nb-option",16),u.Hc(49,"Posude pod pritiskom"),u.Wb(),u.Xb(50,"nb-option",17),u.Hc(51,"Kompozitno pakovanje"),u.Wb(),u.Xb(52,"nb-option",18),u.Hc(53,"U rasutom stanju"),u.Wb(),u.Xb(54,"nb-option",19,20),u.Hc(56,"Ostalo"),u.Wb(),u.Wb(),u.Wb(),u.Fc(57,Z,2,1,"div",21),u.Wb(),u.Xb(58,"div",0),u.Xb(59,"div",1),u.Xb(60,"label",2),u.Hc(61,"Fizi\u010dko stanje otpada:"),u.Wb(),u.Wb(),u.Xb(62,"div",3),u.Xb(63,"nb-select",4),u.fc("ngModelChange",(function(e){return t.dko.fizickoStanje=e})),u.Fc(64,Q,2,2,"nb-option",22),u.Wb(),u.Wb(),u.Wb(),u.Xb(65,"div",0),u.Xb(66,"div",1),u.Xb(67,"label",23),u.Hc(68,"Izve\u0161taj o ispitivanju otpada:"),u.Wb(),u.Wb(),u.Xb(69,"div",24),u.Xb(70,"input",25),u.fc("ngModelChange",(function(e){return t.dko.sifraIspitivanja=e})),u.Wb(),u.Wb(),u.Xb(71,"div",24),u.Xb(72,"input",26),u.fc("ngModelChange",(function(e){return t.dko.datumIspitivanja=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(73,"div",0),u.Xb(74,"div",1),u.Xb(75,"label",2),u.Hc(76,"Odredi\u0161te:"),u.Wb(),u.Wb(),u.Xb(77,"div",3),u.Xb(78,"input",27),u.fc("ngModelChange",(function(e){return t.dko.rutaKretanja[0]=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(79,"div",0),u.Xb(80,"div",1),u.Xb(81,"label",2),u.Hc(82,"Vrsta prevoza:"),u.Wb(),u.Wb(),u.Xb(83,"div",3),u.Xb(84,"nb-select",4),u.fc("ngModelChange",(function(e){return t.dko.vidPrevoza=e})),u.Xb(85,"nb-option",28),u.Hc(86,"Drumski"),u.Wb(),u.Xb(87,"nb-option",29),u.Hc(88,"\u017delezni\u010dki"),u.Wb(),u.Xb(89,"nb-option",30),u.Hc(90,"Re\u010dni"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(91,"div",0),u.Xb(92,"div",1),u.Xb(93,"label",2),u.Hc(94,"Posebne napomene za rukovanje i dodatne informacije:"),u.Wb(),u.Wb(),u.Xb(95,"div",3),u.Xb(96,"input",27),u.fc("ngModelChange",(function(e){return t.dko.dodatneInformacije=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(97,"div",31),u.Sb(98,"div",24),u.Xb(99,"div",24),u.Xb(100,"button",32),u.Hc(101,"Dalje"),u.Wb(),u.Wb(),u.Wb()),2&e){var n=u.xc(55);u.Eb(2),u.Jc("Podaci o otpadu '",null==t.trash?null:t.trash.name,"'"),u.Eb(6),u.pc("ngModel",t.dko.vrstaOtpada),u.Eb(12),u.pc("ngModel",t.trash.indexNumber),u.Eb(1),u.pc("ngIf","Opasnog"===t.trashType),u.Eb(6),u.pc("ngModel",t.dko.qLista),u.Eb(6),u.pc("ngModel",t.dko.masaOtpada),u.Eb(6),u.pc("ngModel",t.dko.nacinPakovanja),u.Eb(18),u.pc("ngIf",n.selected),u.Eb(6),u.pc("ngModel",t.dko.fizickoStanje),u.Eb(1),u.pc("ngForOf",t.fizickaStanja),u.Eb(6),u.pc("ngModel",t.dko.sifraIspitivanja),u.Eb(2),u.pc("ngModel",t.dko.datumIspitivanja),u.Eb(6),u.pc("ngModel",t.dko.rutaKretanja[0]),u.Eb(6),u.pc("ngModel",t.dko.vidPrevoza),u.Eb(12),u.pc("ngModel",t.dko.dodatneInformacije)}},directives:[o.qb,a.k,a.n,o.fb,o.Q,a.b,i.m,a.p,i.l,o.t,o.Bb],styles:[""]}),ee);function ne(e,t){if(1&e&&(u.Xb(0,"nb-step",11),u.Xb(1,"div",12),u.Sb(2,"trash-part",13),u.kc(3,"async"),u.Wb(),u.Wb()),2&e){var n=u.jc();u.Eb(2),u.pc("trashType",n.trashType)("trash",u.lc(3,2,n.trash$))}}function ie(e,t){if(1&e&&(u.Xb(0,"nb-step",14),u.Sb(1,"company-part",15),u.kc(2,"async"),u.Wb()),2&e){var n=u.jc();u.Eb(1),u.pc("trashType",n.trashType)("company",u.lc(2,3,n.company$))("type","production")}}var ae,oe,re=((ae=function(){function e(t,n,i,a,o){_classCallCheck(this,e),this.route=t,this.notpadService=n,this.skladisteService=i,this.firmaService=a,this.dkoService=o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.params.storage;this.notpadService.getTrash(this.route.snapshot.params.trash).subscribe((function(t){e.trash=t,e.trash$=Object(x.a)(t),e.trashType=e.trash.indexNumber.endsWith("*")?"Opasnog":"Neopasnog"})),this.skladisteService.getStorage(t).subscribe((function(t){e.storage=t,e.dkoService.getDKO().subscribe((function(t){e.dko=t,e.dko.rutaKretanja=[e.storage.address.location.townshipName].concat(_toConsumableArray(e.dko.rutaKretanja)),e.dko.vrstaProizvodjaca=e.storage.__t?"SkladisteTretman"===e.storage.__t?"treatment":"storage":"production"})),e.dkoService.sendDKO(Object(x.a)(e.dko))})),this.firmaService.getCompany(t,"skladista").pipe(Object(c.a)()).subscribe((function(t){e.company=t,e.company$=Object(x.a)(t)}))}}]),e}()).\u0275fac=function(e){return new(e||ae)(u.Rb(s.a),u.Rb(O.a),u.Rb(d.a),u.Rb(l.a),u.Rb(H.a))},ae.\u0275cmp=u.Lb({type:ae,selectors:[["trash-transport-report"]],decls:15,vars:10,consts:[[1,"col-1"],[3,"routerLink"],[1,"fa","fa-2x","fa-arrow-left"],["orientation","vertical",3,"linear"],["label","Podaci o otpadu",4,"ngIf"],["label","Podaci o proizvo\u0111a\u010du",4,"ngIf"],["label","Podaci o transporteru"],[3,"trashType","type"],["label","Podaci o primalacu"],["label","Potvrda"],[3,"storage","trash"],["label","Podaci o otpadu"],[1,"test"],[3,"trashType","trash"],["label","Podaci o proizvo\u0111a\u010du"],[3,"trashType","company","type"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Xb(2,"div",0),u.Xb(3,"a",1),u.Sb(4,"i",2),u.Wb(),u.Wb(),u.Wb(),u.Xb(5,"nb-card-body"),u.Xb(6,"nb-stepper",3),u.Fc(7,ne,4,4,"nb-step",4),u.Fc(8,ie,3,5,"nb-step",5),u.Xb(9,"nb-step",6),u.Sb(10,"company-part",7),u.Wb(),u.Xb(11,"nb-step",8),u.Sb(12,"company-part",7),u.Wb(),u.Xb(13,"nb-step",9),u.Sb(14,"confirm-part",10),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(3),u.pc("routerLink","/admin/izvestaji/firme/"+(null==t.company?null:t.company.pib)),u.Eb(3),u.pc("linear",!1),u.Eb(1),u.pc("ngIf",t.trash$),u.Eb(1),u.pc("ngIf",t.company$),u.Eb(2),u.pc("trashType",t.trashType)("type","transport"),u.Eb(2),u.pc("trashType",t.trashType)("type","recipient"),u.Eb(2),u.pc("storage",t.storage)("trash",t.trash))},directives:[o.x,o.A,s.f,o.w,o.zb,i.m,o.yb,K,Y,te],pipes:[i.b],styles:[".test[_ngcontent-%COMP%]{width:147%}"]}),ae),se={actions:{columnTitle:"Generi\u0161i GIO/Detaljnije",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"yearlyReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"moreInfo",title:'<i class="fa fa-info-circle"></i>'}]},columns:{otpad:{valuePrepareFunction:function(e,t){return t.otpad.naziv+" ("+t.otpad.indeksniBroj+")"},title:"Otpad"},ukupnoProizvodnja:{title:"Ukupno proizvedeno"},ukupnoTransport:{title:"Ukupno transportovano"},ukupnoStanje:{title:"Ukupno stanje"}}},ce=((oe=function(){function e(t,n,i){_classCallCheck(this,e),this.reportService=t,this.router=n,this.companyService=i,this.reports=[],this.settings=se}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.reportService.getAllMesecniIzvestajFirme(this.companyPIB).subscribe((function(t){e.reports=t.filter((function(t){return t.mesec===e.month}))})),this.companyService.getCompany(this.companyPIB,"pib").subscribe((function(t){e.company=t}))}},{key:"chooseAction",value:function(e){"moreInfo"===e.action&&this.reportInfo(e),"yearlyReport"===e.action&&this.generateYearlyReport(e.data)}},{key:"generateYearlyReport",value:function(e){var t=this,n=e.otpad;this.reportService.createGodisnjiIzvestaj(n,"PRODUCTION",this.company).subscribe((function(e){return t.downloadFile(e)}))}},{key:"reportInfo",value:function(e){var t=e.data;this.router.navigate(["admin/izvestaji/mesecni-izvestaj",t._id])}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}}]),e}()).\u0275fac=function(e){return new(e||oe)(u.Rb(p.a),u.Rb(s.c),u.Rb(l.a))},oe.\u0275cmp=u.Lb({type:oe,selectors:[["monthly-reports"]],inputs:{month:"month",companyPIB:"companyPIB"},decls:2,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(u.Xb(0,"div"),u.Xb(1,"ng2-smart-table",0),u.fc("custom",(function(e){return t.chooseAction(e)})),u.Wb(),u.Wb()),2&e&&(u.Eb(1),u.pc("settings",t.settings)("source",t.reports))},directives:[r.b],styles:[""]}),oe);function le(e,t){if(1&e&&(u.Xb(0,"nb-tab",2),u.Sb(1,"monthly-reports",3),u.Wb()),2&e){var n=t.$implicit,i=t.index,a=u.jc();u.pc("active",a.currMonth===i)("tabTitle",n),u.Eb(1),u.pc("companyPIB",a.companyPIB)("month",i)}}var be,de,ue,pe=[{path:"",component:z},{path:"firme/:pib",component:I},{path:"dko",component:re},{path:"godisnji-izvestaji/:pib",component:(be=function(){function e(t){_classCallCheck(this,e),this.route=t,this.months=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],this.currMonth=0,this.companyPIB=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.companyPIB=this.route.snapshot.paramMap.get("pib"),this.months$=Object(x.a)(this.months),this.currMonth=(new Date).getMonth()}}]),e}(),be.\u0275fac=function(e){return new(e||be)(u.Rb(s.a))},be.\u0275cmp=u.Lb({type:be,selectors:[["yearly-reports"]],decls:9,vars:3,consts:[["tabTitle","2020"],[3,"active","tabTitle",4,"ngFor","ngForOf"],[3,"active","tabTitle"],[3,"companyPIB","month"]],template:function(e,t){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Hc(2,"Ime kompanije"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"nb-tabset"),u.Xb(5,"nb-tab",0),u.Xb(6,"nb-tabset"),u.Fc(7,le,2,4,"nb-tab",1),u.kc(8,"async"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(7),u.pc("ngForOf",u.lc(8,1,t.months$)))},directives:[o.x,o.A,o.w,o.Fb,o.Eb,i.l,ce],pipes:[i.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),be)},{path:"mesecni-izvestaj/:id",component:E}],me=((ue=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:ue}),ue.\u0275inj=u.Ob({factory:function(e){return new(e||ue)},imports:[[s.g.forChild(pe)],s.g]}),ue),fe=((de=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:de}),de.\u0275inj=u.Ob({factory:function(e){return new(e||de)},imports:[[i.c,me,o.u,o.P,o.Ab,o.B,o.Gb,r.c,o.R,a.e]]}),de)},FYoA:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return vt}));var i,a,o,r=n("ofXK"),s=n("3Pt+"),c=n("aceb"),l=n("RS3s"),b=n("AytR"),d=n("fXoL"),u=n("tk/3"),p=((i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl=b.a.apiUrl}return _createClass(e,[{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/one/"+"".concat(t,"/").concat(e))}},{key:"getUsers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/many/"+"".concat(t,"/").concat(e))}},{key:"getCompany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/one/"+"".concat(t,"/").concat(e))}},{key:"getCompanies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/many/"+"".concat(t,"/").concat(e))}},{key:"getStorage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/one/"+"".concat(t,"/").concat(e))}},{key:"getStorages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/many/"+"".concat(t,"/").concat(e))}},{key:"getPermit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/one/"+"".concat(t,"/").concat(e))}},{key:"getPermits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/many/"+"".concat(t,"/").concat(e))}},{key:"getCompanyNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return this.http.get(this.apiUrl+"/api/admin/companies/storages/"+e)}}]),e}()).\u0275fac=function(e){return new(e||i)(d.bc(u.b))},i.\u0275prov=d.Nb({token:i,factory:i.\u0275fac}),i),m=n("X+yL"),f=n("wH5/"),g=n("bS1W"),v=n("fo3O"),h=n("gu6j"),W=n("Lx1j"),k=n("ud2R"),X=n("7Oz7"),y=n("vTDv"),C=n("bJfm"),j=n("RPbl"),M=n("tyNb"),I=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/users",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/companies",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/storages",icon:{icon:"box",pack:"font-awesome"}},{title:"Dozvole",link:"/admin/permits",icon:{icon:"paste",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/reports",icon:{icon:"print",pack:"font-awesome"}}],S=n("mgFL"),E=((a=function(){function e(){_classCallCheck(this,e),this.menu=I}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=d.Lb({type:a,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(d.Xb(0,"ngx-one-column-layout"),d.Sb(1,"nb-menu",0),d.Sb(2,"router-outlet"),d.Wb()),2&e&&(d.Eb(1),d.pc("items",t.menu))},directives:[S.a,c.bb,M.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),a),w={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},name:{title:"Naziv"},email:{title:"Email"},emailReception:{title:"Email za prijem"},telephone:{title:"Telefon"},operations:{title:"Rad firme"}}},z=((o=function(){function e(t,n,i,a){_classCallCheck(this,e),this.companyService=t,this.toastrService=n,this.router=i,this.adminService=a,this.companies=new l.a,this.companySettings=w}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompanies().subscribe((function(t){e.companies.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.createCompany(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.updateCompany(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteCompany",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.companyService.deleteCompany(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"companyInfo",value:function(e){var t=e.data;this.router.navigate(["admin/companies",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||o)(d.Rb(f.a),d.Rb(c.Kb),d.Rb(M.c),d.Rb(p))},o.\u0275cmp=d.Lb({type:o,selectors:[["admin-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Hc(2,"Firme"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"ng2-smart-table",0),d.fc("createConfirm",(function(e){return t.createCompany(e)}))("editConfirm",(function(e){return t.updateCompany(e)}))("deleteConfirm",(function(e){return t.deleteCompany(e)}))("custom",(function(e){return t.companyInfo(e)})),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(4),d.pc("settings",t.companySettings)("source",t.companies))},directives:[c.x,c.A,c.w,l.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),o),x=n("McNs");function H(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Email je obavezan! "),d.Wb())}function O(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Email mora biti validan! "),d.Wb())}function P(e,t){if(1&e&&(d.Vb(0),d.Fc(1,H,2,0,"p",47),d.Fc(2,O,2,0,"p",47),d.Ub()),2&e){d.jc();var n=d.xc(41);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function T(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Email je obavezan! "),d.Wb())}function _(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Email mora biti validan! "),d.Wb())}function F(e,t){if(1&e&&(d.Vb(0),d.Fc(1,T,2,0,"p",47),d.Fc(2,_,2,0,"p",47),d.Ub()),2&e){d.jc();var n=d.xc(49);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function R(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Telefon je obavezan! "),d.Wb())}function L(e,t){if(1&e&&(d.Xb(0,"p",48),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function U(e,t){if(1&e&&(d.Vb(0),d.Fc(1,R,2,0,"p",47),d.Fc(2,L,2,2,"p",47),d.Ub()),2&e){d.jc();var n=d.xc(57);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function D(e,t){if(1&e&&(d.Xb(0,"p",48),d.Hc(1),d.Wb()),2&e){var n=d.jc(3);d.Eb(1),d.Kc(" Faks mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function V(e,t){if(1&e&&(d.Vb(0),d.Fc(1,D,2,2,"p",47),d.Ub()),2&e){d.jc();var n=d.xc(6);d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function N(e,t){if(1&e){var n=d.Yb();d.Xb(0,"div",10),d.Xb(1,"div",0),d.Xb(2,"label",49),d.Hc(3,"Faks:"),d.Wb(),d.Wb(),d.Xb(4,"div",9),d.Xb(5,"input",50,51),d.fc("ngModelChange",(function(e){return d.zc(n),d.jc().company.fax=e})),d.Wb(),d.Fc(7,V,2,1,"ng-container",23),d.Wb(),d.Wb()}if(2&e){var i=d.xc(6),a=d.jc();d.Eb(5),d.pc("ngModel",a.company.fax)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched)}}function B(e,t){1&e&&(d.Xb(0,"p",48),d.Hc(1," Zakosni zastupnik firme je obavezan! "),d.Wb())}function q(e,t){if(1&e&&(d.Xb(0,"p",48),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function K(e,t){if(1&e&&(d.Vb(0),d.Fc(1,B,2,0,"p",47),d.Fc(2,q,2,2,"p",47),d.Ub()),2&e){d.jc();var n=d.xc(66);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function A(e,t){1&e&&d.Sb(0,"input",52),2&e&&d.pc("placeholder",t.$implicit)}var G,$=((G=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.route=t,this.companyService=n,this.options=i,this.adminService=a,this.toastrService=o,this.router=r,this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:"",manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("pib");this.adminService.getCompany(t,"pib").subscribe((function(t){e.company=t}))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"updateCompany",value:function(e){e.valid?(this.companyService.updateCompany(this.company,this.company._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoUser",value:function(){this.router.navigate(["admin/users",this.company.manager])}}]),e}()).\u0275fac=function(e){return new(e||G)(d.Rb(M.a),d.Rb(f.a),d.Rb(x.a),d.Rb(p),d.Rb(c.Kb),d.Rb(M.c))},G.\u0275cmp=d.Lb({type:G,selectors:[["admin-company"]],decls:96,vars:34,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,t){if(1&e){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"form",1,2),d.fc("ngSubmit",(function(){d.zc(n);var e=d.xc(2);return t.updateCompany(e)})),d.Xb(3,"nb-card-header"),d.Xb(4,"div",3),d.Xb(5,"div",4),d.Xb(6,"a",5),d.Sb(7,"i",6),d.Wb(),d.Wb(),d.Xb(8,"div",7),d.Xb(9,"h5",8),d.Hc(10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"nb-card-body"),d.Xb(12,"div",3),d.Xb(13,"div",9),d.Xb(14,"div",10),d.Xb(15,"div",0),d.Xb(16,"label",11),d.Hc(17,"Naziv Firme:"),d.Wb(),d.Wb(),d.Xb(18,"div",9),d.Xb(19,"input",12,13),d.fc("ngModelChange",(function(e){return t.company.name=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"div",0),d.Xb(23,"label",14),d.Hc(24,"PIB:"),d.Wb(),d.Wb(),d.Xb(25,"div",9),d.Xb(26,"input",15,16),d.fc("ngModelChange",(function(e){return t.company.pib=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(28,"div",10),d.Xb(29,"div",0),d.Xb(30,"label",17),d.Hc(31,"Mati\u010dni broj:"),d.Wb(),d.Wb(),d.Xb(32,"div",9),d.Xb(33,"input",18,19),d.fc("ngModelChange",(function(e){return t.company.mat=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",10),d.Xb(36,"div",0),d.Xb(37,"label",20),d.Hc(38,"Email:"),d.Wb(),d.Wb(),d.Xb(39,"div",9),d.Xb(40,"input",21,22),d.fc("ngModelChange",(function(e){return t.company.email=e})),d.Wb(),d.Fc(42,P,3,2,"ng-container",23),d.Wb(),d.Wb(),d.Xb(43,"div",10),d.Xb(44,"div",0),d.Xb(45,"label",24),d.Hc(46,"Email za prijem dokumenata:"),d.Wb(),d.Wb(),d.Xb(47,"div",9),d.Xb(48,"input",25,26),d.fc("ngModelChange",(function(e){return t.company.emailReception=e})),d.Wb(),d.Fc(50,F,3,2,"ng-container",23),d.Wb(),d.Wb(),d.Xb(51,"div",10),d.Xb(52,"div",0),d.Xb(53,"label",27),d.Hc(54,"Telefon:"),d.Wb(),d.Wb(),d.Xb(55,"div",9),d.Xb(56,"input",28,29),d.fc("ngModelChange",(function(e){return t.company.telephone=e})),d.Wb(),d.Fc(58,U,3,2,"ng-container",23),d.Wb(),d.Wb(),d.Fc(59,N,8,6,"div",30),d.Xb(60,"div",10),d.Xb(61,"div",0),d.Xb(62,"label",31),d.Hc(63,"Zakonski Zastupnik Firme:"),d.Wb(),d.Wb(),d.Xb(64,"div",9),d.Xb(65,"input",32,33),d.fc("ngModelChange",(function(e){return t.company.legalRep=e})),d.Wb(),d.Fc(67,K,3,2,"ng-container",23),d.Wb(),d.Wb(),d.Wb(),d.Xb(68,"div",9),d.Xb(69,"div",10),d.Xb(70,"div",0),d.Xb(71,"label",34),d.Hc(72,"Adresa Firme:"),d.Wb(),d.Wb(),d.Xb(73,"div",9),d.Sb(74,"input",35),d.Wb(),d.Wb(),d.Xb(75,"div",3),d.Xb(76,"div",0),d.Xb(77,"label",36),d.Hc(78,"Rad firme:"),d.Wb(),d.Wb(),d.Xb(79,"div",9),d.Fc(80,A,1,1,"input",37),d.Wb(),d.Wb(),d.Xb(81,"div",10),d.Xb(82,"div",0),d.Xb(83,"label",38),d.Hc(84,"Menad\u017eer Firme:"),d.Wb(),d.Wb(),d.Xb(85,"div",39),d.Sb(86,"input",40),d.Wb(),d.Xb(87,"div",41),d.Xb(88,"button",42),d.fc("click",(function(){return t.gotoUser()})),d.Sb(89,"i",43),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(90,"nb-card-footer"),d.Xb(91,"div",3),d.Sb(92,"div",44),d.Xb(93,"div",45),d.Xb(94,"button",46),d.Hc(95,"SA\u010cUVAJ"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.xc(41),a=d.xc(49),o=d.xc(57),r=d.xc(66);d.Eb(10),d.Jc(" ",t.company.name,""),d.Eb(9),d.pc("ngModel",t.company.name),d.Eb(7),d.pc("ngModel",t.company.pib),d.Eb(7),d.pc("ngModel",t.company.mat),d.Eb(7),d.pc("ngModel",t.company.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched),d.Eb(6),d.pc("ngModel",t.company.emailReception)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched),d.Eb(6),d.pc("ngModel",t.company.telephone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched),d.Eb(1),d.pc("ngIf",""===t.company.fax),d.Eb(6),d.pc("ngModel",t.company.legalRep)("maxlength",t.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",t.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",t.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched),d.Eb(7),d.pc("placeholder",t.company.address.location.townshipName+", "+t.company.address.location.placeName+", "+t.company.address.street),d.Eb(6),d.pc("ngForOf",t.company.operations),d.Eb(6),d.pc("placeholder",t.company.manager)}},directives:[c.x,s.w,s.l,s.m,c.A,M.f,c.w,c.Q,s.b,s.k,s.n,s.q,s.s,r.m,s.f,s.g,r.l,c.t,c.y],styles:[""]}),G),Y=n("kBrA"),J=["viewTrash"];function Z(e,t){1&e&&(d.Xb(0,"p",49),d.Hc(1," Naziv dozvole je obavezan! "),d.Wb())}function Q(e,t){if(1&e&&(d.Vb(0),d.Fc(1,Z,2,0,"p",48),d.Ub()),2&e){d.jc();var n=d.xc(22);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required)}}function ee(e,t){if(1&e){var n=d.Yb();d.Xb(0,"div",10),d.Xb(1,"div",11),d.Xb(2,"label",50),d.Hc(3,"Skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(4,"div",37),d.Xb(5,"input",51),d.fc("ngModelChange",(function(e){return d.zc(n),d.jc().permit.storage.name=e})),d.Wb(),d.Wb(),d.Xb(6,"div",39),d.Xb(7,"button",40),d.fc("click",(function(){return d.zc(n),d.jc().gotoStorage()})),d.Sb(8,"i",41),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.jc();d.Eb(5),d.pc("ngModel",i.permit.storage.name)}}function te(e,t){if(1&e){var n=d.Yb();d.Xb(0,"view-permits-trash-popup",52),d.fc("callUpdatePermitsTrash",(function(e){return d.zc(n),d.jc().updatePermitsTrashMethod(e)})),d.Wb()}if(2&e){var i=d.jc();d.pc("selectedPermit",i.permit)}}var ne,ie=((ne=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=t,this.permitService=n,this.options=i,this.toastrService=a,this.router=o,this.adminService=r,this.windowService=s,this.permit={code:"",dateCreation:void 0,dateExpiration:void 0,name:"",trashList:[],type:""},this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:"",manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getPermit(t).subscribe((function(t){e.permit=t,e.permit.dateCreation=new Date(t.dateCreation),e.permit.dateExpiration=new Date(t.dateExpiration),e.adminService.getCompany(e.permit._id,"permits").subscribe((function(t){e.company=t}))}))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"updatePermit",value:function(e){e.valid?(this.permitService.updatePermit(this.permit,this.permit._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"openPermitsTrashWindow",value:function(){this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}},{key:"updatePermitsTrashMethod",value:function(e){this.permit.trashList=e,this.permitService.updatePermit(this.permit,this.permit._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"gotoStorage",value:function(){this.router.navigate(["admin/storages",this.permit.storage._id])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||ne)(d.Rb(M.a),d.Rb(g.a),d.Rb(x.a),d.Rb(c.Kb),d.Rb(M.c),d.Rb(p),d.Rb(c.Qb))},ne.\u0275cmp=d.Lb({type:ne,selectors:[["admin-permit"]],viewQuery:function(e,t){var n;1&e&&d.Oc(J,!0,d.N),2&e&&d.wc(n=d.gc())&&(t.viewTrash=n.first)},decls:90,vars:30,consts:[[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[3,"ngSubmit"],["formPermit","ngForm"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-permitName",1,"label"],["fullWidth","","id","input-permitName","name","permitName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","type","text",3,"ngModel","ngModelChange"],["for","input-address",1,"label"],["disabled","","fullWidth","","id","input-address","name","address","nbInput","","type","text",3,"placeholder"],["for","input-dateCreation",1,"label"],["for","input-dateExpiration",1,"label"],[1,"col-5","mr-0","pr-0"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateCreation","ngModel"],[3,"date","dateChange"],["dateCreationPicker",""],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],["for","input-permitType",1,"label"],["fullWidth","","name","permitType","id","input-permitType",3,"selected","ngModel","ngModelChange"],[3,"value"],["class","row mb-2",4,"ngIf"],["for","input-permitCompany",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-permitCompany","name","permitCompany","nbInput","","type","text",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],[1,"row","d-flex","justify-content-end"],[1,"col-3"],["fullWidth","","nbButton","","status","primary","type","submit"],["viewTrash",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-permitStorage",1,"label"],["disabled","","fullWidth","","id","input-permitStorage","name","permitStorage","nbInput","","type","text",3,"ngModel","ngModelChange"],[3,"selectedPermit","callUpdatePermitsTrash"]],template:function(e,t){if(1&e){var n=d.Yb();d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Xb(2,"div",0),d.Xb(3,"div",1),d.Xb(4,"a",2),d.Sb(5,"i",3),d.Wb(),d.Wb(),d.Xb(6,"div",4),d.Xb(7,"h5",5),d.Hc(8),d.Wb(),d.Xb(9,"p",6),d.Hc(10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"nb-card-body"),d.Xb(12,"form",7,8),d.fc("ngSubmit",(function(){d.zc(n);var e=d.xc(13);return t.updatePermit(e)})),d.Xb(14,"div",0),d.Xb(15,"div",9),d.Xb(16,"div",10),d.Xb(17,"div",11),d.Xb(18,"label",12),d.Hc(19,"Naziv dozvole:"),d.Wb(),d.Wb(),d.Xb(20,"div",9),d.Xb(21,"input",13,14),d.fc("ngModelChange",(function(e){return t.permit.name=e})),d.Wb(),d.Fc(23,Q,2,1,"ng-container",15),d.Wb(),d.Wb(),d.Xb(24,"div",10),d.Xb(25,"div",11),d.Xb(26,"label",16),d.Hc(27,"\u0160ifra dozvole:"),d.Wb(),d.Wb(),d.Xb(28,"div",9),d.Xb(29,"input",17),d.fc("ngModelChange",(function(e){return t.permit.code=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(30,"div",10),d.Xb(31,"div",11),d.Xb(32,"label",18),d.Hc(33,"Adresa Dozvole:"),d.Wb(),d.Wb(),d.Xb(34,"div",9),d.Sb(35,"input",19),d.Wb(),d.Wb(),d.Xb(36,"div",10),d.Xb(37,"div",9),d.Xb(38,"label",20),d.Hc(39,"Datum trajanja dozvole:"),d.Wb(),d.Wb(),d.Xb(40,"div",9),d.Xb(41,"label",21),d.Hc(42,"Datum isteka dozvole:"),d.Wb(),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23,24),d.fc("ngModelChange",(function(e){return t.permit.dateCreation=e})),d.Wb(),d.Xb(46,"nb-datepicker",25,26),d.fc("dateChange",(function(e){return t.permit.dateCreation=e})),d.Wb(),d.Wb(),d.Xb(48,"button",27),d.Hc(49,"-"),d.Wb(),d.Xb(50,"div",28),d.Xb(51,"input",29,30),d.fc("ngModelChange",(function(e){return t.permit.dateExpiration=e})),d.Wb(),d.Xb(53,"nb-datepicker",25,31),d.fc("dateChange",(function(e){return t.permit.dateExpiration=e})),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(55,"div",9),d.Xb(56,"div",10),d.Xb(57,"div",11),d.Xb(58,"label",32),d.Hc(59,"Vrsta dozvole:"),d.Wb(),d.Wb(),d.Xb(60,"div",9),d.Xb(61,"nb-select",33),d.fc("ngModelChange",(function(e){return t.permit.type=e})),d.Xb(62,"nb-option",34),d.Hc(63,"Tretman"),d.Wb(),d.Xb(64,"nb-option",34),d.Hc(65,"Skladi\u0161tenje"),d.Wb(),d.Xb(66,"nb-option",34),d.Hc(67,"Odlaganje"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Fc(68,ee,9,1,"div",35),d.Xb(69,"div",10),d.Xb(70,"div",11),d.Xb(71,"label",36),d.Hc(72,"Firma:"),d.Wb(),d.Wb(),d.Xb(73,"div",37),d.Xb(74,"input",38),d.fc("ngModelChange",(function(e){return t.company.name=e})),d.Wb(),d.Wb(),d.Xb(75,"div",39),d.Xb(76,"button",40),d.fc("click",(function(){return t.gotoCompany()})),d.Sb(77,"i",41),d.Wb(),d.Wb(),d.Wb(),d.Xb(78,"div",10),d.Xb(79,"div",11),d.Sb(80,"label",42),d.Wb(),d.Xb(81,"div",9),d.Xb(82,"button",43),d.fc("click",(function(){return t.openPermitsTrashWindow()})),d.Hc(83,"Pogledaj listu otpada "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(84,"div",44),d.Xb(85,"div",45),d.Xb(86,"button",46),d.Hc(87,"SA\u010cUVAJ"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Fc(88,te,1,1,"ng-template",null,47,d.Gc)}if(2&e){var i=d.xc(22),a=d.xc(45),o=d.xc(47),r=d.xc(52),s=d.xc(54);d.Eb(8),d.Ic(t.permit.name),d.Eb(2),d.Ic(t.permit.__t),d.Eb(11),d.pc("ngModel",t.permit.name)("maxlength",t.getConfigValue("forms.validation.permitName.maxLength"))("minlength",t.getConfigValue("forms.validation.permitName.minLength"))("required",t.getConfigValue("forms.validation.permitName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched),d.Eb(6),d.pc("ngModel",t.permit.code),d.Eb(6),d.pc("placeholder",(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.townshipName)+", "+(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.placeName)+", "+(null==t.permit||null==t.permit.address?null:t.permit.address.street)),d.Eb(9),d.pc("ngModel",t.permit.dateCreation)("nbDatepicker",o)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("date",t.permit.dateCreation),d.Eb(5),d.pc("ngModel",t.permit.dateExpiration)("nbDatepicker",s)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("date",t.permit.dateExpiration),d.Eb(8),d.pc("selected",t.permit.type)("ngModel",t.permit.type),d.Eb(1),d.pc("value","treatment"),d.Eb(2),d.pc("value","cache"),d.Eb(2),d.pc("value","dump"),d.Eb(2),d.pc("ngIf",void 0!==t.permit.storage),d.Eb(6),d.pc("ngModel",t.company.name)}},directives:[c.x,c.A,M.f,c.w,s.w,s.l,s.m,c.Q,s.b,s.k,s.n,s.f,s.g,s.s,r.m,c.J,c.I,c.t,c.qb,c.fb,Y.a],styles:[""]}),ne),ae=n("SxV6"),oe={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},code:{title:"\u0160ifra"},dateCreation:{valuePrepareFunction:function(e,t){return t.dateCreation.substring(0,10)},title:"Datum nastanka"},dateExpiration:{sortDirection:"asc",valuePrepareFunction:function(e,t){return t.dateExpiration.substring(0,10)},title:"Datum Isteka"}}};function re(e,t){if(1&e&&(d.Xb(0,"nb-option",3),d.Hc(1),d.Wb()),2&e){var n=t.$implicit;d.pc("value",n),d.Eb(1),d.Ic(n.name)}}var se,ce=((se=function(){function e(t,n,i,a){_classCallCheck(this,e),this.permitService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedPermits=new l.a,this.permitSettings=oe,this.companyNames=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getPermits().pipe(Object(ae.a)()).subscribe((function(t){e.permits=t,e.selectedPermits.load(t)})),this.adminService.getCompanyNames("permits").subscribe((function(t){e.companyNames=t}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectPermits",value:function(e){if("-"===e)this.selectedPermits.load(this.permits);else{var t=this.permits;t=t.filter((function(t){return e.permits.includes(t._id)})),this.selectedPermits.load(t)}}},{key:"updatePermit",value:function(e){var t=e.newData,n=e.confirm;try{this.permitService.updatePermit(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deletePermit",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.permitService.deletePermit(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"permitInfo",value:function(e){var t=e.data;this.router.navigate(["admin/permits",t._id])}}]),e}()).\u0275fac=function(e){return new(e||se)(d.Rb(g.a),d.Rb(c.Kb),d.Rb(M.c),d.Rb(p))},se.\u0275cmp=d.Lb({type:se,selectors:[["admin-permits"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Hc(2,"Dozvole"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"div",0),d.Xb(5,"label",1),d.Hc(6,"Odaberite firmu: "),d.Wb(),d.Xb(7,"nb-select",2),d.fc("selectedChange",(function(e){return t.selectPermits(e)})),d.Xb(8,"nb-option",3),d.Hc(9,"-"),d.Wb(),d.Fc(10,re,2,2,"nb-option",4),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"ng2-smart-table",6),d.fc("editConfirm",(function(e){return t.updatePermit(e)}))("deleteConfirm",(function(e){return t.deletePermit(e)}))("custom",(function(e){return t.permitInfo(e)})),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(8),d.pc("value","-"),d.Eb(2),d.pc("ngForOf",t.companyNames),d.Eb(2),d.pc("settings",t.permitSettings)("source",t.selectedPermits))},directives:[c.x,c.A,c.w,c.qb,c.fb,r.l,l.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),se);function le(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Ime je obavezno! "),d.Wb())}function be(e,t){if(1&e&&(d.Xb(0,"p",27),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function de(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Ime mora biti validno! "),d.Wb())}function ue(e,t){if(1&e&&(d.Vb(0),d.Fc(1,le,2,0,"p",26),d.Fc(2,be,2,2,"p",26),d.Fc(3,de,2,0,"p",26),d.Ub()),2&e){d.jc();var n=d.xc(8);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function pe(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Prezime je obavezno! "),d.Wb())}function me(e,t){if(1&e&&(d.Xb(0,"p",27),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function fe(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Prezime mora biti validno! "),d.Wb())}function ge(e,t){if(1&e&&(d.Vb(0),d.Fc(1,pe,2,0,"p",26),d.Fc(2,me,2,2,"p",26),d.Fc(3,fe,2,0,"p",26),d.Ub()),2&e){d.jc();var n=d.xc(16),i=d.xc(8);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function ve(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Email je obavezan! "),d.Wb())}function he(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Email mora biti validan! "),d.Wb())}function We(e,t){if(1&e&&(d.Vb(0),d.Fc(1,ve,2,0,"p",26),d.Fc(2,he,2,0,"p",26),d.Ub()),2&e){d.jc();var n=d.xc(24);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function ke(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Korisni\u010dko ime je obavezno! "),d.Wb())}function Xe(e,t){if(1&e&&(d.Xb(0,"p",27),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function ye(e,t){if(1&e&&(d.Vb(0),d.Fc(1,ke,2,0,"p",26),d.Fc(2,Xe,2,2,"p",26),d.Ub()),2&e){d.jc();var n=d.xc(32);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function Ce(e,t){1&e&&(d.Xb(0,"p",27),d.Hc(1," Telefon je obavezan! "),d.Wb())}function je(e,t){if(1&e&&(d.Xb(0,"p",27),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function Me(e,t){if(1&e&&(d.Vb(0),d.Fc(1,Ce,2,0,"p",26),d.Fc(2,je,2,2,"p",26),d.Ub()),2&e){d.jc();var n=d.xc(40);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var Ie,Se,Ee=((Se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.korisnikService=t,this.options=n,this.toastrService=i,this.roleService=a,this.authService=o,this.korisnik={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:""},this.inputsDisabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getUserProfile(this.roleService.getUsername()).pipe(Object(ae.a)()).subscribe((function(t){e.korisnik=t}))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(e){if(e.valid){this.korisnikService.updateUser(this.korisnik,this.korisnik._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var t=null;this.authService.getToken().subscribe((function(e){t=e})),this.authService.refreshToken("email",t).subscribe((function(e){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Se)(d.Rb(v.a),d.Rb(x.a),d.Rb(c.Kb),d.Rb(k.a),d.Rb(x.g))},Se.\u0275cmp=d.Lb({type:Se,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=d.Yb();d.Xb(0,"form",0,1),d.fc("ngSubmit",(function(){d.zc(n);var e=d.xc(1);return t.updateKorisnik(e)})),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Xb(4,"label",4),d.Hc(5,"Ime:"),d.Wb(),d.Wb(),d.Xb(6,"div",5),d.Xb(7,"input",6,7),d.fc("ngModelChange",(function(e){return t.korisnik.firstName=e})),d.Wb(),d.Fc(9,ue,4,3,"ng-container",8),d.Wb(),d.Wb(),d.Xb(10,"div",2),d.Xb(11,"div",3),d.Xb(12,"label",9),d.Hc(13,"Prezime:"),d.Wb(),d.Wb(),d.Xb(14,"div",5),d.Xb(15,"input",10,11),d.fc("ngModelChange",(function(e){return t.korisnik.lastName=e})),d.Wb(),d.Fc(17,ge,4,3,"ng-container",8),d.Wb(),d.Wb(),d.Xb(18,"div",2),d.Xb(19,"div",3),d.Xb(20,"label",12),d.Hc(21,"Email:"),d.Wb(),d.Wb(),d.Xb(22,"div",5),d.Xb(23,"input",13,14),d.fc("ngModelChange",(function(e){return t.korisnik.email=e})),d.Wb(),d.Fc(25,We,3,2,"ng-container",8),d.Wb(),d.Wb(),d.Xb(26,"div",2),d.Xb(27,"div",3),d.Xb(28,"label",15),d.Hc(29,"Korisni\u010dko ime:"),d.Wb(),d.Wb(),d.Xb(30,"div",5),d.Xb(31,"input",16,17),d.fc("ngModelChange",(function(e){return t.korisnik.username=e})),d.Wb(),d.Fc(33,ye,3,2,"ng-container",8),d.Wb(),d.Wb(),d.Xb(34,"div",2),d.Xb(35,"div",3),d.Xb(36,"label",18),d.Hc(37,"Telefon:"),d.Wb(),d.Wb(),d.Xb(38,"div",5),d.Xb(39,"input",19,20),d.fc("ngModelChange",(function(e){return t.korisnik.phone=e})),d.Wb(),d.Fc(41,Me,3,2,"ng-container",8),d.Wb(),d.Wb(),d.Xb(42,"div",21),d.Sb(43,"div",22),d.Xb(44,"div",23),d.Xb(45,"button",24),d.fc("click",(function(){return t.enableInputs()})),d.Hc(46,"IZMENI"),d.Wb(),d.Wb(),d.Xb(47,"div",23),d.Xb(48,"button",25),d.Hc(49,"SA\u010cUVAJ"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.xc(8),a=d.xc(16),o=d.xc(24),r=d.xc(32),s=d.xc(40);d.Eb(7),d.pc("ngModel",t.korisnik.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched),d.Eb(6),d.pc("ngModel",t.korisnik.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched),d.Eb(6),d.pc("ngModel",t.korisnik.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched),d.Eb(6),d.pc("ngModel",t.korisnik.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched),d.Eb(6),d.pc("ngModel",t.korisnik.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(2),d.pc("ngIf",s.invalid&&s.touched),d.Eb(4),d.pc("disabled",!t.inputsDisabled),d.Eb(3),d.pc("disabled",t.inputsDisabled)}},directives:[s.w,s.l,s.m,c.Q,s.b,s.k,s.n,s.f,s.g,s.q,s.s,r.m,c.t],styles:[""]}),Se),we=((Ie=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275cmp=d.Lb({type:Ie,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,t){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-body"),d.Sb(2,"ngx-profile-korisnik"),d.Wb(),d.Wb())},directives:[c.x,c.w,Ee],styles:[""]}),Ie),ze={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indexNumber:{title:"Indeksni Broj",editable:!1},name:{title:"Naziv"},desc:{title:"Opis"},amount:{title:"Koli\u010dina (KG)"}}},xe=n("navU");function He(e,t){1&e&&(d.Xb(0,"p",35),d.Hc(1," Naziv skladi\u0161ta je obavezan! "),d.Wb())}function Oe(e,t){if(1&e&&(d.Vb(0),d.Fc(1,He,2,0,"p",34),d.Ub()),2&e){d.jc();var n=d.xc(22);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required)}}function Pe(e,t){1&e&&(d.Xb(0,"p",35),d.Hc(1," Veli\u010dina skladi\u0161ta je obavezna! "),d.Wb())}function Te(e,t){if(1&e&&(d.Vb(0),d.Fc(1,Pe,2,0,"p",34),d.Ub()),2&e){d.jc();var n=d.xc(36);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required)}}function _e(e,t){if(1&e&&(d.Xb(0,"div",11),d.Xb(1,"div",0),d.Xb(2,"label",36),d.Hc(3,"Geolokacija Skladi\u0161ta:"),d.Wb(),d.Wb(),d.Xb(4,"div",10),d.Sb(5,"input",37),d.Wb(),d.Wb()),2&e){var n=d.jc();d.Eb(5),d.pc("placeholder",n.storage.geolocationNorth+"N"+n.storage.geolocationEast+"E")}}function Fe(e,t){if(1&e&&(d.Xb(0,"div",11),d.Xb(1,"div",0),d.Xb(2,"label",38),d.Hc(3,"Vrsta Deponije:"),d.Wb(),d.Wb(),d.Xb(4,"div",10),d.Sb(5,"input",39),d.Wb(),d.Wb()),2&e){var n=d.jc();d.Eb(5),d.pc("placeholder",n.storage.dumpType)}}var Re,Le=function(){return{standalone:!0}},Ue=((Re=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=t,this.storageService=n,this.options=i,this.toastrService=a,this.router=o,this.trashService=r,this.adminService=s,this.storage={address:{location:void 0,street:""},amount:0,maxAmount:0,name:"",dumpType:""},this.settings=ze}return _createClass(e,[{key:"ngOnInit",value:function(){this.updateStorageView()}},{key:"updateStorageView",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getStorage(t).subscribe((function(t){e.storage=t,e.adminService.getCompany(e.storage._id,"storages").subscribe((function(t){e.company=t}))}))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"updateStorage",value:function(e){e.valid?(this.storageService.updateStorage(this.storage,this.storage._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"updateTrash",value:function(e,t){var n=this,i=e.newData,a=e.confirm;try{this.trashService.updateTrash(i,t._id,i._id).subscribe((function(e){n.updateStorageView()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.name,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(e,t){var n=this,i=e.data,a=e.confirm;try{this.trashService.deleteTrash(t._id,i._id).subscribe((function(e){n.updateStorageView()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Re)(d.Rb(M.a),d.Rb(X.a),d.Rb(x.a),d.Rb(c.Kb),d.Rb(M.c),d.Rb(W.a),d.Rb(p))},Re.\u0275cmp=d.Lb({type:Re,selectors:[["admin-storage"]],decls:66,vars:27,consts:[[1,"col-12"],[3,"ngSubmit"],["formStorage","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-storageName",1,"label"],["fullWidth","","id","input-storageName","name","storageName","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["storageName","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-storageSize",1,"label"],[1,"col-5","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-1","pl-0"],["nbButton","","fullWidth","","disabled",""],["class","row mb-2",4,"ngIf"],["for","input-companyName",1,"label"],["disabled","","fullWidth","","id","input-companyName","name","companyName","nbInput","","type","text",3,"placeholder"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[3,"storage"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[1,"mt-2",3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolocation",1,"label"],["disabled","","fullWidth","","id","input-geolocation","name","geolocation","nbInput","","type","text",3,"placeholder"],["for","input-dumpType",1,"label"],["disabled","","fullWidth","","id","input-dumpType","name","dumpType","nbInput","","type","text",3,"placeholder"]],template:function(e,t){if(1&e){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"form",1,2),d.fc("ngSubmit",(function(){d.zc(n);var e=d.xc(2);return t.updateStorage(e)})),d.Xb(3,"nb-card-header"),d.Xb(4,"div",3),d.Xb(5,"div",4),d.Xb(6,"a",5),d.Sb(7,"i",6),d.Wb(),d.Wb(),d.Xb(8,"div",7),d.Xb(9,"h5",8),d.Hc(10),d.Wb(),d.Xb(11,"p",9),d.Hc(12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(13,"nb-card-body"),d.Xb(14,"div",3),d.Xb(15,"div",10),d.Xb(16,"div",11),d.Xb(17,"div",0),d.Xb(18,"label",12),d.Hc(19,"Naziv skladi\u0161ta:"),d.Wb(),d.Wb(),d.Xb(20,"div",10),d.Xb(21,"input",13,14),d.fc("ngModelChange",(function(e){return t.storage.name=e})),d.Wb(),d.Fc(23,Oe,2,1,"ng-container",15),d.Wb(),d.Wb(),d.Xb(24,"div",11),d.Xb(25,"div",0),d.Xb(26,"label",16),d.Hc(27,"Adresa Skladi\u0161ta:"),d.Wb(),d.Wb(),d.Xb(28,"div",10),d.Sb(29,"input",17),d.Wb(),d.Wb(),d.Xb(30,"div",11),d.Xb(31,"div",0),d.Xb(32,"label",18),d.Hc(33,"Veli\u010dina skladi\u0161ta:"),d.Wb(),d.Wb(),d.Xb(34,"div",19),d.Xb(35,"input",20,21),d.fc("ngModelChange",(function(e){return t.storage.maxAmount=e})),d.Wb(),d.Fc(37,Te,2,1,"ng-container",15),d.Wb(),d.Xb(38,"div",22),d.Xb(39,"button",23),d.Hc(40),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(41,"div",10),d.Fc(42,_e,6,1,"div",24),d.Fc(43,Fe,6,1,"div",24),d.Xb(44,"div",11),d.Xb(45,"div",0),d.Xb(46,"label",25),d.Hc(47,"Firma skladi\u0161ta:"),d.Wb(),d.Wb(),d.Xb(48,"div",19),d.Sb(49,"input",26),d.Wb(),d.Xb(50,"div",22),d.Xb(51,"button",27),d.fc("click",(function(){return t.gotoCompany()})),d.Sb(52,"i",28),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(53,"div",11),d.Xb(54,"div",0),d.Sb(55,"storage-meter",29),d.Wb(),d.Wb(),d.Wb(),d.Xb(56,"nb-card-footer"),d.Xb(57,"div",3),d.Sb(58,"div",30),d.Xb(59,"div",31),d.Xb(60,"button",32),d.Hc(61,"SA\u010cUVAJ"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(62,"nb-card-header"),d.Hc(63,"Otpadi: "),d.Wb(),d.Xb(64,"nb-card-body"),d.Xb(65,"ng2-smart-table",33),d.fc("editConfirm",(function(e){return t.updateTrash(e,t.storage)}))("deleteConfirm",(function(e){return t.deleteTrash(e,t.storage)})),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.xc(22),a=d.xc(36);d.Eb(10),d.Ic(t.storage.name),d.Eb(2),d.Ic(t.storage.__t),d.Eb(9),d.pc("ngModel",t.storage.name)("ngModelOptions",d.sc(25,Le))("maxlength",t.getConfigValue("forms.validation.storageName.maxLength"))("minlength",t.getConfigValue("forms.validation.storageName.minLength"))("required",t.getConfigValue("forms.validation.storageName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched),d.Eb(6),d.pc("placeholder",(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.townshipName)+", "+(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.placeName)+", "+(null==t.storage||null==t.storage.address?null:t.storage.address.street)),d.Eb(6),d.pc("ngModel",t.storage.maxAmount)("ngModelOptions",d.sc(26,Le))("pattern",t.getConfigValue("forms.validation.storageSize.pattern"))("required",t.getConfigValue("forms.validation.storageSize.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched),d.Eb(3),d.Ic(t.storage.storageUnit),d.Eb(2),d.pc("ngIf",void 0!==t.storage.geolocationNorth),d.Eb(1),d.pc("ngIf",void 0!==t.storage.dumpType),d.Eb(6),d.pc("placeholder",null==t.company?null:t.company.name),d.Eb(6),d.pc("storage",t.storage),d.Eb(10),d.pc("settings",t.settings)("source",null==t.storage?null:t.storage.trashes)}},directives:[c.x,s.w,s.l,s.m,c.A,M.f,c.w,c.Q,s.b,s.k,s.n,s.f,s.g,s.s,r.m,s.p,s.q,c.t,xe.a,c.y,l.b],styles:[""]}),Re),De={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},maxAmount:{title:"Veli\u010dina"},amount:{title:"Trenutno stanje"},capacity:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}};function Ve(e,t){if(1&e&&(d.Xb(0,"nb-option",3),d.Hc(1),d.Wb()),2&e){var n=t.$implicit;d.pc("value",n),d.Eb(1),d.Ic(n.name)}}var Ne,Be=((Ne=function(){function e(t,n,i,a){_classCallCheck(this,e),this.storageService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedStorages=new l.a,this.storageSettings=De,this.companyNames=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getStorages().pipe(Object(ae.a)()).subscribe((function(t){t.forEach((function(e){return e.capacity=(e.amount/e.maxAmount*100).toFixed(0)})),e.storages=t,e.selectedStorages.load(t)})),this.adminService.getCompanyNames("storages").subscribe((function(t){e.companyNames=t}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectStorages",value:function(e){if("-"===e)this.selectedStorages.load(this.storages);else{var t=this.storages;t=t.filter((function(t){return e.storages.includes(t._id)})),this.selectedStorages.load(t)}}},{key:"createStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.createStorage(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.updateStorage(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteStorage",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.storageService.deleteStorage(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"storageInfo",value:function(e){var t=e.data;this.router.navigate(["admin/storages",t._id])}}]),e}()).\u0275fac=function(e){return new(e||Ne)(d.Rb(X.a),d.Rb(c.Kb),d.Rb(M.c),d.Rb(p))},Ne.\u0275cmp=d.Lb({type:Ne,selectors:[["admin-storages"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Hc(2,"Skladi\u0161ta"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"div",0),d.Xb(5,"label",1),d.Hc(6,"Odaberite firmu: "),d.Wb(),d.Xb(7,"nb-select",2),d.fc("selectedChange",(function(e){return t.selectStorages(e)})),d.Xb(8,"nb-option",3),d.Hc(9,"-"),d.Wb(),d.Fc(10,Ve,2,2,"nb-option",4),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"ng2-smart-table",6),d.fc("createConfirm",(function(e){return t.createStorage(e)}))("editConfirm",(function(e){return t.updateStorage(e)}))("deleteConfirm",(function(e){return t.deleteStorage(e)}))("custom",(function(e){return t.storageInfo(e)})),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(8),d.pc("value","-"),d.Eb(2),d.pc("ngForOf",t.companyNames),d.Eb(2),d.pc("settings",t.storageSettings)("source",t.selectedStorages))},directives:[c.x,c.A,c.w,c.qb,c.fb,r.l,l.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),Ne);function qe(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Ime je obavezno! "),d.Wb())}function Ke(e,t){if(1&e&&(d.Xb(0,"p",40),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function Ae(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Ime mora biti validno! "),d.Wb())}function Ge(e,t){if(1&e&&(d.Vb(0),d.Fc(1,qe,2,0,"p",39),d.Fc(2,Ke,2,2,"p",39),d.Fc(3,Ae,2,0,"p",39),d.Ub()),2&e){d.jc();var n=d.xc(19);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function $e(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Prezime je obavezno! "),d.Wb())}function Ye(e,t){if(1&e&&(d.Xb(0,"p",40),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function Je(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Prezime mora biti validno! "),d.Wb())}function Ze(e,t){if(1&e&&(d.Vb(0),d.Fc(1,$e,2,0,"p",39),d.Fc(2,Ye,2,2,"p",39),d.Fc(3,Je,2,0,"p",39),d.Ub()),2&e){d.jc();var n=d.xc(27),i=d.xc(19);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function Qe(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Email je obavezan! "),d.Wb())}function et(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Email mora biti validan! "),d.Wb())}function tt(e,t){if(1&e&&(d.Vb(0),d.Fc(1,Qe,2,0,"p",39),d.Fc(2,et,2,0,"p",39),d.Ub()),2&e){d.jc();var n=d.xc(35);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function nt(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Korisni\u010dko ime je obavezno! "),d.Wb())}function it(e,t){if(1&e&&(d.Xb(0,"p",40),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function at(e,t){if(1&e&&(d.Vb(0),d.Fc(1,nt,2,0,"p",39),d.Fc(2,it,2,2,"p",39),d.Ub()),2&e){d.jc();var n=d.xc(43);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function ot(e,t){1&e&&(d.Xb(0,"p",40),d.Hc(1," Telefon je obavezan! "),d.Wb())}function rt(e,t){if(1&e&&(d.Xb(0,"p",40),d.Hc(1),d.Wb()),2&e){var n=d.jc(2);d.Eb(1),d.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function st(e,t){if(1&e&&(d.Vb(0),d.Fc(1,ot,2,0,"p",39),d.Fc(2,rt,2,2,"p",39),d.Ub()),2&e){d.jc();var n=d.xc(51);d.Eb(1),d.pc("ngIf",null==n.errors?null:n.errors.required),d.Eb(1),d.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var ct,lt,bt,dt,ut=((ct=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.route=t,this.adminService=n,this.options=i,this.userService=a,this.toastrService=o,this.router=r,this.user={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:"",company:{pib:"",mat:"",address:void 0,name:"",fax:"",email:"",emailReception:"",manager:"",legalRep:"",telephone:"",occupation:void 0,operations:[]}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("username");this.adminService.getUser(t,"username").subscribe((function(t){e.user=t}))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"updateUser",value:function(e){e.valid?(this.userService.updateUser(this.user,this.user._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.user.company.pib])}}]),e}()).\u0275fac=function(e){return new(e||ct)(d.Rb(M.a),d.Rb(p),d.Rb(x.a),d.Rb(v.a),d.Rb(c.Kb),d.Rb(M.c))},ct.\u0275cmp=d.Lb({type:ct,selectors:[["admin-user"]],decls:79,vars:43,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-role",1,"label"],["fullWidth","","id","input-role",3,"ngModel","selected","ngModelChange"],[3,"value"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"form",1,2),d.fc("ngSubmit",(function(){d.zc(n);var e=d.xc(2);return t.updateUser(e)})),d.Xb(3,"nb-card-header"),d.Xb(4,"div",3),d.Xb(5,"div",4),d.Xb(6,"a",5),d.Sb(7,"i",6),d.Wb(),d.Wb(),d.Xb(8,"div",7),d.Xb(9,"h5",8),d.Hc(10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"div",3),d.Xb(12,"nb-card-body",9),d.Xb(13,"div",10),d.Xb(14,"div",0),d.Xb(15,"label",11),d.Hc(16,"Ime:"),d.Wb(),d.Wb(),d.Xb(17,"div",9),d.Xb(18,"input",12,13),d.fc("ngModelChange",(function(e){return t.user.firstName=e})),d.Wb(),d.Fc(20,Ge,4,3,"ng-container",14),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"div",0),d.Xb(23,"label",15),d.Hc(24,"Prezime:"),d.Wb(),d.Wb(),d.Xb(25,"div",9),d.Xb(26,"input",16,17),d.fc("ngModelChange",(function(e){return t.user.lastName=e})),d.Wb(),d.Fc(28,Ze,4,3,"ng-container",14),d.Wb(),d.Wb(),d.Xb(29,"div",10),d.Xb(30,"div",0),d.Xb(31,"label",18),d.Hc(32,"Email:"),d.Wb(),d.Wb(),d.Xb(33,"div",9),d.Xb(34,"input",19,20),d.fc("ngModelChange",(function(e){return t.user.email=e})),d.Wb(),d.Fc(36,tt,3,2,"ng-container",14),d.Wb(),d.Wb(),d.Xb(37,"div",10),d.Xb(38,"div",0),d.Xb(39,"label",21),d.Hc(40,"Korisni\u010dko ime:"),d.Wb(),d.Wb(),d.Xb(41,"div",9),d.Xb(42,"input",22,23),d.fc("ngModelChange",(function(e){return t.user.username=e})),d.Wb(),d.Fc(44,at,3,2,"ng-container",14),d.Wb(),d.Wb(),d.Xb(45,"div",10),d.Xb(46,"div",0),d.Xb(47,"label",24),d.Hc(48,"Telefon:"),d.Wb(),d.Wb(),d.Xb(49,"div",9),d.Xb(50,"input",25,26),d.fc("ngModelChange",(function(e){return t.user.phone=e})),d.Wb(),d.Fc(52,st,3,2,"ng-container",14),d.Wb(),d.Wb(),d.Wb(),d.Xb(53,"nb-card-body",9),d.Xb(54,"div",10),d.Xb(55,"div",0),d.Xb(56,"label",27),d.Hc(57,"Uloga:"),d.Wb(),d.Wb(),d.Xb(58,"div",9),d.Xb(59,"nb-select",28),d.fc("ngModelChange",(function(e){return t.user.role=e})),d.Xb(60,"nb-option",29),d.Hc(61,"Menad\u017eer"),d.Wb(),d.Xb(62,"nb-option",29),d.Hc(63,"Admin"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(64,"div",10),d.Xb(65,"div",0),d.Xb(66,"label",30),d.Hc(67,"Firma:"),d.Wb(),d.Wb(),d.Xb(68,"div",31),d.Sb(69,"input",32),d.Wb(),d.Xb(70,"div",33),d.Xb(71,"button",34),d.fc("click",(function(){return t.gotoCompany()})),d.Sb(72,"i",35),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(73,"nb-card-footer"),d.Xb(74,"div",3),d.Sb(75,"div",36),d.Xb(76,"div",37),d.Xb(77,"button",38),d.Hc(78,"SA\u010cUVAJ"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.xc(19),a=d.xc(27),o=d.xc(35),r=d.xc(43),s=d.xc(51);d.Eb(10),d.Kc(" ",t.user.firstName," ",t.user.lastName,""),d.Eb(8),d.pc("ngModel",t.user.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched),d.Eb(6),d.pc("ngModel",t.user.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched),d.Eb(6),d.pc("ngModel",t.user.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched),d.Eb(6),d.pc("ngModel",t.user.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched),d.Eb(6),d.pc("ngModel",t.user.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(2),d.pc("ngIf",s.invalid&&s.touched),d.Eb(7),d.pc("ngModel",t.user.role)("selected",t.user.role),d.Eb(1),d.pc("value","manager"),d.Eb(2),d.pc("value","admin"),d.Eb(7),d.pc("placeholder",t.user.company.name)}},directives:[c.x,s.w,s.l,s.m,c.A,M.f,c.w,c.Q,s.b,s.k,s.n,s.f,s.g,s.q,s.s,r.m,c.qb,c.fb,c.t,c.y],styles:[""]}),ct),pt={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{firstName:{title:"Ime"},lastName:{title:"Prezime"},username:{title:"Korisni\u010dko ime"},email:{title:"Email"},phone:{title:"Telefon"},company:{editable:!1,valuePrepareFunction:function(e,t){return t.company.name},title:"Firma"}}},mt=[{path:"",component:E,children:[{path:"admin-dashboard",loadChildren:function(){return n.e(9).then(n.bind(null,"LaSW")).then((function(e){return e.AdminDashboardModule}))}},{path:"profile",component:we},{path:"users",component:(lt=function(){function e(t,n,i,a){_classCallCheck(this,e),this.adminService=t,this.toastrService=n,this.router=i,this.userService=a,this.usersSource=new l.a,this.userSettings=pt}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getUsers().subscribe((function(t){e.usersSource.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.createUser(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.updateUser(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteUser",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.username+"?"))return;this.userService.deleteUser(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"userInfo",value:function(e){var t=e.data;this.router.navigate(["admin/users",t.username])}}]),e}(),lt.\u0275fac=function(e){return new(e||lt)(d.Rb(p),d.Rb(c.Kb),d.Rb(M.c),d.Rb(v.a))},lt.\u0275cmp=d.Lb({type:lt,selectors:[["admin-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(d.Xb(0,"nb-card"),d.Xb(1,"nb-card-header"),d.Hc(2,"Korisnici"),d.Wb(),d.Xb(3,"nb-card-body"),d.Xb(4,"ng2-smart-table",0),d.fc("createConfirm",(function(e){return t.createUser(e)}))("editConfirm",(function(e){return t.updateUser(e)}))("deleteConfirm",(function(e){return t.deleteUser(e)}))("custom",(function(e){return t.userInfo(e)})),d.Wb(),d.Wb(),d.Wb()),2&e&&(d.Eb(4),d.pc("settings",t.userSettings)("source",t.usersSource))},directives:[c.x,c.A,c.w,l.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),lt)},{path:"users/:username",component:ut},{path:"companies",component:z},{path:"companies/:pib",component:$},{path:"storages",component:Be},{path:"storages/:id",component:Ue},{path:"permits",component:ce},{path:"permits/:id",component:ie},{path:"reports",loadChildren:function(){return Promise.resolve().then(n.bind(null,"BKSH")).then((function(e){return e.ReportsModule}))}}]}],ft=((bt=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:bt}),bt.\u0275inj=d.Ob({factory:function(e){return new(e||bt)},imports:[[M.g.forChild(mt)],M.g]}),bt),gt=n("BKSH"),vt=((dt=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:dt}),dt.\u0275inj=d.Ob({factory:function(e){return new(e||dt)},providers:[p,v.a,g.a,f.a,W.a,X.a,k.a,h.a,m.a],imports:[[r.c,ft,y.a,c.cb,c.B,l.c,c.R,s.e,c.u,c.P,c.kb,c.k,c.Gb,c.Ab,c.sb,c.K,c.nb,gt.ReportsModule,j.StorageModule,C.a]]}),dt)},"X+yL":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i,a=n("tk/3"),o=n("LRne"),r=n("AytR"),s=n("fXoL"),c=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).http=e,i.apiUrl=r.a.apiUrl,i.dko={datumDozvolePrimalac:new Date,datumDozvoleTransport:new Date,datumIspitivanja:new Date,dodatneInformacije:"",fizickoStanje:"",vrstaProizvodjaca:"",masaOtpada:0,nacinPakovanja:"",nacinPostupanja:"",otpad:void 0,qLista:"",registarskiBroj:"",rutaKretanja:new Array(5),sifraDozvolePrimalac:"",sifraDozvoleTransport:"",sifraIspitivanja:"",vidPrevoza:"",vrstaOtpada:"",vrstaPrimalaca:"",vrstaVozila:""},i}return _createClass(n,[{key:"sendSyncDKO",value:function(e){this.dko=e}},{key:"sendDKO",value:function(e){var t=this;e.subscribe((function(e){t.dko=e}))}},{key:"getDKO",value:function(){return Object(o.a)(this.dko)}},{key:"generateDKO",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/dko",{dko:e,skladiste:t,trash:n},{headers:i,responseType:"blob"})}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(s.bc(a.b))},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac}),i)},gu6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,a=n("tk/3"),o=n("AytR"),r=n("fXoL"),s=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).http=e,i.apiUrl=o.a.apiUrl,i}return _createClass(n,[{key:"getMesecniIzvestaj",value:function(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}},{key:"getOneMonthlyReport",value:function(e){return this.http.get(this.apiUrl+"/api/mesecniizvestaj/"+e)}},{key:"createMesecniIzvestaj",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:n,storageID:t._id},{headers:i,responseType:"blob"})}},{key:"createGodisnjiIzvestaj",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/godisnjiizvestaj",{trash:e,reportType:t,company:n},{headers:i,responseType:"blob"})}},{key:"getAllMesecniIzvestajFirme",value:function(e){return this.mesecniIzvestaj$||(this.mesecniIzvestaj$=this.http.get(this.apiUrl+"/api/mesecniizvestaj/firma/"+e)),this.mesecniIzvestaj$}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(r.bc(a.b))},i.\u0275prov=r.Nb({token:i,factory:i.\u0275fac}),i)}}]);