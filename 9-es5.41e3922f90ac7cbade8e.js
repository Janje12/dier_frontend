function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==t.return||t.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);if(n){var a=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Yj9t:function(e,n,t){"use strict";t.r(n),t.d(n,"NgxAuthModule",(function(){return Rt}));var i,a,o,r=t("ofXK"),c=t("3Pt+"),s=t("tyNb"),l=t("RS3s"),b=t("LRne"),u=t("AytR"),d=t("fXoL"),p=t("tk/3"),g=((i=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this)).http=e,i.apiUrl=u.a.apiUrl,i}return _createClass(t,[{key:"createOccupation",value:function(e){}},{key:"deleteOccupation",value:function(e,n){}},{key:"getOccupation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/one/"+"".concat(n,"/").concat(e))}},{key:"getOccupations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/many/"+"".concat(n,"/").concat(e))}},{key:"updateOccupation",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/occupation/one/"+"".concat(t,"/").concat(n),e)}},{key:"filter",value:function(e,n){var t=e.toLowerCase();if(void 0!==n)return Object(b.a)(n.filter((function(e){return e.name.toLowerCase().includes(t)||e.code.includes(t)})))}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(d.bc(p.b))},i.\u0275prov=d.Nb({token:i,factory:i.\u0275fac}),i),m=t("ibGe"),f=((o=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this)).http=e,i.townshipsIsLoaded=!1,i.apiUrl=u.a.apiUrl,i}return _createClass(t,[{key:"createLocation",value:function(e){}},{key:"deleteLocation",value:function(e,n){}},{key:"getLocation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/one/"+"".concat(n,"/").concat(e))}},{key:"getLocations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/many/"+"".concat(n,"/").concat(e))}},{key:"updateLocation",value:function(e,n,t){return this.http.patch(this.apiUrl+"/api/location/one/"+"".concat(t,"/").concat(n),e)}},{key:"getDistinctTownships",value:function(){return this.townshipsIsLoaded||(this.townshipNames=this.http.get(this.apiUrl+"/api/location/townships"),this.townshipsIsLoaded=!0),this.townshipNames}},{key:"getPlacesFromTownship",value:function(e){return this.http.get(this.apiUrl+"/api/location/place/"+e)}},{key:"filter",value:function(e,n){var t=e.toLowerCase();if(void 0!==n)return Object(b.a)(n.filter((function(e){return e.toLowerCase().includes(t)})))}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||o)(d.bc(p.b))},o.\u0275prov=d.Nb({token:o,factory:o.\u0275fac}),o),h=((a=function(){function e(){_classCallCheck(this,e),Object(d.Y)()&&(this.user={_id:"",email:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",firstName:"test",username:"random"+(1e3*Math.random()).toFixed(0),lastName:"test",password:"nikjan00",phone:(1e10*Math.random()).toFixed(0),role:"manager"},this.company={storages:[{name:"Storage #1",amount:0,maxAmount:512,address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"}}],address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"},occupation:{code:"",name:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailReception:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),manager:"random",name:"Test",pib:(1e9*Math.random()).toFixed(0),operations:["Proizvodnja Neopasnog Otpada"],telephone:(1e10*Math.random()).toFixed(0),legalRep:"Nikola Jankovic"},this.operations=["Proizvodnja Neopasnog Otpada"])}return _createClass(e,[{key:"clearData",value:function(){this.user={email:"",firstName:"",username:"",lastName:"",password:"",phone:"",role:""},this.company={occupation:{code:"",name:""},address:{location:{townshipCode:0,townshipName:"",placeCode:0,placeName:"",zipCode:""},street:""},email:"",emailReception:"",mat:"",manager:"",name:"",pib:"",operations:[],telephone:"",legalRep:""},this.operations=[],this.permitCode=""}},{key:"sendPermit",value:function(e){var n=this;this.permitCode$=e,e.subscribe((function(e){n.permitCode=e}))}},{key:"getPermit",value:function(){return Object(b.a)(this.permitCode)}},{key:"sendOperations",value:function(e){var n=this;this.operations$=e,e.subscribe((function(e){n.operations=e}))}},{key:"getOperations",value:function(){return Object(b.a)(this.operations)}},{key:"sendUser",value:function(e){var n=this;this.user$=e,e.subscribe((function(e){n.user=e}))}},{key:"getUser",value:function(){return void 0!==this.company&&void 0!==this.user&&(this.user.company=this.company),Object(b.a)(this.user)}},{key:"sendCompany",value:function(e){var n=this;this.company$=e,e.subscribe((function(e){n.company=e}))}},{key:"getCompany",value:function(){return void 0!==this.company&&(void 0!==this.operations&&(this.company.operations=this.operations),void 0!==this.user&&(this.company.manager=this.user.username)),Object(b.a)(this.company)}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=d.Nb({token:a,factory:a.\u0275fac}),a),v=t("ud2R"),W=t("vTDv"),y=t("McNs"),X=t("aceb");function k(e,n){if(1&e&&(d.Xb(0,"li",29),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.Eb(1),d.Ic(t)}}function C(e,n){if(1&e&&(d.Xb(0,"nb-alert",25),d.Xb(1,"p",26),d.Xb(2,"b"),d.Hc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),d.Wb(),d.Wb(),d.Xb(4,"ul",27),d.Fc(5,k,2,1,"li",28),d.Wb(),d.Wb()),2&e){var t=d.jc();d.Eb(5),d.pc("ngForOf",t.errors)}}function I(e,n){if(1&e&&(d.Xb(0,"li",29),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.Eb(1),d.Ic(t)}}function M(e,n){if(1&e&&(d.Xb(0,"nb-alert",30),d.Xb(1,"p",26),d.Xb(2,"b"),d.Hc(3,"Uspesno ste se ulogovali!"),d.Wb(),d.Wb(),d.Xb(4,"ul",27),d.Fc(5,I,2,1,"li",28),d.Wb(),d.Wb()),2&e){var t=d.jc();d.Eb(5),d.pc("ngForOf",t.messages)}}function j(e,n){1&e&&(d.Xb(0,"p",32),d.Hc(1," Email je obavezan! "),d.Wb())}function E(e,n){if(1&e&&(d.Vb(0),d.Fc(1,j,2,0,"p",31),d.Ub()),2&e){d.jc();var t=d.xc(11);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function O(e,n){1&e&&(d.Xb(0,"p",32),d.Hc(1," \u0160ifra je obavezna! "),d.Wb())}function x(e,n){if(1&e&&(d.Vb(0),d.Fc(1,O,2,0,"p",31),d.Ub()),2&e){d.jc();var t=d.xc(18);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function w(e,n){if(1&e){var t=d.Yb();d.Xb(0,"nb-checkbox",33),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().user.rememberMe=e})),d.Hc(1,"Zapamti me"),d.Wb()}if(2&e){var i=d.jc();d.pc("ngModel",i.user.rememberMe)}}var F,N,H=((N=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,t),(i=n.call(this,e,a,o,r)).service=e,i.options=a,i.cd=o,i.router=r,i.showPassword="eye",i.redirectDelay=0,i.showMessages={},i.strategy="",i.errors=[],i.messages=[],i.user={email:"",password:"",rememberMe:!1},i.submitted=!1,i.rememberMe=!1,i.redirectDelay=i.getConfigValue("forms.login.redirectDelay"),i.showMessages=i.getConfigValue("forms.login.showMessages"),i.strategy=i.getConfigValue("forms.login.strategy"),i.rememberMe=i.getConfigValue("forms.login.rememberMe"),i}return _createClass(t,[{key:"login",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe((function(n){e.submitted=!1,n.isSuccess()?e.messages=n.getMessages():e.errors=n.getErrors();var t=n.getRedirect();t&&setTimeout((function(){return e.router.navigateByUrl(t)}),e.redirectDelay),e.cd.detectChanges()}))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}}]),t}(y.h)).\u0275fac=function(e){return new(e||N)(d.Rb(y.g),d.Rb(y.a),d.Rb(d.h),d.Rb(s.c))},N.\u0275cmp=d.Lb({type:N,selectors:[["ngx-login"]],features:[d.Bb],decls:33,vars:18,consts:[[1,"align-self-center"],["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../request-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],["aria-label","Registruj se",1,"another-action"],["routerLink","../register-user",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1",4,"ngIf"],[1,"error-message","mt-1"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(d.Xb(0,"div",0),d.Xb(1,"h1",1),d.Hc(2,"Uloguj se!"),d.Wb(),d.Fc(3,C,6,1,"nb-alert",2),d.Fc(4,M,6,1,"nb-alert",3),d.Xb(5,"form",4,5),d.fc("ngSubmit",(function(){return n.login()})),d.Xb(7,"div",6),d.Xb(8,"label",7),d.Hc(9,"Email/Korisni\u010dko ime:"),d.Wb(),d.Xb(10,"input",8,9),d.fc("ngModelChange",(function(e){return n.user.email=e})),d.Wb(),d.Fc(12,E,2,1,"ng-container",10),d.Wb(),d.Xb(13,"div",11),d.Xb(14,"label",12),d.Hc(15,"\u0160ifra:"),d.Wb(),d.Xb(16,"div",13),d.Xb(17,"input",14,15),d.fc("ngModelChange",(function(e){return n.user.password=e})),d.Wb(),d.Wb(),d.Xb(19,"div",16),d.Xb(20,"button",17),d.fc("click",(function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"})),d.Sb(21,"nb-icon",18),d.Wb(),d.Wb(),d.Fc(22,x,2,1,"ng-container",10),d.Wb(),d.Xb(23,"div",19),d.Fc(24,w,2,1,"nb-checkbox",20),d.Xb(25,"a",21),d.Hc(26,"Zaboravili ste \u0161ifru?"),d.Wb(),d.Wb(),d.Xb(27,"button",22),d.Hc(28," Uloguj se "),d.Wb(),d.Wb(),d.Xb(29,"section",23),d.Hc(30," Nemate nalog? "),d.Xb(31,"a",24),d.Hc(32,"Registruj se"),d.Wb(),d.Wb(),d.Wb()),2&e){var t=d.xc(11),i=d.xc(18);d.Eb(3),d.pc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),d.Eb(1),d.pc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),d.Eb(6),d.pc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(2),d.pc("ngIf",t.touched),d.Eb(5),d.pc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(4),d.pc("icon",n.showPassword),d.Eb(1),d.pc("ngIf",i.touched),d.Eb(2),d.pc("ngIf",n.rememberMe),d.Eb(3),d.Ib("btn-pulse",n.submitted),d.pc("disabled",n.submitted)}},directives:[r.m,c.w,c.l,c.m,X.N,c.b,c.k,c.n,c.s,X.t,X.K,s.f,X.o,r.l,X.A],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),N),z=((F=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,t),(i=n.call(this,e,a,o)).service=e,i.options=a,i.router=o,i.roleService=r,i.redirectDelay=0,i.strategy="",i.redirectDelay=i.getConfigValue("forms.logout.redirectDelay"),i.strategy=i.getConfigValue("forms.logout.strategy"),i}return _createClass(t,[{key:"logout",value:function(e){var n=this;this.service.logout(e).subscribe((function(e){var t=e.getRedirect();n.roleService.clearOperations(),t&&setTimeout((function(){return n.router.navigateByUrl(t)}),n.redirectDelay)}))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}}]),t}(y.i)).\u0275fac=function(e){return new(e||F)(d.Rb(y.g),d.Rb(y.a),d.Rb(s.c),d.Rb(v.a))},F.\u0275cmp=d.Lb({type:F,selectors:[["ngx-logout"]],features:[d.Bb],decls:2,vars:0,template:function(e,n){1&e&&(d.Xb(0,"div"),d.Hc(1,"Odjavljivanje u toku..."),d.Wb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),F),S=t("SxV6"),V={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},name:{title:"Naziv",filter:!1}}};function P(e,n){if(1&e){var t=d.Yb();d.Xb(0,"button",16),d.fc("click",(function(){d.zc(t);var e=n.$implicit;return d.jc().addTrash(e)})),d.Hc(1),d.Wb()}if(2&e){var i=n.$implicit;d.pc("nbPopover",i.name),d.Eb(1),d.Jc(" ",i.indexNumber," ")}}var R,T=function(e){return["..","register-informations",e]},q=((R=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=t,this.catalogService=i,this.catalog=new l.a,this.settings=V,this.permitType=""}return _createClass(e,[{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getPermit().subscribe((function(n){e.permitCode=n})),this.registerService.getCompany().subscribe((function(n){void 0!==n&&(e.company=n,e.permit=e.company.permits.filter((function(n){return n.code===e.permitCode}))[0],e.permitType=e.permit.type,e.trashList=e.permit.trashList)})),this.registerService.sendCompany(Object(b.a)(this.company));var n=!1,t=!1;this.registerService.getOperations().subscribe((function(i){i.forEach((function(e){e.includes("Neopasnog")&&(n=!0),e.includes("Opasnog")&&(t=!0)})),n&&!t?e.catalogService.getSafeTrash().pipe(Object(S.a)()).subscribe((function(n){n.sort((function(e,n){return e.indexNumber.localeCompare(n.indexNumber)})),e.catalog.load(n)})):t&&!n?e.catalogService.getUnsafeTrash().pipe(Object(S.a)()).subscribe((function(n){n.sort((function(e,n){return e.indexNumber.localeCompare(n.indexNumber)})),e.catalog.load(n)})):t&&n&&e.catalogService.getCatalogs().pipe(Object(S.a)()).subscribe((function(n){n.sort((function(e,n){return e.indexNumber.localeCompare(n.indexNumber)})),e.catalog.load(n)}))}))}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,n){return e.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}},{key:"addTrash",value:function(e){var n=this;this.trashList.some((function(n){return n._id===e._id}))?this.removeTrash(e):this.permit.trashList.push(e),this.company.permits.filter((function(e){return e.code===n.permitCode}))[0]=this.permit}},{key:"removeTrash",value:function(e){var n=this.trashList.filter((function(n){return n._id===e._id}))[0];if(n){var t=this.trashList.indexOf(n,0);t>-1&&this.trashList.splice(t,1)}}}]),e}()).\u0275fac=function(e){return new(e||R)(d.Rb(y.a),d.Rb(h),d.Rb(m.a))},R.\u0275cmp=d.Lb({type:R,selectors:[["ngx-register-dozvola"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){var t=d.Yb();d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Xb(3,"nb-step",2),d.Hc(4,"Test"),d.Wb(),d.Sb(5,"nb-step",3),d.Sb(6,"nb-step",4),d.Xb(7,"nb-step",5),d.Xb(8,"div",6),d.Xb(9,"div",7),d.Xb(10,"h5"),d.Hc(11,"Lista otpada dozvole:"),d.Wb(),d.Fc(12,P,2,2,"button",8),d.Wb(),d.Xb(13,"div",9),d.Xb(14,"label",10),d.Hc(15,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Xb(16,"input",11,12),d.fc("input",(function(){d.zc(t);var e=d.xc(17);return e.value.length>=1&&n.onSearch(e.value)})),d.Wb(),d.Xb(18,"ng2-smart-table",13),d.fc("custom",(function(e){return n.addTrash(e.data)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(19,"button",14),d.Hc(20," Zavr\u0161i "),d.Wb(),d.Wb(),d.Sb(21,"nb-step",15),d.Wb()}2&e&&(d.Eb(12),d.pc("ngForOf",n.trashList),d.Eb(6),d.pc("source",n.catalog)("settings",n.settings),d.Eb(1),d.pc("routerLink",d.tc(5,T,n.permitType))("disabled",0===(null==n.trashList?null:n.trashList.length)))},directives:[X.vb,X.ub,r.l,X.N,l.b,X.t,s.d,X.eb],styles:["[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover{color:#1e90ff}"]}),R);function L(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Naziv firme je obavezan! "),d.Wb())}function _(e,n){if(1&e&&(d.Xb(0,"p",73),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Naziv firme mora biti du\u017ei od ",t.getConfigValue("forms.validation.companyName.minLength")," slova! ")}}function $(e,n){if(1&e&&(d.Xb(0,"p",73),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Naziv firme mora biti kra\u0107i od ",t.getConfigValue("forms.validation.nazivFirme.maxLength")," slova! ")}}function U(e,n){if(1&e&&(d.Vb(0),d.Fc(1,L,2,0,"p",72),d.Fc(2,_,2,1,"p",72),d.Fc(3,$,2,1,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(12);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.minlength),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.maxlength)}}function A(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," PIB je obavezan! "),d.Wb())}function D(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," PIB mora da bude validan! "),d.Wb())}function B(e,n){if(1&e&&(d.Vb(0),d.Fc(1,A,2,0,"p",72),d.Fc(2,D,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(19);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.minlength)}}function G(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Mati\u010dni broj je obavezan! "),d.Wb())}function K(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Mati\u010dni broj mora da bude validan! "),d.Wb())}function J(e,n){if(1&e&&(d.Vb(0),d.Fc(1,G,2,0,"p",72),d.Fc(2,K,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(25),i=d.xc(19);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==i.errors?null:i.errors.minlength)}}function Y(e,n){if(1&e&&(d.Xb(0,"nb-option",56),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t),d.Eb(1),d.Ic(t)}}function Z(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Op\u0161tina je obavezna! "),d.Wb())}function Q(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Z,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(36);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function ee(e,n){if(1&e&&(d.Xb(0,"nb-option",56),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t),d.Eb(1),d.Ic(t)}}function ne(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Mesto je obavezno! "),d.Wb())}function te(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ne,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(46);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function ie(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Po\u0161tanski broj je obavezan "),d.Wb())}function ae(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Po\u0161tanski broj mora biti validan "),d.Wb())}function oe(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ie,2,0,"p",72),d.Fc(2,ae,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(57);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function re(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Ulica je obavezna! "),d.Wb())}function ce(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Ulica mora biti validna! "),d.Wb())}function se(e,n){if(1&e&&(d.Vb(0),d.Fc(1,re,2,0,"p",72),d.Fc(2,ce,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(63);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.minlength)}}function le(e,n){if(1&e&&(d.Xb(0,"nb-option",56),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t.name),d.Eb(1),d.Kc("[",t.code,"] ",t.name,"")}}function be(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," \u0160ifra delatnosti je obavezna! "),d.Wb())}function ue(e,n){if(1&e&&(d.Vb(0),d.Fc(1,be,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(70);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function de(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Email je obavezan! "),d.Wb())}function pe(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Email mora biti validan! "),d.Wb())}function ge(e,n){if(1&e&&(d.Vb(0),d.Fc(1,de,2,0,"p",72),d.Fc(2,pe,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(81);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.pattern)}}function me(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Telefon firme je obavezan! "),d.Wb())}function fe(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Telefon firme mora biti validan! "),d.Wb())}function he(e,n){if(1&e&&(d.Vb(0),d.Fc(1,me,2,0,"p",72),d.Fc(2,fe,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(87);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function ve(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Email je obavezan! "),d.Wb())}function We(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ve,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(99);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function ye(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Email je obavezan! "),d.Wb())}function Xe(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Email mora biti validan! "),d.Wb())}function ke(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ye,2,0,"p",72),d.Fc(2,Xe,2,0,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(4);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.pattern)}}function Ce(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",11),d.Xb(1,"label",74),d.Hc(2,"Unesite va\u0161 email za prijem dokumenata:"),d.Wb(),d.Xb(3,"input",75,76),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().tmpEmail=e}))("ngModelChange",(function(){return d.zc(t),d.jc().setCompanyEmail()})),d.Wb(),d.Fc(5,ke,3,2,"ng-container",10),d.Wb()}if(2&e){var i=d.xc(4),a=d.jc();d.Eb(3),d.pc("ngModel",a.tmpEmail)("pattern",a.getConfigValue("forms.validation.email.pattern"))("required",a.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched||a.checkIssues)}}function Ie(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Ime zakonskog zastupnika je obavezno! "),d.Wb())}function Me(e,n){if(1&e&&(d.Xb(0,"p",73),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Ime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function je(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Ie,2,0,"p",72),d.Fc(2,Me,2,1,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(118);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ee(e,n){1&e&&(d.Xb(0,"p",73),d.Hc(1," Prezime zakonskog zastupnika je obavezno! "),d.Wb())}function Oe(e,n){if(1&e&&(d.Xb(0,"p",73),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function xe(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Ee,2,0,"p",72),d.Fc(2,Oe,2,1,"p",72),d.Ub()),2&e){d.jc();var t=d.xc(124);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var we,Fe=((we=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.options=n,this.locationService=t,this.occupationService=i,this.registerService=a,this.router=o,this.toastrService=r,this.checkIssues=!1,this.tmpEmail="",this.fNameLegalRep="",this.lNameLegalRep="",this.company={address:{location:{placeCode:0,placeName:"",townshipName:"",townshipCode:0,zipCode:""},street:""},email:"",emailReception:"",legalRep:"",manager:"",mat:"",name:"",occupation:{code:"",name:""},operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.locationService.getDistinctTownships().pipe(Object(S.a)()).subscribe((function(n){e.townships=n,e.townships$=Object(b.a)(n)})),this.occupationService.getOccupations().pipe(Object(S.a)()).subscribe((function(n){e.occupations=n,e.occupations$=Object(b.a)(n)})),this.registerService.getUser().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.user=n)})),this.registerService.getCompany().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.company=n,e.fNameLegalRep=e.company.legalRep.split(" ")[0],e.lNameLegalRep=e.company.legalRep.split(" ")[1])})),this.registerService.sendCompany(Object(b.a)(this.company))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"validateCompany",value:function(e){e.valid||""===this.tmpEmail&&""!==this.company.emailReception?this.router.navigate(["auth/register-operations"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(S.a)()).subscribe((function(e){n.places=e,n.places$=Object(b.a)(e)}))}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe((function(e){return n.getPlaces(e[0])}))):this.townships$=Object(b.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"findOccupations",value:function(e){this.occupations$=this.occupationService.filter(e,this.occupations)}},{key:"connectfName",value:function(e){this.fNameLegalRep=e,e+=" ";var n=this.company.legalRep.indexOf(" ");this.company.legalRep=this.company.legalRep.slice(n),this.company.legalRep=e+this.company.legalRep}},{key:"connectlName",value:function(e){this.lNameLegalRep=e,e=" "+e;var n=this.company.legalRep.indexOf(" ");this.company.legalRep=this.company.legalRep.slice(0,n),this.company.legalRep=this.company.legalRep+e}},{key:"clearTmpEmail",value:function(){this.tmpEmail=""}},{key:"setCompanyEmail",value:function(){this.company.emailReception=this.tmpEmail}}]),e}()).\u0275fac=function(e){return new(e||we)(d.Rb(y.a),d.Rb(f),d.Rb(g),d.Rb(h),d.Rb(s.c),d.Rb(X.Gb))},we.\u0275cmp=d.Lb({type:we,selectors:[["register-company"]],decls:133,vars:103,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","User","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-companyName",1,"label"],["autofocus","","fullWidth","","id","input-companyName","name","companyName","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-townshipName",1,"label"],["autocomplete","off","fullWidth","","id","input-townshipName","name","townshipName","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["townshipName","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoFirma",1,"label"],["autocomplete","off","fullWidth","","id","input-placeName","name","placeName","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["placeName","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-zipCode",1,"label"],["fullWidth","","id","input-zipCode","name","zipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zipCode","ngModel"],[1,"col-9"],["for","input-street",1,"label"],["fullWidth","","id","input-street","name","street","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["street","ngModel"],["for","input-occupation",1,"label"],["autocomplete","off","fullWidth","","id","input-occupation","name","occupation","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["occupation","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-companyEmail",1,"label"],["fullWidth","","id","input-companyEmail","name","companyEmail","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["companyEmail","ngModel"],["for","input-companyTelephone",1,"label"],["fullWidth","","id","input-companyTelephone","name","companyTelephone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyTelephone","ngModel"],["for","input-companyFax",1,"label"],["fullWidth","","id","input-companyFax","name","companyFax","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["companyFax","ngModel"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-companyEmailReception","name","companyEmailReception","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["companyEmailReception","ngModel"],[3,"value","selectionChange"],[3,"value"],["otherEmail",""],["class","col-6",4,"ngIf"],[1,"label","pl-0","col-12"],[1,"row","ml-2"],["for","input-fNameLegalRep",1,"label"],["fullWidth","","id","input-fNameLegalRep","name","fNameLegalRep","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameLegalRepo","ngModel"],["for","input-lNameLegalRep",1,"label"],["fullWidth","","id","input-lNameLegalRep","name","lNameLegalRep","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameLegalRepo","ngModel"],["nbButton","","fullWidth","","status","danger","routerLink","../register-user",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-companyEmailReception2",1,"label"],["fullWidth","","id","input-companyEmailReception2","name","companyEmailReception2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["companyEmailReception2","ngModel"]],template:function(e,n){if(1&e){var t=d.Yb();d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Sb(3,"nb-step",2),d.Xb(4,"nb-step",3),d.Xb(5,"form",null,4),d.Xb(7,"div",5),d.Xb(8,"div",6),d.Xb(9,"label",7),d.Hc(10,"Naziv Firme:"),d.Wb(),d.Xb(11,"input",8,9),d.fc("ngModelChange",(function(e){return n.company.name=e})),d.Wb(),d.Fc(13,U,4,3,"ng-container",10),d.Wb(),d.Wb(),d.Xb(14,"div",5),d.Xb(15,"div",11),d.Xb(16,"label",12),d.Hc(17,"Poreski identifikacioni broj (PIB):"),d.Wb(),d.Xb(18,"input",13,14),d.fc("ngModelChange",(function(e){return n.company.pib=e})),d.Wb(),d.Fc(20,B,3,2,"ng-container",10),d.Wb(),d.Xb(21,"div",11),d.Xb(22,"label",15),d.Hc(23,"Mati\u010dni broj:"),d.Wb(),d.Xb(24,"input",16,17),d.fc("ngModelChange",(function(e){return n.company.mat=e})),d.Wb(),d.Fc(26,J,3,2,"ng-container",10),d.Wb(),d.Wb(),d.Xb(27,"div",5),d.Xb(28,"div",6),d.Xb(29,"label",18),d.Hc(30,"Adresa:"),d.Wb(),d.Xb(31,"div",19),d.Xb(32,"div",11),d.Xb(33,"nb-select-label",20),d.Hc(34,"Op\u0161tina:"),d.Wb(),d.Xb(35,"input",21,22),d.fc("ngModelChange",(function(){d.zc(t);var e=d.xc(36);return n.chooseTownship(e.value)}))("ngModelChange",(function(e){return n.company.address.location.townshipName=e})),d.Wb(),d.Xb(37,"nb-autocomplete",null,23),d.Fc(39,Y,2,2,"nb-option",24),d.kc(40,"async"),d.Wb(),d.Fc(41,Q,2,1,"ng-container",10),d.Wb(),d.Xb(42,"div",11),d.Xb(43,"nb-select-label",25),d.Hc(44,"Location:"),d.Wb(),d.Xb(45,"input",26,27),d.fc("ngModelChange",(function(){d.zc(t);var e=d.xc(46);return n.findPlaces(e.value)}))("ngModelChange",(function(e){return n.company.address.location.placeName=e})),d.Wb(),d.Xb(47,"nb-autocomplete",null,28),d.Fc(49,ee,2,2,"nb-option",24),d.kc(50,"async"),d.Wb(),d.Fc(51,te,2,1,"ng-container",10),d.Wb(),d.Wb(),d.Xb(52,"div",29),d.Xb(53,"div",30),d.Xb(54,"label",31),d.Hc(55,"Po\u0161tanski broj:"),d.Wb(),d.Xb(56,"input",32,33),d.fc("ngModelChange",(function(e){return n.company.address.location.zipCode=e})),d.Wb(),d.Fc(58,oe,3,2,"ng-container",10),d.Wb(),d.Xb(59,"div",34),d.Xb(60,"label",35),d.Hc(61,"Ulica i broj:"),d.Wb(),d.Xb(62,"input",36,37),d.fc("ngModelChange",(function(e){return n.company.address.street=e})),d.Wb(),d.Fc(64,se,3,2,"ng-container",10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(65,"div",5),d.Xb(66,"div",6),d.Xb(67,"nb-select-label",38),d.Hc(68,"\u0160ifra delatnosti:"),d.Wb(),d.Xb(69,"input",39,40),d.fc("ngModelChange",(function(){d.zc(t);var e=d.xc(70);return n.findOccupations(e.value)}))("ngModelChange",(function(e){return n.company.occupation.name=e})),d.Wb(),d.Xb(71,"nb-autocomplete",null,41),d.Fc(73,le,2,3,"nb-option",24),d.kc(74,"async"),d.Wb(),d.Fc(75,ue,2,1,"ng-container",10),d.Wb(),d.Wb(),d.Xb(76,"div",5),d.Xb(77,"div",42),d.Xb(78,"label",43),d.Hc(79,"Email firme:"),d.Wb(),d.Xb(80,"input",44,45),d.fc("ngModelChange",(function(e){return n.company.email=e})),d.Wb(),d.Fc(82,ge,3,2,"ng-container",10),d.Wb(),d.Xb(83,"div",42),d.Xb(84,"label",46),d.Hc(85,"Telefon firme:"),d.Wb(),d.Xb(86,"input",47,48),d.fc("ngModelChange",(function(e){return n.company.telephone=e})),d.Wb(),d.Fc(88,he,3,2,"ng-container",10),d.Wb(),d.Xb(89,"div",42),d.Xb(90,"label",49),d.Hc(91,"Faks firme:"),d.Wb(),d.Xb(92,"input",50,51),d.fc("ngModelChange",(function(e){return n.company.fax=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(94,"div",5),d.Xb(95,"div",11),d.Xb(96,"nb-select-label",52),d.Hc(97,"Birajte email za prijem dokumenata: "),d.Wb(),d.Xb(98,"nb-select",53,54),d.fc("ngModelChange",(function(e){return n.company.emailReception=e})),d.Xb(100,"nb-option",55),d.fc("selectionChange",(function(){return n.clearTmpEmail()})),d.Hc(101),d.Wb(),d.Xb(102,"nb-option",55),d.fc("selectionChange",(function(){return n.clearTmpEmail()})),d.Hc(103),d.Wb(),d.Xb(104,"nb-option",56,57),d.Hc(106,"Drugi email"),d.Wb(),d.Wb(),d.Fc(107,We,2,1,"ng-container",10),d.Wb(),d.Fc(108,Ce,6,6,"div",58),d.Wb(),d.Xb(109,"div",5),d.Xb(110,"div",6),d.Xb(111,"label",59),d.Hc(112,"Puno ime zakonskog zastupnika firme:"),d.Wb(),d.Xb(113,"div",60),d.Xb(114,"div",11),d.Xb(115,"label",61),d.Hc(116,"Ime:"),d.Wb(),d.Xb(117,"input",62,63),d.fc("ngModelChange",(function(e){return n.connectfName(e)}))("ngModelChange",(function(e){return n.fNameLegalRep=e})),d.Wb(),d.Fc(119,je,3,2,"ng-container",10),d.Wb(),d.Xb(120,"div",11),d.Xb(121,"label",64),d.Hc(122,"Prezime:"),d.Wb(),d.Xb(123,"input",65,66),d.fc("ngModelChange",(function(e){return n.connectlName(e)}))("ngModelChange",(function(e){return n.lNameLegalRep=e})),d.Wb(),d.Fc(125,xe,3,2,"ng-container",10),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(126,"button",67),d.Hc(127," Nazad "),d.Wb(),d.Xb(128,"button",68),d.fc("click",(function(){d.zc(t);var e=d.xc(6);return n.validateCompany(e)})),d.Hc(129," Dalje "),d.Wb(),d.Wb(),d.Wb(),d.Sb(130,"nb-step",69),d.Sb(131,"nb-step",70),d.Sb(132,"nb-step",71),d.Wb()}if(2&e){var i=d.xc(12),a=d.xc(19),o=d.xc(25),r=d.xc(36),c=d.xc(38),s=d.xc(46),l=d.xc(48),b=d.xc(57),u=d.xc(63),p=d.xc(70),g=d.xc(72),m=d.xc(81),f=d.xc(87),h=d.xc(93),v=d.xc(99),W=d.xc(105),y=d.xc(118),X=d.xc(124);d.Eb(11),d.pc("ngModel",n.company.name)("maxlength",n.getConfigValue("forms.validation.companyName.maxLength"))("minlength",n.getConfigValue("forms.validation.companyName.minLength"))("required",n.getConfigValue("forms.validation.companyName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched||n.checkIssues),d.Eb(5),d.pc("ngModel",n.company.pib)("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern"))("required",n.getConfigValue("forms.validation.pib.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.company.mat)("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern"))("required",n.getConfigValue("forms.validation.mat.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched||n.checkIssues),d.Eb(9),d.pc("ngModel",n.company.address.location.townshipName)("nbAutocomplete",c)("required",n.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.pc("ngForOf",d.lc(40,97,n.townships$)),d.Eb(2),d.pc("ngIf",n.checkIssues),d.Eb(4),d.pc("ngModel",n.company.address.location.placeName)("nbAutocomplete",l)("required",n.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(4),d.pc("ngForOf",d.lc(50,99,n.places$)),d.Eb(2),d.pc("ngIf",n.checkIssues),d.Eb(5),d.pc("ngModel",n.company.address.location.zipCode)("maxlength",n.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",n.getConfigValue("forms.validation.postanskiBroj.minLength"))("required",n.getConfigValue("forms.validation.postanskiBroj.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),d.Eb(2),d.pc("ngIf",b.invalid&&b.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.company.address.street)("minlength",n.getConfigValue("forms.validation.street.minLength"))("required",n.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),d.Eb(2),d.pc("ngIf",u.invalid&&u.touched||n.checkIssues),d.Eb(5),d.pc("ngModel",n.company.occupation.name)("nbAutocomplete",g)("required",n.getConfigValue("forms.validation.occupation.required")),d.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),d.Eb(4),d.pc("ngForOf",d.lc(74,101,n.occupations$)),d.Eb(2),d.pc("ngIf",p.invalid&&p.touched||n.checkIssues),d.Eb(5),d.pc("ngModel",n.company.email)("required",n.getConfigValue("forms.validation.email.required"))("pattern",n.getConfigValue("forms.validation.email.pattern"))("status",m.dirty?m.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),d.Eb(2),d.pc("ngIf",m.invalid&&m.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.company.telephone)("maxlength",n.getConfigValue("forms.validation.phone.maxLength"))("minlength",n.getConfigValue("forms.validation.phone.minLength"))("required",n.getConfigValue("forms.validation.phone.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),d.Eb(2),d.pc("ngIf",f.invalid&&f.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.company.fax)("maxlength",n.getConfigValue("forms.validation.phone.maxLength"))("minlength",n.getConfigValue("forms.validation.phone.minLength")),d.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),d.Eb(6),d.pc("ngModel",n.company.emailReception)("required",n.getConfigValue("forms.validation.email.required"))("selected",n.company.email)("status",v.dirty?v.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),d.Eb(2),d.pc("value",n.company.email),d.Eb(1),d.Ic(n.company.email),d.Eb(1),d.pc("value",null==n.user?null:n.user.email),d.Eb(1),d.Ic(null==n.user?null:n.user.email),d.Eb(1),d.pc("value",n.company.emailReception),d.Eb(3),d.pc("ngIf",v.invalid&&v.touched||n.checkIssues),d.Eb(1),d.pc("ngIf",W.selected),d.Eb(9),d.pc("ngModel",n.fNameLegalRep)("maxlength",n.getConfigValue("forms.validation.firstNamemaxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",y.dirty?y.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!y.invalid||!y.touched)||null),d.Eb(2),d.pc("ngIf",y.invalid&&y.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.lNameLegalRep)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",X.dirty?X.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!X.invalid||!X.touched)||null),d.Eb(2),d.pc("ngIf",X.invalid&&X.touched||n.checkIssues)}},directives:[X.vb,X.ub,c.w,c.l,c.m,X.N,c.b,c.k,c.n,c.f,c.g,c.s,r.m,c.q,X.nb,X.r,X.q,r.l,X.mb,X.cb,X.t,s.d],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}"]}),we),Ne=function(){return{standalone:!0}};function He(e,n){if(1&e){var t=d.Yb();d.Xb(0,"form",2),d.fc("ngSubmit",(function(){return d.zc(t),d.jc().updatePermitsForm()})),d.Xb(1,"div",3),d.Xb(2,"div",4),d.Xb(3,"label",5),d.Hc(4,"Broj dozvola:"),d.Wb(),d.Xb(5,"input",6),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().permitsNo=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"div",3),d.Xb(7,"div",7),d.Xb(8,"button",8),d.Hc(9,"Odaberi"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.jc();d.Eb(5),d.pc("ngModelOptions",d.sc(2,Ne))("ngModel",i.permitsNo)}}function ze(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Naziv dozvole je obavezna! "),d.Wb())}function Se(e,n){if(1&e&&(d.Xb(0,"p",34),d.Hc(1),d.Wb()),2&e){var t=d.jc(4);d.Eb(1),d.Jc(" Naziv dozvole mora biti du\u017ei od ",t.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function Ve(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ze,2,0,"p",33),d.Fc(2,Se,2,1,"p",33),d.Ub()),2&e){d.jc();var t=d.xc(10);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.maxLength)||(null==t.errors?null:t.errors.minLength))}}function Pe(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," \u0160ifra dozvole je obavezna! "),d.Wb())}function Re(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Pe,2,0,"p",33),d.Ub()),2&e){d.jc();var t=d.xc(16);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function Te(e,n){if(1&e&&(d.Xb(0,"nb-option",39),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t),d.Eb(1),d.Ic(t.name)}}function qe(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Postrojenje za koje je vezana dozvola je obavezno! "),d.Wb())}function Le(e,n){if(1&e&&(d.Vb(0),d.Fc(1,qe,2,0,"p",33),d.Ub()),2&e){d.jc();var t=d.xc(4);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function _e(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",18),d.Xb(1,"label",35),d.Hc(2,"Odaberi postrojenje:"),d.Wb(),d.Xb(3,"nb-select",36,37),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().$implicit.storage=e}))("ngModelChange",(function(){d.zc(t);var e=d.jc().$implicit;return d.jc(2).setAddress(e,e.storage)})),d.Fc(5,Te,2,2,"nb-option",38),d.kc(6,"async"),d.Wb(),d.Fc(7,Le,2,1,"ng-container",17),d.Wb()}if(2&e){var i=d.xc(4),a=d.jc().$implicit,o=d.jc(2);d.Eb(3),d.pc("ngModel",a.storage)("ngModelOptions",d.sc(7,Ne))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Eb(2),d.pc("ngForOf",d.lc(6,5,o.storages$)),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched||o.checkIssues)}}function $e(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Datum nastanka dozvole je obavezan! "),d.Wb())}function Ue(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),d.Wb())}function Ae(e,n){if(1&e&&(d.Vb(0),d.Fc(1,$e,2,0,"p",33),d.Fc(2,Ue,2,0,"p",33),d.Ub()),2&e){var t=d.jc().$implicit,i=d.xc(23),a=d.jc(2);d.Eb(1),d.pc("ngIf",null==i.errors?null:i.errors.required),d.Eb(1),d.pc("ngIf",!a.dateValid(t))}}function De(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Datum isteka dozvole je obavezan! "),d.Wb())}function Be(e,n){if(1&e&&(d.Vb(0),d.Fc(1,De,2,0,"p",33),d.Ub()),2&e){d.jc();var t=d.xc(31);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function Ge(e,n){1&e&&(d.Xb(0,"p",34),d.Hc(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),d.Wb())}function Ke(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Ge,2,0,"p",33),d.Ub()),2&e){var t=d.jc().$implicit;d.Eb(1),d.pc("ngIf",t.trashList.length<1)}}function Je(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",7),d.Xb(1,"form",null,11),d.Xb(3,"nb-card",12),d.Xb(4,"nb-card-body"),d.Xb(5,"div",3),d.Xb(6,"div",13),d.Xb(7,"label",14),d.Hc(8,"Naziv Dozvole:"),d.Wb(),d.Xb(9,"input",15,16),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.name=e})),d.Wb(),d.Fc(11,Ve,3,2,"ng-container",17),d.Wb(),d.Xb(12,"div",18),d.Xb(13,"label",19),d.Hc(14,"\u0160ifra Dozvole:"),d.Wb(),d.Xb(15,"input",20,21),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.code=e})),d.Wb(),d.Fc(17,Re,2,1,"ng-container",17),d.Wb(),d.Fc(18,_e,8,8,"div",22),d.Xb(19,"div",4),d.Xb(20,"label",23),d.Hc(21,"Datum izdavanja dozvole:"),d.Wb(),d.Xb(22,"input",24,25),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.dateCreation=e})),d.Wb(),d.Sb(24,"nb-datepicker",null,26),d.Fc(26,Ae,3,2,"ng-container",17),d.Wb(),d.Xb(27,"div",4),d.Xb(28,"label",27),d.Hc(29,"Datum isteka dozvole:"),d.Wb(),d.Xb(30,"input",28,29),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.dateExpiration=e})),d.Wb(),d.Sb(32,"nb-datepicker",null,30),d.Fc(34,Be,2,1,"ng-container",17),d.Wb(),d.Xb(35,"div",31),d.Xb(36,"button",32),d.fc("click",(function(){d.zc(t);var e=n.$implicit;return d.jc(2).choosePermit(e)})),d.Hc(37,"Odaberi otpade "),d.Wb(),d.Fc(38,Ke,2,1,"ng-container",17),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=n.$implicit,a=n.index,o=d.xc(10),r=d.xc(16),c=d.xc(23),s=d.xc(25),l=d.xc(31),b=d.xc(33),u=d.jc(2);d.Eb(9),d.rc("placeholder","Dozvola #",a+1,""),d.pc("ngModel",i.name)("ngModelOptions",d.sc(32,Ne))("required",u.getConfigValue("forms.validation.permitName.required"))("maxlength",u.getConfigValue("forms.validation.permitName.maxLength"))("minLength",u.getConfigValue("forms.validation.permitName.minLength"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched||u.checkIssues),d.Eb(4),d.pc("ngModel",i.code)("ngModelOptions",d.sc(33,Ne))("required",u.getConfigValue("forms.validation.permitCode.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched||u.checkIssues),d.Eb(1),d.pc("ngIf","transport"!==u.permitType),d.Eb(4),d.pc("ngModel",i.dateCreation)("nbDatepicker",s)("ngModelOptions",d.sc(34,Ne))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(i)?"success":"danger"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(4),d.pc("ngIf",!u.dateValid(i)||u.checkIssues),d.Eb(4),d.pc("ngModel",i.dateExpiration)("nbDatepicker",b)("ngModelOptions",d.sc(35,Ne))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(i)?"success":"danger"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(4),d.pc("ngIf",l.invalid&&l.touched||u.checkIssues),d.Eb(2),d.pc("disabled",""===i.code),d.Eb(2),d.pc("ngIf",u.checkIssues)}}function Ye(e,n){if(1&e&&(d.Xb(0,"div",9),d.Fc(1,Je,39,36,"div",10),d.kc(2,"async"),d.Wb()),2&e){var t=d.jc();d.Eb(1),d.pc("ngForOf",d.lc(2,1,t.permits$))}}var Ze,Qe=((Ze=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.router=t,this.registerService=i,this.locationService=a,this.storageNo=1,this.storages=[],this.permitsNo=1,this.checkIssues=!1,this.valid=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&void 0!==n.permits&&(e.permits=e.company.permits.filter((function(n){return n.type===e.permitType})),e.permits$=Object(b.a)(e.permits))})),"transport"!==this.permitType&&(this.permitsNo=this.storageNo,this.storages$=Object(b.a)(this.storages)),this.validatePermits(),this.registerService.sendCompany(Object(b.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(S.a)()).subscribe((function(n){e.townships=n,e.townships$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"checkValid",value:function(){return this.validatePermits(),!!this.valid||(this.checkIssues=!0,!1)}},{key:"validatePermits",value:function(){this.valid=this.permits.length>0;var e,n=_createForOfIteratorHelper(this.permits);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(""===t.name||t.name.length<3){this.valid=!1;break}if(""===t.code){this.valid=!1;break}if(void 0===t.dateCreation||void 0===t.dateExpiration){this.valid=!1;break}if(void 0===t.storage&&"transport"!==this.permitType){this.valid=!1;break}if(t.trashList.length<1){this.valid=!1;break}}}catch(i){n.e(i)}finally{n.f()}}},{key:"updatePermitsForm",value:function(){this.permits=new Array(this.permitsNo);for(var e=0;e<this.permitsNo;e++)this.permits[e]={address:{location:void 0,street:""},code:"",dateCreation:new Date,dateExpiration:new Date,name:"",storage:{name:"",maxAmount:0,address:{location:{placeCode:0,placeName:"",townshipCode:0,townshipName:"",zipCode:""},street:""},amount:0},trashList:[],type:this.permitType};this.permits$=Object(b.a)(this.permits),this.company.permits=this.permits,this.validatePermits()}},{key:"choosePermit",value:function(e){this.registerService.sendPermit(Object(b.a)(e.code)),this.router.navigate(["/auth/register-permit"])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"setAddress",value:function(e,n){e.address=n.address}}]),e}()).\u0275fac=function(e){return new(e||Ze)(d.Rb(y.a),d.Rb(s.c),d.Rb(h),d.Rb(f))},Ze.\u0275cmp=d.Lb({type:Ze,selectors:[["register-trash-permit"]],inputs:{permitType:"permitType",storageNo:"storageNo",storages:"storages"},decls:2,vars:2,consts:[[3,"ngSubmit",4,"ngIf"],["class","row pt-4",4,"ngIf"],[3,"ngSubmit"],[1,"row"],[1,"col-6"],["for","input-permitsNo",1,"col-12"],["name","vehiclesNo","fullWidth","","nbInput","","id","input-permitsNo","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-12"],["nbButton","","status","primary","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-permitName",1,"label"],["autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"col-6","mb-2"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],["class","col-6 mb-2",4,"ngIf"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-permitsStorage",1,"label"],["name","permitsStorage","fullWidth","","id","input-permitsStorage","required","",3,"ngModel","ngModelOptions","status","ngModelChange"],["permitsStorage","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(d.Fc(0,He,10,3,"form",0),d.Fc(1,Ye,3,3,"div",1)),2&e&&(d.pc("ngIf","transport"===n.permitType),d.Eb(1),d.pc("ngIf",n.permitsNo>0))},directives:[r.m,c.w,c.l,c.m,X.N,c.p,c.b,c.k,c.n,X.t,r.l,X.w,X.v,c.s,c.f,X.G,X.F,X.mb,X.cb],pipes:[r.b],styles:[""]}),Ze),en=["permitRef"];function nn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Naziv skladi\u0161ta je obavezan! "),d.Wb())}function tn(e,n){if(1&e&&(d.Xb(0,"p",56),d.Hc(1),d.Wb()),2&e){var t=d.jc(4);d.Eb(1),d.Jc(" Naziv skladi\u0161ta mora biti du\u017ei od ",t.getConfigValue("forms.validation.storageName.minLength")," slova! ")}}function an(e,n){if(1&e&&(d.Vb(0),d.Fc(1,nn,2,0,"p",55),d.Fc(2,tn,2,1,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(10);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function on(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Vrsta skladi\u0161ta je obavezna! "),d.Wb())}function rn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,on,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(5);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}var cn=function(){return{standalone:!0}};function sn(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",14),d.Xb(1,"div",5),d.Xb(2,"nb-select-label",57),d.Hc(3,"Vrsta Deponije:"),d.Wb(),d.Xb(4,"nb-select",58,59),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().$implicit.dumpType=e})),d.Xb(6,"nb-option",60),d.Hc(7,"Neopasan otpad"),d.Wb(),d.Xb(8,"nb-option",61),d.Hc(9,"Opasan otpad"),d.Wb(),d.Xb(10,"nb-option",62),d.Hc(11,"Inertan otpad"),d.Wb(),d.Wb(),d.Fc(12,rn,2,1,"ng-container",18),d.Wb(),d.Wb()}if(2&e){var i=d.xc(5),a=d.jc().$implicit,o=d.jc(2);d.Eb(4),d.pc("ngModel",a.dumpType)("ngModelOptions",d.sc(6,cn))("required",o.getConfigValue("forms.validation.dumpType.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(8),d.pc("ngIf",i.invalid&&i.touched||o.checkIssues)}}function ln(e,n){if(1&e&&(d.Xb(0,"nb-option",54),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t),d.Eb(1),d.Ic(t)}}function bn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Op\u0161tina je obavezna! "),d.Wb())}function un(e,n){if(1&e&&(d.Vb(0),d.Fc(1,bn,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(22);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function dn(e,n){if(1&e&&(d.Xb(0,"nb-option",54),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.pc("value",t),d.Eb(1),d.Ic(t)}}function pn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Mesto je obavezno! "),d.Wb())}function gn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,pn,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(32);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function mn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Po\u0161tanski broj je obavezan! "),d.Wb())}function fn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Po\u0161tanski broj mora biti validan! "),d.Wb())}function hn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,mn,2,0,"p",55),d.Fc(2,fn,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(43);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function vn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Ulica je obavezna! "),d.Wb())}function Wn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,vn,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(49);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required)}}function yn(e,n){if(1&e&&(d.Xb(0,"p",56),d.Hc(1),d.Wb()),2&e){var t=d.jc(4);d.Eb(1),d.Jc(" Geolokacija istok mora imati bar ",t.getConfigValue("forms.validation.geolocation.minLength")-2," decimale ")}}function Xn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,yn,2,1,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(56);d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function kn(e,n){if(1&e&&(d.Xb(0,"p",56),d.Hc(1),d.Wb()),2&e){var t=d.jc(4);d.Eb(1),d.Jc(" Geolokacija istok mora imati bar ",t.getConfigValue("forms.validation.geolocation.minLength")," decimale! ")}}function Cn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,kn,2,1,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(62);d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function In(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Veli\u010dina skladi\u0161ta je obavezna! "),d.Wb())}function Mn(e,n){1&e&&(d.Xb(0,"p",56),d.Hc(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),d.Wb())}function jn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,In,2,0,"p",55),d.Fc(2,Mn,2,0,"p",55),d.Ub()),2&e){d.jc();var t=d.xc(71),i=d.jc(2);d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.required)||i.isNaN(t.value)),d.Eb(1),d.pc("ngIf",t<1)}}function En(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",5),d.Xb(1,"form",null,12),d.Xb(3,"nb-card",13),d.Xb(4,"nb-card-body"),d.Xb(5,"div",14),d.Xb(6,"div",5),d.Xb(7,"label",15),d.Hc(8,"Naziv Skladi\u0161ta:"),d.Wb(),d.Xb(9,"input",16,17),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.name=e})),d.Wb(),d.Fc(11,an,3,2,"ng-container",18),d.Wb(),d.Wb(),d.Fc(12,sn,13,7,"div",19),d.Xb(13,"div",20),d.Xb(14,"div",5),d.Xb(15,"label",21),d.Hc(16,"Adresa:"),d.Wb(),d.Xb(17,"div",22),d.Xb(18,"div",23),d.Xb(19,"nb-select-label",24),d.Hc(20,"Op\u0161tina:"),d.Wb(),d.Xb(21,"input",25,26),d.fc("ngModelChange",(function(){d.zc(t);var e=d.xc(22);return d.jc(2).chooseTownship(e.value)}))("ngModelChange",(function(e){return d.zc(t),n.$implicit.address.location.townshipName=e})),d.Wb(),d.Xb(23,"nb-autocomplete",null,27),d.Fc(25,ln,2,2,"nb-option",28),d.kc(26,"async"),d.Wb(),d.Fc(27,un,2,1,"ng-container",18),d.Wb(),d.Xb(28,"div",23),d.Xb(29,"nb-select-label",29),d.Hc(30,"Location:"),d.Wb(),d.Xb(31,"input",30,31),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc(2).findPlaces(e)}))("ngModelChange",(function(e){return d.zc(t),n.$implicit.address.location.placeName=e})),d.Wb(),d.Xb(33,"nb-autocomplete",null,32),d.Fc(35,dn,2,2,"nb-option",28),d.kc(36,"async"),d.Wb(),d.Fc(37,gn,2,1,"ng-container",18),d.Wb(),d.Wb(),d.Xb(38,"div",33),d.Xb(39,"div",34),d.Xb(40,"label",35),d.Hc(41,"Po\u0161tanski broj:"),d.Wb(),d.Xb(42,"input",36,37),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.address.location.zipCode=e})),d.Wb(),d.Fc(44,hn,3,2,"ng-container",18),d.Wb(),d.Xb(45,"div",38),d.Xb(46,"label",39),d.Hc(47,"Ulica i broj:"),d.Wb(),d.Xb(48,"input",40,41),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.address.street=e})),d.Wb(),d.Fc(50,Wn,2,1,"ng-container",18),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",20),d.Xb(52,"div",23),d.Xb(53,"label",42),d.Hc(54,"Geolokacija Sever(N):"),d.Wb(),d.Xb(55,"input",43,44),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.geolocationNorth=e})),d.Wb(),d.Fc(57,Xn,2,1,"ng-container",18),d.Wb(),d.Xb(58,"div",23),d.Xb(59,"label",45),d.Hc(60,"Geolokacija Istok(E0):"),d.Wb(),d.Xb(61,"input",46,47),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.geolocationEast=e})),d.Wb(),d.Fc(63,Cn,2,1,"ng-container",18),d.Wb(),d.Wb(),d.Xb(64,"div",20),d.Xb(65,"div",5),d.Xb(66,"label",48),d.Hc(67,"Veli\u010dina skladi\u0161ta:"),d.Wb(),d.Xb(68,"div",4),d.Xb(69,"div",49),d.Xb(70,"input",50,51),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.maxAmount=e})),d.Wb(),d.Wb(),d.Xb(72,"div",52),d.Xb(73,"nb-select",53),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc(2).storageAmmountUnit=e})),d.Xb(74,"nb-option",54),d.Hc(75,"KG"),d.Wb(),d.Xb(76,"nb-option",54),d.Hc(77,"T"),d.Wb(),d.Wb(),d.Wb(),d.Fc(78,jn,3,2,"ng-container",18),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=n.$implicit,a=n.index,o=d.xc(10),r=d.xc(22),c=d.xc(24),s=d.xc(32),l=d.xc(34),b=d.xc(43),u=d.xc(49),p=d.xc(56),g=d.xc(62),m=d.xc(71),f=d.jc(2);d.Eb(9),d.pc("ngModel",i.name)("maxlength",f.getConfigValue("forms.validation.storageName.maxLength"))("minlength",f.getConfigValue("forms.validation.storageName.minLength"))("ngModelOptions",d.sc(73,cn))("placeholder","Skladiste #"+a+1)("required",f.getConfigValue("forms.validation.storageName.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched||f.checkIssues),d.Eb(1),d.pc("ngIf","dump"===f.storageType),d.Eb(9),d.pc("ngModel",i.address.location.townshipName)("nbAutocomplete",c)("ngModelOptions",d.sc(74,cn))("required",f.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.pc("ngForOf",d.lc(26,69,f.townships$)),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched||f.checkIssues),d.Eb(4),d.pc("ngModel",i.address.location.placeName)("nbAutocomplete",l)("ngModelOptions",d.sc(75,cn))("required",f.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(4),d.pc("ngForOf",d.lc(36,71,f.places$)),d.Eb(2),d.pc("ngIf",s.invalid&&s.touched||f.checkIssues),d.Eb(5),d.pc("ngModel",i.address.location.zipCode)("maxlength",f.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",f.getConfigValue("forms.validation.zipCode.minLength"))("ngModelOptions",d.sc(76,cn))("required",f.getConfigValue("forms.validation.zipCode.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),d.Eb(2),d.pc("ngIf",b.invalid&&b.touched||f.checkIssues),d.Eb(4),d.pc("ngModel",i.address.street)("maxlength",f.getConfigValue("forms.validation.street.maxLength"))("minlength",f.getConfigValue("forms.validation.street.minLength"))("ngModelOptions",d.sc(77,cn))("required",f.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),d.Eb(2),d.pc("ngIf",u.invalid&&u.touched||f.checkIssues),d.Eb(5),d.pc("ngModel",i.geolocationNorth)("maxlength",f.getConfigValue("forms.validation.geolocation.maxLength"))("minlength",f.getConfigValue("forms.validation.geolocation.minLength"))("pattern",f.getConfigValue("forms.validation.geolocation.pattern"))("ngModelOptions",d.sc(78,cn))("required",f.getConfigValue("forms.validation.geolocation.required"))("status",p.dirty?p.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),d.Eb(2),d.pc("ngIf",p.invalid&&p.touched),d.Eb(4),d.pc("ngModel",i.geolocationEast)("maxlength",f.getConfigValue("forms.validation.geolocation.maxLength"))("minlength",f.getConfigValue("forms.validation.geolocation.minLength"))("ngModelOptions",d.sc(79,cn))("pattern",f.getConfigValue("forms.validation.geolocation.pattern"))("required",f.getConfigValue("forms.validation.geolocation.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),d.Eb(2),d.pc("ngIf",g.invalid&&g.touched),d.Eb(7),d.pc("ngModel",i.maxAmount)("min",f.getConfigValue("forms.validation.storageSize.min"))("ngModelOptions",d.sc(80,cn))("required",f.getConfigValue("forms.validation.storageSize.required"))("status",m.dirty?m.invalid?"danger":"success":"basic"),d.Eb(3),d.pc("ngModelOptions",d.sc(81,cn))("selected","KG")("ngModel",f.storageAmmountUnit),d.Eb(1),d.pc("value","KG"),d.Eb(2),d.pc("value","T"),d.Eb(2),d.pc("ngIf",m.invalid&&m.touched||f.checkIssues)}}function On(e,n){if(1&e&&(d.Xb(0,"div",10),d.Fc(1,En,79,82,"div",11),d.kc(2,"async"),d.Wb()),2&e){var t=d.jc();d.Eb(1),d.pc("ngForOf",d.lc(2,1,t.storages$))}}function xn(e,n){if(1&e&&d.Sb(0,"register-trash-permit",63,64),2&e){var t=d.jc();d.pc("storageNo",t.storageNo)("storages",t.storages)("permitType",t.storageType)}}var wn,Fn=((wn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=t,this.locationService=i,this.storageNo=1,this.initStorage=[],this.storageAmmountUnit="KG",this.checkIssues=!1,this.valid=!1,("production"===this.storageType||"treatment"===this.storageType||"dump"===this.storageType||"cache"===this.storageType)&&(this.storages=this.initStorage)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.company=n,void 0!==n.storages&&(e.storages=e.company.storages.filter((function(n){return"production"===e.storageType?void 0===n.__t:"treatment"===e.storageType?"StorageTreatment"===n.__t:"dump"===e.storageType?"StorageDump"===n.__t:"cache"===e.storageType?"StorageCache"===n.__t:void 0})),e.storageNo=e.storages.length,e.storages$=Object(b.a)(e.storages)))})),this.validateStorage(),this.registerService.sendCompany(Object(b.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(S.a)()).subscribe((function(n){e.townships=n,e.townships$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"checkValid",value:function(){return this.validateStorage(),!(void 0!==this.permitRef&&!this.permitRef.checkValid()||!this.valid&&(this.checkIssues=!0,1))}},{key:"validateStorage",value:function(){if(void 0!==this.storages){this.valid=this.storages.length>0;var e,n=_createForOfIteratorHelper(this.storages);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(""===t.name||t.name.length<3){this.valid=!1;break}if("T"===this.storageAmmountUnit&&(t.maxAmount*=1e3),t.maxAmount<1||isNaN(t.maxAmount)){this.valid=!1;break}if(""===t.address.location.placeName||""===t.address.location.townshipName){this.valid=!1;break}if(""===t.address.street){this.valid=!1;break}if("dump"===this.storageType&&""===t.dumpType){this.valid=!1;break}}}catch(i){n.e(i)}finally{n.f()}}}},{key:"updateStorages",value:function(){this.storages=new Array(this.storageNo);for(var e=0;e<this.storageNo;e++)this.storages[e]={address:{location:{placeName:"",placeCode:0,townshipName:"",townshipCode:0,zipCode:""},street:""},amount:0,geolocationEast:"",geolocationNorth:"",maxAmount:0,name:"",packages:[],trashes:[]},"cache"===this.storageType&&(this.storages[e].cache="cache"),"treatment"===this.storageType&&(this.storages[e].treatment="treatment"),"dump"===this.storageType&&(this.storages[e].dumpType="");this.storages$=Object(b.a)(this.storages),this.company.storages=this.storages,this.validateStorage()}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(S.a)()).subscribe((function(e){n.places=e,n.places$=Object(b.a)(e)}))}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe((function(e){return n.getPlaces(e[0])}))):this.townships$=Object(b.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return!(!isNaN(e)&&void 0!==e)}))}]),e}()).\u0275fac=function(e){return new(e||wn)(d.Rb(y.a),d.Rb(h),d.Rb(f))},wn.\u0275cmp=d.Lb({type:wn,selectors:[["register-trash-storage"]],viewQuery:function(e,n){var t;1&e&&d.Oc(en,!0),2&e&&d.wc(t=d.gc())&&(n.permitRef=t.first)},inputs:{storageType:"storageType",trashType:"trashType"},decls:15,vars:5,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateStorageForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","storageNo","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[3,"storageNo","storages","permitType",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-storageName",1,"label"],["autofocus","","fullWidth","","id","input-storageName","name","storageName","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["storageName","ngModel"],[4,"ngIf"],["class","row mb-2 mt-2",4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-storageTownship",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-storageTownship","name","storageTownship","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storageTownship","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-storagePlace",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-storagePlace","name","storagePlace","nbInput","","placeholder","Location",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storagePlace","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-storageZipCode",1,"label"],["fullWidth","","id","input-storageZipCode","name","storageZipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageZipCode","ngModel"],[1,"col-9"],["for","input-storageStreet",1,"label"],["fullWidth","","id","input-storageStreet","name","storageStreet","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageStreet","ngModel"],["for","input-storageGeolocationN",1,"label"],["fullWidth","","id","input-storageGeolocationN","name","storageGeolocationN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["storageGeolocationN","ngModel"],["for","input-storageGeolocationE",1,"label"],["fullWidth","","id","input-storageGeolocationE","name","storageGeolocationE","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["storageGeolocationE","ngModel"],["for","input-storageSize",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-dumpType",1,"label"],["fullWidth","","id","input-dumpType","name","dumpType","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["dumpType","ngModel"],["value","Neopasan"],["value","Opasan"],["value","Inertan"],[3,"storageNo","storages","permitType"],["permitRef",""]],template:function(e,n){1&e&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"form",2,3),d.fc("ngSubmit",(function(){return n.updateStorages()})),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"label",5),d.Hc(7,"Broj skladi\u0161ta:"),d.Wb(),d.Xb(8,"input",6),d.fc("ngModelChange",(function(e){return n.storageNo=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",4),d.Xb(10,"div",5),d.Xb(11,"button",7),d.Hc(12,"Odaberi"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Fc(13,On,3,3,"div",8),d.Fc(14,xn,2,3,"register-trash-permit",9)),2&e&&(d.Eb(8),d.pc("ngModel",n.storageNo)("ngModelOptions",d.sc(4,cn)),d.Eb(5),d.pc("ngIf",n.storageNo>0),d.Eb(1),d.pc("ngIf","production"!==n.storageType))},directives:[c.w,c.l,c.m,X.N,c.p,c.b,c.k,c.n,X.t,r.m,r.l,X.w,X.v,c.f,c.g,c.s,X.nb,X.r,X.q,c.q,X.mb,X.cb,Qe],pipes:[r.b],styles:[""]}),wn),Nn=["permitRef"];function Hn(e,n){1&e&&(d.Xb(0,"p",29),d.Hc(1," Registarski broj tablica je obavezan! "),d.Wb())}function zn(e,n){1&e&&(d.Xb(0,"p",29),d.Hc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),d.Wb())}function Sn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Hn,2,0,"p",28),d.Fc(2,zn,2,0,"p",28),d.Ub()),2&e){d.jc();var t=d.xc(9);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.pattern)||(null==t.errors?null:t.errors.minLength))}}function Vn(e,n){1&e&&(d.Xb(0,"p",29),d.Hc(1," Vrsta vozila je obavezna! "),d.Wb())}function Pn(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Vn,2,0,"p",28),d.Ub()),2&e){d.jc();var t=d.xc(15);d.Eb(1),d.pc("ngIf",!t.value)}}var Rn=function(){return{standalone:!0}};function Tn(e,n){if(1&e){var t=d.Yb();d.Xb(0,"div",5),d.Xb(1,"form",null,15),d.Xb(3,"nb-card",16),d.Xb(4,"nb-card-body"),d.Xb(5,"div",17),d.Xb(6,"label",18),d.Hc(7,"Registarski broj tablice:"),d.Wb(),d.Xb(8,"input",19,20),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.licensePlate=e})),d.Wb(),d.Fc(10,Sn,3,2,"ng-container",21),d.Wb(),d.Xb(11,"div",17),d.Xb(12,"label",22),d.Hc(13,"Vrsta vozila:"),d.Wb(),d.Xb(14,"nb-select",23,24),d.fc("ngModelChange",(function(e){return d.zc(t),n.$implicit.type=e})),d.Xb(16,"nb-option",25),d.Hc(17,"Kamion"),d.Wb(),d.Xb(18,"nb-option",26),d.Hc(19,"Kombi"),d.Wb(),d.Xb(20,"nb-option",27),d.Hc(21,"Automobil"),d.Wb(),d.Wb(),d.Fc(22,Pn,2,1,"ng-container",21),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=n.$implicit,a=d.xc(9),o=d.xc(15),r=d.jc(2);d.Eb(8),d.pc("ngModel",i.licensePlate)("maxlength",r.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",r.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",d.sc(15,Rn))("pattern",r.getConfigValue("forms.validation.licensePlate.pattern"))("required",r.getConfigValue("forms.validation.licensePlate.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched||r.checkIssues),d.Eb(4),d.pc("ngModel",i.type)("ngModelOptions",d.sc(16,Rn))("required",r.getConfigValue("forms.validation.vehicleType.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(8),d.pc("ngIf",o.invalid&&o.touched||r.checkIssues)}}function qn(e,n){if(1&e&&(d.Xb(0,"div",13),d.Fc(1,Tn,23,17,"div",14),d.kc(2,"async"),d.Wb()),2&e){var t=d.jc();d.Eb(1),d.pc("ngForOf",d.lc(2,1,t.vehicles$))}}var Ln,_n=((Ln=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=t,this.valid=!1,this.checkIssues=!1,this.vehiclesNo=1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.company=n,void 0!==n.vehicles&&(e.vehiclesNo=e.company.vehicles.length,e.vehicles=e.company.vehicles,e.vehicles$=Object(b.a)(e.vehicles)))})),this.validateVehicles(),this.registerService.sendCompany(Object(b.a)(this.company))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"checkValid",value:function(){return this.validateVehicles(),!(!this.valid||!this.permitRef.checkValid())||(this.checkIssues=!0,!1)}},{key:"validateVehicles",value:function(){if(this.valid=!1,void 0!==this.vehicles){var e,n=_createForOfIteratorHelper(this.vehicles);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(""===t.licensePlate||t.licensePlate.length<9){this.valid=!1;break}if(""===t.type){this.valid=!1;break}}}catch(i){n.e(i)}finally{n.f()}}}},{key:"updateVehiclesForm",value:function(){this.vehicles=new Array(this.vehiclesNo);for(var e=0;e<this.vehiclesNo;e++)this.vehicles[e]={licensePlate:"",type:""};this.company.vehicles=this.vehicles,this.vehicles$=Object(b.a)(this.vehicles),this.validateVehicles()}}]),e}()).\u0275fac=function(e){return new(e||Ln)(d.Rb(y.a),d.Rb(h))},Ln.\u0275cmp=d.Lb({type:Ln,selectors:[["register-trash-transport"]],viewQuery:function(e,n){var t;1&e&&d.Oc(Nn,!0),2&e&&d.wc(t=d.gc())&&(n.permitRef=t.first)},decls:16,vars:5,consts:[[1,"row","my-2"],[1,"col-8"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-6"],["for","input-vehiclesNo",1,"col-12"],["name","vehiclesNo","fullWidth","","nbInput","","id","input-vehiclesNo","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-12"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[3,"permitType"],["permitRef",""],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],["transportForm","ngForm"],["accent","danger"],[1,"col-12","mb-2"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){1&e&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"form",2,3),d.fc("ngSubmit",(function(){return n.updateVehiclesForm()})),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"label",6),d.Hc(7,"Broj vozila:"),d.Wb(),d.Xb(8,"input",7),d.fc("ngModelChange",(function(e){return n.vehiclesNo=e})),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",4),d.Xb(10,"div",8),d.Xb(11,"button",9),d.Hc(12,"Odaberi"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Fc(13,qn,3,3,"div",10),d.Sb(14,"register-trash-permit",11,12)),2&e&&(d.Eb(8),d.pc("ngModelOptions",d.sc(4,Rn))("ngModel",n.vehiclesNo),d.Eb(5),d.pc("ngIf",n.vehiclesNo>0),d.Eb(1),d.pc("permitType","transport"))},directives:[c.w,c.l,c.m,X.N,c.p,c.b,c.k,c.n,X.t,r.m,Qe,r.l,X.w,X.v,c.f,c.q,c.s,X.mb,X.cb],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),Ln),$n=["productionRef"],Un=["transportRef"],An=["treatmentRef"],Dn=["dumpRef"],Bn=["cacheRef"];function Gn(e,n){1&e&&d.Sb(0,"register-trash-storage",16,17),2&e&&d.pc("storageType","production")}function Kn(e,n){if(1&e&&(d.Xb(0,"nb-accordion-item",12,13),d.Xb(2,"nb-accordion-item-header"),d.Hc(3,"Proizvodnja "),d.Sb(4,"nb-icon",14),d.Wb(),d.Xb(5,"nb-accordion-item-body"),d.Fc(6,Gn,2,1,"register-trash-storage",15),d.Wb(),d.Wb()),2&e){var t=d.xc(1),i=d.jc();d.pc("collapsed","production"!==i.activeTab),d.Eb(4),d.pc("status",i.checkCompletion("production").status)("icon",i.checkCompletion("production").icon),d.Eb(2),d.pc("ngIf",!t.collapsed)}}function Jn(e,n){1&e&&d.Sb(0,"register-trash-transport",null,20)}function Yn(e,n){if(1&e&&(d.Xb(0,"nb-accordion-item",12,18),d.Xb(2,"nb-accordion-item-header"),d.Hc(3,"Transport \xa0 "),d.Sb(4,"nb-icon",14),d.Wb(),d.Xb(5,"nb-accordion-item-body"),d.Fc(6,Jn,2,0,"register-trash-transport",19),d.Wb(),d.Wb()),2&e){var t=d.xc(1),i=d.jc();d.pc("collapsed","transport"!==i.activeTab),d.Eb(4),d.pc("status",i.checkCompletion("transport").status)("icon",i.checkCompletion("transport").icon),d.Eb(2),d.pc("ngIf",!t.collapsed)}}function Zn(e,n){1&e&&d.Sb(0,"register-trash-storage",16,22),2&e&&d.pc("storageType","treatment")}function Qn(e,n){if(1&e&&(d.Xb(0,"nb-accordion-item",12,21),d.Xb(2,"nb-accordion-item-header"),d.Hc(3,"Tretman \xa0 "),d.Sb(4,"nb-icon",14),d.Wb(),d.Xb(5,"nb-accordion-item-body"),d.Fc(6,Zn,2,1,"register-trash-storage",15),d.Wb(),d.Wb()),2&e){var t=d.xc(1),i=d.jc();d.pc("collapsed","tretman"!==i.activeTab),d.Eb(4),d.pc("status",i.checkCompletion("treatment").status)("icon",i.checkCompletion("treatment").icon),d.Eb(2),d.pc("ngIf",!t.collapsed)}}function et(e,n){1&e&&d.Sb(0,"register-trash-storage",16,24),2&e&&d.pc("storageType","dump")}function nt(e,n){if(1&e&&(d.Xb(0,"nb-accordion-item",12,23),d.Xb(2,"nb-accordion-item-header"),d.Hc(3,"Odlaganje \xa0 "),d.Sb(4,"nb-icon",14),d.Wb(),d.Xb(5,"nb-accordion-item-body"),d.Fc(6,et,2,1,"register-trash-storage",15),d.Wb(),d.Wb()),2&e){var t=d.xc(1),i=d.jc();d.pc("collapsed","odlaganje"!==i.activeTab),d.Eb(4),d.pc("status",i.checkCompletion("dump").status)("icon",i.checkCompletion("dump").icon),d.Eb(2),d.pc("ngIf",!t.collapsed)}}function tt(e,n){1&e&&d.Sb(0,"register-trash-storage",16,26),2&e&&d.pc("storageType","cache")}function it(e,n){if(1&e&&(d.Xb(0,"nb-accordion-item",12,25),d.Xb(2,"nb-accordion-item-header"),d.Hc(3,"Skladi\u0161tenje \xa0 "),d.Sb(4,"nb-icon",14),d.Wb(),d.Xb(5,"nb-accordion-item-body"),d.Fc(6,tt,2,1,"register-trash-storage",15),d.Wb(),d.Wb()),2&e){var t=d.xc(1),i=d.jc();d.pc("collapsed","skladistenje"!==i.activeTab),d.Eb(4),d.pc("status",i.checkCompletion("cache").status)("icon",i.checkCompletion("cache").icon),d.Eb(2),d.pc("ngIf",!t.collapsed)}}var at,ot=((at=function(){function e(n,t,i,a,o){_classCallCheck(this,e),this.registerService=n,this.router=t,this.toastrService=i,this.roleService=a,this.route=o,this.valid=!1,this.activeTab="",this.loading=!1,this.activeTab=this.route.snapshot.paramMap.get("tab")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(S.a)()).subscribe((function(n){e.roleService.getOperations(n).pipe(Object(S.a)()).subscribe((function(n){e.operations=n}))}))}},{key:"checkCompletion",value:function(e){return"production"===e&&void 0!==this.productionRef&&this.operations.production&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operations.transport&&this.transportRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operations.treatment&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operations.disposal&&this.dumpRef.valid||"cache"===e&&void 0!==this.cacheRef&&this.operations.cache&&this.cacheRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}},{key:"validateInformation",value:function(e){var n=this;this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout((function(){n.valid=!0,void 0!==n.productionRef&&n.operations.production&&(n.productionRef.checkValid()||(n.valid=!1)),void 0!==n.transportRef&&n.operations.transport&&(n.transportRef.checkValid()||(n.valid=!1)),void 0!==n.treatmentRef&&n.operations.treatment&&(n.treatmentRef.checkValid()||(n.valid=!1)),void 0!==n.dumpRef&&n.operations.disposal&&(n.dumpRef.checkValid()||(n.valid=!1)),void 0!==n.cacheRef&&n.operations.cache&&(n.cacheRef.checkValid()||(n.valid=!1)),n.valid?n.router.navigate(["auth/register-confirmation"]):(e.closeAll(),e.multi=!1,n.loading=!1,n.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"))}),1e3)}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}()).\u0275fac=function(e){return new(e||at)(d.Rb(h),d.Rb(s.c),d.Rb(X.Gb),d.Rb(v.a),d.Rb(s.a))},at.\u0275cmp=d.Lb({type:at,selectors:[["register-informations"]],viewQuery:function(e,n){var t;1&e&&(d.Oc($n,!0),d.Oc(Un,!0),d.Oc(An,!0),d.Oc(Dn,!0),d.Oc(Bn,!0)),2&e&&(d.wc(t=d.gc())&&(n.productionRef=t.first),d.wc(t=d.gc())&&(n.transportRef=t.first),d.wc(t=d.gc())&&(n.treatmentRef=t.first),d.wc(t=d.gc())&&(n.dumpRef=t.first),d.wc(t=d.gc())&&(n.cacheRef=t.first))},decls:19,vars:6,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["accent","danger","size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operations",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Potvrda"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[3,"storageType",4,"ngIf"],[3,"storageType"],["productionRef",""],["accordionTransport",""],[4,"ngIf"],["transportRef",""],["accordionTreatment",""],["treatmentRef",""],["accordionDump",""],["dumpRef",""],["accordionCache",""],["cacheRef",""]],template:function(e,n){if(1&e){var t=d.Yb();d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Sb(3,"nb-step",2),d.Sb(4,"nb-step",3),d.Sb(5,"nb-step",4),d.Xb(6,"nb-step",5),d.Xb(7,"nb-accordion",6,7),d.Fc(9,Kn,7,4,"nb-accordion-item",8),d.Fc(10,Yn,7,4,"nb-accordion-item",8),d.Fc(11,Qn,7,4,"nb-accordion-item",8),d.Fc(12,nt,7,4,"nb-accordion-item",8),d.Fc(13,it,7,4,"nb-accordion-item",8),d.Wb(),d.Xb(14,"button",9),d.Hc(15," Nazad "),d.Wb(),d.Xb(16,"button",10),d.fc("click",(function(){d.zc(t);var e=d.xc(8);return n.validateInformation(e)})),d.Hc(17," Dalje "),d.Wb(),d.Wb(),d.Sb(18,"nb-step",11),d.Wb()}2&e&&(d.Eb(7),d.pc("nbSpinner",n.loading),d.Eb(2),d.pc("ngIf",n.operations.production),d.Eb(1),d.pc("ngIf",n.operations.transport),d.Eb(1),d.pc("ngIf",n.operations.treatment),d.Eb(1),d.pc("ngIf",n.operations.disposal),d.Eb(1),d.pc("ngIf",n.operations.cache))},directives:[X.vb,X.ub,X.g,X.sb,r.m,X.t,s.d,X.i,X.j,X.K,X.h,Fn,_n],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),at);function rt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Ime je obavezno! "),d.Wb())}function ct(e,n){if(1&e&&(d.Xb(0,"p",43),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," ")}}function st(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Ime mora biti validno! "),d.Wb())}function lt(e,n){if(1&e&&(d.Vb(0),d.Fc(1,rt,2,0,"p",42),d.Fc(2,ct,2,1,"p",42),d.Fc(3,st,2,0,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(11);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.pattern)}}function bt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Prezime je obavezno! "),d.Wb())}function ut(e,n){if(1&e&&(d.Xb(0,"p",43),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.prezime.minLength")," ")}}function dt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Prezime mora biti validno! "),d.Wb())}function pt(e,n){if(1&e&&(d.Vb(0),d.Fc(1,bt,2,0,"p",42),d.Fc(2,ut,2,1,"p",42),d.Fc(3,dt,2,0,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(17);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.minlength),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.pattern)}}function gt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Korisni\u010dko ime je obavezno! "),d.Wb())}function mt(e,n){if(1&e&&(d.Xb(0,"p",43),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" Korisni\u010dko ime mora biti du\u017ee od ",t.getConfigValue("forms.validation.korisnickoIme.minLength"),"! ")}}function ft(e,n){if(1&e&&(d.Vb(0),d.Fc(1,gt,2,0,"p",42),d.Fc(2,mt,2,1,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(24);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function ht(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Telefon je obavezan! "),d.Wb())}function vt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Telefon mora biti validan! "),d.Wb())}function Wt(e,n){if(1&e&&(d.Vb(0),d.Fc(1,ht,2,0,"p",42),d.Fc(2,vt,2,0,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(30);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function yt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Email je obavezan! "),d.Wb())}function Xt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Email mora biti validan! "),d.Wb())}function kt(e,n){if(1&e&&(d.Vb(0),d.Fc(1,yt,2,0,"p",42),d.Fc(2,Xt,2,0,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(37);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.pattern)}}function Ct(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," \u0160ifra je obavezna! "),d.Wb())}function It(e,n){if(1&e&&(d.Xb(0,"p",43),d.Hc(1),d.Wb()),2&e){var t=d.jc(2);d.Eb(1),d.Jc(" \u0160ifra ne sme biti kra\u0107a od ",t.getConfigValue("forms.validation.password.minLength"),"! ")}}function Mt(e,n){if(1&e&&(d.Vb(0),d.Fc(1,Ct,2,0,"p",42),d.Fc(2,It,2,1,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(46);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function jt(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," Ponovna \u0161ifra je obavezna! "),d.Wb())}function Et(e,n){1&e&&(d.Xb(0,"p",43),d.Hc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),d.Wb())}function Ot(e,n){if(1&e&&(d.Vb(0),d.Fc(1,jt,2,0,"p",42),d.Fc(2,Et,2,0,"p",42),d.Ub()),2&e){d.jc();var t=d.xc(55),i=d.xc(46);d.Eb(1),d.pc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.pc("ngIf",i.value!==t.value)}}function xt(e,n){if(1&e&&(d.Xb(0,"nb-card",27),d.Xb(1,"nb-card-body",28),d.Hc(2),d.Wb(),d.Wb()),2&e){d.jc();var t=d.xc(24);d.Eb(2),d.Jc(" Ako se bavite ",t.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function wt(e,n){if(1&e&&(d.Xb(0,"button",29),d.Hc(1),d.Wb()),2&e){var t=n.$implicit;d.Eb(1),d.Ic(t)}}var Ft,Nt,Ht,zt,St,Vt=[{path:"",component:y.c,children:[{path:"login",component:H},{path:"register-user",component:(Ht=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=t,this.router=i,this.toastrService=a,this.showPassword="eye",this.checkIssues=!1,this.user={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:"",company:null}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getUser().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.user=n)})),this.registerService.sendUser(Object(b.a)(this.user))}},{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"validateUser",value:function(e){e.valid&&this.retypePassword===this.user.password?this.router.navigate(["auth/register-company"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}(),Ht.\u0275fac=function(e){return new(e||Ht)(d.Rb(y.a),d.Rb(h),d.Rb(s.c),d.Rb(X.Gb))},Ht.\u0275cmp=d.Lb({type:Ht,selectors:[["register-user"]],decls:68,vars:51,consts:[[1,"text-center"],["disableStepNavigation",""],["label","User"],["userForm","ngForm"],[1,"row","mb-2"],[1,"col-6"],["for","input-firstName",1,"label"],["autofocus","","fullWidth","","id","input-firstName","name","firstName","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["firstName","ngModel"],[4,"ngIf"],["for","input-lastName",1,"label"],["fullWidth","","id","input-lastName","name","lastName","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["lastName","ngModel"],["for","input-username",1,"label"],["fullWidth","","id","input-username","name","username","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["username","ngModel"],["for","input-phone",1,"label"],["fullWidth","","id","input-phone","name","phone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["phone","ngModel"],[1,"col-12"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label","col-12"],[1,"row"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru",3,"ngModel","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],[1,"container-fluid"],["aria-label","Uloguj se",1,"text-center","my-2"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=d.Yb();d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Xb(3,"nb-step",2),d.Xb(4,"form",null,3),d.Xb(6,"div",4),d.Xb(7,"div",5),d.Xb(8,"label",6),d.Hc(9,"Ime:"),d.Wb(),d.Xb(10,"input",7,8),d.fc("ngModelChange",(function(e){return n.user.firstName=e})),d.Wb(),d.Fc(12,lt,4,3,"ng-container",9),d.Wb(),d.Xb(13,"div",5),d.Xb(14,"label",10),d.Hc(15,"Prezime:"),d.Wb(),d.Xb(16,"input",11,12),d.fc("ngModelChange",(function(e){return n.user.lastName=e})),d.Wb(),d.Fc(18,pt,4,3,"ng-container",9),d.Wb(),d.Wb(),d.Xb(19,"div",4),d.Xb(20,"div",5),d.Xb(21,"label",13),d.Hc(22,"Korisni\u010dko ime:"),d.Wb(),d.Xb(23,"input",14,15),d.fc("ngModelChange",(function(e){return n.user.username=e})),d.Wb(),d.Fc(25,ft,3,2,"ng-container",9),d.Wb(),d.Xb(26,"div",5),d.Xb(27,"label",16),d.Hc(28,"Telefon:"),d.Wb(),d.Xb(29,"input",17,18),d.fc("ngModelChange",(function(e){return n.user.phone=e})),d.Wb(),d.Fc(31,Wt,3,2,"ng-container",9),d.Wb(),d.Wb(),d.Xb(32,"div",4),d.Xb(33,"div",19),d.Xb(34,"label",20),d.Hc(35,"Email:"),d.Wb(),d.Xb(36,"input",21,22),d.fc("ngModelChange",(function(e){return n.user.email=e})),d.Wb(),d.Fc(38,kt,3,2,"ng-container",9),d.Wb(),d.Wb(),d.Xb(39,"div",4),d.Xb(40,"div",5),d.Xb(41,"label",23),d.Hc(42,"\u0160ifra:"),d.Wb(),d.Xb(43,"div",24),d.Xb(44,"div",25),d.Xb(45,"input",26,27),d.fc("ngModelChange",(function(e){return n.user.password=e})),d.Wb(),d.Wb(),d.Xb(47,"div",28),d.Xb(48,"button",29),d.fc("click",(function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"})),d.Sb(49,"nb-icon",30),d.Wb(),d.Wb(),d.Wb(),d.Fc(50,Mt,3,2,"ng-container",9),d.Wb(),d.Xb(51,"div",5),d.Xb(52,"label",31),d.Hc(53,"Ponovi \u0161ifru:"),d.Wb(),d.Xb(54,"input",32,33),d.fc("ngModelChange",(function(e){return n.retypePassword=e})),d.Wb(),d.Fc(56,Ot,3,2,"ng-container",9),d.Wb(),d.Wb(),d.Xb(57,"button",34),d.fc("click",(function(){d.zc(t);var e=d.xc(5);return n.validateUser(e)})),d.Hc(58," Dalje "),d.Wb(),d.Wb(),d.Wb(),d.Sb(59,"nb-step",35),d.Sb(60,"nb-step",36),d.Sb(61,"nb-step",37),d.Sb(62,"nb-step",38),d.Wb(),d.Xb(63,"div",39),d.Xb(64,"section",40),d.Hc(65," Ve\u0107 imate nalog? "),d.Xb(66,"a",41),d.Hc(67,"Uloguj se"),d.Wb(),d.Wb(),d.Wb()}if(2&e){var i=d.xc(11),a=d.xc(17),o=d.xc(24),r=d.xc(30),c=d.xc(37),s=d.xc(46),l=d.xc(55);d.Eb(10),d.pc("ngModel",n.user.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("pattern",n.getConfigValue("forms.validation.firstName.pattern"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.pc("ngIf",i.invalid&&i.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.user.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("pattern",n.getConfigValue("forms.validation.lastName.pattern"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(2),d.pc("ngIf",a.invalid&&a.touched||n.checkIssues),d.Eb(5),d.pc("ngModel",n.user.username)("maxlength",n.getConfigValue("forms.validation.username.maxLength"))("minlength",n.getConfigValue("forms.validation.username.minLength"))("required",n.getConfigValue("forms.validation.username.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(2),d.pc("ngIf",o.invalid&&o.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.user.phone)("maxlength",n.getConfigValue("forms.validation.phone.maxLength"))("minlength",n.getConfigValue("forms.validation.phone.minLength"))("required",n.getConfigValue("forms.validation.phone.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(2),d.pc("ngIf",r.invalid&&r.touched||n.checkIssues),d.Eb(5),d.pc("ngModel",n.user.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(2),d.pc("ngIf",c.invalid&&c.touched||n.checkIssues),d.Eb(7),d.pc("ngModel",n.user.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(4),d.pc("icon",n.showPassword),d.Eb(1),d.pc("ngIf",s.invalid&&s.touched||n.checkIssues),d.Eb(4),d.pc("ngModel",n.retypePassword)("required",n.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid||s.value!==l.value?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(2),d.pc("ngIf",l.invalid&&s.touched||n.checkIssues)}},directives:[X.vb,X.ub,c.w,c.l,c.m,X.N,c.b,c.k,c.n,c.f,c.g,c.q,c.s,r.m,X.t,X.K,s.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),Ht)},{path:"register-company",component:Fe},{path:"register-operations",component:(Nt=function(){function e(n,t,i){_classCallCheck(this,e),this.registerService=n,this.toastrService=t,this.router=i,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.trashOperationsNo=0,this.specialWasteOperationsNo=0,this.packageOperationsNo=0,this.waterOperationsNo=0,this.airOperationsNo=0,this.operations=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(S.a)()).subscribe((function(n){void 0!==n&&(e.operations=n,e.updateOperations())})),this.registerService.sendOperations(Object(b.a)(this.operations))}},{key:"validateOperations",value:function(){this.operations.length>0?this.router.navigate(["auth/register-informations"]):this.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"trashOperationNumber",value:function(){return this.operations.length+""}},{key:"updateOperations",value:function(){this.trashOperationsNo=this.operations.length}},{key:"addProcessOperation",value:function(e,n,t){this.addOperation(e,n),t.checked||(t.checked=!t.checked),t.disabled||t.setDisabledState(!t.disabled),e.includes("Neopasnog")?this.addOperation("Proizvodnja Neopasnog Otpada",n):this.addOperation("Proizvodnja Opasnog Otpada",n)}},{key:"addOperation",value:function(e,n){n?this.operations.includes(e)||this.operations.push(e):this.operations.splice(this.operations.findIndex((function(n){return n===e})),1)}}]),e}(),Nt.\u0275fac=function(e){return new(e||Nt)(d.Rb(h),d.Rb(X.Gb),d.Rb(s.c))},Nt.\u0275cmp=d.Lb({type:Nt,selectors:[["register-operations"]],decls:66,vars:19,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["responsive","true","tabTitle","Posebni tokovi otpada",3,"tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["nbButton","","fullWidth","","status","danger","routerLink","../register-company",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"]],template:function(e,n){if(1&e){var t=d.Yb();d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Xb(3,"nb-step",2),d.Hc(4,"Test"),d.Wb(),d.Sb(5,"nb-step",3),d.Xb(6,"nb-step",4),d.Xb(7,"div",5),d.Xb(8,"nb-tabset"),d.Xb(9,"nb-tab",6),d.Xb(10,"div",7),d.Xb(11,"nb-card",8),d.Xb(12,"nb-card-header"),d.Hc(13,"Neopasan otpad"),d.Wb(),d.Xb(14,"nb-card-body"),d.Xb(15,"div",9),d.Xb(16,"nb-toggle",10,11),d.fc("checkedChange",(function(e){return n.addOperation("Proizvodnja Neopasnog Otpada",e)})),d.Hc(18,"Proizvodnja "),d.Wb(),d.Wb(),d.Xb(19,"div",9),d.Xb(20,"nb-toggle",12),d.fc("checkedChange",(function(e){return n.addOperation("Transport Neopasnog Otpada",e)})),d.Hc(21,"Transport "),d.Wb(),d.Wb(),d.Xb(22,"div",9),d.Xb(23,"nb-toggle",12,13),d.fc("checkedChange",(function(e){d.zc(t);var i=d.xc(17);return n.addProcessOperation("Tretman Neopasnog Otpada",e,i)})),d.Hc(25,"Tretman "),d.Wb(),d.Wb(),d.Xb(26,"div",9),d.Xb(27,"nb-toggle",12,14),d.fc("checkedChange",(function(e){d.zc(t);var i=d.xc(17);return n.addProcessOperation("Odlaganje Neopasnog Otpada",e,i)})),d.Hc(29,"Odlaganje "),d.Wb(),d.Wb(),d.Xb(30,"div",9),d.Xb(31,"nb-toggle",12),d.fc("checkedChange",(function(e){return n.addOperation("Skladi\u0161tenje Neopasnog Otpada",e)})),d.Hc(32," Skladi\u0161tenje "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(33,"nb-card",8),d.Xb(34,"nb-card-header"),d.Hc(35,"Opasan otpad"),d.Wb(),d.Xb(36,"nb-card-body"),d.Xb(37,"div",9),d.Xb(38,"nb-toggle",10,15),d.fc("checkedChange",(function(e){return n.addOperation("Proizvodnja Opasnog Otpada",e)})),d.Hc(40," Proizvodnja "),d.Wb(),d.Wb(),d.Xb(41,"div",9),d.Xb(42,"nb-toggle",12),d.fc("checkedChange",(function(e){return n.addOperation("Transport Opasnog Otpada",e)})),d.Hc(43,"Transport "),d.Wb(),d.Wb(),d.Xb(44,"div",9),d.Xb(45,"nb-toggle",12,16),d.fc("checkedChange",(function(e){d.zc(t);var i=d.xc(39);return n.addProcessOperation("Tretman Opasnog Otpada",e,i)})),d.Hc(47,"Tretman "),d.Wb(),d.Wb(),d.Xb(48,"div",9),d.Xb(49,"nb-toggle",12,17),d.fc("checkedChange",(function(e){d.zc(t);var i=d.xc(39);return n.addProcessOperation("Odlaganje Opasnog Otpada",e,i)})),d.Hc(51,"Odlaganje "),d.Wb(),d.Wb(),d.Xb(52,"div",9),d.Xb(53,"nb-toggle",12),d.fc("checkedChange",(function(e){return n.addOperation("Skladi\u0161tenje Opasnog Otpada",e)})),d.Hc(54," Skladi\u0161tenje "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Fc(55,xt,3,1,"nb-card",18),d.Wb(),d.Sb(56,"nb-tab",19),d.Sb(57,"nb-tab",20),d.Sb(58,"nb-tab",21),d.Sb(59,"nb-tab",22),d.Wb(),d.Wb(),d.Xb(60,"button",23),d.Hc(61," Nazad "),d.Wb(),d.Xb(62,"button",24),d.fc("click",(function(){return n.validateOperations()})),d.Hc(63," Dalje "),d.Wb(),d.Wb(),d.Sb(64,"nb-step",25),d.Sb(65,"nb-step",26),d.Wb()}if(2&e){var i=d.xc(17),a=d.xc(24),o=d.xc(28),r=d.xc(39),c=d.xc(46),s=d.xc(50);d.Eb(9),d.pc("badgeText",n.trashOperationNumber())("tabIcon",n.trashIco),d.Eb(7),d.pc("checked",n.operations.includes("Proizvodnja Neopasnog Otpada"))("disabled",a.checked||o.checked),d.Eb(4),d.pc("checked",n.operations.includes("Transport Neopasnog Otpada")),d.Eb(3),d.pc("checked",n.operations.includes("Tretman Neopasnog Otpada")),d.Eb(4),d.pc("checked",n.operations.includes("Odlaganje Neopasnog Otpada")),d.Eb(4),d.pc("checked",n.operations.includes("Skladi\u0161tenje Neopasnog Otpada")),d.Eb(7),d.pc("checked",n.operations.includes("Proizvodnja Opasnog Otpada"))("disabled",c.checked||s.checked),d.Eb(4),d.pc("checked",n.operations.includes("Transport Opasnog Otpada")),d.Eb(3),d.pc("checked",n.operations.includes("Tretman Opasnog Otpada")),d.Eb(4),d.pc("checked",n.operations.includes("Odlaganje Opasnog Otpada")),d.Eb(4),d.pc("checked",n.operations.includes("Skladi\u0161tenje Opasnog Otpada")),d.Eb(2),d.pc("ngIf",r.disabled||i.disabled),d.Eb(1),d.pc("tabIcon",n.carBatteryIco),d.Eb(1),d.pc("tabIcon",n.recyleIco),d.Eb(1),d.pc("tabIcon",n.waterIco),d.Eb(1),d.pc("tabIcon",n.airIco)}},directives:[X.vb,X.ub,X.Bb,X.Ab,X.w,X.x,X.v,X.Hb,r.m,X.t,s.d],styles:[""]}),Nt)},{path:"register-informations/:tab",component:ot,pathMatch:"full"},{path:"register-informations",component:ot,pathMatch:"full"},{path:"register-permit",component:q},{path:"register-confirmation",component:(Ft=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,t),(i=n.call(this,e,a,o,r)).service=e,i.options=a,i.cd=o,i.router=r,i.registerService=c,i.redirectDelay=0,i.showMessages=[],i.strategy="",i.submitted=!1,i.errors=[],i.messages=[],i.redirectDelay=i.getConfigValue("forms.register.redirectDelay"),i.showMessages=i.getConfigValue("forms.register.showMessages"),i.strategy=i.getConfigValue("forms.register.strategy"),i}return _createClass(t,[{key:"getConfigValue",value:function(e){return Object(y.n)(this.options,e,null)}},{key:"ngAfterViewInit",value:function(){this.operations$=this.registerService.getOperations(),this.company$=this.registerService.getCompany(),this.user$=this.registerService.getUser()}},{key:"register",value:function(){var e,n=this;this.errors=this.messages=[],this.submitted=!0,this.user$.subscribe((function(n){e=n})),this.service.register(this.strategy,e).subscribe((function(e){n.submitted=!1,e.isSuccess()?n.messages=e.getMessages():n.errors=e.getErrors();var t=e.getRedirect();t&&setTimeout((function(){return n.registerService.clearData(),n.router.navigateByUrl(t)}),n.redirectDelay),n.cd.detectChanges()}))}}]),t}(y.k),Ft.\u0275fac=function(e){return new(e||Ft)(d.Rb(y.g),d.Rb(y.a),d.Rb(d.h),d.Rb(s.c),d.Rb(h))},Ft.\u0275cmp=d.Lb({type:Ft,selectors:[["register-confirmation"]],features:[d.Bb],decls:164,vars:60,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(d.Xb(0,"h1",0),d.Hc(1,"Registruj se!"),d.Wb(),d.Xb(2,"nb-stepper",1),d.Xb(3,"nb-step",2),d.Hc(4,"Test"),d.Wb(),d.Sb(5,"nb-step",3),d.Sb(6,"nb-step",4),d.Sb(7,"nb-step",5),d.Xb(8,"nb-step",6),d.Xb(9,"div",7),d.Xb(10,"div",8),d.Xb(11,"div",9),d.Xb(12,"h5"),d.Hc(13,"User:"),d.Wb(),d.Wb(),d.Xb(14,"div",9),d.Xb(15,"div",10),d.Xb(16,"label",11),d.Hc(17,"Ime:"),d.Wb(),d.Wb(),d.Xb(18,"div",10),d.Xb(19,"button",12),d.Hc(20),d.kc(21,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(22,"div",9),d.Xb(23,"div",10),d.Xb(24,"label",11),d.Hc(25,"Prezime:"),d.Wb(),d.Wb(),d.Xb(26,"div",10),d.Xb(27,"button",12),d.Hc(28),d.kc(29,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(30,"div",9),d.Xb(31,"div",10),d.Xb(32,"label",11),d.Hc(33,"Telefon:"),d.Wb(),d.Wb(),d.Xb(34,"div",10),d.Xb(35,"button",12),d.Hc(36),d.kc(37,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(38,"div",9),d.Xb(39,"div",10),d.Xb(40,"label",11),d.Hc(41,"Email:"),d.Wb(),d.Wb(),d.Xb(42,"div",10),d.Xb(43,"button",12),d.Hc(44),d.kc(45,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(46,"div",9),d.Xb(47,"div",10),d.Xb(48,"label",11),d.Hc(49,"Korisni\u010dko ime:"),d.Wb(),d.Wb(),d.Xb(50,"div",10),d.Xb(51,"button",12),d.Hc(52),d.kc(53,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",9),d.Xb(55,"h5"),d.Hc(56,"Rad firme:"),d.Wb(),d.Wb(),d.Xb(57,"div",9),d.Xb(58,"div",10),d.Fc(59,wt,2,1,"button",13),d.kc(60,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(61,"div",14),d.Xb(62,"div",10),d.Xb(63,"div",9),d.Xb(64,"h5"),d.Hc(65,"Firma:"),d.Wb(),d.Wb(),d.Xb(66,"div",9),d.Xb(67,"div",10),d.Xb(68,"label",11),d.Hc(69,"Naziv:"),d.Wb(),d.Wb(),d.Xb(70,"div",10),d.Xb(71,"button",15),d.Hc(72),d.kc(73,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(74,"div",9),d.Xb(75,"div",16),d.Xb(76,"label",11),d.Hc(77,"PIB:"),d.Wb(),d.Wb(),d.Xb(78,"div",16),d.Xb(79,"label",11),d.Hc(80,"Mati\u010dni broj:"),d.Wb(),d.Wb(),d.Xb(81,"div",16),d.Xb(82,"button",15),d.Hc(83),d.kc(84,"async"),d.Wb(),d.Wb(),d.Xb(85,"div",16),d.Xb(86,"button",15),d.Hc(87),d.kc(88,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(89,"div",9),d.Xb(90,"div",10),d.Xb(91,"label",11),d.Hc(92,"Adresa:"),d.Wb(),d.Xb(93,"button",15),d.Hc(94),d.kc(95,"async"),d.kc(96,"async"),d.kc(97,"async"),d.kc(98,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(99,"div",9),d.Xb(100,"div",10),d.Xb(101,"label",11),d.Hc(102,"Delatnost:"),d.Wb(),d.Wb(),d.Xb(103,"div",10),d.Xb(104,"button",15),d.Hc(105),d.kc(106,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(107,"div",9),d.Xb(108,"div",16),d.Xb(109,"label",11),d.Hc(110,"Email:"),d.Wb(),d.Wb(),d.Xb(111,"div",16),d.Xb(112,"label",11),d.Hc(113,"Telefon:"),d.Wb(),d.Wb(),d.Xb(114,"div",17),d.Xb(115,"button",15),d.Xb(116,"p",18),d.Hc(117),d.kc(118,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(119,"div",17),d.Xb(120,"button",15),d.Hc(121),d.kc(122,"async"),d.Wb(),d.Wb(),d.Xb(123,"div",16),d.Xb(124,"label",11),d.Hc(125,"Email za prijem dokumenata:"),d.Wb(),d.Wb(),d.Xb(126,"div",16),d.Xb(127,"label",11),d.Hc(128,"Faks:"),d.Wb(),d.Wb(),d.Xb(129,"div",16),d.Xb(130,"button",15),d.Xb(131,"p",18),d.Hc(132),d.kc(133,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(134,"div",16),d.Xb(135,"button",15),d.Hc(136),d.kc(137,"async"),d.kc(138,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(139,"div",9),d.Xb(140,"div",10),d.Xb(141,"label",11),d.Hc(142,"Zakonski zastupnik firme:"),d.Wb(),d.Wb(),d.Xb(143,"div",10),d.Xb(144,"button",15),d.Hc(145),d.kc(146,"async"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(147,"form",19),d.fc("ngSubmit",(function(){return n.register()})),d.Xb(148,"button",20),d.Hc(149," Nazad "),d.Wb(),d.Xb(150,"button",21),d.Hc(151," Zavr\u0161i "),d.Wb(),d.Wb(),d.Xb(152,"div",22),d.Xb(153,"div",23),d.Xb(154,"nb-checkbox",24,25),d.Hc(156," Sla\u017eem se sa "),d.Xb(157,"a",26),d.Xb(158,"strong"),d.Hc(159,"Uslovima Kori\u0161\u0107enjima"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(160,"div",23),d.Xb(161,"nb-checkbox",27,28),d.Hc(163,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&e){var t,i,a,o,r,c,s,l,b,u,p,g,m,f=d.xc(155),h=d.xc(162),v=null,W=null;d.Eb(20),d.Ic(null==(t=d.lc(21,20,n.user$))?null:t.firstName),d.Eb(8),d.Ic(null==(i=d.lc(29,22,n.user$))?null:i.lastName),d.Eb(8),d.Ic(null==(a=d.lc(37,24,n.user$))?null:a.phone),d.Eb(8),d.Ic(null==(o=d.lc(45,26,n.user$))?null:o.email),d.Eb(8),d.Ic(null==(r=d.lc(53,28,n.user$))?null:r.username),d.Eb(7),d.pc("ngForOf",d.lc(60,30,n.operations$)),d.Eb(13),d.Ic(null==(c=d.lc(73,32,n.company$))?null:c.name),d.Eb(11),d.Ic(null==(s=d.lc(84,34,n.company$))?null:s.pib),d.Eb(4),d.Ic(null==(l=d.lc(88,36,n.company$))?null:l.mat),d.Eb(7),d.Mc(" ",null==(v=d.lc(95,38,n.company$))?null:v.address.location.townshipName,", ",null==(v=d.lc(96,40,n.company$))?null:v.address.location.placeName,", ",null==(v=d.lc(97,42,n.company$))?null:v.address.street," ",null==(v=d.lc(98,44,n.company$))?null:v.address.location.zipCode,""),d.Eb(11),d.Ic(null==(b=d.lc(106,46,n.company$))?null:b.occupation.name),d.Eb(12),d.Ic(null==(u=d.lc(118,48,n.company$))?null:u.email),d.Eb(4),d.Ic(null==(p=d.lc(122,50,n.company$))?null:p.telephone),d.Eb(11),d.Ic(null==(g=d.lc(133,52,n.company$))?null:g.emailReception),d.Eb(4),d.Ic(""===(null==(W=d.lc(137,54,n.company$))?null:W.fax)?"/":null==(W=d.lc(138,56,n.company$))?null:W.fax),d.Eb(9),d.Ic(null==(m=d.lc(146,58,n.company$))?null:m.legalRep),d.Eb(5),d.pc("disabled",!(f.checked&&h.checked))}},directives:[X.vb,X.ub,X.t,r.l,c.w,c.l,c.m,s.d,X.A],pipes:[r.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),Ft)},{path:"logout",component:z},{path:"request-password",component:y.l},{path:"reset-password",component:y.m}]},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}],Pt=((St=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:St}),St.\u0275inj=d.Ob({factory:function(e){return new(e||St)},imports:[[s.g.forChild(Vt)],s.g]}),St),Rt=((zt=function e(){_classCallCheck(this,e)}).\u0275mod=d.Pb({type:zt}),zt.\u0275inj=d.Ob({factory:function(e){return new(e||zt)},providers:[f,g,h,v.a,m.a],imports:[[W.a,r.c,s.g,X.p,X.O,X.u,X.B,Pt,X.ob,c.e,X.Ib,X.k,X.Cb,X.s,X.wb,X.y,l.c,X.fb,X.H,X.M,X.tb]]}),zt)}}]);