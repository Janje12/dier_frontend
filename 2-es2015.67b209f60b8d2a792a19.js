(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Yj9t:function(e,n,i){"use strict";i.r(n),i.d(n,"NgxAuthModule",(function(){return Nt}));var t=i("ofXK"),a=i("3Pt+"),o=i("tyNb"),r=i("RS3s"),l=i("LRne"),s=i("AytR"),c=i("fXoL"),b=i("tk/3");let d=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=s.a.apiUrl}getDelatnost(){return this.http.get(this.apiUrl+"/api/delatnost")}filter(e,n){const i=e.toLowerCase();if(void 0!==n)return Object(l.a)(n.filter(e=>e.naziv.toLowerCase().includes(i)||e.sifra.includes(i)))}}return e.\u0275fac=function(n){return new(n||e)(c.bc(b.b))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})();var u=i("O8xV");let g=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=s.a.apiUrl}getMesto(){return this.http.get(this.apiUrl+"/api/mesto")}getOpstine(){return this.http.get(this.apiUrl+"/api/mesto/opstine")}getNazivMesta(e){return this.http.get(this.apiUrl+"/api/mesto/mesta/"+e)}filter(e,n){const i=e.toLowerCase();if(void 0!==n)return Object(l.a)(n.filter(e=>e.toLowerCase().includes(i)))}}return e.\u0275fac=function(n){return new(n||e)(c.bc(b.b))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e{constructor(){Object(c.Y)()&&(this.korisnik={_id:"",email:"random@gmail.com",ime:"test",korisnickoIme:"random",prezime:"test",sifra:"nikjan00",telefon:"028456714",uloga:"menadzer"},this.firma={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"Arnajevo",opstinaSifra:0,opstinaNaziv:"Beograd",postanskiBroj:"31210"},ulica:"Nikola tesla 2"},delatnost:{_id:"",sifra:"",naziv:"Proizvodnja mesnih prera\u0111evina"},email:"random1@gmail",emailPrijem:"random1@gmail",mat:"12564375",menadzer:"random",naziv:"Test",pib:"532587587",radFirme:[],telefon:"023434789",zakonskiZastupnik:"Nikola Jankovic"})}sendDozvola(e){this.sifraDozvole$=e,e.subscribe(e=>{this.sifraDozvole=e})}getDozvola(){return Object(l.a)(this.sifraDozvole)}sendOperacije(e){this.operacije$=e,e.subscribe(e=>{this.operacije=e})}getOperacije(){return Object(l.a)(this.operacije)}sendKorisnik(e){this.korisnik$=e,e.subscribe(e=>{this.korisnik=e})}getKorisnik(){return void 0!==this.firma&&void 0!==this.korisnik&&(this.korisnik.firma=this.firma),Object(l.a)(this.korisnik)}sendFirma(e){this.firma$=e,e.subscribe(e=>{this.firma=e})}getFirma(){return void 0!==this.firma&&(void 0!==this.operacije&&(this.firma.radFirme=this.operacije),void 0!==this.korisnik&&(this.firma.menadzer=this.korisnik.korisnickoIme)),Object(l.a)(this.firma)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})();var p=i("ud2R"),m=i("vTDv"),v=i("McNs"),h=i("aceb");function k(e,n){if(1&e&&(c.Xb(0,"li",24),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.Eb(1),c.Ec(e)}}function W(e,n){if(1&e&&(c.Xb(0,"nb-alert",20),c.Xb(1,"p",21),c.Xb(2,"b"),c.Dc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),c.Wb(),c.Wb(),c.Xb(4,"ul",22),c.Bc(5,k,2,1,"li",23),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(5),c.nc("ngForOf",e.errors)}}function X(e,n){if(1&e&&(c.Xb(0,"li",24),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.Eb(1),c.Ec(e)}}function j(e,n){if(1&e&&(c.Xb(0,"nb-alert",25),c.Xb(1,"p",21),c.Xb(2,"b"),c.Dc(3,"Uspesno ste se ulogovali!"),c.Wb(),c.Wb(),c.Xb(4,"ul",22),c.Bc(5,X,2,1,"li",23),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(5),c.nc("ngForOf",e.messages)}}function M(e,n){1&e&&(c.Xb(0,"p",27),c.Dc(1," Email je obavezan! "),c.Wb())}function z(e,n){if(1&e&&(c.Vb(0),c.Bc(1,M,2,0,"p",26),c.Ub()),2&e){c.hc();const e=c.tc(11);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function D(e,n){1&e&&(c.Xb(0,"p",27),c.Dc(1," \u0160ifra je obavezna! "),c.Wb())}function E(e,n){if(1&e&&(c.Vb(0),c.Bc(1,D,2,0,"p",26),c.Ub()),2&e){c.hc();const e=c.tc(17);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function O(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-checkbox",28),c.fc("ngModelChange",(function(n){return c.vc(e),c.hc().user.rememberMe=n})),c.Dc(1,"Zapamti me"),c.Wb()}if(2&e){const e=c.hc();c.nc("ngModel",e.user.rememberMe)}}let C=(()=>{class e extends v.h{constructor(e,n={},i,t){super(e,n,i,t),this.service=e,this.options=n,this.cd=i,this.router=t,this.redirectDelay=0,this.showMessages={},this.strategy="",this.errors=[],this.messages=[],this.user={},this.submitted=!1,this.rememberMe=!1,this.redirectDelay=this.getConfigValue("forms.login.redirectDelay"),this.showMessages=this.getConfigValue("forms.login.showMessages"),this.strategy=this.getConfigValue("forms.login.strategy"),this.rememberMe=this.getConfigValue("forms.login.rememberMe")}login(){this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const n=e.getRedirect();n&&setTimeout(()=>this.router.navigateByUrl(n),this.redirectDelay),this.cd.detectChanges()})}getConfigValue(e){return Object(v.n)(this.options,e,null)}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.g),c.Rb(v.a),c.Rb(c.h),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-login"]],features:[c.Bb],decls:29,vars:16,consts:[[1,"align-self-center"],["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","type","password",3,"ngModel","required","status","ngModelChange"],["password","ngModel"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../request-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],["aria-label","Registruj se",1,"another-action"],["routerLink","../register-korisnik",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1",4,"ngIf"],[1,"error-message","mt-1"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(c.Xb(0,"div",0),c.Xb(1,"h1",1),c.Dc(2,"Uloguj se!"),c.Wb(),c.Bc(3,W,6,1,"nb-alert",2),c.Bc(4,j,6,1,"nb-alert",3),c.Xb(5,"form",4,5),c.fc("ngSubmit",(function(){return n.login()})),c.Xb(7,"div",6),c.Xb(8,"label",7),c.Dc(9,"Email:"),c.Wb(),c.Xb(10,"input",8,9),c.fc("ngModelChange",(function(e){return n.user.email=e})),c.Wb(),c.Bc(12,z,2,1,"ng-container",10),c.Wb(),c.Xb(13,"div",6),c.Xb(14,"label",11),c.Dc(15,"\u0160ifra:"),c.Wb(),c.Xb(16,"input",12,13),c.fc("ngModelChange",(function(e){return n.user.password=e})),c.Wb(),c.Bc(18,E,2,1,"ng-container",10),c.Wb(),c.Xb(19,"div",14),c.Bc(20,O,2,1,"nb-checkbox",15),c.Xb(21,"a",16),c.Dc(22,"Zaboravili ste \u0161ifru?"),c.Wb(),c.Wb(),c.Xb(23,"button",17),c.Dc(24," Uloguj se "),c.Wb(),c.Wb(),c.Xb(25,"section",18),c.Dc(26," Nemate nalog? "),c.Xb(27,"a",19),c.Dc(28,"Registruj se"),c.Wb(),c.Wb(),c.Wb()),2&e){const e=c.tc(11),i=c.tc(17);c.Eb(3),c.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),c.Eb(1),c.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),c.Eb(6),c.nc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":""),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.touched),c.Eb(4),c.nc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",i.dirty?i.invalid?"danger":"success":""),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.touched),c.Eb(2),c.nc("ngIf",n.rememberMe),c.Eb(3),c.Ib("btn-pulse",n.submitted),c.nc("disabled",n.submitted)}},directives:[t.n,a.w,a.l,a.m,h.N,a.b,a.k,a.n,a.s,o.f,h.t,h.o,t.m,h.A],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})(),I=(()=>{class e extends v.i{constructor(e,n={},i){super(e,n,i),this.service=e,this.options=n,this.router=i,this.redirectDelay=0,this.strategy="",this.redirectDelay=this.getConfigValue("forms.logout.redirectDelay"),this.strategy=this.getConfigValue("forms.logout.strategy")}logout(e){this.service.logout(e).subscribe(e=>{const n=e.getRedirect();n&&setTimeout(()=>this.router.navigateByUrl(n),this.redirectDelay)})}getConfigValue(e){return Object(v.n)(this.options,e,null)}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.g),c.Rb(v.a),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-logout"]],features:[c.Bb],decls:2,vars:0,template:function(e,n){1&e&&(c.Xb(0,"div"),c.Dc(1,"Odjavljivanje u toku..."),c.Wb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),e})();var B=i("SxV6");function S(e,n){if(1&e){const e=c.Yb();c.Xb(0,"button",16),c.fc("click",(function(){c.vc(e);const i=n.$implicit;return c.hc().chooseOtpad(i)})),c.Dc(1),c.Wb()}if(2&e){const e=n.$implicit;c.nc("nbPopover",e.naziv),c.Eb(1),c.Fc(" ",e.indeksniBroj," ")}}let q=(()=>{class e{constructor(e={},n,i){this.options=e,this.registerService=n,this.katalogService=i,this.katalog=new r.a,this.settings={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}}}getConfigValue(e){return Object(v.n)(this.options,e,null)}ngOnInit(){this.registerService.getDozvola().subscribe(e=>{this.sifraDozvole=e}),this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,this.dozvol\u0430=this.firma.dozvola.filter(e=>e.sifra===this.sifraDozvole)[0],this.listaOtpada=this.dozvol\u0430.listaOtpada)}),this.registerService.sendFirma(Object(l.a)(this.firma)),this.katalogService.getKatalog().pipe(Object(B.a)()).subscribe(e=>{this.katalog.load(e)})}onSearch(e=""){this.katalog.setFilter([{field:"indeksniBroj",search:e,filter:function(e,n){return e.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}chooseOtpad(e){let n=e;void 0!==e.data&&(n=e.data),this.listaOtpada.some(e=>e._id===n._id)?this.removeOtpad(n):this.dozvol\u0430.listaOtpada.push(n),this.firma.dozvola.filter(e=>e.sifra===this.sifraDozvole)[0]=this.dozvol\u0430}removeOtpad(e){const n=this.listaOtpada.filter(n=>n._id===e._id)[0];if(n){const e=this.listaOtpada.indexOf(n,0);e>-1&&this.listaOtpada.splice(e,1)}}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(u.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-dozvola"]],decls:22,vars:4,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success","routerLink","../register-informacije",1,"mt-2",3,"disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Dc(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Sb(6,"nb-step",4),c.Xb(7,"nb-step",5),c.Xb(8,"div",6),c.Xb(9,"div",7),c.Xb(10,"h5"),c.Dc(11,"Lista otpada dozvole:"),c.Wb(),c.Bc(12,S,2,2,"button",8),c.Wb(),c.Xb(13,"div",9),c.Xb(14,"label",10),c.Dc(15,"Pretrazi po indeksnom broju:"),c.Wb(),c.Xb(16,"input",11,12),c.fc("input",(function(){c.vc(e);const i=c.tc(17);return i.value.length>=1&&n.onSearch(i.value)})),c.Wb(),c.Xb(18,"ng2-smart-table",13),c.fc("custom",(function(e){return n.chooseOtpad(e)})),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"button",14),c.Dc(20," Zavr\u0161i "),c.Wb(),c.Wb(),c.Sb(21,"nb-step",15),c.Wb()}2&e&&(c.Eb(12),c.nc("ngForOf",n.listaOtpada),c.Eb(6),c.nc("source",n.katalog)("settings",n.settings),c.Eb(1),c.nc("disabled",0===(null==n.listaOtpada?null:n.listaOtpada.length)))},directives:[h.sb,h.rb,t.m,h.N,r.b,h.t,o.d,h.db],styles:[""]}),e})();function V(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Naziv firme je obavezan! "),c.Wb())}function F(e,n){if(1&e&&(c.Xb(0,"p",71),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Naziv firme mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function y(e,n){if(1&e&&(c.Vb(0),c.Bc(1,V,2,0,"p",70),c.Bc(2,F,2,1,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(13);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function x(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," PIB je obavezan! "),c.Wb())}function N(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," PIB mora da bude validan! "),c.Wb())}function $(e,n){if(1&e&&(c.Vb(0),c.Bc(1,x,2,0,"p",70),c.Bc(2,N,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(20);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function w(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Mati\u010dni broj je obavezan! "),c.Wb())}function T(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Mati\u010dni broj mora da bude validan! "),c.Wb())}function L(e,n){if(1&e&&(c.Vb(0),c.Bc(1,w,2,0,"p",70),c.Bc(2,T,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(26),n=c.tc(20);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.minlength)}}function U(e,n){if(1&e&&(c.Xb(0,"nb-option",54),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function P(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Op\u0161tina je obavezna! "),c.Wb())}function R(e,n){if(1&e&&(c.Vb(0),c.Bc(1,P,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(37);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function A(e,n){if(1&e&&(c.Xb(0,"nb-option",54),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function Z(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Mesto je obavezno! "),c.Wb())}function K(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Z,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(47);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function _(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Po\u0161tanski broj je obavezan "),c.Wb())}function G(e,n){if(1&e&&(c.Xb(0,"p",71),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",e.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function Y(e,n){if(1&e&&(c.Vb(0),c.Bc(1,_,2,0,"p",70),c.Bc(2,G,2,1,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(59);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function H(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Ulica je obavezna! "),c.Wb())}function J(e,n){if(1&e&&(c.Vb(0),c.Bc(1,H,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(65);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Q(e,n){if(1&e&&(c.Xb(0,"nb-option",54),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e.naziv),c.Eb(1),c.Gc("[",e.sifra,"] ",e.naziv,"")}}function ee(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," \u0160ifra delatnosti je obavezna! "),c.Wb())}function ne(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ee,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(72);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ie(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Email je obavezan! "),c.Wb())}function te(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Email mora biti validan! "),c.Wb())}function ae(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ie,2,0,"p",70),c.Bc(2,te,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(83);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function oe(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Telefon firme je obavezan! "),c.Wb())}function re(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Telefon firme mora biti validan! "),c.Wb())}function le(e,n){if(1&e&&(c.Vb(0),c.Bc(1,oe,2,0,"p",70),c.Bc(2,re,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(89);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function se(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Email je obavezan! "),c.Wb())}function ce(e,n){if(1&e&&(c.Vb(0),c.Bc(1,se,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(101);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function be(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Email je obavezan! "),c.Wb())}function de(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Email mora biti validan! "),c.Wb())}function ue(e,n){if(1&e&&(c.Vb(0),c.Bc(1,be,2,0,"p",70),c.Bc(2,de,2,0,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(4);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function ge(e,n){if(1&e){const e=c.Yb();c.Xb(0,"div",11),c.Xb(1,"label",72),c.Dc(2,"Unesite va\u0161 email za prijem dokumenata:"),c.Wb(),c.Xb(3,"input",73,74),c.fc("ngModelChange",(function(n){return c.vc(e),c.hc().firma.emailPrijem=n})),c.Wb(),c.Bc(5,ue,3,2,"ng-container",10),c.Wb()}if(2&e){const e=c.tc(4),n=c.hc();c.Eb(3),c.nc("ngModel",n.firma.emailPrijem)("status",e.dirty?e.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.invalid&&e.touched)}}function fe(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Ime zakonskog zastupnika je obavezno! "),c.Wb())}function pe(e,n){if(1&e&&(c.Xb(0,"p",71),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function me(e,n){if(1&e&&(c.Vb(0),c.Bc(1,fe,2,0,"p",70),c.Bc(2,pe,2,1,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(120);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ve(e,n){1&e&&(c.Xb(0,"p",71),c.Dc(1," Prezime zakonskog zastupnika je obavezno! "),c.Wb())}function he(e,n){if(1&e&&(c.Xb(0,"p",71),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function ke(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ve,2,0,"p",70),c.Bc(2,he,2,1,"p",70),c.Ub()),2&e){c.hc();const e=c.tc(126);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let We=(()=>{class e{constructor(e={},n,i,t){this.options=e,this.mestoService=n,this.delatnostService=i,this.registerService=t,this.imeZakonskogZastupinka="",this.prezimeZakonskogZastupinka="",this.firma={_id:"",menadzer:"",radFirme:[],naziv:"",pib:"",mat:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},delatnost:{_id:"",sifra:"",naziv:""},email:"",emailPrijem:"",faks:"",telefon:"",zakonskiZastupnik:""}}ngOnInit(){this.mestoService.getOpstine().pipe(Object(B.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(l.a)(e)}),this.delatnostService.getDelatnost().pipe(Object(B.a)()).subscribe(e=>{this.delatnosti=e,this.delatnosti$=Object(l.a)(e)}),this.registerService.getKorisnik().subscribe(e=>{void 0!==e&&(this.korisnik=e)}),this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,this.imeZakonskogZastupinka=this.firma.zakonskiZastupnik.split(" ")[0],this.prezimeZakonskogZastupinka=this.firma.zakonskiZastupnik.split(" ")[1])}),this.registerService.sendFirma(Object(l.a)(this.firma))}getConfigValue(e){return Object(v.n)(this.options,e,null)}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(l.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(l.a)(e),this.getMesta(e[0])}):this.opstine$=Object(l.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}findDelatnost(e){this.delatnosti$=this.delatnostService.filter(e,this.delatnosti)}spojIme(e){this.imeZakonskogZastupinka=e,e+=" ";const n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(n),this.firma.zakonskiZastupnik=e+this.firma.zakonskiZastupnik}spojPrezime(e){this.prezimeZakonskogZastupinka=e,e=" "+e;const n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(0,n),this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik+e}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(g),c.Rb(d),c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-firma"]],decls:135,vars:102,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["form","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["nbInput","","id","input-naziv","name","naziv","placeholder","Naziv","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["nazivFirme","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["nbInput","","id","input-pib","name","pib","placeholder","PIB","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["pib","ngModel"],["nbInput","","id","input-mat","name","mat","placeholder","Mati\u010dni broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaFirma",1,"label"],["id","input-opstinaFirma","name","opstinaFirma","nbInput","","autocomplete","off","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","required","nbAutocomplete","ngModelChange"],["opstinaFirma","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoFirma",1,"label"],["nbInput","","id","input-mestoFirma","autocomplete","off","name","mestoFirma","placeholder","Mesto","fullWidth","",3,"ngModel","required","nbAutocomplete","ngModelChange"],["mestoFirma","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBroj",1,"label"],["nbInput","","name","postanskiBrojFirme","id","input-postanskiBroj","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaFirme",1,"label"],["nbInput","","name","ulicaFirme","id","input-ulicaFirme","placeholder","Ulica i broj","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["ulica","ngModel"],["for","input-delatnost",1,"label"],["nbInput","","id","input-delatnost","name","delatnost","autocomplete","off","placeholder","Delatnost","fullWidth","",3,"ngModel","nbAutocomplete","required","ngModelChange"],["delatnost","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-emailFirme",1,"label"],["nbInput","","id","input-emailFirme","name","email","pattern",".+@.+..+","placeholder","Email firme","fullWidth","",3,"ngModel","status","required","ngModelChange"],["emailFirma","ngModel"],["for","input-telefonFirme",1,"label"],["nbInput","","id","input-telefonFirme","name","telefon","placeholder","Telefon firme","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)","maxlength","12",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["telefonFirme","ngModel"],["for","input-faksFirma",1,"label"],["nbInput","","id","input-faksFirma","name","faksFirma","placeholder","Faks firme","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)","maxlength","12",3,"ngModel","ngModelChange"],["faksFirma","ngModel"],["for","input-emailPrijem",1,"label"],["id","input-emailPrijem","name","emailPrijem","placeholder","Email za prijem dokumenata","fullWidth","",3,"ngModel","selected","status","required","ngModelChange"],["emailPrijem","ngModel"],[3,"value"],["drugiEmail",""],["class","col-6",4,"ngIf"],[1,"label","pl-0","col-12"],[1,"row","ml-2"],["for","input-ime",1,"label"],["nbInput","","id","input-ime","name","ime","placeholder","Ime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["ime","ngModel"],["for","input-prezime",1,"label"],["nbInput","","id","input-prezime","name","prezime","placeholder","Prezime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["prezime","ngModel"],["nbButton","","fullWidth","","status","danger","routerLink","../register-korisnik",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-operacije",1,"mt-2","col-6",3,"disabled"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-emailPrijem2",1,"label"],["nbInput","","id","input-emailPrijem2","name","emailPrijem2","pattern",".+@.+..+","placeholder","Email za prijem dokumenata","fullWidth","",3,"ngModel","status","required","ngModelChange"],["emailPrijem2","ngModel"]],template:function(e,n){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Dc(4,"Test"),c.Wb(),c.Xb(5,"nb-step",3),c.Xb(6,"form",null,4),c.Xb(8,"div",5),c.Xb(9,"div",6),c.Xb(10,"label",7),c.Dc(11,"Naziv Firme:"),c.Wb(),c.Xb(12,"input",8,9),c.fc("ngModelChange",(function(e){return n.firma.naziv=e})),c.Wb(),c.Bc(14,y,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Xb(15,"div",5),c.Xb(16,"div",11),c.Xb(17,"label",12),c.Dc(18,"PIB:"),c.Wb(),c.Xb(19,"input",13,14),c.fc("ngModelChange",(function(e){return n.firma.pib=e})),c.Wb(),c.Bc(21,$,3,2,"ng-container",10),c.Wb(),c.Xb(22,"div",11),c.Xb(23,"label",12),c.Dc(24,"Mati\u010dni broj:"),c.Wb(),c.Xb(25,"input",15,16),c.fc("ngModelChange",(function(e){return n.firma.mat=e})),c.Wb(),c.Bc(27,L,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Xb(28,"div",5),c.Xb(29,"div",6),c.Xb(30,"label",17),c.Dc(31,"Adresa:"),c.Wb(),c.Xb(32,"div",18),c.Xb(33,"div",11),c.Xb(34,"nb-select-label",19),c.Dc(35,"Op\u0161tina:"),c.Wb(),c.Xb(36,"input",20,21),c.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(){c.vc(e);const i=c.tc(37);return n.findOpstina(i.value)})),c.Wb(),c.Xb(38,"nb-autocomplete",null,22),c.Bc(40,U,2,2,"nb-option",23),c.ic(41,"async"),c.Wb(),c.Bc(42,R,2,1,"ng-container",10),c.Wb(),c.Xb(43,"div",11),c.Xb(44,"nb-select-label",24),c.Dc(45,"Mesto:"),c.Wb(),c.Xb(46,"input",25,26),c.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(){c.vc(e);const i=c.tc(47);return n.findMesta(i.value)})),c.Wb(),c.Xb(48,"nb-autocomplete",null,27),c.Xb(50,"nb-option"),c.Bc(51,A,2,2,"nb-option",23),c.ic(52,"async"),c.Wb(),c.Wb(),c.Bc(53,K,2,1,"ng-container",10),c.Wb(),c.Wb(),c.Xb(54,"div",28),c.Xb(55,"div",29),c.Xb(56,"label",30),c.Dc(57,"Po\u0161tanski broj:"),c.Wb(),c.Xb(58,"input",31,32),c.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.postanskiBroj=e})),c.Wb(),c.Bc(60,Y,3,2,"ng-container",10),c.Wb(),c.Xb(61,"div",33),c.Xb(62,"label",34),c.Dc(63,"Ulica i broj:"),c.Wb(),c.Xb(64,"input",35,36),c.fc("ngModelChange",(function(e){return n.firma.adresa.ulica=e})),c.Wb(),c.Bc(66,J,2,1,"ng-container",10),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(67,"div",5),c.Xb(68,"div",6),c.Xb(69,"nb-select-label",37),c.Dc(70,"\u0160ifra delatnosti:"),c.Wb(),c.Xb(71,"input",38,39),c.fc("ngModelChange",(function(e){return n.firma.delatnost.naziv=e}))("ngModelChange",(function(){c.vc(e);const i=c.tc(72);return n.findDelatnost(i.value)})),c.Wb(),c.Xb(73,"nb-autocomplete",null,40),c.Bc(75,Q,2,3,"nb-option",23),c.ic(76,"async"),c.Wb(),c.Bc(77,ne,2,1,"ng-container",10),c.Wb(),c.Wb(),c.Xb(78,"div",5),c.Xb(79,"div",41),c.Xb(80,"label",42),c.Dc(81,"Email firme:"),c.Wb(),c.Xb(82,"input",43,44),c.fc("ngModelChange",(function(e){return n.firma.email=e})),c.Wb(),c.Bc(84,ae,3,2,"ng-container",10),c.Wb(),c.Xb(85,"div",41),c.Xb(86,"label",45),c.Dc(87,"Telefon firme:"),c.Wb(),c.Xb(88,"input",46,47),c.fc("ngModelChange",(function(e){return n.firma.telefon=e})),c.Wb(),c.Bc(90,le,3,2,"ng-container",10),c.Wb(),c.Xb(91,"div",41),c.Xb(92,"label",48),c.Dc(93,"Faks firme:"),c.Wb(),c.Xb(94,"input",49,50),c.fc("ngModelChange",(function(e){return n.firma.faks=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(96,"div",5),c.Xb(97,"div",11),c.Xb(98,"nb-select-label",51),c.Dc(99,"Birajte email za prijem dokumenata: "),c.Wb(),c.Xb(100,"nb-select",52,53),c.fc("ngModelChange",(function(e){return n.firma.emailPrijem=e})),c.Xb(102,"nb-option",54),c.Dc(103),c.Wb(),c.Xb(104,"nb-option",54),c.Dc(105),c.Wb(),c.Xb(106,"nb-option",54,55),c.Dc(108,"Drugi email"),c.Wb(),c.Wb(),c.Bc(109,ce,2,1,"ng-container",10),c.Wb(),c.Bc(110,ge,6,5,"div",56),c.Wb(),c.Xb(111,"div",5),c.Xb(112,"div",6),c.Xb(113,"label",57),c.Dc(114,"Puno ime zakonskog zastupnika firme:"),c.Wb(),c.Xb(115,"div",58),c.Xb(116,"div",11),c.Xb(117,"label",59),c.Dc(118,"Ime:"),c.Wb(),c.Xb(119,"input",60,61),c.fc("ngModelChange",(function(e){return n.imeZakonskogZastupinka=e}))("ngModelChange",(function(e){return n.spojIme(e)})),c.Wb(),c.Bc(121,me,3,2,"ng-container",10),c.Wb(),c.Xb(122,"div",11),c.Xb(123,"label",62),c.Dc(124,"Prezime:"),c.Wb(),c.Xb(125,"input",63,64),c.fc("ngModelChange",(function(e){return n.prezimeZakonskogZastupinka=e}))("ngModelChange",(function(e){return n.spojPrezime(e)})),c.Wb(),c.Bc(127,ke,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(128,"button",65),c.Dc(129," Nazad "),c.Wb(),c.Xb(130,"button",66),c.Dc(131," Dalje "),c.Wb(),c.Wb(),c.Wb(),c.Sb(132,"nb-step",67),c.Sb(133,"nb-step",68),c.Sb(134,"nb-step",69),c.Wb()}if(2&e){const e=c.tc(7),i=c.tc(13),t=c.tc(20),a=c.tc(26),o=c.tc(37),r=c.tc(39),l=c.tc(47),s=c.tc(49),b=c.tc(59),d=c.tc(65),u=c.tc(72),g=c.tc(74),f=c.tc(83),p=c.tc(89),m=c.tc(95),v=c.tc(101),h=c.tc(107),k=c.tc(120),W=c.tc(126);c.Eb(12),c.nc("ngModel",n.firma.naziv)("status",i.dirty?i.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.nazivFirme.required"))("minlength",n.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",n.getConfigValue("forms.validation.nazivFirme.maxLength")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(5),c.nc("ngModel",n.firma.pib)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.pib.required"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",n.firma.mat)("status",a.dirty?a.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.mat.required"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(9),c.nc("ngModel",n.firma.adresa.mesto.opstinaNaziv)("required",n.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",r),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(41,96,n.opstine$)),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched),c.Eb(4),c.nc("ngModel",n.firma.adresa.mesto.mestoNaziv)("required",n.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",s),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(5),c.nc("ngForOf",c.jc(52,98,n.mesta$)),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched),c.Eb(5),c.nc("ngModel",n.firma.adresa.mesto.postanskiBroj)("status",b.dirty?b.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",n.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",n.getConfigValue("forms.validation.postanskiBroj.maxLength")),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(4),c.nc("ngModel",n.firma.adresa.ulica)("status",d.dirty?d.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.ulica.required"))("minlength",n.getConfigValue("forms.validation.ulica.minLength"))("maxlength",n.getConfigValue("forms.validation.ulica.maxLength")),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched),c.Eb(5),c.nc("ngModel",n.firma.delatnost.naziv)("nbAutocomplete",g)("required",n.getConfigValue("forms.validation.delatnost.required")),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(76,100,n.delatnosti$)),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(5),c.nc("ngModel",n.firma.email)("status",f.dirty?f.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),c.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),c.Eb(2),c.nc("ngIf",f.invalid&&f.touched),c.Eb(4),c.nc("ngModel",n.firma.telefon)("status",p.dirty?p.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.telefon.required"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("maxlength",n.getConfigValue("forms.validation.telefon.maxLength")),c.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),c.Eb(2),c.nc("ngIf",p.invalid&&p.touched),c.Eb(4),c.nc("ngModel",n.firma.faks),c.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),c.Eb(6),c.nc("ngModel",n.firma.emailPrijem)("selected",n.firma.email)("status",v.dirty?v.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),c.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),c.Eb(2),c.nc("value",n.firma.email),c.Eb(1),c.Ec(n.firma.email),c.Eb(1),c.nc("value",null==n.korisnik?null:n.korisnik.email),c.Eb(1),c.Ec(null==n.korisnik?null:n.korisnik.email),c.Eb(1),c.nc("value",n.firma.emailPrijem),c.Eb(3),c.nc("ngIf",v.invalid&&v.touched),c.Eb(1),c.nc("ngIf",h.selected),c.Eb(9),c.nc("ngModel",n.imeZakonskogZastupinka)("status",k.dirty?k.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.ime.required"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("maxlength",n.getConfigValue("forms.validation.ime.maxLength")),c.Fb("aria-invalid",!(!k.invalid||!k.touched)||null),c.Eb(2),c.nc("ngIf",k.invalid&&k.touched),c.Eb(4),c.nc("ngModel",n.prezimeZakonskogZastupinka)("status",W.dirty?W.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.prezime.required"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("maxlength",n.getConfigValue("forms.validation.prezime.maxLength")),c.Fb("aria-invalid",!(!W.invalid||!W.touched)||null),c.Eb(2),c.nc("ngIf",W.invalid&&W.touched),c.Eb(3),c.nc("disabled",!e.valid)}},directives:[h.sb,h.rb,a.w,a.l,a.m,h.N,a.b,a.k,a.n,a.s,a.g,a.f,t.n,a.q,h.mb,h.r,h.q,t.m,h.cb,h.lb,h.t,o.d],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function Xe(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function je(e,n){if(1&e&&(c.Xb(0,"p",48),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Me(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Xe,2,0,"p",47),c.Bc(2,je,2,1,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(8);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ze(e,n){if(1&e&&(c.Xb(0,"nb-option",49),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function De(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Op\u0161tina je obavezna! "),c.Wb())}function Ee(e,n){if(1&e&&(c.Vb(0),c.Bc(1,De,2,0,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(19);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Oe(e,n){if(1&e&&(c.Xb(0,"nb-option",49),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function Ce(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Mesto je obavezno! "),c.Wb())}function Ie(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ce,2,0,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(29);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Be(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Po\u0161tanski broj je obavezan "),c.Wb())}function Se(e,n){if(1&e&&(c.Xb(0,"p",48),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",e.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function qe(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Be,2,0,"p",47),c.Bc(2,Se,2,1,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(41);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ve(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Ulica je obavezna! "),c.Wb())}function Fe(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ve,2,0,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(47);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ye(e,n){1&e&&(c.Xb(0,"p",48),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function xe(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ye,2,0,"p",47),c.Ub()),2&e){c.hc();const e=c.tc(56);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}const Ne=function(){return{standalone:!0}};function $e(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card",13),c.Xb(1,"nb-card-body"),c.Dc(2),c.Xb(3,"div",14),c.Xb(4,"div",5),c.Xb(5,"label",15),c.Dc(6,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(7,"input",16,17),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(9,Me,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Xb(10,"div",19),c.Xb(11,"div",5),c.Xb(12,"label",20),c.Dc(13,"Adresa:"),c.Wb(),c.Xb(14,"div",21),c.Xb(15,"div",22),c.Xb(16,"nb-select-label",23),c.Dc(17,"Op\u0161tina:"),c.Wb(),c.Xb(18,"input",24,25),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.opstinaNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findOpstina(n)})),c.Wb(),c.Xb(20,"nb-autocomplete",null,26),c.Bc(22,ze,2,2,"nb-option",27),c.ic(23,"async"),c.Wb(),c.Bc(24,Ee,2,1,"ng-container",18),c.Wb(),c.Xb(25,"div",22),c.Xb(26,"nb-select-label",28),c.Dc(27,"Mesto:"),c.Wb(),c.Xb(28,"input",29,30),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.mestoNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findMesta(n)})),c.Wb(),c.Xb(30,"nb-autocomplete",null,31),c.Xb(32,"nb-option"),c.Bc(33,Oe,2,2,"nb-option",27),c.ic(34,"async"),c.Wb(),c.Wb(),c.Bc(35,Ie,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Xb(36,"div",32),c.Xb(37,"div",33),c.Xb(38,"label",34),c.Dc(39,"Po\u0161tanski broj:"),c.Wb(),c.Xb(40,"input",35,36),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.postanskiBroj=i})),c.Wb(),c.Bc(42,qe,3,2,"ng-container",18),c.Wb(),c.Xb(43,"div",37),c.Xb(44,"label",38),c.Dc(45,"Ulica i broj:"),c.Wb(),c.Xb(46,"input",39,40),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.ulica=i})),c.Wb(),c.Bc(48,Fe,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(49,"div",19),c.Xb(50,"div",5),c.Xb(51,"label",41),c.Dc(52,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(53,"div",4),c.Xb(54,"div",42),c.Xb(55,"input",43,44),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.maxKolicina=i})),c.Wb(),c.Wb(),c.Xb(57,"div",45),c.Xb(58,"button",46),c.Dc(59,"KG"),c.Wb(),c.Wb(),c.Xb(60,"div",5),c.Bc(61,xe,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=n.index,t=c.tc(8),a=c.tc(19),o=c.tc(21),r=c.tc(29),l=c.tc(31),s=c.tc(41),b=c.tc(47),d=c.tc(56),u=c.hc(2);c.Eb(2),c.Fc(" ",e.naziv," "),c.Eb(5),c.nc("ngModel",e.naziv)("placeholder","Skladiste #"+i)("ngModelOptions",c.pc(49,Ne))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.nazivFirme.required"))("minlength",u.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",u.getConfigValue("forms.validation.nazivFirme.maxLength")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("ngModelOptions",c.pc(50,Ne))("required",u.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",o),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(23,45,u.opstine$)),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("ngModelOptions",c.pc(51,Ne))("required",u.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(5),c.nc("ngForOf",c.jc(34,47,u.mesta$)),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("ngModelOptions",c.pc(52,Ne))("status",s.dirty?s.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",u.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",u.getConfigValue("forms.validation.postanskiBroj.maxLength")),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("ngModelOptions",c.pc(53,Ne))("status",b.dirty?b.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.ulica.required"))("minlength",u.getConfigValue("forms.validation.ulica.minLength"))("maxlength",u.getConfigValue("forms.validation.ulica.maxLength")),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("ngModelOptions",c.pc(54,Ne))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.velicinaSkladista.required")),c.Eb(6),c.nc("ngIf",d.invalid&&d.touched)}}function we(e,n){if(1&e&&(c.Vb(0,10),c.Xb(1,"form",5,11),c.Bc(3,$e,62,55,"ng-template",12),c.ic(4,"async"),c.Wb(),c.Ub()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",c.jc(4,1,e.skladista$))}}let Te=(()=>{class e{constructor(e={},n,i){this.options=e,this.registerService=n,this.mestoService=i,this.brojSkladista=0}updateSkladisteForm(){this.skladista=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.skladista[e]={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:""};this.skladista$=Object(l.a)(this.skladista),this.firma.skladista=this.skladista}ngOnInit(){this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladista&&(this.brojSkladista=this.firma.skladista.length,this.skladista=this.firma.skladista))}),this.registerService.sendFirma(Object(l.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(B.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(l.a)(e)})}getConfigValue(e){return Object(v.n)(this.options,e,null)}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(l.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(l.a)(e),this.getMesta(e[0])}):this.opstine$=Object(l.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(g))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-proizvodnja"]],decls:15,vars:2,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["form1",""],[1,"row"],[1,"col-12"],["name","brojSkladista","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["broj","ngModel"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["form2","ngForm"],["ngFor","",3,"ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","fullWidth","",3,"ngModel","placeholder","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return n.updateSkladisteForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Dc(7,"Broj skladista:"),c.Wb(),c.Xb(8,"input",6,7),c.fc("ngModelChange",(function(e){return n.brojSkladista=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",4),c.Xb(11,"div",5),c.Xb(12,"button",8),c.Dc(13,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Bc(14,we,5,3,"ng-container",9)),2&e&&(c.Eb(8),c.nc("ngModel",n.brojSkladista),c.Eb(6),c.nc("ngIf",n.brojSkladista>0))},directives:[a.w,a.l,a.m,h.N,a.p,a.b,a.k,a.n,h.t,t.n,t.m,h.w,h.v,a.s,a.g,a.f,h.mb,h.r,h.q,h.cb],pipes:[t.b],styles:[""]}),e})();function Le(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," Naziv dozvole je obavezna! "),c.Wb())}function Ue(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Le,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(6);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Pe(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function Re(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Pe,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(12);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ae(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," Datum izdavanja dozvole je obavezan! "),c.Wb())}function Ze(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ae,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(18);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ke(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," Datum isteka dozvole je obavezan! "),c.Wb())}function _e(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ke,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(26);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ge(e,n){if(1&e&&(c.Xb(0,"nb-option",40),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e.adresa),c.Eb(1),c.Ec(e.naziv)}}const Ye=function(){return{standalone:!0}};function He(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card-body"),c.Xb(1,"div",4),c.Xb(2,"div",17),c.Xb(3,"label",18),c.Dc(4,"Naziv Dozvole:"),c.Wb(),c.Xb(5,"input",19,20),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(7,Ue,2,1,"ng-container",21),c.Wb(),c.Xb(8,"div",17),c.Xb(9,"label",22),c.Dc(10,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(11,"input",23,24),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.sifra=i})),c.Wb(),c.Bc(13,Re,2,1,"ng-container",21),c.Wb(),c.Xb(14,"div",5),c.Xb(15,"label",25),c.Dc(16,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(17,"input",26,27),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumNastanka=i})),c.Wb(),c.Sb(19,"nb-datepicker",28,29),c.Bc(21,Ze,2,1,"ng-container",21),c.Wb(),c.Xb(22,"div",5),c.Xb(23,"label",30),c.Dc(24,"Datum isteka dozvole:"),c.Wb(),c.Xb(25,"input",31,32),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumTrajanja=i})),c.Wb(),c.Sb(27,"nb-datepicker",28,33),c.Bc(29,_e,2,1,"ng-container",21),c.Wb(),c.Xb(30,"div",34),c.Xb(31,"button",35),c.fc("click",(function(){c.vc(e);const i=n.$implicit;return c.hc(2).chooseDozvola(i)})),c.Dc(32,"Odaberi otpade "),c.Wb(),c.Wb(),c.Xb(33,"div",34),c.Xb(34,"nb-select",36),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa=i})),c.Bc(35,Ge,2,2,"nb-option",37),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=c.tc(6),t=c.tc(12),a=c.tc(18),o=c.tc(20),r=c.tc(26),l=c.tc(28),s=c.hc(2);c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(30,Ye))("status",i.dirty?i.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.pc(31,Ye))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",e.datumNastanka)("ngModelOptions",c.pc(32,Ye))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.nazivFirme.required"))("nbDatepicker",o),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("ngModelOptions",c.pc(33,Ye))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.nazivFirme.required"))("nbDatepicker",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngIf",r.invalid&&r.touched),c.Eb(2),c.nc("disabled",""===e.sifra),c.Eb(3),c.nc("ngModel",e.adresa)("ngModelOptions",c.pc(34,Ye)),c.Eb(1),c.nc("ngForOf",s.firma.skladistaTretman)}}function Je(e,n){if(1&e&&(c.Xb(0,"form",13,14),c.Xb(2,"nb-card",15),c.Bc(3,He,36,35,"nb-card-body",16),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",e.dozvole)}}function Qe(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," Registarski broj tablica je obavezan! "),c.Wb())}function en(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Qe,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(8);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function nn(e,n){1&e&&(c.Xb(0,"p",39),c.Dc(1," Vrsta vozila je obavezna! "),c.Wb())}function tn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,nn,2,0,"p",38),c.Ub()),2&e){c.hc();const e=c.tc(14);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function an(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card-body"),c.Xb(1,"div",4),c.Xb(2,"h5"),c.Dc(3),c.Wb(),c.Xb(4,"div",6),c.Xb(5,"label",43),c.Dc(6,"Registarski broj tablice:"),c.Wb(),c.Xb(7,"input",44,45),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.registarskiBroj=i})),c.Wb(),c.Bc(9,en,2,1,"ng-container",21),c.Wb(),c.Xb(10,"div",6),c.Xb(11,"label",46),c.Dc(12,"Vrsta vozila:"),c.Wb(),c.Xb(13,"nb-select",47,48),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.vrstaVozila=i})),c.Xb(15,"nb-option",49),c.Dc(16,"Kamion"),c.Wb(),c.Xb(17,"nb-option",50),c.Dc(18,"Kombi"),c.Wb(),c.Xb(19,"nb-option",51),c.Dc(20,"Automobil"),c.Wb(),c.Wb(),c.Bc(21,tn,2,1,"ng-container",21),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=n.index,t=c.tc(8),a=c.tc(14),o=c.hc(2);c.Eb(3),c.Fc("Vozilo #",i,""),c.Eb(4),c.nc("ngModel",e.registarskiBroj)("ngModelOptions",c.pc(13,Ye))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",o.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",e.vrstaVozila)("ngModelOptions",c.pc(14,Ye))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",o.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(8),c.nc("ngIf",a.invalid&&a.touched)}}function on(e,n){if(1&e&&(c.Xb(0,"form",13,41),c.Xb(2,"nb-card",42),c.Bc(3,an,22,15,"nb-card-body",16),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",e.vozila)}}let rn=(()=>{class e{constructor(e={},n,i){this.options=e,this.registerService=n,this.router=i,this.brojDozvola=0,this.brojVozila=0}getConfigValue(e){return Object(v.n)(this.options,e,null)}ngOnInit(){this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.prevoznoSredstvo&&(this.brojVozila=this.firma.prevoznoSredstvo.length,this.vozila=this.firma.prevoznoSredstvo),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola,this.brojDozvola=this.firma.dozvola.length))}),this.registerService.sendFirma(Object(l.a)(this.firma))}updateDozvolaForm(){this.dozvole=new Array(this.brojDozvola);for(let e=0;e<this.brojDozvola;e++)this.dozvole[e]={_id:"",naziv:"Dozvola #"+e,datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"transport"};this.vozila=new Array(this.brojVozila);for(let e=0;e<this.brojVozila;e++)this.vozila[e]={_id:"",registarskiBroj:"",vrstaVozila:""};this.firma.prevoznoSredstvo=this.vozila,this.firma.dozvola=this.dozvole}dateValid(e){return e.datumNastanka>e.datumTrajanja}chooseDozvola(e){this.registerService.sendDozvola(Object(l.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-transport"]],decls:21,vars:8,consts:[[1,"row","my-2"],[1,"col-8"],[3,"ngSubmit"],["form3",""],[1,"row"],[1,"col-6"],[1,"col-12"],["name","brojDozvola","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["brojDozvola1","ngModel"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["brojVozila1","ngModel"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","mt-3",4,"ngIf"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[4,"ngFor","ngForOf"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["nbInput","","id","input-nazivDozvole","name","nazivDozvole","placeholder","Naziv","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["nazivDozvole","ngModel"],[4,"ngIf"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"],["name","dozvola",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],["form4","ngForm"],["accent","danger"],["for","input-registarskiBroj",1,"label"],["nbInput","","id","input-registarskiBroj","name","registarskiBroj","placeholder","Registarski broj","pattern","([A-\u017d]{2})-(\\d{3,4})-([A-\u017d]{2})","autofocus","","oninput","this.value = this.value.toUpperCase()","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["registarskiBroj","ngModel"],["for","input-vrstaVozila",1,"label"],["id","input-vrstaVozila","name","vrstaVozila","placeholder","Vrsta","autofocus","","fullWidth","","selected","kamion",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["vrstaVozila","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",6),c.Dc(7,"Broj dozvola:"),c.Wb(),c.Xb(8,"input",7,8),c.fc("ngModelChange",(function(e){return n.brojDozvola=e})),c.Wb(),c.Wb(),c.Xb(10,"div",5),c.Xb(11,"label",6),c.Dc(12,"Broj vozila:"),c.Wb(),c.Xb(13,"input",9,10),c.fc("ngModelChange",(function(e){return n.brojVozila=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",4),c.Xb(16,"div",6),c.Xb(17,"button",11),c.Dc(18,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Bc(19,Je,4,1,"form",12),c.Bc(20,on,4,1,"form",12)),2&e&&(c.Eb(8),c.nc("ngModelOptions",c.pc(6,Ye))("ngModel",n.brojDozvola),c.Eb(5),c.nc("ngModelOptions",c.pc(7,Ye))("ngModel",n.brojVozila),c.Eb(6),c.nc("ngIf",n.brojDozvola>0),c.Eb(1),c.nc("ngIf",n.brojVozila>0))},directives:[a.w,a.l,a.m,h.N,a.p,a.b,a.k,a.n,h.t,t.n,h.w,t.m,h.v,a.s,h.G,h.F,h.lb,h.cb,a.q],styles:[""]}),e})();function ln(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function sn(e,n){if(1&e&&(c.Xb(0,"p",54),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function cn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ln,2,0,"p",53),c.Bc(2,sn,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function bn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," NGeolokacija sever je obavezna! "),c.Wb())}function dn(e,n){if(1&e&&(c.Xb(0,"p",54),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Geolokacija istok mora biti du\u017ea od ",e.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function un(e,n){if(1&e&&(c.Vb(0),c.Bc(1,bn,2,0,"p",53),c.Bc(2,dn,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(16),n=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function gn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Geolokacija istok je obavezna! "),c.Wb())}function fn(e,n){if(1&e&&(c.Xb(0,"p",54),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Geolokacija istok mora biti du\u017ea od ",e.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function pn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,gn,2,0,"p",53),c.Bc(2,fn,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(22);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function mn(e,n){if(1&e&&(c.Xb(0,"nb-option",55),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function vn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Op\u0161tina je obavezna! "),c.Wb())}function hn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,vn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(33);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function kn(e,n){if(1&e&&(c.Xb(0,"nb-option",55),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function Wn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Mesto je obavezno! "),c.Wb())}function Xn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Wn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(43);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function jn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Po\u0161tanski broj je obavezan "),c.Wb())}function Mn(e,n){if(1&e&&(c.Xb(0,"p",54),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",e.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function zn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,jn,2,0,"p",53),c.Bc(2,Mn,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(55);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Dn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Ulica je obavezna! "),c.Wb())}function En(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Dn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(61);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function On(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Cn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,On,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(70);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}const In=function(){return{standalone:!0}};function Bn(e,n){if(1&e){const e=c.Yb();c.Xb(0,"div"),c.Xb(1,"nb-card",13),c.Xb(2,"nb-card-body"),c.Dc(3),c.Xb(4,"div",14),c.Xb(5,"div",4),c.Xb(6,"label",15),c.Dc(7,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(8,"input",16,17),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(10,cn,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Xb(11,"div",19),c.Xb(12,"div",20),c.Xb(13,"label",21),c.Dc(14,"Geolokacija Sever(N):"),c.Wb(),c.Xb(15,"input",22,23),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.geolokacijaN=i})),c.Wb(),c.Bc(17,un,3,2,"ng-container",18),c.Wb(),c.Xb(18,"div",20),c.Xb(19,"label",24),c.Dc(20,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(21,"input",25,26),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.geolokacijaE=i})),c.Wb(),c.Bc(23,pn,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Xb(24,"div",19),c.Xb(25,"div",4),c.Xb(26,"label",27),c.Dc(27,"Adresa:"),c.Wb(),c.Xb(28,"div",28),c.Xb(29,"div",20),c.Xb(30,"nb-select-label",29),c.Dc(31,"Op\u0161tina:"),c.Wb(),c.Xb(32,"input",30,31),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.opstinaNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findOpstina(n)})),c.Wb(),c.Xb(34,"nb-autocomplete",null,32),c.Bc(36,mn,2,2,"nb-option",33),c.ic(37,"async"),c.Wb(),c.Bc(38,hn,2,1,"ng-container",18),c.Wb(),c.Xb(39,"div",20),c.Xb(40,"nb-select-label",34),c.Dc(41,"Mesto:"),c.Wb(),c.Xb(42,"input",35,36),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.mestoNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findMesta(n)})),c.Wb(),c.Xb(44,"nb-autocomplete",null,37),c.Xb(46,"nb-option"),c.Bc(47,kn,2,2,"nb-option",33),c.ic(48,"async"),c.Wb(),c.Wb(),c.Bc(49,Xn,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Xb(50,"div",38),c.Xb(51,"div",39),c.Xb(52,"label",40),c.Dc(53,"Po\u0161tanski broj:"),c.Wb(),c.Xb(54,"input",41,42),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.postanskiBroj=i})),c.Wb(),c.Bc(56,zn,3,2,"ng-container",18),c.Wb(),c.Xb(57,"div",43),c.Xb(58,"label",44),c.Dc(59,"Ulica i broj:"),c.Wb(),c.Xb(60,"input",45,46),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.ulica=i})),c.Wb(),c.Bc(62,En,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(63,"div",19),c.Xb(64,"div",4),c.Xb(65,"label",47),c.Dc(66,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(67,"div",0),c.Xb(68,"div",48),c.Xb(69,"input",49,50),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.maxKolicina=i})),c.Wb(),c.Wb(),c.Xb(71,"div",51),c.Xb(72,"button",52),c.Dc(73,"KG"),c.Wb(),c.Wb(),c.Xb(74,"div",4),c.Bc(75,Cn,2,1,"ng-container",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=n.index,t=c.tc(9),a=c.tc(16),o=c.tc(22),r=c.tc(33),l=c.tc(35),s=c.tc(43),b=c.tc(45),d=c.tc(55),u=c.tc(61),g=c.tc(70),f=c.hc(2);c.Eb(3),c.Fc(" ",e.naziv," "),c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(65,In))("placeholder","Skladiste #"+i)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.nazivFirme.required"))("minlength",f.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",f.getConfigValue("forms.validation.nazivFirme.maxLength")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("ngModelOptions",c.pc(66,In))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.geolokacija.required"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("ngModelOptions",c.pc(67,In))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.geolokacija.required"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength")),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("ngModelOptions",c.pc(68,In))("required",f.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(37,61,f.opstine$)),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("ngModelOptions",c.pc(69,In))("required",f.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",b),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(5),c.nc("ngForOf",c.jc(48,63,f.mesta$)),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("ngModelOptions",c.pc(70,In))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",f.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",f.getConfigValue("forms.validation.postanskiBroj.maxLength")),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("ngModelOptions",c.pc(71,In))("status",u.dirty?u.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.ulica.required"))("minlength",f.getConfigValue("forms.validation.ulica.minLength"))("maxlength",f.getConfigValue("forms.validation.ulica.maxLength")),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("ngModelOptions",c.pc(72,In))("status",g.dirty?g.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.velicinaSkladista.required")),c.Eb(6),c.nc("ngIf",g.invalid&&g.touched)}}function Sn(e,n){if(1&e&&(c.Xb(0,"form",4,11),c.Bc(2,Bn,76,73,"div",12),c.Wb()),2&e){const e=c.hc();c.Eb(2),c.nc("ngForOf",e.skladistaTretman)}}function qn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Naziv dozvole je obavezna! "),c.Wb())}function Vn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,qn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(6);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Fn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function yn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Fn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(12);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function xn(e,n){if(1&e&&(c.Xb(0,"nb-option",55),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e.naziv)}}function Nn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Datum izdavanja dozvole je obavezan! "),c.Wb())}function $n(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Nn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(24);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function wn(e,n){1&e&&(c.Xb(0,"p",54),c.Dc(1," Datum isteka dozvole je obavezan! "),c.Wb())}function Tn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,wn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.tc(32);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ln(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card-body"),c.Xb(1,"div",0),c.Xb(2,"div",59),c.Xb(3,"label",60),c.Dc(4,"Naziv Dozvole:"),c.Wb(),c.Xb(5,"input",61,62),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(7,Vn,2,1,"ng-container",18),c.Wb(),c.Xb(8,"div",63),c.Xb(9,"label",64),c.Dc(10,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(11,"input",65,66),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.sifra=i})),c.Wb(),c.Bc(13,yn,2,1,"ng-container",18),c.Wb(),c.Xb(14,"div",63),c.Xb(15,"label",67),c.Dc(16,"Odaberi postrojenje:"),c.Wb(),c.Xb(17,"nb-select",68,69),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.skladistaTretman=i})),c.Bc(19,xn,2,2,"nb-option",33),c.Wb(),c.Wb(),c.Xb(20,"div",20),c.Xb(21,"label",70),c.Dc(22,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(23,"input",71,72),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumNastanka=i})),c.Wb(),c.Sb(25,"nb-datepicker",73,74),c.Bc(27,$n,2,1,"ng-container",18),c.Wb(),c.Xb(28,"div",20),c.Xb(29,"label",75),c.Dc(30,"Datum isteka dozvole:"),c.Wb(),c.Xb(31,"input",76,77),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumTrajanja=i})),c.Wb(),c.Sb(33,"nb-datepicker",73,78),c.Bc(35,Tn,2,1,"ng-container",18),c.Wb(),c.Xb(36,"div",79),c.Xb(37,"button",80),c.fc("click",(function(){c.vc(e);const i=n.$implicit;return c.hc(2).chooseDozvola(i)})),c.Dc(38,"Odaberi otpade "),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=c.tc(6),t=c.tc(12),a=c.tc(24),o=c.tc(26),r=c.tc(32),l=c.tc(34),s=c.hc(2);c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(30,In))("status",i.dirty?i.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.pc(31,In))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",e.skladistaTretman)("ngModelOptions",c.pc(32,In)),c.Eb(2),c.nc("ngForOf",s.firma.skladistaTretman),c.Eb(4),c.nc("ngModel",e.datumNastanka)("ngModelOptions",c.pc(33,In))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.datum.required"))("nbDatepicker",o),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("ngModelOptions",c.pc(34,In))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.datum.required"))("nbDatepicker",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngIf",r.invalid&&r.touched),c.Eb(2),c.nc("disabled",""===e.sifra)}}function Un(e,n){if(1&e&&(c.Xb(0,"form",56,57),c.Xb(2,"nb-card",58),c.Bc(3,Ln,39,35,"nb-card-body",12),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",e.dozvole)}}let Pn=(()=>{class e{constructor(e={},n,i,t){this.options=e,this.registerService=n,this.mestoService=i,this.router=t,this.brojSkladistaTretman=0}ngOnInit(){this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladistaTretman&&(this.brojSkladistaTretman=this.firma.skladistaTretman.length,this.skladistaTretman=this.firma.skladistaTretman),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola))}),this.registerService.sendFirma(Object(l.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(B.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(l.a)(e)})}getConfigValue(e){return Object(v.n)(this.options,e,null)}updateDozvolaForm(){this.dozvole=new Array(this.brojSkladistaTretman);for(let e=0;e<this.brojSkladistaTretman;e++)this.dozvole[e]={_id:"",naziv:"Dozvola #"+e,datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"tretman"};this.skladistaTretman=new Array(this.brojSkladistaTretman);for(let e=0;e<this.brojSkladistaTretman;e++)this.skladistaTretman[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:""};this.firma.skladistaTretman=this.skladistaTretman,this.firma.dozvola=this.dozvole}dateValid(e){return e.datumNastanka>e.datumTrajanja}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(l.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(l.a)(e),this.getMesta(e[0])}):this.opstine$=Object(l.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(l.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(g),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-tretman"]],decls:17,vars:3,consts:[[1,"row"],[1,"col-4"],[3,"ngSubmit"],["form1",""],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista","ngModel"],["nbButton","","status","primary","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","fullWidth","",3,"ngModel","ngModelOptions","placeholder","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],[1,"col-6"],["for","input-geolokacijaN",1,"label"],["nbInput","","id","input-geolokacijaN","name","geolokacijaN","placeholder","N0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["nbInput","","id","input-geolokacijaE0","name","geolokacijaE0","placeholder","E0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["nbInput","","id","input-nazivDozvole","name","nazivDozvole","placeholder","Naziv","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),c.Xb(4,"div",0),c.Xb(5,"div",4),c.Xb(6,"label",4),c.Dc(7,"Broj skladi\u0161ta za tretman:"),c.Wb(),c.Xb(8,"input",5,6),c.fc("ngModelChange",(function(e){return n.brojSkladistaTretman=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",0),c.Xb(11,"div",4),c.Xb(12,"button",7),c.Dc(13,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"div",8),c.Bc(15,Sn,3,1,"form",9),c.Wb(),c.Bc(16,Un,4,1,"form",10)),2&e&&(c.Eb(8),c.nc("ngModel",n.brojSkladistaTretman),c.Eb(7),c.nc("ngIf",n.brojSkladistaTretman>0),c.Eb(1),c.nc("ngIf",n.brojSkladistaTretman>0))},directives:[a.w,a.l,a.m,h.N,a.p,a.b,a.k,a.n,h.t,t.n,t.m,h.w,h.v,a.s,a.g,a.f,h.mb,h.r,h.q,h.cb,h.lb,h.G,h.F],pipes:[t.b],styles:[""]}),e})();function Rn(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function An(e,n){if(1&e&&(c.Xb(0,"p",60),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Zn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Rn,2,0,"p",59),c.Bc(2,An,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Kn(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Vrsta skladi\u0161ta je obavezan! "),c.Wb())}function _n(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Kn,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Gn(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," NGeolokacija sever je obavezna! "),c.Wb())}function Yn(e,n){if(1&e&&(c.Xb(0,"p",60),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Geolokacija istok mora biti du\u017ea od ",e.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function Hn(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Gn,2,0,"p",59),c.Bc(2,Yn,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(29),n=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function Jn(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Geolokacija istok je obavezna! "),c.Wb())}function Qn(e,n){if(1&e&&(c.Xb(0,"p",60),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Geolokacija istok mora biti du\u017ea od ",e.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function ei(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Jn,2,0,"p",59),c.Bc(2,Qn,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(35);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ni(e,n){if(1&e&&(c.Xb(0,"nb-option",61),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function ii(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Op\u0161tina je obavezna! "),c.Wb())}function ti(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ii,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(46);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ai(e,n){if(1&e&&(c.Xb(0,"nb-option",61),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function oi(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Mesto je obavezno! "),c.Wb())}function ri(e,n){if(1&e&&(c.Vb(0),c.Bc(1,oi,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(56);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function li(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Po\u0161tanski broj je obavezan "),c.Wb())}function si(e,n){if(1&e&&(c.Xb(0,"p",60),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",e.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function ci(e,n){if(1&e&&(c.Vb(0),c.Bc(1,li,2,0,"p",59),c.Bc(2,si,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(68);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function bi(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Ulica je obavezna! "),c.Wb())}function di(e,n){if(1&e&&(c.Vb(0),c.Bc(1,bi,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(74);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ui(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function gi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ui,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(83);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}const fi=function(){return{standalone:!0}};function pi(e,n){if(1&e){const e=c.Yb();c.Xb(0,"div"),c.Xb(1,"nb-card",14),c.Xb(2,"nb-card-body"),c.Dc(3),c.Xb(4,"div",15),c.Xb(5,"div",5),c.Xb(6,"label",16),c.Dc(7,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(8,"input",17,18),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(10,Zn,3,2,"ng-container",19),c.Wb(),c.Wb(),c.Xb(11,"div",15),c.Xb(12,"div",5),c.Xb(13,"nb-select-label",20),c.Dc(14,"Vrsta Skladi\u0161ta:"),c.Wb(),c.Xb(15,"nb-select",21,18),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.vrstaDeponije=i})),c.Xb(17,"nb-option",22),c.Dc(18,"Neopasan otpad"),c.Wb(),c.Xb(19,"nb-option",23),c.Dc(20,"Opasan otpad"),c.Wb(),c.Xb(21,"nb-option",24),c.Dc(22,"Inertan otpad"),c.Wb(),c.Wb(),c.Bc(23,_n,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Xb(24,"div",25),c.Xb(25,"div",26),c.Xb(26,"label",27),c.Dc(27,"Geolokacija Sever(N):"),c.Wb(),c.Xb(28,"input",28,29),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.geolokacijaN=i})),c.Wb(),c.Bc(30,Hn,3,2,"ng-container",19),c.Wb(),c.Xb(31,"div",26),c.Xb(32,"label",30),c.Dc(33,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(34,"input",31,32),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.geolokacijaE=i})),c.Wb(),c.Bc(36,ei,3,2,"ng-container",19),c.Wb(),c.Wb(),c.Xb(37,"div",25),c.Xb(38,"div",5),c.Xb(39,"label",33),c.Dc(40,"Adresa:"),c.Wb(),c.Xb(41,"div",34),c.Xb(42,"div",26),c.Xb(43,"nb-select-label",35),c.Dc(44,"Op\u0161tina:"),c.Wb(),c.Xb(45,"input",36,37),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.opstinaNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findOpstina(n)})),c.Wb(),c.Xb(47,"nb-autocomplete",null,38),c.Bc(49,ni,2,2,"nb-option",39),c.ic(50,"async"),c.Wb(),c.Bc(51,ti,2,1,"ng-container",19),c.Wb(),c.Xb(52,"div",26),c.Xb(53,"nb-select-label",40),c.Dc(54,"Mesto:"),c.Wb(),c.Xb(55,"input",41,42),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.mestoNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findMesta(n)})),c.Wb(),c.Xb(57,"nb-autocomplete",null,43),c.Xb(59,"nb-option"),c.Bc(60,ai,2,2,"nb-option",39),c.ic(61,"async"),c.Wb(),c.Wb(),c.Bc(62,ri,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Xb(63,"div",44),c.Xb(64,"div",45),c.Xb(65,"label",46),c.Dc(66,"Po\u0161tanski broj:"),c.Wb(),c.Xb(67,"input",47,48),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.postanskiBroj=i})),c.Wb(),c.Bc(69,ci,3,2,"ng-container",19),c.Wb(),c.Xb(70,"div",49),c.Xb(71,"label",50),c.Dc(72,"Ulica i broj:"),c.Wb(),c.Xb(73,"input",51,52),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.ulica=i})),c.Wb(),c.Bc(75,di,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(76,"div",25),c.Xb(77,"div",5),c.Xb(78,"label",53),c.Dc(79,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(80,"div",4),c.Xb(81,"div",54),c.Xb(82,"input",55,56),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.maxKolicina=i})),c.Wb(),c.Wb(),c.Xb(84,"div",57),c.Xb(85,"button",58),c.Dc(86,"KG"),c.Wb(),c.Wb(),c.Xb(87,"div",5),c.Bc(88,gi,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=n.index,t=c.tc(9),a=c.tc(29),o=c.tc(35),r=c.tc(46),l=c.tc(48),s=c.tc(56),b=c.tc(58),d=c.tc(68),u=c.tc(74),g=c.tc(83),f=c.hc(2);c.Eb(3),c.Fc(" ",e.naziv," "),c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(71,fi))("placeholder","Skladiste Deponije #"+i)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.nazivFirme.required"))("minlength",f.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",f.getConfigValue("forms.validation.nazivFirme.maxLength")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(5),c.nc("ngModel",e.vrstaDeponije)("ngModelOptions",c.pc(72,fi))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(8),c.nc("ngIf",t.invalid&&t.touched),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("ngModelOptions",c.pc(73,fi))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.geolokacija.required"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("ngModelOptions",c.pc(74,fi))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.geolokacija.required"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength")),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("ngModelOptions",c.pc(75,fi))("required",f.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(50,67,f.opstine$)),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("ngModelOptions",c.pc(76,fi))("required",f.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",b),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(5),c.nc("ngForOf",c.jc(61,69,f.mesta$)),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("ngModelOptions",c.pc(77,fi))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",f.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",f.getConfigValue("forms.validation.postanskiBroj.maxLength")),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("ngModelOptions",c.pc(78,fi))("status",u.dirty?u.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.ulica.required"))("minlength",f.getConfigValue("forms.validation.ulica.minLength"))("maxlength",f.getConfigValue("forms.validation.ulica.maxLength")),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("ngModelOptions",c.pc(79,fi))("status",g.dirty?g.invalid?"danger":"success":"basic")("required",f.getConfigValue("forms.validation.velicinaSkladista.required")),c.Eb(6),c.nc("ngIf",g.invalid&&g.touched)}}function mi(e,n){if(1&e&&(c.Xb(0,"form",5,12),c.Bc(2,pi,89,80,"div",13),c.Wb()),2&e){const e=c.hc();c.Eb(2),c.nc("ngForOf",e.skladisteDeponija)}}function vi(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Naziv dozvole je obavezna! "),c.Wb())}function hi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,vi,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(6);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ki(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function Wi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ki,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(12);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Xi(e,n){if(1&e&&(c.Xb(0,"nb-option",61),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e.naziv)}}function ji(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Datum izdavanja dozvole je obavezan! "),c.Wb())}function Mi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ji,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(24);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function zi(e,n){1&e&&(c.Xb(0,"p",60),c.Dc(1," Datum isteka dozvole je obavezan! "),c.Wb())}function Di(e,n){if(1&e&&(c.Vb(0),c.Bc(1,zi,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.tc(32);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ei(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card-body"),c.Xb(1,"div",4),c.Xb(2,"div",65),c.Xb(3,"label",66),c.Dc(4,"Naziv Dozvole:"),c.Wb(),c.Xb(5,"input",67,68),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(7,hi,2,1,"ng-container",19),c.Wb(),c.Xb(8,"div",69),c.Xb(9,"label",70),c.Dc(10,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(11,"input",71,72),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.sifra=i})),c.Wb(),c.Bc(13,Wi,2,1,"ng-container",19),c.Wb(),c.Xb(14,"div",69),c.Xb(15,"label",73),c.Dc(16,"Odaberi postrojenje:"),c.Wb(),c.Xb(17,"nb-select",74,75),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.skladistaDeponija=i})),c.Bc(19,Xi,2,2,"nb-option",39),c.Wb(),c.Wb(),c.Xb(20,"div",26),c.Xb(21,"label",76),c.Dc(22,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(23,"input",77,78),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumNastanka=i})),c.Wb(),c.Sb(25,"nb-datepicker",79,80),c.Bc(27,Mi,2,1,"ng-container",19),c.Wb(),c.Xb(28,"div",26),c.Xb(29,"label",81),c.Dc(30,"Datum isteka dozvole:"),c.Wb(),c.Xb(31,"input",82,83),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumTrajanja=i})),c.Wb(),c.Sb(33,"nb-datepicker",79,84),c.Bc(35,Di,2,1,"ng-container",19),c.Wb(),c.Xb(36,"div",85),c.Xb(37,"button",86),c.fc("click",(function(){c.vc(e);const i=n.$implicit;return c.hc(2).chooseDozvola(i)})),c.Dc(38,"Odaberi otpade "),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=c.tc(6),t=c.tc(12),a=c.tc(24),o=c.tc(26),r=c.tc(32),l=c.tc(34),s=c.hc(2);c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(29,fi))("status",i.dirty?i.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.pc(30,fi))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",e.skladistaDeponija)("ngModelOptions",c.pc(31,fi)),c.Eb(2),c.nc("ngForOf",s.firma.skladistaDeponija),c.Eb(4),c.nc("ngModel",e.datumNastanka)("ngModelOptions",c.pc(32,fi))("nbDatepicker",o)("required",s.getConfigValue("forms.validation.datum.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("ngModelOptions",c.pc(33,fi))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.datum.required"))("nbDatepicker",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngIf",r.invalid&&r.touched),c.Eb(2),c.nc("disabled",""===e.sifra)}}function Oi(e,n){if(1&e&&(c.Xb(0,"form",62,63),c.Xb(2,"nb-card",64),c.Bc(3,Ei,39,34,"nb-card-body",13),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",e.dozvole)}}let Ci=(()=>{class e{constructor(e={},n,i,t,a){this.options=e,this.registerService=n,this.mestoService=i,this.router=t,this.datePipe=a,this.brojSkladistaDeponija=0}ngOnInit(){this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladistaDeponija&&(this.brojSkladistaDeponija=this.firma.skladistaDeponija.length,this.skladisteDeponija=this.firma.skladistaDeponija),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola))}),this.registerService.sendFirma(Object(l.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(B.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(l.a)(e)})}getConfigValue(e){return Object(v.n)(this.options,e,null)}updateDozvolaForm(){this.dozvole=new Array(this.brojSkladistaDeponija);for(let e=0;e<this.brojSkladistaDeponija;e++)this.dozvole[e]={_id:"",naziv:"Dozvola #"+e,datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"odlaganje"};this.skladisteDeponija=new Array(this.brojSkladistaDeponija);for(let e=0;e<this.brojSkladistaDeponija;e++)this.skladisteDeponija[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:"",vrstaDeponije:""};this.firma.skladistaDeponija=this.skladisteDeponija,this.firma.dozvola=this.dozvole}dateValid(e){return e.datumNastanka>e.datumTrajanja}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(l.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(l.a)(e),this.getMesta(e[0])}):this.opstine$=Object(l.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(l.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(g),c.Rb(o.c),c.Rb(t.e))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-odlaganje"]],decls:17,vars:3,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["form1",""],[1,"row"],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista","ngModel"],["nbButton","","status","primary","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","fullWidth","",3,"ngModel","ngModelOptions","placeholder","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],["for","input-vrstaSkladista",1,"label"],["id","input-vrstaSkladista","name","vrstaSkladista","autofocus","","placeholder","Vrsta","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["value","Neopasan"],["value","Opasan"],["value","Inertan"],[1,"row","mb-2"],[1,"col-6"],["for","input-geolokacijaN",1,"label"],["nbInput","","id","input-geolokacijaN","name","geolokacijaN","placeholder","N0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["nbInput","","id","input-geolokacijaE0","name","geolokacijaE0","placeholder","E0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["nbInput","","id","input-nazivDozvole","name","nazivDozvole","placeholder","Naziv","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","nbDatepicker","required","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Dc(7,"Broj deponija:"),c.Wb(),c.Xb(8,"input",6,7),c.fc("ngModelChange",(function(e){return n.brojSkladistaDeponija=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",4),c.Xb(11,"div",5),c.Xb(12,"button",8),c.Dc(13,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"div",9),c.Bc(15,mi,3,1,"form",10),c.Wb(),c.Bc(16,Oi,4,1,"form",11)),2&e&&(c.Eb(8),c.nc("ngModel",n.brojSkladistaDeponija),c.Eb(7),c.nc("ngIf",n.brojSkladistaDeponija>0),c.Eb(1),c.nc("ngIf",n.brojSkladistaDeponija>0))},directives:[a.w,a.l,a.m,h.N,a.p,a.b,a.k,a.n,h.t,t.n,t.m,h.w,h.v,a.s,a.g,a.f,h.mb,h.lb,h.cb,h.r,h.q,h.G,h.F],pipes:[t.b],styles:[""]}),e})();function Ii(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Bi(e,n){if(1&e&&(c.Xb(0,"p",49),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Si(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ii,2,0,"p",48),c.Bc(2,Bi,2,1,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function qi(e,n){if(1&e&&(c.Xb(0,"nb-option",50),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function Vi(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Op\u0161tina je obavezna! "),c.Wb())}function Fi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Vi,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(20);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function yi(e,n){if(1&e&&(c.Xb(0,"nb-option",50),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e)}}function xi(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Mesto je obavezno! "),c.Wb())}function Ni(e,n){if(1&e&&(c.Vb(0),c.Bc(1,xi,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(30);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function $i(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Po\u0161tanski broj je obavezan "),c.Wb())}function wi(e,n){if(1&e&&(c.Xb(0,"p",49),c.Dc(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",e.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function Ti(e,n){if(1&e&&(c.Vb(0),c.Bc(1,$i,2,0,"p",48),c.Bc(2,wi,2,1,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(42);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Li(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Ulica je obavezna! "),c.Wb())}function Ui(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Li,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(48);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Pi(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Ri(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Pi,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(57);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}const Ai=function(){return{standalone:!0}};function Zi(e,n){if(1&e){const e=c.Yb();c.Xb(0,"div"),c.Xb(1,"nb-card",14),c.Xb(2,"nb-card-body"),c.Dc(3),c.Xb(4,"div",15),c.Xb(5,"div",5),c.Xb(6,"label",16),c.Dc(7,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(8,"input",17,18),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(10,Si,3,2,"ng-container",19),c.Wb(),c.Wb(),c.Xb(11,"div",20),c.Xb(12,"div",5),c.Xb(13,"label",21),c.Dc(14,"Adresa:"),c.Wb(),c.Xb(15,"div",22),c.Xb(16,"div",23),c.Xb(17,"nb-select-label",24),c.Dc(18,"Op\u0161tina:"),c.Wb(),c.Xb(19,"input",25,26),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.opstinaNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findOpstina(n)})),c.Wb(),c.Xb(21,"nb-autocomplete",null,27),c.Bc(23,qi,2,2,"nb-option",28),c.ic(24,"async"),c.Wb(),c.Bc(25,Fi,2,1,"ng-container",19),c.Wb(),c.Xb(26,"div",23),c.Xb(27,"nb-select-label",29),c.Dc(28,"Mesto:"),c.Wb(),c.Xb(29,"input",30,31),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.mestoNaziv=i}))("ngModelChange",(function(n){return c.vc(e),c.hc(2).findMesta(n)})),c.Wb(),c.Xb(31,"nb-autocomplete",null,32),c.Xb(33,"nb-option"),c.Bc(34,yi,2,2,"nb-option",28),c.ic(35,"async"),c.Wb(),c.Wb(),c.Bc(36,Ni,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Xb(37,"div",33),c.Xb(38,"div",34),c.Xb(39,"label",35),c.Dc(40,"Po\u0161tanski broj:"),c.Wb(),c.Xb(41,"input",36,37),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.mesto.postanskiBroj=i})),c.Wb(),c.Bc(43,Ti,3,2,"ng-container",19),c.Wb(),c.Xb(44,"div",38),c.Xb(45,"label",39),c.Dc(46,"Ulica i broj:"),c.Wb(),c.Xb(47,"input",40,41),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.adresa.ulica=i})),c.Wb(),c.Bc(49,Ui,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(50,"div",20),c.Xb(51,"div",5),c.Xb(52,"label",42),c.Dc(53,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(54,"div",4),c.Xb(55,"div",43),c.Xb(56,"input",44,45),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.maxKolicina=i})),c.Wb(),c.Wb(),c.Xb(58,"div",46),c.Xb(59,"button",47),c.Dc(60,"KG"),c.Wb(),c.Wb(),c.Xb(61,"div",5),c.Bc(62,Ri,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=n.index,t=c.tc(9),a=c.tc(20),o=c.tc(22),r=c.tc(30),l=c.tc(32),s=c.tc(42),b=c.tc(48),d=c.tc(57),u=c.hc(2);c.Eb(3),c.Fc(" ",e.naziv," "),c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(49,Ai))("placeholder","Skladiste #"+i)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.nazivFirme.required"))("minlength",u.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",u.getConfigValue("forms.validation.nazivFirme.maxLength")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("ngModelOptions",c.pc(50,Ai))("required",u.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",o),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(24,45,u.opstine$)),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("ngModelOptions",c.pc(51,Ai))("required",u.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(5),c.nc("ngForOf",c.jc(35,47,u.mesta$)),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("ngModelOptions",c.pc(52,Ai))("status",s.dirty?s.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",u.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",u.getConfigValue("forms.validation.postanskiBroj.maxLength")),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("ngModelOptions",c.pc(53,Ai))("status",b.dirty?b.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.ulica.required"))("minlength",u.getConfigValue("forms.validation.ulica.minLength"))("maxlength",u.getConfigValue("forms.validation.ulica.maxLength")),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("ngModelOptions",c.pc(54,Ai))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",u.getConfigValue("forms.validation.velicinaSkladista.required")),c.Eb(6),c.nc("ngIf",d.invalid&&d.touched)}}function Ki(e,n){if(1&e&&(c.Xb(0,"form",5,12),c.Bc(2,Zi,63,55,"div",13),c.Wb()),2&e){const e=c.hc();c.Eb(2),c.nc("ngForOf",e.skladistaSkladistenje)}}function _i(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Naziv dozvole je obavezna! "),c.Wb())}function Gi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,_i,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(6);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Yi(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function Hi(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Yi,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(12);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ji(e,n){if(1&e&&(c.Xb(0,"nb-option",50),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.nc("value",e),c.Eb(1),c.Ec(e.naziv)}}function Qi(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Datum izdavanja dozvole je obavezan! "),c.Wb())}function et(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Qi,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(24);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function nt(e,n){1&e&&(c.Xb(0,"p",49),c.Dc(1," Datum isteka dozvole je obavezan! "),c.Wb())}function it(e,n){if(1&e&&(c.Vb(0),c.Bc(1,nt,2,0,"p",48),c.Ub()),2&e){c.hc();const e=c.tc(32);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function tt(e,n){if(1&e){const e=c.Yb();c.Xb(0,"nb-card-body"),c.Xb(1,"div",4),c.Xb(2,"div",54),c.Xb(3,"label",55),c.Dc(4,"Naziv Dozvole:"),c.Wb(),c.Xb(5,"input",56,57),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.naziv=i})),c.Wb(),c.Bc(7,Gi,2,1,"ng-container",19),c.Wb(),c.Xb(8,"div",58),c.Xb(9,"label",59),c.Dc(10,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(11,"input",60,61),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.sifra=i})),c.Wb(),c.Bc(13,Hi,2,1,"ng-container",19),c.Wb(),c.Xb(14,"div",58),c.Xb(15,"label",62),c.Dc(16,"Odaberi postrojenje:"),c.Wb(),c.Xb(17,"nb-select",63,64),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.skladistaSkladistenje=i})),c.Bc(19,Ji,2,2,"nb-option",28),c.Wb(),c.Wb(),c.Xb(20,"div",23),c.Xb(21,"label",65),c.Dc(22,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(23,"input",66,67),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumNastanka=i})),c.Wb(),c.Sb(25,"nb-datepicker",68,69),c.Bc(27,et,2,1,"ng-container",19),c.Wb(),c.Xb(28,"div",23),c.Xb(29,"label",70),c.Dc(30,"Datum isteka dozvole:"),c.Wb(),c.Xb(31,"input",71,72),c.fc("ngModelChange",(function(i){return c.vc(e),n.$implicit.datumTrajanja=i})),c.Wb(),c.Sb(33,"nb-datepicker",68,73),c.Bc(35,it,2,1,"ng-container",19),c.Wb(),c.Xb(36,"div",74),c.Xb(37,"button",75),c.fc("click",(function(){c.vc(e);const i=n.$implicit;return c.hc(2).chooseDozvola(i)})),c.Dc(38,"Odaberi otpade "),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=n.$implicit,i=c.tc(6),t=c.tc(12),a=c.tc(24),o=c.tc(26),r=c.tc(32),l=c.tc(34),s=c.hc(2);c.Eb(5),c.nc("ngModel",e.naziv)("ngModelOptions",c.pc(30,Ai))("status",i.dirty?i.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.pc(31,Ai))("status",t.dirty?t.invalid?"danger":"success":"basic")("required",s.getConfigValue("forms.validation.nazivFirme.required")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(4),c.nc("ngModel",e.skladistaSkladistenje)("ngModelOptions",c.pc(32,Ai)),c.Eb(2),c.nc("ngForOf",s.firma.skladisteSkladistenje),c.Eb(4),c.nc("ngModel",e.datumNastanka)("ngModelOptions",c.pc(33,Ai))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.nazivFirme.required"))("nbDatepicker",o),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("ngModelOptions",c.pc(34,Ai))("status",s.dateValid(e)?"danger":"success")("required",s.getConfigValue("forms.validation.nazivFirme.required"))("nbDatepicker",l),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngIf",r.invalid&&r.touched),c.Eb(2),c.nc("disabled",""===e.sifra)}}function at(e,n){if(1&e&&(c.Xb(0,"form",51,52),c.Xb(2,"nb-card",53),c.Bc(3,tt,39,35,"nb-card-body",13),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(3),c.nc("ngForOf",e.dozvole)}}let ot=(()=>{class e{constructor(e={},n,i,t){this.options=e,this.registerService=n,this.mestoService=i,this.router=t,this.brojSkladista=0}ngOnInit(){this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladisteSkladistenje&&(this.brojSkladista=this.firma.skladisteSkladistenje.length,this.skladistaSkladistenje=this.firma.skladisteSkladistenje),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola))}),this.registerService.sendFirma(Object(l.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(B.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(l.a)(e)})}getConfigValue(e){return Object(v.n)(this.options,e,null)}updateDozvolaForm(){this.dozvole=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.dozvole[e]={_id:"",naziv:"Dozvola #"+e,datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"skladistenje"};this.skladistaSkladistenje=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.skladistaSkladistenje[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:""};this.firma.skladisteSkladistenje=this.skladistaSkladistenje,this.firma.dozvola=this.dozvole}dateValid(e){return e.datumNastanka>e.datumTrajanja}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(l.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(l.a)(e),this.getMesta(e[0])}):this.opstine$=Object(l.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(l.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f),c.Rb(g),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-skladistenje"]],decls:17,vars:3,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["form1",""],[1,"row"],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista1","ngModel"],["nbButton","","status","primary","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","fullWidth","",3,"ngModel","ngModelOptions","placeholder","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["nbInput","","id","input-nazivDozvole","name","nazivDozvole","placeholder","Naziv","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","","fullWidth","",3,"ngModel","ngModelOptions","status","required","nbDatepicker","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Dc(7,"Broj skladi\u0161ta za tretman:"),c.Wb(),c.Xb(8,"input",6,7),c.fc("ngModelChange",(function(e){return n.brojSkladista=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",4),c.Xb(11,"div",5),c.Xb(12,"button",8),c.Dc(13,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"div",9),c.Bc(15,Ki,3,1,"form",10),c.Wb(),c.Bc(16,at,4,1,"form",11)),2&e&&(c.Eb(8),c.nc("ngModel",n.brojSkladista),c.Eb(7),c.nc("ngIf",n.brojSkladista>0),c.Eb(1),c.nc("ngIf",n.brojSkladista>0))},directives:[a.w,a.l,a.m,h.N,a.p,a.b,a.k,a.n,h.t,t.n,t.m,h.w,h.v,a.s,a.g,a.f,h.mb,h.r,h.q,h.cb,h.lb,h.G,h.F],pipes:[t.b],styles:[""]}),e})();function rt(e,n){1&e&&(c.Xb(0,"div"),c.Sb(1,"ngx-proizvodnja"),c.Wb())}function lt(e,n){1&e&&(c.Xb(0,"div"),c.Sb(1,"ngx-transport"),c.Wb())}function st(e,n){1&e&&(c.Xb(0,"div"),c.Sb(1,"ngx-tretman"),c.Wb())}function ct(e,n){1&e&&(c.Xb(0,"div"),c.Sb(1,"ngx-odlaganje"),c.Wb())}function bt(e,n){1&e&&(c.Xb(0,"div"),c.Sb(1,"ngx-skladistenje"),c.Wb())}let dt=(()=>{class e{constructor(e={},n){this.options=e,this.registerService=n,this.proizvodnja=!1,this.transport=!1,this.tretman=!1,this.odlaganje=!1,this.skladistenje=!1}getConfigValue(e){return Object(v.n)(this.options,e,null)}ngOnInit(){this.registerService.getOperacije().subscribe(e=>{this.operacije=e}),this.findOperations()}findOperations(){this.operacije.forEach(e=>{e.startsWith("Proizvodnja")&&(this.proizvodnja=!0),e.startsWith("Transport")&&(this.transport=!0),e.startsWith("Tretman")&&(this.tretman=!0),e.startsWith("Odlaganje")&&(this.odlaganje=!0),e.startsWith("Skladi\u0161tenje")&&(this.skladistenje=!0)})}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-informacije"]],decls:18,vars:5,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-operacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-potvrda",1,"mt-2","col-6"],["label","Potvrda"]],template:function(e,n){1&e&&(c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Dc(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Sb(6,"nb-step",4),c.Xb(7,"nb-step",5),c.Bc(8,rt,2,0,"div",6),c.Bc(9,lt,2,0,"div",6),c.Bc(10,st,2,0,"div",6),c.Bc(11,ct,2,0,"div",6),c.Bc(12,bt,2,0,"div",6),c.Xb(13,"button",7),c.Dc(14," Nazad "),c.Wb(),c.Xb(15,"button",8),c.Dc(16," Dalje "),c.Wb(),c.Wb(),c.Sb(17,"nb-step",9),c.Wb()),2&e&&(c.Eb(8),c.nc("ngIf",n.proizvodnja),c.Eb(1),c.nc("ngIf",n.transport),c.Eb(1),c.nc("ngIf",n.tretman),c.Eb(1),c.nc("ngIf",n.odlaganje),c.Eb(1),c.nc("ngIf",n.skladistenje))},directives:[h.sb,h.rb,t.n,h.t,o.d,Te,rn,Pn,Ci,ot],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),e})();function ut(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Ime je obavezno! "),c.Wb())}function gt(e,n){if(1&e&&(c.Xb(0,"p",38),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.ime.maxLength")," ")}}function ft(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Ime mora biti validno! "),c.Wb())}function pt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,ut,2,0,"p",37),c.Bc(2,gt,2,2,"p",37),c.Bc(3,ft,2,0,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(11);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function mt(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Prezime je obavezno! "),c.Wb())}function vt(e,n){if(1&e&&(c.Xb(0,"p",38),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.prezime.minLength")," ")}}function ht(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Prezime mora biti validno! "),c.Wb())}function kt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,mt,2,0,"p",37),c.Bc(2,vt,2,1,"p",37),c.Bc(3,ht,2,0,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(17);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.minlength),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Wt(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Korisni\u010dko ime je obavezan! "),c.Wb())}function Xt(e,n){if(1&e&&(c.Xb(0,"p",38),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.korisnickoIme.minLength"),"! ")}}function jt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Wt,2,0,"p",37),c.Bc(2,Xt,2,1,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(24);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Mt(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Telefon je obavezan! "),c.Wb())}function zt(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Telefon mora biti validan! "),c.Wb())}function Dt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Mt,2,0,"p",37),c.Bc(2,zt,2,0,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(30);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Et(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Email je obavezan! "),c.Wb())}function Ot(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Et,2,0,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(37);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ct(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," \u0160ifra je obavezna! "),c.Wb())}function It(e,n){if(1&e&&(c.Xb(0,"p",38),c.Dc(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Fc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function Bt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,Ct,2,0,"p",37),c.Bc(2,It,2,1,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(44);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function St(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," Ponovna \u0161ifra je obavezna! "),c.Wb())}function qt(e,n){1&e&&(c.Xb(0,"p",38),c.Dc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),c.Wb())}function Vt(e,n){if(1&e&&(c.Vb(0),c.Bc(1,St,2,0,"p",37),c.Bc(2,qt,2,0,"p",37),c.Ub()),2&e){c.hc();const e=c.tc(50),n=c.tc(44);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",n.value!=e.value&&!(null!=e.errors&&e.errors.required))}}function Ft(e,n){if(1&e&&(c.Xb(0,"button",29),c.Dc(1),c.Wb()),2&e){const e=n.$implicit;c.Eb(1),c.Ec(e)}}const yt=[{path:"",component:v.c,children:[{path:"login",component:C},{path:"register-korisnik",component:(()=>{class e{constructor(e={},n){this.options=e,this.registerService=n,this.korisnik={_id:"",ime:"",prezime:"",korisnickoIme:"",sifra:"",email:"",telefon:"",uloga:"menadzer"}}ngOnInit(){this.registerService.getKorisnik().subscribe(e=>{void 0!==e&&(this.korisnik=e)}),this.registerService.sendKorisnik(Object(l.a)(this.korisnik))}getConfigValue(e){return Object(v.n)(this.options,e,null)}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.a),c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-korisnik"]],decls:63,vars:48,consts:[[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["form","ngForm"],[1,"row","mb-2"],[1,"col-6"],["for","input-ime",1,"label"],["nbInput","","id","input-ime","name","ime","placeholder","Ime","autofocus","","fullWidth","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["nbInput","","id","input-prezime","name","prezime","placeholder","Prezime","autofocus","","fullWidth","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["prezime","ngModel"],["for","input-korisnickoIme",1,"label"],["nbInput","","id","input-korisnickoIme","name","korisnickoIme","placeholder","Korisni\u010dko ime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["nbInput","","id","input-telefon","name","telefon","placeholder","Telefon","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["telefon","ngModel"],[1,"col-12"],["for","input-email",1,"label"],["nbInput","","id","input-email","name","email","pattern",".+@.+..+","placeholder","Email","fullWidth","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],["nbInput","","type","password","id","input-password","name","password","placeholder","\u0160ifra","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","placeholder","Potvrdi \u0161ifru","fullWidth","",3,"ngModel","status","required","ngModelChange"],["rePass","ngModel"],["nbButton","","fullWidth","","status","success","routerLink","../register-firma",1,"mt-2",3,"disabled"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],[1,"container-fluid"],["aria-label","Uloguj se",1,"text-center","my-2"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e&&(c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Xb(4,"form",null,3),c.Xb(6,"div",4),c.Xb(7,"div",5),c.Xb(8,"label",6),c.Dc(9,"Ime:"),c.Wb(),c.Xb(10,"input",7,8),c.fc("ngModelChange",(function(e){return n.korisnik.ime=e})),c.Wb(),c.Bc(12,pt,4,3,"ng-container",9),c.Wb(),c.Xb(13,"div",5),c.Xb(14,"label",10),c.Dc(15,"Prezime:"),c.Wb(),c.Xb(16,"input",11,12),c.fc("ngModelChange",(function(e){return n.korisnik.prezime=e})),c.Wb(),c.Bc(18,kt,4,3,"ng-container",9),c.Wb(),c.Wb(),c.Xb(19,"div",4),c.Xb(20,"div",5),c.Xb(21,"label",13),c.Dc(22,"Korisni\u010dko ime:"),c.Wb(),c.Xb(23,"input",14,15),c.fc("ngModelChange",(function(e){return n.korisnik.korisnickoIme=e})),c.Wb(),c.Bc(25,jt,3,2,"ng-container",9),c.Wb(),c.Xb(26,"div",5),c.Xb(27,"label",16),c.Dc(28,"Telefon:"),c.Wb(),c.Xb(29,"input",17,18),c.fc("ngModelChange",(function(e){return n.korisnik.telefon=e})),c.Wb(),c.Bc(31,Dt,3,2,"ng-container",9),c.Wb(),c.Wb(),c.Xb(32,"div",4),c.Xb(33,"div",19),c.Xb(34,"label",20),c.Dc(35,"Email:"),c.Wb(),c.Xb(36,"input",21,22),c.fc("ngModelChange",(function(e){return n.korisnik.email=e})),c.Wb(),c.Bc(38,Ot,2,1,"ng-container",9),c.Wb(),c.Wb(),c.Xb(39,"div",4),c.Xb(40,"div",5),c.Xb(41,"label",23),c.Dc(42,"\u0160ifra:"),c.Wb(),c.Xb(43,"input",24,25),c.fc("ngModelChange",(function(e){return n.korisnik.sifra=e})),c.Wb(),c.Bc(45,Bt,3,2,"ng-container",9),c.Wb(),c.Xb(46,"div",5),c.Xb(47,"label",26),c.Dc(48,"Ponovi \u0161ifru:"),c.Wb(),c.Xb(49,"input",27,28),c.fc("ngModelChange",(function(e){return n.reSifra=e})),c.Wb(),c.Bc(51,Vt,3,2,"ng-container",9),c.Wb(),c.Wb(),c.Xb(52,"button",29),c.Dc(53," Dalje "),c.Wb(),c.Wb(),c.Wb(),c.Sb(54,"nb-step",30),c.Sb(55,"nb-step",31),c.Sb(56,"nb-step",32),c.Sb(57,"nb-step",33),c.Wb(),c.Xb(58,"div",34),c.Xb(59,"section",35),c.Dc(60," Ve\u0107 imate nalog? "),c.Xb(61,"a",36),c.Dc(62,"Uloguj se"),c.Wb(),c.Wb(),c.Wb()),2&e){const e=c.tc(5),i=c.tc(11),t=c.tc(17),a=c.tc(24),o=c.tc(30),r=c.tc(37),l=c.tc(44),s=c.tc(50);c.Eb(10),c.nc("ngModel",n.korisnik.ime)("status",i.dirty?i.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.ime.required"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern")),c.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),c.Eb(2),c.nc("ngIf",i.invalid&&i.touched),c.Eb(4),c.nc("ngModel",n.korisnik.prezime)("status",t.dirty?t.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.prezime.required"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern")),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(5),c.nc("ngModel",n.korisnik.korisnickoIme)("status",a.dirty?a.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(4),c.nc("ngModel",n.korisnik.telefon)("status",o.dirty?o.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.telefon.required"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("maxlength",n.getConfigValue("forms.validation.telefon.maxLength")),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched),c.Eb(5),c.nc("ngModel",n.korisnik.email)("status",r.dirty?r.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.email.required")),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(5),c.nc("ngModel",n.korisnik.sifra)("status",l.dirty?l.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched),c.Eb(4),c.nc("ngModel",n.reSifra)("status",s.dirty?s.invalid||l.value!=s.value?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required")),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched),c.Eb(1),c.nc("disabled",!e.valid)}},directives:[h.sb,h.rb,a.w,a.l,a.m,h.N,a.b,a.k,a.n,a.s,a.g,a.f,a.q,t.n,h.t,o.d,o.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),e})()},{path:"register-firma",component:We},{path:"register-operacije",component:(()=>{class e{constructor(e){this.registerService=e,this.brOT=0,this.brPTO=0,this.brATO=0,this.brVODA=0,this.brVAZDUH=0,this.operacije=[],this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"}}ngOnInit(){this.registerService.getOperacije().subscribe(e=>{void 0!==e&&(this.operacije=e,this.updateOperacije())}),this.registerService.sendOperacije(Object(l.a)(this.operacije))}brojOtpad(){return this.brOT.toString()}updateOperacije(){this.brOT=this.operacije.length}addOperacija(e,n){n?((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT++,this.operacije.push(e)):((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT--,this.operacije.splice(this.operacije.findIndex(n=>n===e),1))}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-operacije"]],decls:49,vars:17,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],["multi",""],[1,"mx-1",3,"checked","checkedChange"],["responsive","true","tabTitle","Posebni tokovi otpada",3,"tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["nbButton","","fullWidth","","status","danger","routerLink","../register-firma",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-informacije",1,"col-6","mt-2",3,"disabled"],["label","Informacije"],["lable","Potvrda"]],template:function(e,n){1&e&&(c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Dc(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Xb(6,"nb-step",4),c.Xb(7,"div",5),c.Xb(8,"nb-tabset"),c.Xb(9,"nb-tab",6),c.Xb(10,"nb-accordion",7),c.Xb(11,"nb-accordion-item"),c.Xb(12,"nb-accordion-item-header"),c.Dc(13,"Neopasan otpad"),c.Wb(),c.Xb(14,"nb-accordion-item-body"),c.Xb(15,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Neopasnog Otpada",e)})),c.Dc(16,"Proizvodnja "),c.Wb(),c.Xb(17,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Transport Neopasnog Otpada",e)})),c.Dc(18,"Transport "),c.Wb(),c.Xb(19,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Tretman Neopasnog Otpada",e)})),c.Dc(20,"Tretman "),c.Wb(),c.Xb(21,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Neopasnog Otpada",e)})),c.Dc(22,"Odlaganje "),c.Wb(),c.Xb(23,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Neopasnog Otpada",e)})),c.Dc(24,"Skladi\u0161tenje "),c.Wb(),c.Wb(),c.Wb(),c.Xb(25,"nb-accordion-item"),c.Xb(26,"nb-accordion-item-header"),c.Dc(27,"Opasan otpad"),c.Wb(),c.Xb(28,"nb-accordion-item-body"),c.Xb(29,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Opasnog Otpada",e)})),c.Dc(30,"Proizvodnja "),c.Wb(),c.Xb(31,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Transport Opasnog Otpada",e)})),c.Dc(32,"Transport "),c.Wb(),c.Xb(33,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Tretman Opasnog Otpada",e)})),c.Dc(34,"Tretman "),c.Wb(),c.Xb(35,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Opasnog Otpada",e)})),c.Dc(36,"Odlaganje "),c.Wb(),c.Xb(37,"nb-toggle",8),c.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Opasnog Otpada",e)})),c.Dc(38,"Skladi\u0161tenje "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(39,"nb-tab",9),c.Sb(40,"nb-tab",10),c.Sb(41,"nb-tab",11),c.Sb(42,"nb-tab",12),c.Wb(),c.Wb(),c.Xb(43,"button",13),c.Dc(44," Nazad "),c.Wb(),c.Xb(45,"button",14),c.Dc(46," Dalje "),c.Wb(),c.Wb(),c.Sb(47,"nb-step",15),c.Sb(48,"nb-step",16),c.Wb()),2&e&&(c.Eb(9),c.nc("badgeText",n.brojOtpad())("tabIcon",n.trashIco),c.Eb(6),c.nc("checked",n.operacije.includes("Proizvodnja Neopasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Transport Neopasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Tretman Neopasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Odlaganje Neopasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Skladi\u0161tenje Neopasnog Otpada")),c.Eb(6),c.nc("checked",n.operacije.includes("Proizvodnja Opasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Transport Opasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Tretman Opasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Odlaganje Opasnog Otpada")),c.Eb(2),c.nc("checked",n.operacije.includes("Skladi\u0161tenje Opasnog Otpada")),c.Eb(2),c.nc("tabIcon",n.carBatteryIco),c.Eb(1),c.nc("tabIcon",n.recyleIco),c.Eb(1),c.nc("tabIcon",n.waterIco),c.Eb(1),c.nc("tabIcon",n.airIco),c.Eb(3),c.nc("disabled",0==n.operacije.length))},directives:[h.sb,h.rb,h.wb,h.vb,h.g,h.i,h.j,h.h,h.Cb,h.t,o.d],styles:[""]}),e})()},{path:"register-informacije",component:dt},{path:"register-dozvola",component:q},{path:"register-potvrda",component:(()=>{class e extends v.k{constructor(e,n={},i,t,a){super(e,n,i,t),this.service=e,this.options=n,this.cd=i,this.router=t,this.registerService=a,this.redirectDelay=0,this.showMessages=[],this.strategy="",this.submitted=!1,this.errors=[],this.messages=[],this.redirectDelay=this.getConfigValue("forms.register.redirectDelay"),this.showMessages=this.getConfigValue("forms.register.showMessages"),this.strategy=this.getConfigValue("forms.register.strategy")}getConfigValue(e){return Object(v.n)(this.options,e,null)}ngAfterViewInit(){this.operacije$=this.registerService.getOperacije(),this.firma$=this.registerService.getFirma(),this.korisnik$=this.registerService.getKorisnik()}register(){let e;this.errors=this.messages=[],this.submitted=!0,this.korisnik$.subscribe(n=>{e=n}),this.firma$.subscribe(n=>{e.firma=n}),this.service.register(this.strategy,e).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const n=e.getRedirect();n&&setTimeout(()=>this.router.navigateByUrl(n),this.redirectDelay),this.cd.detectChanges()})}}return e.\u0275fac=function(n){return new(n||e)(c.Rb(v.g),c.Rb(v.a),c.Rb(c.h),c.Rb(o.c),c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-potvrda"]],features:[c.Bb],decls:164,vars:60,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(c.Xb(0,"h1",0),c.Dc(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Dc(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Sb(6,"nb-step",4),c.Sb(7,"nb-step",5),c.Xb(8,"nb-step",6),c.Xb(9,"div",7),c.Xb(10,"div",8),c.Xb(11,"div",9),c.Xb(12,"h5"),c.Dc(13,"Korisnik:"),c.Wb(),c.Wb(),c.Xb(14,"div",9),c.Xb(15,"div",10),c.Xb(16,"label",11),c.Dc(17,"Ime:"),c.Wb(),c.Wb(),c.Xb(18,"div",10),c.Xb(19,"button",12),c.Dc(20),c.ic(21,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(22,"div",9),c.Xb(23,"div",10),c.Xb(24,"label",11),c.Dc(25,"Prezime:"),c.Wb(),c.Wb(),c.Xb(26,"div",10),c.Xb(27,"button",12),c.Dc(28),c.ic(29,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",9),c.Xb(31,"div",10),c.Xb(32,"label",11),c.Dc(33,"Telefon:"),c.Wb(),c.Wb(),c.Xb(34,"div",10),c.Xb(35,"button",12),c.Dc(36),c.ic(37,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(38,"div",9),c.Xb(39,"div",10),c.Xb(40,"label",11),c.Dc(41,"Email:"),c.Wb(),c.Wb(),c.Xb(42,"div",10),c.Xb(43,"button",12),c.Dc(44),c.ic(45,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",9),c.Xb(47,"div",10),c.Xb(48,"label",11),c.Dc(49,"Korisni\u010dko ime:"),c.Wb(),c.Wb(),c.Xb(50,"div",10),c.Xb(51,"button",12),c.Dc(52),c.ic(53,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(54,"div",9),c.Xb(55,"h5"),c.Dc(56,"Rad firme:"),c.Wb(),c.Wb(),c.Xb(57,"div",9),c.Xb(58,"div",10),c.Bc(59,Ft,2,1,"button",13),c.ic(60,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(61,"div",14),c.Xb(62,"div",10),c.Xb(63,"div",9),c.Xb(64,"h5"),c.Dc(65,"Firma:"),c.Wb(),c.Wb(),c.Xb(66,"div",9),c.Xb(67,"div",10),c.Xb(68,"label",11),c.Dc(69,"Naziv:"),c.Wb(),c.Wb(),c.Xb(70,"div",10),c.Xb(71,"button",15),c.Dc(72),c.ic(73,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(74,"div",9),c.Xb(75,"div",16),c.Xb(76,"label",11),c.Dc(77,"PIB:"),c.Wb(),c.Wb(),c.Xb(78,"div",16),c.Xb(79,"label",11),c.Dc(80,"Mati\u010dni broj:"),c.Wb(),c.Wb(),c.Xb(81,"div",16),c.Xb(82,"button",15),c.Dc(83),c.ic(84,"async"),c.Wb(),c.Wb(),c.Xb(85,"div",16),c.Xb(86,"button",15),c.Dc(87),c.ic(88,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(89,"div",9),c.Xb(90,"div",10),c.Xb(91,"label",11),c.Dc(92,"Adresa:"),c.Wb(),c.Xb(93,"button",15),c.Dc(94),c.ic(95,"async"),c.ic(96,"async"),c.ic(97,"async"),c.ic(98,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(99,"div",9),c.Xb(100,"div",10),c.Xb(101,"label",11),c.Dc(102,"Delatnost:"),c.Wb(),c.Wb(),c.Xb(103,"div",10),c.Xb(104,"button",15),c.Dc(105),c.ic(106,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(107,"div",9),c.Xb(108,"div",16),c.Xb(109,"label",11),c.Dc(110,"Email:"),c.Wb(),c.Wb(),c.Xb(111,"div",16),c.Xb(112,"label",11),c.Dc(113,"Telefon:"),c.Wb(),c.Wb(),c.Xb(114,"div",17),c.Xb(115,"button",15),c.Xb(116,"p",18),c.Dc(117),c.ic(118,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(119,"div",17),c.Xb(120,"button",15),c.Dc(121),c.ic(122,"async"),c.Wb(),c.Wb(),c.Xb(123,"div",16),c.Xb(124,"label",11),c.Dc(125,"Email za prijem dokumenata:"),c.Wb(),c.Wb(),c.Xb(126,"div",16),c.Xb(127,"label",11),c.Dc(128,"Faks:"),c.Wb(),c.Wb(),c.Xb(129,"div",16),c.Xb(130,"button",15),c.Xb(131,"p",18),c.Dc(132),c.ic(133,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(134,"div",16),c.Xb(135,"button",15),c.Dc(136),c.ic(137,"async"),c.ic(138,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(139,"div",9),c.Xb(140,"div",10),c.Xb(141,"label",11),c.Dc(142,"Zakonski zastupnik firme:"),c.Wb(),c.Wb(),c.Xb(143,"div",10),c.Xb(144,"button",15),c.Dc(145),c.ic(146,"async"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(147,"form",19),c.fc("ngSubmit",(function(){return n.register()})),c.Xb(148,"button",20),c.Dc(149," Nazad "),c.Wb(),c.Xb(150,"button",21),c.Dc(151," Zavr\u0161i "),c.Wb(),c.Wb(),c.Xb(152,"div",22),c.Xb(153,"div",23),c.Xb(154,"nb-checkbox",24,25),c.Dc(156," Sla\u017eem se sa "),c.Xb(157,"a",26),c.Xb(158,"strong"),c.Dc(159,"Uslovima Kori\u0161\u0107enjima"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(160,"div",23),c.Xb(161,"nb-checkbox",27,28),c.Dc(163,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&e){const e=c.tc(155),h=c.tc(162);var i,t,a,o,r,l,s,b,d,u,g,f,p,m=null,v=null;c.Eb(20),c.Ec(null==(i=c.jc(21,20,n.korisnik$))?null:i.ime),c.Eb(8),c.Ec(null==(t=c.jc(29,22,n.korisnik$))?null:t.prezime),c.Eb(8),c.Ec(null==(a=c.jc(37,24,n.korisnik$))?null:a.telefon),c.Eb(8),c.Ec(null==(o=c.jc(45,26,n.korisnik$))?null:o.email),c.Eb(8),c.Ec(null==(r=c.jc(53,28,n.korisnik$))?null:r.korisnickoIme),c.Eb(7),c.nc("ngForOf",c.jc(60,30,n.operacije$)),c.Eb(13),c.Ec(null==(l=c.jc(73,32,n.firma$))?null:l.naziv),c.Eb(11),c.Ec(null==(s=c.jc(84,34,n.firma$))?null:s.pib),c.Eb(4),c.Ec(null==(b=c.jc(88,36,n.firma$))?null:b.mat),c.Eb(7),c.Hc(" ",null==(m=c.jc(95,38,n.firma$))?null:m.adresa.mesto.opstinaNaziv,", ",null==(m=c.jc(96,40,n.firma$))?null:m.adresa.mesto.mestoNaziv,", ",null==(m=c.jc(97,42,n.firma$))?null:m.adresa.ulica," ",null==(m=c.jc(98,44,n.firma$))?null:m.adresa.mesto.postanskiBroj,""),c.Eb(11),c.Ec(null==(d=c.jc(106,46,n.firma$))?null:d.delatnost.naziv),c.Eb(12),c.Ec(null==(u=c.jc(118,48,n.firma$))?null:u.email),c.Eb(4),c.Ec(null==(g=c.jc(122,50,n.firma$))?null:g.telefon),c.Eb(11),c.Ec(null==(f=c.jc(133,52,n.firma$))?null:f.emailPrijem),c.Eb(4),c.Ec(""===(null==(v=c.jc(137,54,n.firma$))?null:v.faks)?"/":null==(v=c.jc(138,56,n.firma$))?null:v.faks),c.Eb(9),c.Ec(null==(p=c.jc(146,58,n.firma$))?null:p.zakonskiZastupnik),c.Eb(5),c.nc("disabled",!(e.checked&&h.checked))}},directives:[h.sb,h.rb,h.t,t.m,a.w,a.l,a.m,o.d,h.A],pipes:[t.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),e})()},{path:"logout",component:I},{path:"request-password",component:v.l},{path:"reset-password",component:v.m}]}];let xt=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(n){return new(n||e)},imports:[[o.g.forChild(yt)],o.g]}),e})(),Nt=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(n){return new(n||e)},providers:[g,d,f,p.a,u.a],imports:[[m.a,t.c,o.g,h.p,h.O,h.u,h.B,xt,h.nb,a.e,h.Db,h.k,h.xb,h.s,h.tb,h.y,r.c,h.eb,h.H]]}),e})()}}]);