function _createForOfIteratorHelper(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,a=new Array(n);i<n;i++)a[i]=e[i];return a}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var i,a=_getPrototypeOf(e);if(n){var t=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,t)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Yj9t:function(e,n,i){"use strict";i.r(n),i.d(n,"NgxAuthModule",(function(){return Dt}));var a,t,o,r=i("ofXK"),l=i("3Pt+"),s=i("tyNb"),c=i("RS3s"),u=i("LRne"),d=i("AytR"),b=i("fXoL"),g=i("tk/3"),f=((a=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var a;return _classCallCheck(this,i),(a=n.call(this)).http=e,a.apiUrl=d.a.apiUrl,a}return _createClass(i,[{key:"getDelatnost",value:function(){return this.http.get(this.apiUrl+"/api/delatnost")}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(u.a)(n.filter((function(e){return e.naziv.toLowerCase().includes(i)||e.sifra.includes(i)})))}}]),i}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||a)(b.bc(g.b))},a.\u0275prov=b.Nb({token:a,factory:a.\u0275fac}),a),v=i("O8xV"),p=((o=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var a;return _classCallCheck(this,i),(a=n.call(this)).http=e,a.firstGetForNames=!0,a.apiUrl=d.a.apiUrl,a}return _createClass(i,[{key:"getMesto",value:function(){return this.http.get(this.apiUrl+"/api/mesto")}},{key:"getOpstine",value:function(){return this.firstGetForNames&&(this.opstineNames=this.http.get(this.apiUrl+"/api/mesto/opstine"),this.firstGetForNames=!1),this.opstineNames}},{key:"getNazivMesta",value:function(e){return this.http.get(this.apiUrl+"/api/mesto/mesta/"+e)}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(u.a)(n.filter((function(e){return e.toLowerCase().includes(i)})))}}]),i}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||o)(b.bc(g.b))},o.\u0275prov=b.Nb({token:o,factory:o.\u0275fac}),o),m=((t=function(){function e(){_classCallCheck(this,e),Object(b.Y)()&&(this.korisnik={_id:"",email:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",ime:"test",korisnickoIme:"random"+(1e3*Math.random()).toFixed(0),prezime:"test",sifra:"nikjan00",telefon:(1e10*Math.random()).toFixed(0),uloga:"menadzer"},this.firma={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"Arnajevo",opstinaSifra:0,opstinaNaziv:"Beograd",postanskiBroj:"31210"},ulica:"Nikola tesla 2"},delatnost:{_id:"",sifra:"",naziv:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailPrijem:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),menadzer:"random",naziv:"Test",pib:(1e9*Math.random()).toFixed(0),radFirme:["Proizvodnja Neopasnog Otpada"],telefon:(1e10*Math.random()).toFixed(0),zakonskiZastupnik:"Nikola Jankovic"})}return _createClass(e,[{key:"sendDozvola",value:function(e){var n=this;this.sifraDozvole$=e,e.subscribe((function(e){n.sifraDozvole=e}))}},{key:"getDozvola",value:function(){return Object(u.a)(this.sifraDozvole)}},{key:"sendOperacije",value:function(e){var n=this;this.operacije$=e,e.subscribe((function(e){n.operacije=e}))}},{key:"getOperacije",value:function(){return Object(u.a)(this.operacije)}},{key:"sendKorisnik",value:function(e){var n=this;this.korisnik$=e,e.subscribe((function(e){n.korisnik=e}))}},{key:"getKorisnik",value:function(){return void 0!==this.firma&&void 0!==this.korisnik&&(this.korisnik.firma=this.firma),Object(u.a)(this.korisnik)}},{key:"sendFirma",value:function(e){var n=this;this.firma$=e,e.subscribe((function(e){n.firma=e}))}},{key:"getFirma",value:function(){return void 0!==this.firma&&(void 0!==this.operacije&&(this.firma.radFirme=this.operacije),void 0!==this.korisnik&&(this.firma.menadzer=this.korisnik.korisnickoIme)),Object(u.a)(this.firma)}}]),e}()).\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Nb({token:t,factory:t.\u0275fac}),t),h=i("ud2R"),k=i("vTDv"),j=i("McNs"),W=i("aceb");function E(e,n){if(1&e&&(b.Xb(0,"li",24),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.Eb(1),b.Fc(i)}}function C(e,n){if(1&e&&(b.Xb(0,"nb-alert",20),b.Xb(1,"p",21),b.Xb(2,"b"),b.Ec(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),b.Wb(),b.Wb(),b.Xb(4,"ul",22),b.Cc(5,E,2,1,"li",23),b.Wb(),b.Wb()),2&e){var i=b.hc();b.Eb(5),b.nc("ngForOf",i.errors)}}function X(e,n){if(1&e&&(b.Xb(0,"li",24),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.Eb(1),b.Fc(i)}}function z(e,n){if(1&e&&(b.Xb(0,"nb-alert",25),b.Xb(1,"p",21),b.Xb(2,"b"),b.Ec(3,"Uspesno ste se ulogovali!"),b.Wb(),b.Wb(),b.Xb(4,"ul",22),b.Cc(5,X,2,1,"li",23),b.Wb(),b.Wb()),2&e){var i=b.hc();b.Eb(5),b.nc("ngForOf",i.messages)}}function M(e,n){1&e&&(b.Xb(0,"p",27),b.Ec(1," Email je obavezan! "),b.Wb())}function I(e,n){if(1&e&&(b.Vb(0),b.Cc(1,M,2,0,"p",26),b.Ub()),2&e){b.hc();var i=b.uc(11);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function O(e,n){1&e&&(b.Xb(0,"p",27),b.Ec(1," \u0160ifra je obavezna! "),b.Wb())}function y(e,n){if(1&e&&(b.Vb(0),b.Cc(1,O,2,0,"p",26),b.Ub()),2&e){b.hc();var i=b.uc(17);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function S(e,n){if(1&e){var i=b.Yb();b.Xb(0,"nb-checkbox",28),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc().user.rememberMe=e})),b.Ec(1,"Zapamti me"),b.Wb()}if(2&e){var a=b.hc();b.nc("ngModel",a.user.rememberMe)}}var q,V,F=((V=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,i),(a=n.call(this,e,t,o,r)).service=e,a.options=t,a.cd=o,a.router=r,a.redirectDelay=0,a.showMessages={},a.strategy="",a.errors=[],a.messages=[],a.user={},a.submitted=!1,a.rememberMe=!1,a.redirectDelay=a.getConfigValue("forms.login.redirectDelay"),a.showMessages=a.getConfigValue("forms.login.showMessages"),a.strategy=a.getConfigValue("forms.login.strategy"),a.rememberMe=a.getConfigValue("forms.login.rememberMe"),a}return _createClass(i,[{key:"login",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe((function(n){e.submitted=!1,n.isSuccess()?e.messages=n.getMessages():e.errors=n.getErrors();var i=n.getRedirect();i&&setTimeout((function(){return e.router.navigateByUrl(i)}),e.redirectDelay),e.cd.detectChanges()}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}}]),i}(j.h)).\u0275fac=function(e){return new(e||V)(b.Rb(j.g),b.Rb(j.a),b.Rb(b.h),b.Rb(s.c))},V.\u0275cmp=b.Lb({type:V,selectors:[["ngx-login"]],features:[b.Bb],decls:29,vars:16,consts:[[1,"align-self-center"],["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","type","password",3,"ngModel","required","status","ngModelChange"],["password","ngModel"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../request-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],["aria-label","Registruj se",1,"another-action"],["routerLink","../register-korisnik",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1",4,"ngIf"],[1,"error-message","mt-1"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(b.Xb(0,"div",0),b.Xb(1,"h1",1),b.Ec(2,"Uloguj se!"),b.Wb(),b.Cc(3,C,6,1,"nb-alert",2),b.Cc(4,z,6,1,"nb-alert",3),b.Xb(5,"form",4,5),b.fc("ngSubmit",(function(){return n.login()})),b.Xb(7,"div",6),b.Xb(8,"label",7),b.Ec(9,"Email:"),b.Wb(),b.Xb(10,"input",8,9),b.fc("ngModelChange",(function(e){return n.user.email=e})),b.Wb(),b.Cc(12,I,2,1,"ng-container",10),b.Wb(),b.Xb(13,"div",6),b.Xb(14,"label",11),b.Ec(15,"\u0160ifra:"),b.Wb(),b.Xb(16,"input",12,13),b.fc("ngModelChange",(function(e){return n.user.password=e})),b.Wb(),b.Cc(18,y,2,1,"ng-container",10),b.Wb(),b.Xb(19,"div",14),b.Cc(20,S,2,1,"nb-checkbox",15),b.Xb(21,"a",16),b.Ec(22,"Zaboravili ste \u0161ifru?"),b.Wb(),b.Wb(),b.Xb(23,"button",17),b.Ec(24," Uloguj se "),b.Wb(),b.Wb(),b.Xb(25,"section",18),b.Ec(26," Nemate nalog? "),b.Xb(27,"a",19),b.Ec(28,"Registruj se"),b.Wb(),b.Wb(),b.Wb()),2&e){var i=b.uc(11),a=b.uc(17);b.Eb(3),b.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),b.Eb(1),b.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),b.Eb(6),b.nc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":""),b.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),b.Eb(2),b.nc("ngIf",i.touched),b.Eb(4),b.nc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",a.dirty?a.invalid?"danger":"success":""),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.touched),b.Eb(2),b.nc("ngIf",n.rememberMe),b.Eb(3),b.Ib("btn-pulse",n.submitted),b.nc("disabled",n.submitted)}},directives:[r.n,l.w,l.l,l.m,W.O,l.b,l.k,l.n,l.s,s.f,W.t,W.o,r.m,W.B],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),V),w=((q=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,i),(a=n.call(this,e,t,o)).service=e,a.options=t,a.router=o,a.redirectDelay=0,a.strategy="",a.redirectDelay=a.getConfigValue("forms.logout.redirectDelay"),a.strategy=a.getConfigValue("forms.logout.strategy"),a}return _createClass(i,[{key:"logout",value:function(e){var n=this;this.service.logout(e).subscribe((function(e){var i=e.getRedirect();i&&setTimeout((function(){return n.router.navigateByUrl(i)}),n.redirectDelay)}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}}]),i}(j.i)).\u0275fac=function(e){return new(e||q)(b.Rb(j.g),b.Rb(j.a),b.Rb(s.c))},q.\u0275cmp=b.Lb({type:q,selectors:[["ngx-logout"]],features:[b.Bb],decls:2,vars:0,template:function(e,n){1&e&&(b.Xb(0,"div"),b.Ec(1,"Odjavljivanje u toku..."),b.Wb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),q),D=i("SxV6");function x(e,n){if(1&e){var i=b.Yb();b.Xb(0,"button",16),b.fc("click",(function(){b.wc(i);var e=n.$implicit;return b.hc().chooseOtpad(e)})),b.Ec(1),b.Wb()}if(2&e){var a=n.$implicit;b.nc("nbPopover",a.naziv),b.Eb(1),b.Gc(" ",a.indeksniBroj," ")}}var N,$=((N=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.katalogService=a,this.katalog=new c.a,this.settings={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}}}return _createClass(e,[{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getDozvola().subscribe((function(n){e.sifraDozvole=n})),this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,e.dozvol\u0430=e.firma.dozvola.filter((function(n){return n.sifra===e.sifraDozvole}))[0],e.listaOtpada=e.dozvol\u0430.listaOtpada)})),this.registerService.sendFirma(Object(u.a)(this.firma)),this.katalogService.getKatalog().pipe(Object(D.a)()).subscribe((function(n){e.katalog.load(n)}))}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:e,filter:function(e,n){return e.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}},{key:"chooseOtpad",value:function(e){var n=this,i=e;void 0!==e.data&&(i=e.data),this.listaOtpada.some((function(e){return e._id===i._id}))?this.removeOtpad(i):this.dozvol\u0430.listaOtpada.push(i),this.firma.dozvola.filter((function(e){return e.sifra===n.sifraDozvole}))[0]=this.dozvol\u0430}},{key:"removeOtpad",value:function(e){var n=this.listaOtpada.filter((function(n){return n._id===e._id}))[0];if(n){var i=this.listaOtpada.indexOf(n,0);i>-1&&this.listaOtpada.splice(i,1)}}}]),e}()).\u0275fac=function(e){return new(e||N)(b.Rb(j.a),b.Rb(m),b.Rb(v.a))},N.\u0275cmp=b.Lb({type:N,selectors:[["ngx-register-dozvola"]],decls:22,vars:4,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success","routerLink","../register-informacije",1,"mt-2",3,"disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){var i=b.Yb();b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Xb(3,"nb-step",2),b.Ec(4,"Test"),b.Wb(),b.Sb(5,"nb-step",3),b.Sb(6,"nb-step",4),b.Xb(7,"nb-step",5),b.Xb(8,"div",6),b.Xb(9,"div",7),b.Xb(10,"h5"),b.Ec(11,"Lista otpada dozvole:"),b.Wb(),b.Cc(12,x,2,2,"button",8),b.Wb(),b.Xb(13,"div",9),b.Xb(14,"label",10),b.Ec(15,"Pretrazi po indeksnom broju:"),b.Wb(),b.Xb(16,"input",11,12),b.fc("input",(function(){b.wc(i);var e=b.uc(17);return e.value.length>=1&&n.onSearch(e.value)})),b.Wb(),b.Xb(18,"ng2-smart-table",13),b.fc("custom",(function(e){return n.chooseOtpad(e)})),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"button",14),b.Ec(20," Zavr\u0161i "),b.Wb(),b.Wb(),b.Sb(21,"nb-step",15),b.Wb()}2&e&&(b.Eb(12),b.nc("ngForOf",n.listaOtpada),b.Eb(6),b.nc("source",n.katalog)("settings",n.settings),b.Eb(1),b.nc("disabled",0===(null==n.listaOtpada?null:n.listaOtpada.length)))},directives:[W.ub,W.tb,r.m,W.O,c.b,W.t,s.d,W.fb],styles:[""]}),N);function T(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Naziv firme je obavezan! "),b.Wb())}function L(e,n){if(1&e&&(b.Xb(0,"p",72),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Naziv firme mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function P(e,n){if(1&e&&(b.Xb(0,"p",72),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Naziv firme mora biti kra\u0107i od ",i.getConfigValue("forms.validation.nazivFirme.maxLength")," slova! ")}}function _(e,n){if(1&e&&(b.Vb(0),b.Cc(1,T,2,0,"p",71),b.Cc(2,L,2,1,"p",71),b.Cc(3,P,2,1,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(12);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.minlength),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.maxlength)}}function B(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," PIB je obavezan! "),b.Wb())}function U(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," PIB mora da bude validan! "),b.Wb())}function R(e,n){if(1&e&&(b.Vb(0),b.Cc(1,B,2,0,"p",71),b.Cc(2,U,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(19);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function A(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Mati\u010dni broj je obavezan! "),b.Wb())}function G(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Mati\u010dni broj mora da bude validan! "),b.Wb())}function K(e,n){if(1&e&&(b.Vb(0),b.Cc(1,A,2,0,"p",71),b.Cc(2,G,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(25),a=b.uc(19);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.minlength)}}function Z(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function Y(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Op\u0161tina je obavezna! "),b.Wb())}function H(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Y,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(36);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function J(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function Q(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Mesto je obavezno! "),b.Wb())}function ee(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Q,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(46);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ne(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Po\u0161tanski broj je obavezan "),b.Wb())}function ie(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Po\u0161tanski broj mora biti validan "),b.Wb())}function ae(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ne,2,0,"p",71),b.Cc(2,ie,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(57);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function te(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Ulica je obavezna! "),b.Wb())}function oe(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Ulica mora biti validna "),b.Wb())}function re(e,n){if(1&e&&(b.Vb(0),b.Cc(1,te,2,0,"p",71),b.Cc(2,oe,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(63),a=b.uc(57);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.minlength)}}function le(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i.naziv),b.Eb(1),b.Hc("[",i.sifra,"] ",i.naziv,"")}}function se(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," \u0160ifra delatnosti je obavezna! "),b.Wb())}function ce(e,n){if(1&e&&(b.Vb(0),b.Cc(1,se,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(70);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ue(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Email je obavezan! "),b.Wb())}function de(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Email mora biti validan! "),b.Wb())}function be(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ue,2,0,"p",71),b.Cc(2,de,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(81);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function ge(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Telefon firme je obavezan! "),b.Wb())}function fe(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Telefon firme mora biti validan! "),b.Wb())}function ve(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ge,2,0,"p",71),b.Cc(2,fe,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(87);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function pe(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Email je obavezan! "),b.Wb())}function me(e,n){if(1&e&&(b.Vb(0),b.Cc(1,pe,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(99);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function he(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Email je obavezan! "),b.Wb())}function ke(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Email mora biti validan! "),b.Wb())}function je(e,n){if(1&e&&(b.Vb(0),b.Cc(1,he,2,0,"p",71),b.Cc(2,ke,2,0,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(4);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function We(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",11),b.Xb(1,"label",73),b.Ec(2,"Unesite va\u0161 email za prijem dokumenata:"),b.Wb(),b.Xb(3,"input",74,75),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc().tmpEmail=e}))("ngModelChange",(function(){return b.wc(i),b.hc().setCompanyEmail()})),b.Wb(),b.Cc(5,je,3,2,"ng-container",10),b.Wb()}if(2&e){var a=b.uc(4),t=b.hc();b.Eb(3),b.nc("ngModel",t.tmpEmail)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.invalid&&a.touched||t.checkIssues)}}function Ee(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Ime zakonskog zastupnika je obavezno! "),b.Wb())}function Ce(e,n){if(1&e&&(b.Xb(0,"p",72),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Ime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Xe(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ee,2,0,"p",71),b.Cc(2,Ce,2,1,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(118);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ze(e,n){1&e&&(b.Xb(0,"p",72),b.Ec(1," Prezime zakonskog zastupnika je obavezno! "),b.Wb())}function Me(e,n){if(1&e&&(b.Xb(0,"p",72),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Ie(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ze,2,0,"p",71),b.Cc(2,Me,2,1,"p",71),b.Ub()),2&e){b.hc();var i=b.uc(124);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}var Oe,ye=((Oe=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.options=n,this.mestoService=i,this.delatnostService=a,this.registerService=t,this.router=o,this.toastrService=r,this.checkIssues=!1,this.tmpEmail="",this.imeZakonskogZastupinka="",this.prezimeZakonskogZastupinka="",this.firma={_id:"",menadzer:"",radFirme:[],naziv:"",pib:"",mat:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},delatnost:{_id:"",sifra:"",naziv:""},email:"",emailPrijem:"",faks:"",telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mestoService.getOpstine().pipe(Object(D.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(u.a)(n)})),this.delatnostService.getDelatnost().pipe(Object(D.a)()).subscribe((function(n){e.delatnosti=n,e.delatnosti$=Object(u.a)(n)})),this.registerService.getKorisnik().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.korisnik=n)})),this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,e.imeZakonskogZastupinka=e.firma.zakonskiZastupnik.split(" ")[0],e.prezimeZakonskogZastupinka=e.firma.zakonskiZastupnik.split(" ")[1])})),this.registerService.sendFirma(Object(u.a)(this.firma))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"validateCompany",value:function(e){e.valid||""===this.tmpEmail&&""!==this.firma.emailPrijem?this.router.navigate(["auth/register-operacije"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}},{key:"showToast",value:function(e,n,i){this.toastrService.show(n,e,{status:i})}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(D.a)()).subscribe((function(e){n.mesta=e,n.mesta$=Object(u.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).pipe(Object(D.a)()).subscribe((function(e){n.opstine$=Object(u.a)(e),n.getMesta(e[0])})):this.opstine$=Object(u.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"findDelatnost",value:function(e){this.delatnosti$=this.delatnostService.filter(e,this.delatnosti)}},{key:"spojIme",value:function(e){this.imeZakonskogZastupinka=e,e+=" ";var n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(n),this.firma.zakonskiZastupnik=e+this.firma.zakonskiZastupnik}},{key:"spojPrezime",value:function(e){this.prezimeZakonskogZastupinka=e,e=" "+e;var n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(0,n),this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik+e}},{key:"clearTmpEmail",value:function(){this.tmpEmail=""}},{key:"setCompanyEmail",value:function(){this.firma.emailPrijem=this.tmpEmail}}]),e}()).\u0275fac=function(e){return new(e||Oe)(b.Rb(j.a),b.Rb(p),b.Rb(f),b.Rb(m),b.Rb(s.c),b.Rb(W.Db))},Oe.\u0275cmp=b.Lb({type:Oe,selectors:[["ngx-register-firma"]],decls:133,vars:103,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["autofocus","","fullWidth","","id","input-naziv","name","naziv","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["nazivFirme","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaFirma",1,"label"],["autocomplete","off","fullWidth","","id","input-opstinaFirma","name","opstinaFirma","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["opstinaFirma","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoFirma",1,"label"],["autocomplete","off","fullWidth","","id","input-mestoFirma","name","mestoFirma","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["mestoFirma","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBroj",1,"label"],["fullWidth","","id","input-postanskiBroj","name","postanskiBrojFirme","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaFirme",1,"label"],["fullWidth","","id","input-ulicaFirme","name","ulicaFirme","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["ulica","ngModel"],["for","input-delatnost",1,"label"],["autocomplete","off","fullWidth","","id","input-delatnost","name","delatnost","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["delatnost","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-emailFirme",1,"label"],["fullWidth","","id","input-emailFirme","name","email","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["emailFirma","ngModel"],["for","input-telefonFirme",1,"label"],["fullWidth","","id","input-telefonFirme","name","telefon","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefonFirme","ngModel"],["for","input-faksFirma",1,"label"],["fullWidth","","id","input-faksFirma","name","faksFirma","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["faksFirma","ngModel"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["emailPrijem","ngModel"],[3,"value","selectionChange"],[3,"value"],["drugiEmail",""],["class","col-6",4,"ngIf"],[1,"label","pl-0","col-12"],[1,"row","ml-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["ime","ngModel"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["prezime","ngModel"],["nbButton","","fullWidth","","status","danger","routerLink","../register-korisnik",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-emailPrijem2",1,"label"],["fullWidth","","id","input-emailPrijem2","name","emailPrijem2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem2","ngModel"]],template:function(e,n){if(1&e){var i=b.Yb();b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Sb(3,"nb-step",2),b.Xb(4,"nb-step",3),b.Xb(5,"form",null,4),b.Xb(7,"div",5),b.Xb(8,"div",6),b.Xb(9,"label",7),b.Ec(10,"Naziv Firme:"),b.Wb(),b.Xb(11,"input",8,9),b.fc("ngModelChange",(function(e){return n.firma.naziv=e})),b.Wb(),b.Cc(13,_,4,3,"ng-container",10),b.Wb(),b.Wb(),b.Xb(14,"div",5),b.Xb(15,"div",11),b.Xb(16,"label",12),b.Ec(17,"Poreski identifikacioni broj (PIB):"),b.Wb(),b.Xb(18,"input",13,14),b.fc("ngModelChange",(function(e){return n.firma.pib=e})),b.Wb(),b.Cc(20,R,3,2,"ng-container",10),b.Wb(),b.Xb(21,"div",11),b.Xb(22,"label",12),b.Ec(23,"Mati\u010dni broj:"),b.Wb(),b.Xb(24,"input",15,16),b.fc("ngModelChange",(function(e){return n.firma.mat=e})),b.Wb(),b.Cc(26,K,3,2,"ng-container",10),b.Wb(),b.Wb(),b.Xb(27,"div",5),b.Xb(28,"div",6),b.Xb(29,"label",17),b.Ec(30,"Adresa:"),b.Wb(),b.Xb(31,"div",18),b.Xb(32,"div",11),b.Xb(33,"nb-select-label",19),b.Ec(34,"Op\u0161tina:"),b.Wb(),b.Xb(35,"input",20,21),b.fc("ngModelChange",(function(){b.wc(i);var e=b.uc(36);return n.findOpstina(e.value)}))("ngModelChange",(function(e){return n.firma.adresa.mesto.opstinaNaziv=e})),b.Wb(),b.Xb(37,"nb-autocomplete",null,22),b.Cc(39,Z,2,2,"nb-option",23),b.ic(40,"async"),b.Wb(),b.Cc(41,H,2,1,"ng-container",10),b.Wb(),b.Xb(42,"div",11),b.Xb(43,"nb-select-label",24),b.Ec(44,"Mesto:"),b.Wb(),b.Xb(45,"input",25,26),b.fc("ngModelChange",(function(){b.wc(i);var e=b.uc(46);return n.findMesta(e.value)}))("ngModelChange",(function(e){return n.firma.adresa.mesto.mestoNaziv=e})),b.Wb(),b.Xb(47,"nb-autocomplete",null,27),b.Cc(49,J,2,2,"nb-option",23),b.ic(50,"async"),b.Wb(),b.Cc(51,ee,2,1,"ng-container",10),b.Wb(),b.Wb(),b.Xb(52,"div",28),b.Xb(53,"div",29),b.Xb(54,"label",30),b.Ec(55,"Po\u0161tanski broj:"),b.Wb(),b.Xb(56,"input",31,32),b.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.postanskiBroj=e})),b.Wb(),b.Cc(58,ae,3,2,"ng-container",10),b.Wb(),b.Xb(59,"div",33),b.Xb(60,"label",34),b.Ec(61,"Ulica i broj:"),b.Wb(),b.Xb(62,"input",35,36),b.fc("ngModelChange",(function(e){return n.firma.adresa.ulica=e})),b.Wb(),b.Cc(64,re,3,2,"ng-container",10),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(65,"div",5),b.Xb(66,"div",6),b.Xb(67,"nb-select-label",37),b.Ec(68,"\u0160ifra delatnosti:"),b.Wb(),b.Xb(69,"input",38,39),b.fc("ngModelChange",(function(){b.wc(i);var e=b.uc(70);return n.findDelatnost(e.value)}))("ngModelChange",(function(e){return n.firma.delatnost.naziv=e})),b.Wb(),b.Xb(71,"nb-autocomplete",null,40),b.Cc(73,le,2,3,"nb-option",23),b.ic(74,"async"),b.Wb(),b.Cc(75,ce,2,1,"ng-container",10),b.Wb(),b.Wb(),b.Xb(76,"div",5),b.Xb(77,"div",41),b.Xb(78,"label",42),b.Ec(79,"Email firme:"),b.Wb(),b.Xb(80,"input",43,44),b.fc("ngModelChange",(function(e){return n.firma.email=e})),b.Wb(),b.Cc(82,be,3,2,"ng-container",10),b.Wb(),b.Xb(83,"div",41),b.Xb(84,"label",45),b.Ec(85,"Telefon firme:"),b.Wb(),b.Xb(86,"input",46,47),b.fc("ngModelChange",(function(e){return n.firma.telefon=e})),b.Wb(),b.Cc(88,ve,3,2,"ng-container",10),b.Wb(),b.Xb(89,"div",41),b.Xb(90,"label",48),b.Ec(91,"Faks firme:"),b.Wb(),b.Xb(92,"input",49,50),b.fc("ngModelChange",(function(e){return n.firma.faks=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(94,"div",5),b.Xb(95,"div",11),b.Xb(96,"nb-select-label",51),b.Ec(97,"Birajte email za prijem dokumenata: "),b.Wb(),b.Xb(98,"nb-select",52,53),b.fc("ngModelChange",(function(e){return n.firma.emailPrijem=e})),b.Xb(100,"nb-option",54),b.fc("selectionChange",(function(){return n.clearTmpEmail()})),b.Ec(101),b.Wb(),b.Xb(102,"nb-option",54),b.fc("selectionChange",(function(){return n.clearTmpEmail()})),b.Ec(103),b.Wb(),b.Xb(104,"nb-option",55,56),b.Ec(106,"Drugi email"),b.Wb(),b.Wb(),b.Cc(107,me,2,1,"ng-container",10),b.Wb(),b.Cc(108,We,6,6,"div",57),b.Wb(),b.Xb(109,"div",5),b.Xb(110,"div",6),b.Xb(111,"label",58),b.Ec(112,"Puno ime zakonskog zastupnika firme:"),b.Wb(),b.Xb(113,"div",59),b.Xb(114,"div",11),b.Xb(115,"label",60),b.Ec(116,"Ime:"),b.Wb(),b.Xb(117,"input",61,62),b.fc("ngModelChange",(function(e){return n.spojIme(e)}))("ngModelChange",(function(e){return n.imeZakonskogZastupinka=e})),b.Wb(),b.Cc(119,Xe,3,2,"ng-container",10),b.Wb(),b.Xb(120,"div",11),b.Xb(121,"label",63),b.Ec(122,"Prezime:"),b.Wb(),b.Xb(123,"input",64,65),b.fc("ngModelChange",(function(e){return n.spojPrezime(e)}))("ngModelChange",(function(e){return n.prezimeZakonskogZastupinka=e})),b.Wb(),b.Cc(125,Ie,3,2,"ng-container",10),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(126,"button",66),b.Ec(127," Nazad "),b.Wb(),b.Xb(128,"button",67),b.fc("click",(function(){b.wc(i);var e=b.uc(6);return n.validateCompany(e)})),b.Ec(129," Dalje "),b.Wb(),b.Wb(),b.Wb(),b.Sb(130,"nb-step",68),b.Sb(131,"nb-step",69),b.Sb(132,"nb-step",70),b.Wb()}if(2&e){var a=b.uc(12),t=b.uc(19),o=b.uc(25),r=b.uc(36),l=b.uc(38),s=b.uc(46),c=b.uc(48),u=b.uc(57),d=b.uc(63),g=b.uc(70),f=b.uc(72),v=b.uc(81),p=b.uc(87),m=b.uc(93),h=b.uc(99),k=b.uc(105),j=b.uc(118),W=b.uc(124);b.Eb(11),b.nc("ngModel",n.firma.naziv)("maxlength",n.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",n.getConfigValue("forms.validation.nazivFirme.minLength"))("required",n.getConfigValue("forms.validation.nazivFirme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.invalid&&a.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.firma.pib)("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern"))("required",n.getConfigValue("forms.validation.pib.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.firma.mat)("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern"))("required",n.getConfigValue("forms.validation.mat.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||n.checkIssues),b.Eb(9),b.nc("ngModel",n.firma.adresa.mesto.opstinaNaziv)("nbAutocomplete",l)("required",n.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(40,97,n.opstine$)),b.Eb(2),b.nc("ngIf",n.checkIssues),b.Eb(4),b.nc("ngModel",n.firma.adresa.mesto.mestoNaziv)("nbAutocomplete",c)("required",n.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(50,99,n.mesta$)),b.Eb(2),b.nc("ngIf",n.checkIssues),b.Eb(5),b.nc("ngModel",n.firma.adresa.mesto.postanskiBroj)("maxlength",n.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",n.getConfigValue("forms.validation.postanskiBroj.minLength"))("required",n.getConfigValue("forms.validation.postanskiBroj.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(2),b.nc("ngIf",u.invalid&&u.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.firma.adresa.ulica)("minlength",n.getConfigValue("forms.validation.ulica.minLength"))("required",n.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),b.Eb(2),b.nc("ngIf",d.invalid&&d.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.firma.delatnost.naziv)("nbAutocomplete",f)("required",n.getConfigValue("forms.validation.delatnost.required")),b.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(74,101,n.delatnosti$)),b.Eb(2),b.nc("ngIf",g.invalid&&g.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.firma.email)("required",n.getConfigValue("forms.validation.email.required"))("pattern",n.getConfigValue("forms.validation.email.pattern"))("status",v.dirty?v.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),b.Eb(2),b.nc("ngIf",v.invalid&&v.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.firma.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",p.dirty?p.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),b.Eb(2),b.nc("ngIf",p.invalid&&p.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.firma.faks)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength")),b.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),b.Eb(6),b.nc("ngModel",n.firma.emailPrijem)("required",n.getConfigValue("forms.validation.email.required"))("selected",n.firma.email)("status",h.dirty?h.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),b.Eb(2),b.nc("value",n.firma.email),b.Eb(1),b.Fc(n.firma.email),b.Eb(1),b.nc("value",null==n.korisnik?null:n.korisnik.email),b.Eb(1),b.Fc(null==n.korisnik?null:n.korisnik.email),b.Eb(1),b.nc("value",n.firma.emailPrijem),b.Eb(3),b.nc("ngIf",h.invalid&&h.touched||n.checkIssues),b.Eb(1),b.nc("ngIf",k.selected),b.Eb(9),b.nc("ngModel",n.imeZakonskogZastupinka)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("required",n.getConfigValue("forms.validation.ime.required"))("status",j.dirty?j.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!j.invalid||!j.touched)||null),b.Eb(2),b.nc("ngIf",j.invalid&&j.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.prezimeZakonskogZastupinka)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",W.dirty?W.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!W.invalid||!W.touched)||null),b.Eb(2),b.nc("ngIf",W.invalid&&W.touched||n.checkIssues)}},directives:[W.ub,W.tb,l.w,l.l,l.m,W.O,l.b,l.k,l.n,l.f,l.g,l.s,r.n,l.q,W.ob,W.r,W.q,r.m,W.nb,W.db,W.t,s.d],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}"]}),Oe);function Se(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Naziv skladi\u0161ta je obavezan! "),b.Wb())}function qe(e,n){if(1&e&&(b.Xb(0,"p",60),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function Ve(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Se,2,0,"p",59),b.Cc(2,qe,2,1,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Fe(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Vrsta skladi\u0161ta je obavezna! "),b.Wb())}function we(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Fe,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(17);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function De(e,n){if(1&e&&(b.Xb(0,"nb-option",61),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function xe(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Op\u0161tina je obavezna! "),b.Wb())}function Ne(e,n){if(1&e&&(b.Vb(0),b.Cc(1,xe,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(34);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function $e(e,n){if(1&e&&(b.Xb(0,"nb-option",61),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function Te(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Mesto je obavezno! "),b.Wb())}function Le(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Te,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(44);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Pe(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Po\u0161tanski broj je obavezan! "),b.Wb())}function _e(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Po\u0161tanski broj mora biti validan! "),b.Wb())}function Be(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Pe,2,0,"p",59),b.Cc(2,_e,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(55);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ue(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Ulica je obavezna! "),b.Wb())}function Re(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ue,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(61);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ae(e,n){if(1&e&&(b.Xb(0,"p",60),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function Ge(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ae,2,1,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(68);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ke(e,n){if(1&e&&(b.Xb(0,"p",60),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function Ze(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ke,2,1,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(74);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ye(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),b.Wb())}function He(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),b.Wb())}function Je(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ye,2,0,"p",59),b.Cc(2,He,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(83),a=b.hc(2);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.required)||a.isNaN(i.value)),b.Eb(1),b.nc("ngIf",i<1)}}var Qe=function(){return{standalone:!0}};function en(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",11,12),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateDump(e)})),b.Xb(3,"nb-card",13),b.Xb(4,"nb-card-body"),b.Xb(5,"div",14),b.Xb(6,"div",5),b.Xb(7,"label",15),b.Ec(8,"Naziv Skladi\u0161ta:"),b.Wb(),b.Xb(9,"input",16,17),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,Ve,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Xb(12,"div",14),b.Xb(13,"div",5),b.Xb(14,"nb-select-label",19),b.Ec(15,"Vrsta Deponije:"),b.Wb(),b.Xb(16,"nb-select",20,21),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.vrstaDeponije=e})),b.Xb(18,"nb-option",22),b.Ec(19,"Neopasan otpad"),b.Wb(),b.Xb(20,"nb-option",23),b.Ec(21,"Opasan otpad"),b.Wb(),b.Xb(22,"nb-option",24),b.Ec(23,"Inertan otpad"),b.Wb(),b.Wb(),b.Cc(24,we,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(25,"div",25),b.Xb(26,"div",5),b.Xb(27,"label",26),b.Ec(28,"Adresa:"),b.Wb(),b.Xb(29,"div",27),b.Xb(30,"div",28),b.Xb(31,"nb-select-label",29),b.Ec(32,"Op\u0161tina:"),b.Wb(),b.Xb(33,"input",30,31),b.fc("ngModelChange",(function(){b.wc(i);var e=b.uc(34);return b.hc(2).findOpstina(e.value)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.opstinaNaziv=e})),b.Wb(),b.Xb(35,"nb-autocomplete",null,32),b.Cc(37,De,2,2,"nb-option",33),b.ic(38,"async"),b.Wb(),b.Cc(39,Ne,2,1,"ng-container",18),b.Wb(),b.Xb(40,"div",28),b.Xb(41,"nb-select-label",34),b.Ec(42,"Mesto:"),b.Wb(),b.Xb(43,"input",35,36),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findMesta(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.mestoNaziv=e})),b.Wb(),b.Xb(45,"nb-autocomplete",null,37),b.Cc(47,$e,2,2,"nb-option",33),b.ic(48,"async"),b.Wb(),b.Cc(49,Le,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(50,"div",38),b.Xb(51,"div",39),b.Xb(52,"label",40),b.Ec(53,"Po\u0161tanski broj:"),b.Wb(),b.Xb(54,"input",41,42),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),b.Wb(),b.Cc(56,Be,3,2,"ng-container",18),b.Wb(),b.Xb(57,"div",43),b.Xb(58,"label",44),b.Ec(59,"Ulica i broj:"),b.Wb(),b.Xb(60,"input",45,46),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.ulica=e})),b.Wb(),b.Cc(62,Re,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(63,"div",25),b.Xb(64,"div",28),b.Xb(65,"label",47),b.Ec(66,"Geolokacija Sever(N):"),b.Wb(),b.Xb(67,"input",48,49),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaN=e})),b.Wb(),b.Cc(69,Ge,2,1,"ng-container",18),b.Wb(),b.Xb(70,"div",28),b.Xb(71,"label",50),b.Ec(72,"Geolokacija Istok(E0):"),b.Wb(),b.Xb(73,"input",51,52),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaE=e})),b.Wb(),b.Cc(75,Ze,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(76,"div",25),b.Xb(77,"div",5),b.Xb(78,"label",53),b.Ec(79,"Veli\u010dina skladi\u0161ta:"),b.Wb(),b.Xb(80,"div",4),b.Xb(81,"div",54),b.Xb(82,"input",55,56),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.maxKolicina=e})),b.Wb(),b.Wb(),b.Xb(84,"div",57),b.Xb(85,"button",58),b.Ec(86,"KG"),b.Wb(),b.Wb(),b.Cc(87,Je,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(17),l=b.uc(34),s=b.uc(36),c=b.uc(44),u=b.uc(46),d=b.uc(55),g=b.uc(61),f=b.uc(68),v=b.uc(74),p=b.uc(83),m=b.hc(2);b.Eb(9),b.nc("ngModel",a.naziv)("maxlength",m.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",m.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",b.qc(73,Qe))("placeholder","Skladiste Odlaganje #"+t)("required",m.getConfigValue("forms.validation.nazivSkladista.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||m.checkIssues),b.Eb(5),b.nc("ngModel",a.vrstaDeponije)("ngModelOptions",b.qc(74,Qe))("required",m.getConfigValue("forms.validation.vrstaDeponije.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(8),b.nc("ngIf",r.invalid&&r.touched||m.checkIssues),b.Eb(9),b.nc("ngModel",a.adresa.mesto.opstinaNaziv)("nbAutocomplete",s)("ngModelOptions",b.qc(75,Qe))("required",m.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(38,69,m.opstine$)),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched||m.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.mesto.mestoNaziv)("nbAutocomplete",u)("ngModelOptions",b.qc(76,Qe))("required",m.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(48,71,m.mesta$)),b.Eb(2),b.nc("ngIf",c.invalid&&c.touched||m.checkIssues),b.Eb(5),b.nc("ngModel",a.adresa.mesto.postanskiBroj)("maxlength",m.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",m.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",b.qc(77,Qe))("required",m.getConfigValue("forms.validation.postanskiBroj.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),b.Eb(2),b.nc("ngIf",d.invalid&&d.touched||m.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.ulica)("maxlength",m.getConfigValue("forms.validation.ulica.maxLength"))("minlength",m.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",b.qc(78,Qe))("required",m.getConfigValue("forms.validation.ulica.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),b.Eb(2),b.nc("ngIf",g.invalid&&g.touched||m.checkIssues),b.Eb(5),b.nc("ngModel",a.geolokacijaN)("maxlength",m.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",m.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",m.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",b.qc(79,Qe))("required",m.getConfigValue("forms.validation.geolokacija.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),b.Eb(2),b.nc("ngIf",f.invalid&&f.touched),b.Eb(4),b.nc("ngModel",a.geolokacijaE)("maxlength",m.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",m.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",b.qc(80,Qe))("pattern",m.getConfigValue("forms.validation.geolokacija.pattern"))("required",m.getConfigValue("forms.validation.geolokacija.required"))("status",v.dirty?v.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),b.Eb(2),b.nc("ngIf",v.invalid&&v.touched),b.Eb(7),b.nc("ngModel",a.maxKolicina)("min",m.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",b.qc(81,Qe))("required",m.getConfigValue("forms.validation.velicinaSkladista.required"))("status",p.dirty?p.invalid?"danger":"success":"basic"),b.Eb(5),b.nc("ngIf",p.invalid&&p.touched||m.checkIssues)}}function nn(e,n){if(1&e&&(b.Xb(0,"div",9),b.Cc(1,en,88,82,"div",10),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.skladisteDeponija$))}}function an(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Naziv dozvole je obavezna! "),b.Wb())}function tn(e,n){if(1&e&&(b.Xb(0,"p",60),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function on(e,n){if(1&e&&(b.Vb(0),b.Cc(1,an,2,0,"p",59),b.Cc(2,tn,2,1,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function rn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," \u0160ifra dozvole je obavezna! "),b.Wb())}function ln(e,n){if(1&e&&(b.Vb(0),b.Cc(1,rn,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(16);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function sn(e,n){if(1&e&&(b.Xb(0,"nb-option",61),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i.naziv)}}function cn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),b.Wb())}function un(e,n){if(1&e&&(b.Vb(0),b.Cc(1,cn,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(22);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function dn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Datum nastanka dozvole je obavezan! "),b.Wb())}function bn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),b.Wb())}function gn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,dn,2,0,"p",59),b.Cc(2,bn,2,0,"p",59),b.Ub()),2&e){var i=b.hc().$implicit,a=b.uc(30),t=b.hc(2);b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.required),b.Eb(1),b.nc("ngIf",!t.dateValid(i))}}function fn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Datum isteka dozvole je obavezan! "),b.Wb())}function vn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,fn,2,0,"p",59),b.Ub()),2&e){b.hc();var i=b.uc(38);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function pn(e,n){1&e&&(b.Xb(0,"p",60),b.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),b.Wb())}function mn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,pn,2,0,"p",59),b.Ub()),2&e){var i=b.hc().$implicit;b.Eb(1),b.nc("ngIf",i.listaOtpada.length<1)}}function hn(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",11,62),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateDump(e)})),b.Xb(3,"nb-card",63),b.Xb(4,"nb-card-body"),b.Xb(5,"div",4),b.Xb(6,"div",64),b.Xb(7,"label",65),b.Ec(8,"Naziv Dozvole:"),b.Wb(),b.Xb(9,"input",66,67),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,on,3,2,"ng-container",18),b.Wb(),b.Xb(12,"div",68),b.Xb(13,"label",69),b.Ec(14,"\u0160ifra Dozvole:"),b.Wb(),b.Xb(15,"input",70,71),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.sifra=e})),b.Wb(),b.Cc(17,ln,2,1,"ng-container",18),b.Wb(),b.Xb(18,"div",68),b.Xb(19,"label",72),b.Ec(20,"Odaberi postrojenje:"),b.Wb(),b.Xb(21,"nb-select",73,74),b.fc("selectedChange",(function(e){b.wc(i);var a=n.$implicit;return b.hc(2).setAdresa(a,e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.skladistaDeponija=e})),b.Cc(23,sn,2,2,"nb-option",33),b.ic(24,"async"),b.Wb(),b.Cc(25,un,2,1,"ng-container",18),b.Wb(),b.Xb(26,"div",28),b.Xb(27,"label",75),b.Ec(28,"Datum izdavanja dozvole:"),b.Wb(),b.Xb(29,"input",76,77),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumNastanka=e})),b.Wb(),b.Sb(31,"nb-datepicker",78,79),b.Cc(33,gn,3,2,"ng-container",18),b.Wb(),b.Xb(34,"div",28),b.Xb(35,"label",80),b.Ec(36,"Datum isteka dozvole:"),b.Wb(),b.Xb(37,"input",81,82),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumTrajanja=e})),b.Wb(),b.Sb(39,"nb-datepicker",78,83),b.Cc(41,vn,2,1,"ng-container",18),b.Wb(),b.Xb(42,"div",84),b.Xb(43,"button",85),b.fc("click",(function(){b.wc(i);var e=n.$implicit;return b.hc(2).chooseDozvola(e)})),b.Ec(44,"Odaberi otpade "),b.Wb(),b.Cc(45,mn,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(16),l=b.uc(22),s=b.uc(30),c=b.uc(32),u=b.uc(38),d=b.uc(40),g=b.hc(2);b.Eb(9),b.pc("placeholder","Dozvola Odlaganje #",t,""),b.nc("ngModel",a.naziv)("ngModelOptions",b.qc(38,Qe))("required",g.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",g.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",g.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.sifra)("ngModelOptions",b.qc(39,Qe))("required",g.getConfigValue("forms.validation.sifraDozvole.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.skladistaDeponija)("ngModelOptions",b.qc(40,Qe))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Eb(2),b.nc("ngForOf",b.jc(24,36,g.skladisteDeponija$)),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumNastanka)("nbDatepicker",c)("ngModelOptions",b.qc(41,Qe))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngIf",!g.dateValid(a)||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumTrajanja)("nbDatepicker",d)("ngModelOptions",b.qc(42,Qe))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(4),b.nc("ngIf",u.invalid&&u.touched||g.checkIssues),b.Eb(2),b.nc("disabled",""===a.sifra),b.Eb(2),b.nc("ngIf",g.checkIssues)}}function kn(e,n){if(1&e&&(b.Xb(0,"div",9),b.Cc(1,hn,46,43,"div",10),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.dozvole$))}}var jn,Wn=((jn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=a,this.router=t,this.valid=!1,this.checkIssues=!1,this.mesta=[],this.opstine=[],this.brojSkladistaDeponija=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladistaDeponija&&(e.brojSkladistaDeponija=e.firma.skladistaDeponija.length,e.skladisteDeponija=e.firma.skladistaDeponija,e.skladisteDeponija$=Object(u.a)(e.skladisteDeponija)),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola.filter((function(e){return"odlaganje"===e.vrstaDozvole})),e.dozvole$=Object(u.a)(e.dozvole)))})),this.validateDump({}),this.registerService.sendFirma(Object(u.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(D.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(u.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"checkValid",value:function(){return!!this.valid||(this.checkIssues=!0,!1)}},{key:"validateDump",value:function(e){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladisteDeponija&&(this.valid=this.dozvole.length>0&&this.skladisteDeponija.length>0),void 0!==this.dozvole){var n,i=_createForOfIteratorHelper(this.dozvole);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(""===a.naziv||a.naziv.length<3){this.valid=!1;break}if(""===a.sifra){this.valid=!1;break}if(void 0===a.datumTrajanja||void 0===a.datumNastanka){this.valid=!1;break}if(void 0===a.skladistaDeponija){this.valid=!1;break}if(a.listaOtpada.length<1){this.valid=!1;break}}}catch(l){i.e(l)}finally{i.f()}}if(void 0!==this.skladisteDeponija){var t,o=_createForOfIteratorHelper(this.skladisteDeponija);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(""===r.naziv||r.naziv.length<3){this.valid=!1;break}if(r.maxKolicina<1||isNaN(r.maxKolicina)){this.valid=!1;break}if(""===r.adresa.mesto.mestoNaziv||""===r.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===r.vrstaDeponije){this.valid=!1;break}if(""===r.adresa.ulica){this.valid=!1;break}}}catch(l){o.e(l)}finally{o.f()}}}},{key:"updateDozvolaForm",value:function(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter((function(e){return"odlaganje"!==e.vrstaDozvole}))),this.dozvole=new Array(this.brojSkladistaDeponija);for(var e=0;e<this.brojSkladistaDeponija;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"odlaganje"};this.skladisteDeponija=new Array(this.brojSkladistaDeponija);for(var n=0;n<this.brojSkladistaDeponija;n++)this.skladisteDeponija[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:"",vrstaDeponije:""};this.firma.skladistaDeponija=this.skladisteDeponija,this.skladisteDeponija$=Object(u.a)(this.skladisteDeponija),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(u.a)(this.dozvole),this.validateDump({})}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(D.a)()).subscribe((function(e){n.mesta=e,n.mesta$=Object(u.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).pipe(Object(D.a)()).subscribe((function(e){n.opstine$=Object(u.a)(e),n.getMesta(e[0])})):this.opstine$=Object(u.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(u.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}},{key:"setAdresa",value:function(e,n){e.adresa=n.adresa}},{key:"dateValid",value:function(e){return e.datumNastanka<=e.datumTrajanja}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return!(!isNaN(e)&&void 0!==e)}))}]),e}()).\u0275fac=function(e){return new(e||jn)(b.Rb(j.a),b.Rb(m),b.Rb(p),b.Rb(s.c))},jn.\u0275cmp=b.Lb({type:jn,selectors:[["ngx-odlaganje"]],decls:16,vars:6,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladistaDeponije","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],[3,"change"],["storageDumpForm","ngForm"],["accent","warning",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],["for","input-vrstaSkladista",1,"label"],["fullWidth","","id","input-vrstaDeponije","name","vrstaDeponije","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vrstaDeponije","ngModel"],["value","Neopasan"],["value","Opasan"],["value","Inertan"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"form",2,3),b.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"label",5),b.Ec(7,"Broj deponija:"),b.Wb(),b.Xb(8,"input",6),b.fc("ngModelChange",(function(e){return n.brojSkladistaDeponija=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",4),b.Xb(10,"div",5),b.Xb(11,"button",7),b.Ec(12,"Odaberi"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(13),b.Wb(),b.Cc(14,nn,3,3,"div",8),b.Cc(15,kn,3,3,"div",8)),2&e&&(b.Eb(8),b.nc("ngModel",n.brojSkladistaDeponija)("ngModelOptions",b.qc(5,Qe)),b.Eb(5),b.Gc(" ",n.valid,"\n"),b.Eb(1),b.nc("ngIf",n.brojSkladistaDeponija>0),b.Eb(1),b.nc("ngIf",n.brojSkladistaDeponija>0))},directives:[l.w,l.l,l.m,W.O,l.p,l.b,l.k,l.n,W.t,r.n,r.m,W.w,W.v,l.f,l.g,l.s,W.ob,W.nb,W.db,W.r,W.q,l.q,W.H,W.G],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),jn);function En(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Naziv skladi\u0161ta je obavezan! "),b.Wb())}function Cn(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function Xn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,En,2,0,"p",53),b.Cc(2,Cn,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function zn(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function Mn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Op\u0161tina je obavezna! "),b.Wb())}function In(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Mn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(21);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function On(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function yn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Mesto je obavezno! "),b.Wb())}function Sn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,yn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(31);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function qn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Po\u0161tanski broj je obavezan! "),b.Wb())}function Vn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Po\u0161tanski broj mora biti validan! "),b.Wb())}function Fn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,qn,2,0,"p",53),b.Cc(2,Vn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(42);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function wn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Ulica je obavezna! "),b.Wb())}function Dn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,wn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(48);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function xn(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function Nn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,xn,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(55);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function $n(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function Tn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,$n,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(61);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ln(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),b.Wb())}function Pn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),b.Wb())}function _n(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ln,2,0,"p",53),b.Cc(2,Pn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(70),a=b.hc(2);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.required)||a.isNaN(i.value)),b.Eb(1),b.nc("ngIf",i<1)}}var Bn=function(){return{standalone:!0}};function Un(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",11,12),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateProduction(e)})),b.Xb(3,"nb-card",13),b.Xb(4,"nb-card-body"),b.Xb(5,"div",14),b.Xb(6,"div",5),b.Xb(7,"label",15),b.Ec(8,"Naziv Skladi\u0161ta:"),b.Wb(),b.Xb(9,"input",16,17),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,Xn,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Xb(12,"div",19),b.Xb(13,"div",5),b.Xb(14,"label",20),b.Ec(15,"Adresa:"),b.Wb(),b.Xb(16,"div",21),b.Xb(17,"div",22),b.Xb(18,"nb-select-label",23),b.Ec(19,"Op\u0161tina:"),b.Wb(),b.Xb(20,"input",24,25),b.fc("ngModelChange",(function(){b.wc(i);var e=b.uc(21);return b.hc(2).findOpstina(e.value)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.opstinaNaziv=e})),b.Wb(),b.Xb(22,"nb-autocomplete",null,26),b.Cc(24,zn,2,2,"nb-option",27),b.ic(25,"async"),b.Wb(),b.Cc(26,In,2,1,"ng-container",18),b.Wb(),b.Xb(27,"div",22),b.Xb(28,"nb-select-label",28),b.Ec(29,"Mesto:"),b.Wb(),b.Xb(30,"input",29,30),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findMesta(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.mestoNaziv=e})),b.Wb(),b.Xb(32,"nb-autocomplete",null,31),b.Cc(34,On,2,2,"nb-option",27),b.ic(35,"async"),b.Wb(),b.Cc(36,Sn,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(37,"div",32),b.Xb(38,"div",33),b.Xb(39,"label",34),b.Ec(40,"Po\u0161tanski broj:"),b.Wb(),b.Xb(41,"input",35,36),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),b.Wb(),b.Cc(43,Fn,3,2,"ng-container",18),b.Wb(),b.Xb(44,"div",37),b.Xb(45,"label",38),b.Ec(46,"Ulica i broj:"),b.Wb(),b.Xb(47,"input",39,40),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.ulica=e})),b.Wb(),b.Cc(49,Dn,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(50,"div",19),b.Xb(51,"div",22),b.Xb(52,"label",41),b.Ec(53,"Geolokacija Sever(N):"),b.Wb(),b.Xb(54,"input",42,43),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaN=e})),b.Wb(),b.Cc(56,Nn,2,1,"ng-container",18),b.Wb(),b.Xb(57,"div",22),b.Xb(58,"label",44),b.Ec(59,"Geolokacija Istok(E0):"),b.Wb(),b.Xb(60,"input",45,46),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaE=e})),b.Wb(),b.Cc(62,Tn,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(63,"div",19),b.Xb(64,"div",5),b.Xb(65,"label",47),b.Ec(66,"Veli\u010dina skladi\u0161ta:"),b.Wb(),b.Xb(67,"div",4),b.Xb(68,"div",48),b.Xb(69,"input",49,50),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.maxKolicina=e})),b.Wb(),b.Wb(),b.Xb(71,"div",51),b.Xb(72,"button",52),b.Ec(73,"KG"),b.Wb(),b.Wb(),b.Cc(74,_n,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(21),l=b.uc(23),s=b.uc(31),c=b.uc(33),u=b.uc(42),d=b.uc(48),g=b.uc(55),f=b.uc(61),v=b.uc(70),p=b.hc(2);b.Eb(9),b.nc("ngModel",a.naziv)("maxlength",p.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",p.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",b.qc(67,Bn))("placeholder","Skladiste #"+t)("required",p.getConfigValue("forms.validation.nazivSkladista.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||p.checkIssues),b.Eb(9),b.nc("ngModel",a.adresa.mesto.opstinaNaziv)("nbAutocomplete",l)("ngModelOptions",b.qc(68,Bn))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(25,63,p.opstine$)),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.mesto.mestoNaziv)("nbAutocomplete",c)("ngModelOptions",b.qc(69,Bn))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(35,65,p.mesta$)),b.Eb(2),b.nc("ngIf",s.invalid&&s.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.adresa.mesto.postanskiBroj)("maxlength",p.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",p.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",b.qc(70,Bn))("required",p.getConfigValue("forms.validation.postanskiBroj.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(2),b.nc("ngIf",u.invalid&&u.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.ulica)("maxlength",p.getConfigValue("forms.validation.ulica.maxLength"))("minlength",p.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",b.qc(71,Bn))("required",p.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),b.Eb(2),b.nc("ngIf",d.invalid&&d.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.geolokacijaN)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",b.qc(72,Bn))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),b.Eb(2),b.nc("ngIf",g.invalid&&g.touched),b.Eb(4),b.nc("ngModel",a.geolokacijaE)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",b.qc(73,Bn))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),b.Eb(2),b.nc("ngIf",f.invalid&&f.touched),b.Eb(7),b.nc("ngModel",a.maxKolicina)("min",p.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",b.qc(74,Bn))("required",p.getConfigValue("forms.validation.velicinaSkladista.required"))("status",v.dirty?v.invalid?"danger":"success":"basic"),b.Eb(5),b.nc("ngIf",v.invalid&&v.touched||p.checkIssues)}}function Rn(e,n){if(1&e&&(b.Xb(0,"div",9),b.Cc(1,Un,75,75,"div",10),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.skladista$))}}var An,Gn=((An=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=a,this.checkIssues=!1,this.valid=!1,this.mesta=[],this.opstine=[],this.brojSkladista=0,this.skladista=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladista&&(e.brojSkladista=e.firma.skladista.length,e.skladista=e.firma.skladista,e.skladista$=Object(u.a)(e.skladista)))})),this.validateProduction({}),this.registerService.sendFirma(Object(u.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(D.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(u.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"checkValid",value:function(){return!!this.valid||(this.checkIssues=!0,!1)}},{key:"validateProduction",value:function(e){this.valid=this.skladista.length>0;var n,i=_createForOfIteratorHelper(this.skladista);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(""===a.naziv||a.naziv.length<3){this.valid=!1;break}if(a.maxKolicina<1||isNaN(a.maxKolicina)){this.valid=!1;break}if(""===a.adresa.mesto.mestoNaziv||""===a.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===a.adresa.ulica){this.valid=!1;break}}}catch(t){i.e(t)}finally{i.f()}}},{key:"updateSkladisteForm",value:function(){this.skladista=new Array(this.brojSkladista);for(var e=0;e<this.brojSkladista;e++)this.skladista[e]={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:""};this.skladista$=Object(u.a)(this.skladista),this.firma.skladista=this.skladista,this.validateProduction({})}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(D.a)()).subscribe((function(e){n.mesta=e,n.mesta$=Object(u.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).pipe(Object(D.a)()).subscribe((function(e){n.opstine$=Object(u.a)(e),n.getMesta(e[0])})):this.opstine$=Object(u.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return!(!isNaN(e)&&void 0!==e)}))}]),e}()).\u0275fac=function(e){return new(e||An)(b.Rb(j.a),b.Rb(m),b.Rb(p))},An.\u0275cmp=b.Lb({type:An,selectors:[["ngx-proizvodnja"]],decls:15,vars:5,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladista","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],[3,"change"],["storageForm","ngForm"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"]],template:function(e,n){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"form",2,3),b.fc("ngSubmit",(function(){return n.updateSkladisteForm()})),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"label",5),b.Ec(7,"Broj skladista:"),b.Wb(),b.Xb(8,"input",6),b.fc("ngModelChange",(function(e){return n.brojSkladista=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",4),b.Xb(10,"div",5),b.Xb(11,"button",7),b.Ec(12,"Odaberi"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(13),b.Wb(),b.Cc(14,Rn,3,3,"div",8)),2&e&&(b.Eb(8),b.nc("ngModel",n.brojSkladista)("ngModelOptions",b.qc(4,Bn)),b.Eb(5),b.Gc(" ",n.valid,"\n"),b.Eb(1),b.nc("ngIf",n.brojSkladista>0))},directives:[l.w,l.l,l.m,W.O,l.p,l.b,l.k,l.n,W.t,r.n,r.m,W.w,W.v,l.f,l.g,l.s,W.ob,W.r,W.q,l.q,W.db],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),An);function Kn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Naziv skladi\u0161ta je obavezan! "),b.Wb())}function Zn(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function Yn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Kn,2,0,"p",53),b.Cc(2,Zn,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Hn(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function Jn(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Op\u0161tina je obavezna! "),b.Wb())}function Qn(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Jn,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(21);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ei(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function ni(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Mesto je obavezno! "),b.Wb())}function ii(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ni,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(31);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ai(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Po\u0161tanski broj je obavezan! "),b.Wb())}function ti(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Po\u0161tanski broj mora biti validan! "),b.Wb())}function oi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ai,2,0,"p",53),b.Cc(2,ti,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(42);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ri(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Ulica je obavezna! "),b.Wb())}function li(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ri,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(48);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function si(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function ci(e,n){if(1&e&&(b.Vb(0),b.Cc(1,si,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(55);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ui(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function di(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ui,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(61);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function bi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),b.Wb())}function gi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),b.Wb())}function fi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,bi,2,0,"p",53),b.Cc(2,gi,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(70),a=b.hc(2);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.required)||a.isNaN(i.value)),b.Eb(1),b.nc("ngIf",i<1)}}var vi=function(){return{standalone:!0}};function pi(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",11,12),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateCache(e)})),b.Xb(3,"nb-card",13),b.Xb(4,"nb-card-body"),b.Xb(5,"div",14),b.Xb(6,"div",5),b.Xb(7,"label",15),b.Ec(8,"Naziv Skladi\u0161ta:"),b.Wb(),b.Xb(9,"input",16,17),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,Yn,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Xb(12,"div",19),b.Xb(13,"div",5),b.Xb(14,"label",20),b.Ec(15,"Adresa:"),b.Wb(),b.Xb(16,"div",21),b.Xb(17,"div",22),b.Xb(18,"nb-select-label",23),b.Ec(19,"Op\u0161tina:"),b.Wb(),b.Xb(20,"input",24,25),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findOpstina(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.opstinaNaziv=e})),b.Wb(),b.Xb(22,"nb-autocomplete",null,26),b.Cc(24,Hn,2,2,"nb-option",27),b.ic(25,"async"),b.Wb(),b.Cc(26,Qn,2,1,"ng-container",18),b.Wb(),b.Xb(27,"div",22),b.Xb(28,"nb-select-label",28),b.Ec(29,"Mesto:"),b.Wb(),b.Xb(30,"input",29,30),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findMesta(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.mestoNaziv=e})),b.Wb(),b.Xb(32,"nb-autocomplete",null,31),b.Cc(34,ei,2,2,"nb-option",27),b.ic(35,"async"),b.Wb(),b.Cc(36,ii,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(37,"div",32),b.Xb(38,"div",33),b.Xb(39,"label",34),b.Ec(40,"Po\u0161tanski broj:"),b.Wb(),b.Xb(41,"input",35,36),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),b.Wb(),b.Cc(43,oi,3,2,"ng-container",18),b.Wb(),b.Xb(44,"div",37),b.Xb(45,"label",38),b.Ec(46,"Ulica i broj:"),b.Wb(),b.Xb(47,"input",39,40),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.ulica=e})),b.Wb(),b.Cc(49,li,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(50,"div",19),b.Xb(51,"div",22),b.Xb(52,"label",41),b.Ec(53,"Geolokacija Sever(N):"),b.Wb(),b.Xb(54,"input",42,43),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaN=e})),b.Wb(),b.Cc(56,ci,2,1,"ng-container",18),b.Wb(),b.Xb(57,"div",22),b.Xb(58,"label",44),b.Ec(59,"Geolokacija Istok(E0):"),b.Wb(),b.Xb(60,"input",45,46),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaE=e})),b.Wb(),b.Cc(62,di,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Xb(63,"div",19),b.Xb(64,"div",5),b.Xb(65,"label",47),b.Ec(66,"Veli\u010dina skladi\u0161ta:"),b.Wb(),b.Xb(67,"div",4),b.Xb(68,"div",48),b.Xb(69,"input",49,50),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.maxKolicina=e})),b.Wb(),b.Wb(),b.Xb(71,"div",51),b.Xb(72,"button",52),b.Ec(73,"KG"),b.Wb(),b.Wb(),b.Cc(74,fi,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(21),l=b.uc(23),s=b.uc(31),c=b.uc(33),u=b.uc(42),d=b.uc(48),g=b.uc(55),f=b.uc(61),v=b.uc(70),p=b.hc(2);b.Eb(9),b.nc("ngModel",a.naziv)("maxlength",p.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",p.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",b.qc(67,vi))("placeholder","Skladiste #"+t)("required",p.getConfigValue("forms.validation.nazivSkladista.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||p.checkIssues),b.Eb(9),b.nc("ngModel",a.adresa.mesto.opstinaNaziv)("nbAutocomplete",l)("ngModelOptions",b.qc(68,vi))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(25,63,p.opstine$)),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.mesto.mestoNaziv)("nbAutocomplete",c)("ngModelOptions",b.qc(69,vi))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(35,65,p.mesta$)),b.Eb(2),b.nc("ngIf",s.invalid&&s.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.adresa.mesto.postanskiBroj)("maxlength",p.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",p.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",b.qc(70,vi))("required",p.getConfigValue("forms.validation.postanskiBroj.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(2),b.nc("ngIf",u.invalid&&u.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.ulica)("maxlength",p.getConfigValue("forms.validation.ulica.maxLength"))("minlength",p.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",b.qc(71,vi))("required",p.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),b.Eb(2),b.nc("ngIf",d.invalid&&d.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.geolokacijaN)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",b.qc(72,vi))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),b.Eb(2),b.nc("ngIf",g.invalid&&g.touched),b.Eb(4),b.nc("ngModel",a.geolokacijaE)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",b.qc(73,vi))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),b.Eb(2),b.nc("ngIf",f.invalid&&f.touched),b.Eb(7),b.nc("ngModel",a.maxKolicina)("min",p.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",b.qc(74,vi))("required",p.getConfigValue("forms.validation.velicinaSkladista.required"))("status",v.dirty?v.invalid?"danger":"success":"basic"),b.Eb(5),b.nc("ngIf",v.invalid&&v.touched||p.checkIssues)}}function mi(e,n){if(1&e&&(b.Xb(0,"div",9),b.Cc(1,pi,75,75,"div",10),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.skladistaSkladistenje$))}}function hi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Naziv dozvole je obavezna! "),b.Wb())}function ki(e,n){if(1&e&&(b.Xb(0,"p",54),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function ji(e,n){if(1&e&&(b.Vb(0),b.Cc(1,hi,2,0,"p",53),b.Cc(2,ki,2,1,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function Wi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," \u0160ifra dozvole je obavezna! "),b.Wb())}function Ei(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Wi,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(16);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ci(e,n){if(1&e&&(b.Xb(0,"nb-option",55),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i.naziv)}}function Xi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),b.Wb())}function zi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Xi,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(22);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Mi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Datum nastanka dozvole je obavezan! "),b.Wb())}function Ii(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),b.Wb())}function Oi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Mi,2,0,"p",53),b.Cc(2,Ii,2,0,"p",53),b.Ub()),2&e){var i=b.hc().$implicit,a=b.uc(30),t=b.hc(2);b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.required),b.Eb(1),b.nc("ngIf",!t.dateValid(i))}}function yi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Datum isteka dozvole je obavezan! "),b.Wb())}function Si(e,n){if(1&e&&(b.Vb(0),b.Cc(1,yi,2,0,"p",53),b.Ub()),2&e){b.hc();var i=b.uc(38);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function qi(e,n){1&e&&(b.Xb(0,"p",54),b.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),b.Wb())}function Vi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,qi,2,0,"p",53),b.Ub()),2&e){var i=b.hc().$implicit;b.Eb(1),b.nc("ngIf",i.listaOtpada.length<1)}}function Fi(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",11,56),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateCache(e)})),b.Xb(3,"nb-card",57),b.Xb(4,"nb-card-body"),b.Xb(5,"div",4),b.Xb(6,"div",58),b.Xb(7,"label",59),b.Ec(8,"Naziv Dozvole:"),b.Wb(),b.Xb(9,"input",60,61),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,ji,3,2,"ng-container",18),b.Wb(),b.Xb(12,"div",62),b.Xb(13,"label",63),b.Ec(14,"\u0160ifra Dozvole:"),b.Wb(),b.Xb(15,"input",64,65),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.sifra=e})),b.Wb(),b.Cc(17,Ei,2,1,"ng-container",18),b.Wb(),b.Xb(18,"div",62),b.Xb(19,"label",66),b.Ec(20,"Odaberi postrojenje:"),b.Wb(),b.Xb(21,"nb-select",67,68),b.fc("selectedChange",(function(e){b.wc(i);var a=n.$implicit;return b.hc(2).setAdresa(a,e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.skladistaSkladistenje=e})),b.Cc(23,Ci,2,2,"nb-option",27),b.ic(24,"async"),b.Wb(),b.Cc(25,zi,2,1,"ng-container",18),b.Wb(),b.Xb(26,"div",22),b.Xb(27,"label",69),b.Ec(28,"Datum izdavanja dozvole:"),b.Wb(),b.Xb(29,"input",70,71),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumNastanka=e})),b.Wb(),b.Sb(31,"nb-datepicker",72,73),b.Cc(33,Oi,3,2,"ng-container",18),b.Wb(),b.Xb(34,"div",22),b.Xb(35,"label",74),b.Ec(36,"Datum isteka dozvole:"),b.Wb(),b.Xb(37,"input",75,76),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumTrajanja=e})),b.Wb(),b.Sb(39,"nb-datepicker",72,77),b.Cc(41,Si,2,1,"ng-container",18),b.Wb(),b.Xb(42,"div",78),b.Xb(43,"button",79),b.fc("click",(function(){b.wc(i);var e=n.$implicit;return b.hc(2).chooseDozvola(e)})),b.Ec(44,"Odaberi otpade "),b.Wb(),b.Cc(45,Vi,2,1,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(16),l=b.uc(22),s=b.uc(30),c=b.uc(32),u=b.uc(38),d=b.uc(40),g=b.hc(2);b.Eb(9),b.pc("placeholder","Dozvola Skladi\u0161tenje #",t,""),b.nc("ngModel",a.naziv)("ngModelOptions",b.qc(38,vi))("required",g.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",g.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",g.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.sifra)("ngModelOptions",b.qc(39,vi))("required",g.getConfigValue("forms.validation.sifraDozvole.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.skladistaSkladistenje)("ngModelOptions",b.qc(40,vi))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Eb(2),b.nc("ngForOf",b.jc(24,36,g.skladistaSkladistenje$)),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumNastanka)("nbDatepicker",c)("ngModelOptions",b.qc(41,vi))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngIf",!g.dateValid(a)||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumTrajanja)("nbDatepicker",d)("ngModelOptions",b.qc(42,vi))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(4),b.nc("ngIf",u.invalid&&u.touched||g.checkIssues),b.Eb(2),b.nc("disabled",""===a.sifra),b.Eb(2),b.nc("ngIf",g.checkIssues)}}function wi(e,n){if(1&e&&(b.Xb(0,"div",9),b.Cc(1,Fi,46,43,"div",10),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.dozvole$))}}var Di,xi=((Di=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=a,this.router=t,this.valid=!1,this.checkIssues=!1,this.brojSkladista=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladisteSkladistenje&&(e.skladistaSkladistenje=e.firma.skladisteSkladistenje,e.skladistaSkladistenje$=Object(u.a)(e.skladistaSkladistenje),e.brojSkladista=e.skladistaSkladistenje.length),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola.filter((function(e){return"skladistenje"===e.vrstaDozvole})),e.dozvole$=Object(u.a)(e.dozvole)))})),this.validateCache({}),this.registerService.sendFirma(Object(u.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(D.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(u.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"checkValid",value:function(){return!!this.valid||(this.checkIssues=!0,!1)}},{key:"validateCache",value:function(e){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladistaSkladistenje&&(this.valid=this.dozvole.length>0&&this.skladistaSkladistenje.length>0),void 0!==this.dozvole){var n,i=_createForOfIteratorHelper(this.dozvole);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(""===a.naziv||a.naziv.length<3){this.valid=!1;break}if(""===a.sifra){this.valid=!1;break}if(void 0===a.datumTrajanja||void 0===a.datumNastanka){this.valid=!1;break}if(void 0===a.skladistaSkladistenje){this.valid=!1;break}if(a.listaOtpada.length<1){this.valid=!1;break}}}catch(l){i.e(l)}finally{i.f()}}if(void 0!==this.skladistaSkladistenje){var t,o=_createForOfIteratorHelper(this.skladistaSkladistenje);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(""===r.naziv||r.naziv.length<3){this.valid=!1;break}if(r.maxKolicina<1||isNaN(r.maxKolicina)){this.valid=!1;break}if(""===r.adresa.mesto.mestoNaziv||""===r.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===r.adresa.ulica){this.valid=!1;break}}}catch(l){o.e(l)}finally{o.f()}}}},{key:"updateDozvolaForm",value:function(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter((function(e){return"skladistenje"!==e.vrstaDozvole}))),this.dozvole=new Array(this.brojSkladista);for(var e=0;e<this.brojSkladista;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"skladistenje"};this.skladistaSkladistenje=new Array(this.brojSkladista);for(var n=0;n<this.brojSkladista;n++)this.skladistaSkladistenje[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:""};this.firma.skladisteSkladistenje=this.skladistaSkladistenje,this.skladistaSkladistenje$=Object(u.a)(this.skladistaSkladistenje),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(u.a)(this.dozvole),this.validateCache({})}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(u.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(u.a)(e),n.getMesta(e[0])})):this.opstine$=Object(u.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(u.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}},{key:"setAdresa",value:function(e,n){e.adresa=n.adresa}},{key:"dateValid",value:function(e){return e.datumNastanka<=e.datumTrajanja}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return!(!isNaN(e)&&void 0!==e)}))}]),e}()).\u0275fac=function(e){return new(e||Di)(b.Rb(j.a),b.Rb(m),b.Rb(p),b.Rb(s.c))},Di.\u0275cmp=b.Lb({type:Di,selectors:[["ngx-skladistenje"]],decls:16,vars:6,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladistaSkladistenje","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],[3,"change"],["storageCacheForm","ngForm"],["accent","secondary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"form",2,3),b.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"label",5),b.Ec(7,"Broj skladi\u0161ta:"),b.Wb(),b.Xb(8,"input",6),b.fc("ngModelChange",(function(e){return n.brojSkladista=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",4),b.Xb(10,"div",5),b.Xb(11,"button",7),b.Ec(12,"Odaberi"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(13),b.Wb(),b.Cc(14,mi,3,3,"div",8),b.Cc(15,wi,3,3,"div",8)),2&e&&(b.Eb(8),b.nc("ngModel",n.brojSkladista)("ngModelOptions",b.qc(5,vi)),b.Eb(5),b.Gc(" ",n.valid,"\n"),b.Eb(1),b.nc("ngIf",n.brojSkladista>0),b.Eb(1),b.nc("ngIf",n.brojSkladista>0))},directives:[l.w,l.l,l.m,W.O,l.p,l.b,l.k,l.n,W.t,r.n,r.m,W.w,W.v,l.f,l.g,l.s,W.ob,W.r,W.q,l.q,W.db,W.nb,W.H,W.G],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Di);function Ni(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Naziv dozvole je obavezna! "),b.Wb())}function $i(e,n){if(1&e&&(b.Xb(0,"p",36),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function Ti(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ni,2,0,"p",35),b.Cc(2,$i,2,1,"p",35),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function Li(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," \u0160ifra dozvole je obavezna! "),b.Wb())}function Pi(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Li,2,0,"p",35),b.Ub()),2&e){b.hc();var i=b.uc(16);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function _i(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Datum nastanka dozvole je obavezan! "),b.Wb())}function Bi(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),b.Wb())}function Ui(e,n){if(1&e&&(b.Vb(0),b.Cc(1,_i,2,0,"p",35),b.Cc(2,Bi,2,0,"p",35),b.Ub()),2&e){var i=b.hc().$implicit,a=b.uc(22),t=b.hc(2);b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.required),b.Eb(1),b.nc("ngIf",!t.dateValid(i))}}function Ri(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Datum isteka dozvole je obavezan! "),b.Wb())}function Ai(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ri,2,0,"p",35),b.Ub()),2&e){b.hc();var i=b.uc(30);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Gi(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),b.Wb())}function Ki(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Gi,2,0,"p",35),b.Ub()),2&e){var i=b.hc().$implicit;b.Eb(1),b.nc("ngIf",i.listaOtpada.length<1)}}var Zi=function(){return{standalone:!0}};function Yi(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",13,14),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateTransport(e)})),b.Xb(3,"nb-card",15),b.Xb(4,"nb-card-body"),b.Xb(5,"div",4),b.Xb(6,"div",16),b.Xb(7,"label",17),b.Ec(8,"Naziv Dozvole:"),b.Wb(),b.Xb(9,"input",18,19),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,Ti,3,2,"ng-container",20),b.Wb(),b.Xb(12,"div",16),b.Xb(13,"label",21),b.Ec(14,"\u0160ifra Dozvole:"),b.Wb(),b.Xb(15,"input",22,23),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.sifra=e})),b.Wb(),b.Cc(17,Pi,2,1,"ng-container",20),b.Wb(),b.Xb(18,"div",5),b.Xb(19,"label",24),b.Ec(20,"Datum izdavanja dozvole:"),b.Wb(),b.Xb(21,"input",25,26),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumNastanka=e})),b.Wb(),b.Sb(23,"nb-datepicker",27,28),b.Cc(25,Ui,3,2,"ng-container",20),b.Wb(),b.Xb(26,"div",5),b.Xb(27,"label",29),b.Ec(28,"Datum isteka dozvole:"),b.Wb(),b.Xb(29,"input",30,31),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumTrajanja=e})),b.Wb(),b.Sb(31,"nb-datepicker",27,32),b.Cc(33,Ai,2,1,"ng-container",20),b.Wb(),b.Xb(34,"div",33),b.Xb(35,"button",34),b.fc("click",(function(){b.wc(i);var e=n.$implicit;return b.hc(2).chooseDozvola(e)})),b.Ec(36,"Odaberi otpade "),b.Wb(),b.Cc(37,Ki,2,1,"ng-container",20),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(16),l=b.uc(22),s=b.uc(24),c=b.uc(30),u=b.uc(32),d=b.hc(2);b.Eb(9),b.pc("placeholder","Dozvola Transport #",t,""),b.nc("ngModel",a.naziv)("ngModelOptions",b.qc(31,Zi))("required",d.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",d.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",d.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||d.checkIssues),b.Eb(4),b.nc("ngModel",a.sifra)("ngModelOptions",b.qc(32,Zi))("required",d.getConfigValue("forms.validation.sifraDozvole.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||d.checkIssues),b.Eb(4),b.nc("ngModel",a.datumNastanka)("nbDatepicker",s)("ngModelOptions",b.qc(33,Zi))("required",d.getConfigValue("forms.validation.datum.required"))("status",d.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),b.Eb(4),b.nc("ngIf",!d.dateValid(a)||d.checkIssues),b.Eb(4),b.nc("ngModel",a.datumTrajanja)("nbDatepicker",u)("ngModelOptions",b.qc(34,Zi))("required",d.getConfigValue("forms.validation.datum.required"))("status",d.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),b.Eb(4),b.nc("ngIf",c.invalid&&c.touched||d.checkIssues),b.Eb(2),b.nc("disabled",""===a.sifra),b.Eb(2),b.nc("ngIf",d.checkIssues)}}function Hi(e,n){if(1&e&&(b.Xb(0,"div",11),b.Cc(1,Yi,38,35,"div",12),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.dozvole$))}}function Ji(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Registarski broj tablica je obavezan! "),b.Wb())}function Qi(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),b.Wb())}function ea(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ji,2,0,"p",35),b.Cc(2,Qi,2,0,"p",35),b.Ub()),2&e){b.hc();var i=b.uc(9);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.pattern)||(null==i.errors?null:i.errors.minLength))}}function na(e,n){1&e&&(b.Xb(0,"p",36),b.Ec(1," Vrsta vozila je obavezna! "),b.Wb())}function ia(e,n){if(1&e&&(b.Vb(0),b.Cc(1,na,2,0,"p",35),b.Ub()),2&e){b.hc();var i=b.uc(15);b.Eb(1),b.nc("ngIf",!i.value)}}function aa(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",5),b.Xb(1,"form",13,37),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateTransport(e)})),b.Xb(3,"nb-card",38),b.Xb(4,"nb-card-body"),b.Xb(5,"div",16),b.Xb(6,"label",39),b.Ec(7,"Registarski broj tablice:"),b.Wb(),b.Xb(8,"input",40,41),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.registarskiBroj=e})),b.Wb(),b.Cc(10,ea,3,2,"ng-container",20),b.Wb(),b.Xb(11,"div",16),b.Xb(12,"label",42),b.Ec(13,"Vrsta vozila:"),b.Wb(),b.Xb(14,"nb-select",43,44),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.vrstaVozila=e}))("ngModelChange",(function(){return b.wc(i),b.hc(2).validateTransport({})})),b.Xb(16,"nb-option",45),b.Ec(17,"Kamion"),b.Wb(),b.Xb(18,"nb-option",46),b.Ec(19,"Kombi"),b.Wb(),b.Xb(20,"nb-option",47),b.Ec(21,"Automobil"),b.Wb(),b.Wb(),b.Cc(22,ia,2,1,"ng-container",20),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=b.uc(9),o=b.uc(15),r=b.hc(2);b.Eb(8),b.nc("ngModel",a.registarskiBroj)("maxlength",r.getConfigValue("forms.validation.registarskiBroj.maxLength"))("minLength",r.getConfigValue("forms.validation.registarskiBroj.minLength"))("ngModelOptions",b.qc(15,Zi))("pattern",r.getConfigValue("forms.validation.registarskiBroj.pattern"))("required",r.getConfigValue("forms.validation.registarskiBroj.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched||r.checkIssues),b.Eb(4),b.nc("ngModel",a.vrstaVozila)("ngModelOptions",b.qc(16,Zi))("required",r.getConfigValue("forms.validation.nazivFirme.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(8),b.nc("ngIf",o.invalid&&o.touched||r.checkIssues)}}function ta(e,n){if(1&e&&(b.Xb(0,"div",11),b.Cc(1,aa,23,17,"div",12),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.vozila$))}}var oa,ra=((oa=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.router=a,this.valid=!1,this.checkIssues=!1,this.brojDozvola=0,this.brojVozila=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.prevoznoSredstvo&&(e.brojVozila=e.firma.prevoznoSredstvo.length,e.vozila=e.firma.prevoznoSredstvo,e.vozila$=Object(u.a)(e.vozila)),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola.filter((function(e){return"transport"===e.vrstaDozvole})),e.dozvole$=Object(u.a)(e.dozvole),e.brojDozvola=e.dozvole.length))})),this.validateTransport({}),this.registerService.sendFirma(Object(u.a)(this.firma))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"checkValid",value:function(){return!!this.valid||(this.checkIssues=!0,!1)}},{key:"validateTransport",value:function(e){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.vozila&&(this.valid=this.dozvole.length>0&&this.vozila.length>0),void 0!==this.dozvole){var n,i=_createForOfIteratorHelper(this.dozvole);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(""===a.naziv||a.naziv.length<3){this.valid=!1;break}if(""===a.sifra){this.valid=!1;break}if(void 0===a.datumTrajanja||void 0===a.datumNastanka){this.valid=!1;break}if(a.listaOtpada.length<1){this.valid=!1;break}}}catch(l){i.e(l)}finally{i.f()}}if(void 0!==this.vozila){var t,o=_createForOfIteratorHelper(this.vozila);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(""===r.registarskiBroj||r.registarskiBroj.length<9){this.valid=!1;break}if(""===r.vrstaVozila){this.valid=!1;break}}}catch(l){o.e(l)}finally{o.f()}}}},{key:"updateDozvolaForm",value:function(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter((function(e){return"transport"!==e.vrstaDozvole}))),this.dozvole=new Array(this.brojDozvola);for(var e=0;e<this.brojDozvola;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"transport"};this.vozila=new Array(this.brojVozila);for(var n=0;n<this.brojVozila;n++)this.vozila[n]={_id:"",registarskiBroj:"",vrstaVozila:""};this.firma.prevoznoSredstvo=this.vozila,this.vozila$=Object(u.a)(this.vozila),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(u.a)(this.dozvole),this.validateTransport({})}},{key:"dateValid",value:function(e){return e.datumNastanka<=e.datumTrajanja}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(u.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}]),e}()).\u0275fac=function(e){return new(e||oa)(b.Rb(j.a),b.Rb(m),b.Rb(s.c))},oa.\u0275cmp=b.Lb({type:oa,selectors:[["ngx-transport"]],decls:20,vars:9,consts:[[1,"row","my-2"],[1,"col-8"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-6"],[1,"col-12"],["fullWidth","","min","1","name","brojDozvola","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],[3,"change"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[4,"ngIf"],["for","input-sifraDozvole",1,"label"],["autofocus","","fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["transportForm","ngForm"],["accent","danger"],["for","input-registarskiBroj",1,"label"],["fullWidth","","id","input-registarskiBroj","name","registarskiBroj","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["registarskiBroj","ngModel"],["for","input-vrstaVozila",1,"label"],["fullWidth","","id","input-vrstaVozila","name","vrstaVozila","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vrstaVozila","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"]],template:function(e,n){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"form",2,3),b.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"label",6),b.Ec(7,"Broj dozvola:"),b.Wb(),b.Xb(8,"input",7),b.fc("ngModelChange",(function(e){return n.brojDozvola=e})),b.Wb(),b.Wb(),b.Xb(9,"div",5),b.Xb(10,"label",6),b.Ec(11,"Broj vozila:"),b.Wb(),b.Xb(12,"input",8),b.fc("ngModelChange",(function(e){return n.brojVozila=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"div",4),b.Xb(14,"div",6),b.Xb(15,"button",9),b.Ec(16,"Odaberi"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(17),b.Wb(),b.Cc(18,Hi,3,3,"div",10),b.Cc(19,ta,3,3,"div",10)),2&e&&(b.Eb(8),b.nc("ngModel",n.brojDozvola)("ngModelOptions",b.qc(7,Zi)),b.Eb(4),b.nc("ngModelOptions",b.qc(8,Zi))("ngModel",n.brojVozila),b.Eb(5),b.Gc(" ",n.valid,"\n"),b.Eb(1),b.nc("ngIf",n.brojDozvola>0),b.Eb(1),b.nc("ngIf",n.brojVozila>0))},directives:[l.w,l.l,l.m,W.O,l.p,l.b,l.k,l.n,W.t,r.n,r.m,W.w,W.v,l.s,l.f,W.H,W.G,l.q,W.nb,W.db],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),oa);function la(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Naziv skladi\u0161ta je obavezan! "),b.Wb())}function sa(e,n){if(1&e&&(b.Xb(0,"p",53),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function ca(e,n){if(1&e&&(b.Vb(0),b.Cc(1,la,2,0,"p",52),b.Cc(2,sa,2,1,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ua(e,n){if(1&e&&(b.Xb(0,"nb-option",54),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function da(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Op\u0161tina je obavezna! "),b.Wb())}function ba(e,n){if(1&e&&(b.Vb(0),b.Cc(1,da,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(21);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ga(e,n){if(1&e&&(b.Xb(0,"nb-option",54),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i)}}function fa(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Mesto je obavezno! "),b.Wb())}function va(e,n){if(1&e&&(b.Vb(0),b.Cc(1,fa,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(31);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function pa(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Po\u0161tanski broj je obavezan! "),b.Wb())}function ma(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Po\u0161tanski broj mora biti validan! "),b.Wb())}function ha(e,n){if(1&e&&(b.Vb(0),b.Cc(1,pa,2,0,"p",52),b.Cc(2,ma,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(42);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ka(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Ulica je obavezna! "),b.Wb())}function ja(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ka,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(48);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Wa(e,n){if(1&e&&(b.Xb(0,"p",53),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function Ea(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Wa,2,1,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(55);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ca(e,n){if(1&e&&(b.Xb(0,"p",53),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Geolokacija istok mora imati bar ",i.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function Xa(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ca,2,1,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(61);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function za(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),b.Wb())}function Ma(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),b.Wb())}function Ia(e,n){if(1&e&&(b.Vb(0),b.Cc(1,za,2,0,"p",52),b.Cc(2,Ma,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(70),a=b.hc(2);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.required)||a.isNaN(i.value)),b.Eb(1),b.nc("ngIf",i<1)}}var Oa=function(){return{standalone:!0}};function ya(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",4),b.Xb(1,"form",10,11),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateTreatment(e)})),b.Xb(3,"nb-card",12),b.Xb(4,"nb-card-body"),b.Xb(5,"div",13),b.Xb(6,"div",4),b.Xb(7,"label",14),b.Ec(8,"Naziv Skladi\u0161ta:"),b.Wb(),b.Xb(9,"input",15,16),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,ca,3,2,"ng-container",17),b.Wb(),b.Wb(),b.Xb(12,"div",18),b.Xb(13,"div",4),b.Xb(14,"label",19),b.Ec(15,"Adresa:"),b.Wb(),b.Xb(16,"div",20),b.Xb(17,"div",21),b.Xb(18,"nb-select-label",22),b.Ec(19,"Op\u0161tina:"),b.Wb(),b.Xb(20,"input",23,24),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findOpstina(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.opstinaNaziv=e})),b.Wb(),b.Xb(22,"nb-autocomplete",null,25),b.Cc(24,ua,2,2,"nb-option",26),b.ic(25,"async"),b.Wb(),b.Cc(26,ba,2,1,"ng-container",17),b.Wb(),b.Xb(27,"div",21),b.Xb(28,"nb-select-label",27),b.Ec(29,"Mesto:"),b.Wb(),b.Xb(30,"input",28,29),b.fc("ngModelChange",(function(e){return b.wc(i),b.hc(2).findMesta(e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.mestoNaziv=e})),b.Wb(),b.Xb(32,"nb-autocomplete",null,30),b.Cc(34,ga,2,2,"nb-option",26),b.ic(35,"async"),b.Wb(),b.Cc(36,va,2,1,"ng-container",17),b.Wb(),b.Wb(),b.Xb(37,"div",31),b.Xb(38,"div",32),b.Xb(39,"label",33),b.Ec(40,"Po\u0161tanski broj:"),b.Wb(),b.Xb(41,"input",34,35),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),b.Wb(),b.Cc(43,ha,3,2,"ng-container",17),b.Wb(),b.Xb(44,"div",36),b.Xb(45,"label",37),b.Ec(46,"Ulica i broj:"),b.Wb(),b.Xb(47,"input",38,39),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.adresa.ulica=e})),b.Wb(),b.Cc(49,ja,2,1,"ng-container",17),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(50,"div",18),b.Xb(51,"div",21),b.Xb(52,"label",40),b.Ec(53,"Geolokacija Sever(N):"),b.Wb(),b.Xb(54,"input",41,42),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaN=e})),b.Wb(),b.Cc(56,Ea,2,1,"ng-container",17),b.Wb(),b.Xb(57,"div",21),b.Xb(58,"label",43),b.Ec(59,"Geolokacija Istok(E0):"),b.Wb(),b.Xb(60,"input",44,45),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.geolokacijaE=e})),b.Wb(),b.Cc(62,Xa,2,1,"ng-container",17),b.Wb(),b.Wb(),b.Xb(63,"div",18),b.Xb(64,"div",4),b.Xb(65,"label",46),b.Ec(66,"Veli\u010dina skladi\u0161ta:"),b.Wb(),b.Xb(67,"div",0),b.Xb(68,"div",47),b.Xb(69,"input",48,49),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.maxKolicina=e})),b.Wb(),b.Wb(),b.Xb(71,"div",50),b.Xb(72,"button",51),b.Ec(73,"KG"),b.Wb(),b.Wb(),b.Cc(74,Ia,3,2,"ng-container",17),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(21),l=b.uc(23),s=b.uc(31),c=b.uc(33),u=b.uc(42),d=b.uc(48),g=b.uc(55),f=b.uc(61),v=b.uc(70),p=b.hc(2);b.Eb(9),b.nc("ngModel",a.naziv)("maxlength",p.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",p.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",b.qc(67,Oa))("placeholder","Skladiste Tretman #"+t)("required",p.getConfigValue("forms.validation.nazivSkladista.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||p.checkIssues),b.Eb(9),b.nc("ngModel",a.adresa.mesto.opstinaNaziv)("nbAutocomplete",l)("ngModelOptions",b.qc(68,Oa))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(25,63,p.opstine$)),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.mesto.mestoNaziv)("nbAutocomplete",c)("ngModelOptions",b.qc(69,Oa))("required",p.getConfigValue("forms.validation.adresa.required")),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngForOf",b.jc(35,65,p.mesta$)),b.Eb(2),b.nc("ngIf",s.invalid&&s.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.adresa.mesto.postanskiBroj)("maxlength",p.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",p.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",b.qc(70,Oa))("required",p.getConfigValue("forms.validation.postanskiBroj.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(2),b.nc("ngIf",u.invalid&&u.touched||p.checkIssues),b.Eb(4),b.nc("ngModel",a.adresa.ulica)("maxlength",p.getConfigValue("forms.validation.ulica.maxLength"))("minlength",p.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",b.qc(71,Oa))("required",p.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),b.Eb(2),b.nc("ngIf",d.invalid&&d.touched||p.checkIssues),b.Eb(5),b.nc("ngModel",a.geolokacijaN)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",b.qc(72,Oa))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),b.Eb(2),b.nc("ngIf",g.invalid&&g.touched),b.Eb(4),b.nc("ngModel",a.geolokacijaE)("maxlength",p.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",p.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",b.qc(73,Oa))("pattern",p.getConfigValue("forms.validation.geolokacija.pattern"))("required",p.getConfigValue("forms.validation.geolokacija.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),b.Eb(2),b.nc("ngIf",f.invalid&&f.touched),b.Eb(7),b.nc("ngModel",a.maxKolicina)("min",p.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",b.qc(74,Oa))("required",p.getConfigValue("forms.validation.velicinaSkladista.required"))("status",v.dirty?v.invalid?"danger":"success":"basic"),b.Eb(5),b.nc("ngIf",v.invalid&&v.touched||p.checkIssues)}}function Sa(e,n){if(1&e&&(b.Xb(0,"div",8),b.Cc(1,ya,75,75,"div",9),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.skladistaTretman$))}}function qa(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Naziv dozvole je obavezna! "),b.Wb())}function Va(e,n){if(1&e&&(b.Xb(0,"p",53),b.Ec(1),b.Wb()),2&e){var i=b.hc(4);b.Eb(1),b.Gc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function Fa(e,n){if(1&e&&(b.Vb(0),b.Cc(1,qa,2,0,"p",52),b.Cc(2,Va,2,1,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(10);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function wa(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," \u0160ifra dozvole je obavezna! "),b.Wb())}function Da(e,n){if(1&e&&(b.Vb(0),b.Cc(1,wa,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(16);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function xa(e,n){if(1&e&&(b.Xb(0,"nb-option",54),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.nc("value",i),b.Eb(1),b.Fc(i.naziv)}}function Na(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),b.Wb())}function $a(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Na,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(22);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ta(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Datum nastanka dozvole je obavezan! "),b.Wb())}function La(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),b.Wb())}function Pa(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ta,2,0,"p",52),b.Cc(2,La,2,0,"p",52),b.Ub()),2&e){var i=b.hc().$implicit,a=b.uc(30),t=b.hc(2);b.Eb(1),b.nc("ngIf",null==a.errors?null:a.errors.required),b.Eb(1),b.nc("ngIf",!t.dateValid(i))}}function _a(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Datum isteka dozvole je obavezan! "),b.Wb())}function Ba(e,n){if(1&e&&(b.Vb(0),b.Cc(1,_a,2,0,"p",52),b.Ub()),2&e){b.hc();var i=b.uc(38);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ua(e,n){1&e&&(b.Xb(0,"p",53),b.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),b.Wb())}function Ra(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ua,2,0,"p",52),b.Ub()),2&e){var i=b.hc().$implicit;b.Eb(1),b.nc("ngIf",i.listaOtpada.length<1)}}function Aa(e,n){if(1&e){var i=b.Yb();b.Xb(0,"div",4),b.Xb(1,"form",10,55),b.fc("change",(function(e){return b.wc(i),b.hc(2).validateTreatment(e)})),b.Xb(3,"nb-card",56),b.Xb(4,"nb-card-body"),b.Xb(5,"div",0),b.Xb(6,"div",57),b.Xb(7,"label",58),b.Ec(8,"Naziv Dozvole:"),b.Wb(),b.Xb(9,"input",59,60),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(11,Fa,3,2,"ng-container",17),b.Wb(),b.Xb(12,"div",61),b.Xb(13,"label",62),b.Ec(14,"\u0160ifra Dozvole:"),b.Wb(),b.Xb(15,"input",63,64),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.sifra=e})),b.Wb(),b.Cc(17,Da,2,1,"ng-container",17),b.Wb(),b.Xb(18,"div",61),b.Xb(19,"label",65),b.Ec(20,"Odaberi postrojenje:"),b.Wb(),b.Xb(21,"nb-select",66,67),b.fc("selectedChange",(function(e){b.wc(i);var a=n.$implicit;return b.hc(2).setAdresa(a,e)}))("ngModelChange",(function(e){return b.wc(i),n.$implicit.skladistaTretman=e})),b.Cc(23,xa,2,2,"nb-option",26),b.ic(24,"async"),b.Wb(),b.Cc(25,$a,2,1,"ng-container",17),b.Wb(),b.Xb(26,"div",21),b.Xb(27,"label",68),b.Ec(28,"Datum izdavanja dozvole:"),b.Wb(),b.Xb(29,"input",69,70),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumNastanka=e})),b.Wb(),b.Sb(31,"nb-datepicker",71,72),b.Cc(33,Pa,3,2,"ng-container",17),b.Wb(),b.Xb(34,"div",21),b.Xb(35,"label",73),b.Ec(36,"Datum isteka dozvole:"),b.Wb(),b.Xb(37,"input",74,75),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.datumTrajanja=e})),b.Wb(),b.Sb(39,"nb-datepicker",71,76),b.Cc(41,Ba,2,1,"ng-container",17),b.Wb(),b.Xb(42,"div",77),b.Xb(43,"button",78),b.fc("click",(function(){b.wc(i);var e=n.$implicit;return b.hc(2).chooseDozvola(e)})),b.Ec(44,"Odaberi otpade "),b.Wb(),b.Cc(45,Ra,2,1,"ng-container",17),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=n.$implicit,t=n.index,o=b.uc(10),r=b.uc(16),l=b.uc(22),s=b.uc(30),c=b.uc(32),u=b.uc(38),d=b.uc(40),g=b.hc(2);b.Eb(9),b.pc("placeholder","Dozvola Tretman #",t,""),b.nc("ngModel",a.naziv)("ngModelOptions",b.qc(38,Oa))("required",g.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",g.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",g.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.sifra)("ngModelOptions",b.qc(39,Oa))("required",g.getConfigValue("forms.validation.sifraDozvole.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.skladistaTretman)("ngModelOptions",b.qc(40,Oa))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Eb(2),b.nc("ngForOf",b.jc(24,36,g.skladistaTretman$)),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumNastanka)("nbDatepicker",c)("ngModelOptions",b.qc(41,Oa))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(4),b.nc("ngIf",!g.dateValid(a)||g.checkIssues),b.Eb(4),b.nc("ngModel",a.datumTrajanja)("nbDatepicker",d)("ngModelOptions",b.qc(42,Oa))("required",g.getConfigValue("forms.validation.datum.required"))("status",g.dateValid(a)?"success":"danger"),b.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),b.Eb(4),b.nc("ngIf",u.invalid&&u.touched||g.checkIssues),b.Eb(2),b.nc("disabled",""===a.sifra),b.Eb(2),b.nc("ngIf",g.checkIssues)}}function Ga(e,n){if(1&e&&(b.Xb(0,"div",8),b.Cc(1,Aa,46,43,"div",9),b.ic(2,"async"),b.Wb()),2&e){var i=b.hc();b.Eb(1),b.nc("ngForOf",b.jc(2,1,i.dozvole$))}}var Ka,Za=((Ka=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=a,this.router=t,this.valid=!1,this.checkIssues=!1,this.brojSkladistaTretman=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladistaTretman&&(e.brojSkladistaTretman=e.firma.skladistaTretman.length,e.skladistaTretman=e.firma.skladistaTretman,e.skladistaTretman$=Object(u.a)(e.skladistaTretman)),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola.filter((function(e){return"tretman"===e.vrstaDozvole})),e.dozvole$=Object(u.a)(e.dozvole)))})),this.validateTreatment({}),this.registerService.sendFirma(Object(u.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(D.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(u.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"checkValid",value:function(){return!!this.valid||(this.checkIssues=!0,!1)}},{key:"validateTreatment",value:function(e){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladistaTretman&&(this.valid=this.dozvole.length>0&&this.skladistaTretman.length>0),void 0!==this.dozvole){var n,i=_createForOfIteratorHelper(this.dozvole);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(""===a.naziv||a.naziv.length<3){this.valid=!1;break}if(""===a.sifra){this.valid=!1;break}if(void 0===a.datumTrajanja||void 0===a.datumNastanka){this.valid=!1;break}if(void 0===a.skladistaTretman){this.valid=!1;break}if(a.listaOtpada.length<1){this.valid=!1;break}}}catch(l){i.e(l)}finally{i.f()}}if(void 0!==this.skladistaTretman){var t,o=_createForOfIteratorHelper(this.skladistaTretman);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(""===r.naziv||r.naziv.length<3){this.valid=!1;break}if(r.maxKolicina<1||isNaN(r.maxKolicina)){this.valid=!1;break}if(""===r.adresa.mesto.mestoNaziv||""===r.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===r.adresa.ulica){this.valid=!1;break}}}catch(l){o.e(l)}finally{o.f()}}}},{key:"updateDozvolaForm",value:function(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter((function(e){return"tretman"!==e.vrstaDozvole}))),this.dozvole=new Array(this.brojSkladistaTretman);for(var e=0;e<this.brojSkladistaTretman;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"tretman"};this.skladistaTretman=new Array(this.brojSkladistaTretman);for(var n=0;n<this.brojSkladistaTretman;n++)this.skladistaTretman[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:""};this.firma.skladistaTretman=this.skladistaTretman,this.skladistaTretman$=Object(u.a)(this.skladistaTretman),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(u.a)(this.dozvole),this.validateTreatment({})}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(u.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(u.a)(e),n.getMesta(e[0])})):this.opstine$=Object(u.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(u.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}},{key:"setAdresa",value:function(e,n){e.adresa=n.adresa}},{key:"dateValid",value:function(e){return e.datumNastanka<=e.datumTrajanja}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return!(!isNaN(e)&&void 0!==e)}))}]),e}()).\u0275fac=function(e){return new(e||Ka)(b.Rb(j.a),b.Rb(m),b.Rb(p),b.Rb(s.c))},Ka.\u0275cmp=b.Lb({type:Ka,selectors:[["ngx-tretman"]],decls:16,vars:6,consts:[[1,"row"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"col-12"],["fullWidth","","min","1","name","brojSkladista","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],[3,"change"],["storageTreatmentForm","ngForm"],["accent","info",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["autofocus","","fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["format","dd/MM/yyyy"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"form",2,3),b.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),b.Xb(4,"div",0),b.Xb(5,"div",4),b.Xb(6,"label",4),b.Ec(7,"Broj skladi\u0161ta za tretman:"),b.Wb(),b.Xb(8,"input",5),b.fc("ngModelChange",(function(e){return n.brojSkladistaTretman=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"div",0),b.Xb(10,"div",4),b.Xb(11,"button",6),b.Ec(12,"Odaberi"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(13),b.Wb(),b.Cc(14,Sa,3,3,"div",7),b.Cc(15,Ga,3,3,"div",7)),2&e&&(b.Eb(8),b.nc("ngModel",n.brojSkladistaTretman)("ngModelOptions",b.qc(5,Oa)),b.Eb(5),b.Gc(" ",n.valid,"\n"),b.Eb(1),b.nc("ngIf",n.brojSkladistaTretman>0),b.Eb(1),b.nc("ngIf",n.brojSkladistaTretman>0))},directives:[l.w,l.l,l.m,W.O,l.p,l.b,l.k,l.n,W.t,r.n,r.m,W.w,W.v,l.f,l.g,l.s,W.ob,W.r,W.q,l.q,W.db,W.nb,W.H,W.G],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Ka);function Ya(e,n){1&e&&(b.Xb(0,"div"),b.Sb(1,"ngx-proizvodnja"),b.Wb())}function Ha(e,n){1&e&&(b.Xb(0,"div"),b.Sb(1,"ngx-transport"),b.Wb())}function Ja(e,n){1&e&&(b.Xb(0,"div"),b.Sb(1,"ngx-tretman"),b.Wb())}function Qa(e,n){1&e&&(b.Xb(0,"div"),b.Sb(1,"ngx-odlaganje"),b.Wb())}function et(e,n){1&e&&(b.Xb(0,"div"),b.Sb(1,"ngx-skladistenje"),b.Wb())}var nt,it=((nt=function(){function e(n,i,a){_classCallCheck(this,e),this.registerService=n,this.router=i,this.toastrService=a,this.valid=!1,this.proizvodnja=!1,this.transport=!1,this.tretman=!1,this.odlaganje=!1,this.skladistenje=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperacije().pipe(Object(D.a)()).subscribe((function(n){e.operacije=n})),this.findOperations()}},{key:"validateInformation",value:function(){this.valid=!0,void 0!==this.productionRef&&this.proizvodnja&&(this.productionRef.checkValid()||(this.valid=!1)),void 0!==this.transportRef&&this.transport&&(this.transportRef.checkValid()||(this.valid=!1)),void 0!==this.treatmentRef&&this.tretman&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.odlaganje&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.storageRef&&this.skladistenje&&(this.storageRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-potvrda"]):this.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning")}},{key:"showToast",value:function(e,n,i){this.toastrService.show(n,e,{status:i})}},{key:"findOperations",value:function(){var e=this;this.operacije.forEach((function(n){n.startsWith("Proizvodnja")&&(e.proizvodnja=!0),n.startsWith("Transport")&&(e.transport=!0),n.startsWith("Tretman")&&(e.tretman=!0),n.startsWith("Odlaganje")&&(e.odlaganje=!0),n.startsWith("Skladi\u0161tenje")&&(e.skladistenje=!0)}))}}]),e}()).\u0275fac=function(e){return new(e||nt)(b.Rb(m),b.Rb(s.c),b.Rb(W.Db))},nt.\u0275cmp=b.Lb({type:nt,selectors:[["ngx-register-informacije"]],viewQuery:function(e,n){var i;1&e&&(b.Kc(Gn,!0),b.Kc(ra,!0),b.Kc(Za,!0),b.Kc(Wn,!0),b.Kc(xi,!0)),2&e&&(b.tc(i=b.gc())&&(n.productionRef=i.first),b.tc(i=b.gc())&&(n.transportRef=i.first),b.tc(i=b.gc())&&(n.treatmentRef=i.first),b.tc(i=b.gc())&&(n.dumpRef=i.first),b.tc(i=b.gc())&&(n.storageRef=i.first))},decls:17,vars:5,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-operacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Potvrda"]],template:function(e,n){1&e&&(b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Sb(3,"nb-step",2),b.Sb(4,"nb-step",3),b.Sb(5,"nb-step",4),b.Xb(6,"nb-step",5),b.Cc(7,Ya,2,0,"div",6),b.Cc(8,Ha,2,0,"div",6),b.Cc(9,Ja,2,0,"div",6),b.Cc(10,Qa,2,0,"div",6),b.Cc(11,et,2,0,"div",6),b.Xb(12,"button",7),b.Ec(13," Nazad "),b.Wb(),b.Xb(14,"button",8),b.fc("click",(function(){return n.validateInformation()})),b.Ec(15," Dalje "),b.Wb(),b.Wb(),b.Sb(16,"nb-step",9),b.Wb()),2&e&&(b.Eb(7),b.nc("ngIf",n.proizvodnja),b.Eb(1),b.nc("ngIf",n.transport),b.Eb(1),b.nc("ngIf",n.tretman),b.Eb(1),b.nc("ngIf",n.odlaganje),b.Eb(1),b.nc("ngIf",n.skladistenje))},directives:[W.ub,W.tb,r.n,W.t,s.d,Gn,ra,Za,Wn,xi],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),nt);function at(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Ime je obavezno! "),b.Wb())}function tt(e,n){if(1&e&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.ime.minLength")," ")}}function ot(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Ime mora biti validno! "),b.Wb())}function rt(e,n){if(1&e&&(b.Vb(0),b.Cc(1,at,2,0,"p",37),b.Cc(2,tt,2,1,"p",37),b.Cc(3,ot,2,0,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(11);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function lt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Prezime je obavezno! "),b.Wb())}function st(e,n){if(1&e&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Prezime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.prezime.minLength")," ")}}function ct(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Prezime mora biti validno! "),b.Wb())}function ut(e,n){if(1&e&&(b.Vb(0),b.Cc(1,lt,2,0,"p",37),b.Cc(2,st,2,1,"p",37),b.Cc(3,ct,2,0,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(17);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.minlength),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function dt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Korisni\u010dko ime je obavezno! "),b.Wb())}function bt(e,n){if(1&e&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" Korisni\u010dko ime mora biti du\u017ee od ",i.getConfigValue("forms.validation.korisnickoIme.minLength"),"! ")}}function gt(e,n){if(1&e&&(b.Vb(0),b.Cc(1,dt,2,0,"p",37),b.Cc(2,bt,2,1,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(24);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ft(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Telefon je obavezan! "),b.Wb())}function vt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Telefon mora biti validan! "),b.Wb())}function pt(e,n){if(1&e&&(b.Vb(0),b.Cc(1,ft,2,0,"p",37),b.Cc(2,vt,2,0,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(30);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function mt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Email je obavezan! "),b.Wb())}function ht(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Email mora biti validan! "),b.Wb())}function kt(e,n){if(1&e&&(b.Vb(0),b.Cc(1,mt,2,0,"p",37),b.Cc(2,ht,2,0,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(37);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function jt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," \u0160ifra je obavezna! "),b.Wb())}function Wt(e,n){if(1&e&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&e){var i=b.hc(2);b.Eb(1),b.Gc(" \u0160ifra ne sme biti kra\u0107a od ",i.getConfigValue("forms.validation.password.minLength"),"! ")}}function Et(e,n){if(1&e&&(b.Vb(0),b.Cc(1,jt,2,0,"p",37),b.Cc(2,Wt,2,1,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(44);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ct(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," Ponovna \u0161ifra je obavezna! "),b.Wb())}function Xt(e,n){1&e&&(b.Xb(0,"p",38),b.Ec(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),b.Wb())}function zt(e,n){if(1&e&&(b.Vb(0),b.Cc(1,Ct,2,0,"p",37),b.Cc(2,Xt,2,0,"p",37),b.Ub()),2&e){b.hc();var i=b.uc(50),a=b.uc(44);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",a.value!==i.value)}}function Mt(e,n){1&e&&(b.Xb(0,"div"),b.Ec(1," Ako se bavite tretmanom otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) "),b.Wb())}function It(e,n){if(1&e&&(b.Xb(0,"button",29),b.Ec(1),b.Wb()),2&e){var i=n.$implicit;b.Eb(1),b.Fc(i)}}var Ot,yt,St,qt,Vt,Ft=[{path:"",component:j.c,children:[{path:"login",component:F},{path:"register-korisnik",component:(St=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.router=a,this.toastrService=t,this.checkIssues=!1,this.korisnik={_id:"",ime:"",prezime:"",korisnickoIme:"",sifra:"",email:"",telefon:"",uloga:"menadzer"}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getKorisnik().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.korisnik=n)})),this.registerService.sendKorisnik(Object(u.a)(this.korisnik))}},{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"validateUser",value:function(e){e.valid&&this.reSifra===this.korisnik.sifra?this.router.navigate(["auth/register-firma"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}},{key:"showToast",value:function(e,n,i){this.toastrService.show(n,e,{status:i})}}]),e}(),St.\u0275fac=function(e){return new(e||St)(b.Rb(j.a),b.Rb(m),b.Rb(s.c),b.Rb(W.Db))},St.\u0275cmp=b.Lb({type:St,selectors:[["ngx-register-korisnik"]],decls:63,vars:48,consts:[[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["userForm","ngForm"],[1,"row","mb-2"],[1,"col-6"],["for","input-ime",1,"label"],["autofocus","","fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],[1,"col-12"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","type","password",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["password","ngModel"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","type","password",3,"ngModel","required","status","ngModelChange"],["rePass","ngModel"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],[1,"container-fluid"],["aria-label","Uloguj se",1,"text-center","my-2"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var i=b.Yb();b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Xb(3,"nb-step",2),b.Xb(4,"form",null,3),b.Xb(6,"div",4),b.Xb(7,"div",5),b.Xb(8,"label",6),b.Ec(9,"Ime:"),b.Wb(),b.Xb(10,"input",7,8),b.fc("ngModelChange",(function(e){return n.korisnik.ime=e})),b.Wb(),b.Cc(12,rt,4,3,"ng-container",9),b.Wb(),b.Xb(13,"div",5),b.Xb(14,"label",10),b.Ec(15,"Prezime:"),b.Wb(),b.Xb(16,"input",11,12),b.fc("ngModelChange",(function(e){return n.korisnik.prezime=e})),b.Wb(),b.Cc(18,ut,4,3,"ng-container",9),b.Wb(),b.Wb(),b.Xb(19,"div",4),b.Xb(20,"div",5),b.Xb(21,"label",13),b.Ec(22,"Korisni\u010dko ime:"),b.Wb(),b.Xb(23,"input",14,15),b.fc("ngModelChange",(function(e){return n.korisnik.korisnickoIme=e})),b.Wb(),b.Cc(25,gt,3,2,"ng-container",9),b.Wb(),b.Xb(26,"div",5),b.Xb(27,"label",16),b.Ec(28,"Telefon:"),b.Wb(),b.Xb(29,"input",17,18),b.fc("ngModelChange",(function(e){return n.korisnik.telefon=e})),b.Wb(),b.Cc(31,pt,3,2,"ng-container",9),b.Wb(),b.Wb(),b.Xb(32,"div",4),b.Xb(33,"div",19),b.Xb(34,"label",20),b.Ec(35,"Email:"),b.Wb(),b.Xb(36,"input",21,22),b.fc("ngModelChange",(function(e){return n.korisnik.email=e})),b.Wb(),b.Cc(38,kt,3,2,"ng-container",9),b.Wb(),b.Wb(),b.Xb(39,"div",4),b.Xb(40,"div",5),b.Xb(41,"label",23),b.Ec(42,"\u0160ifra:"),b.Wb(),b.Xb(43,"input",24,25),b.fc("ngModelChange",(function(e){return n.korisnik.sifra=e})),b.Wb(),b.Cc(45,Et,3,2,"ng-container",9),b.Wb(),b.Xb(46,"div",5),b.Xb(47,"label",26),b.Ec(48,"Ponovi \u0161ifru:"),b.Wb(),b.Xb(49,"input",27,28),b.fc("ngModelChange",(function(e){return n.reSifra=e})),b.Wb(),b.Cc(51,zt,3,2,"ng-container",9),b.Wb(),b.Wb(),b.Xb(52,"button",29),b.fc("click",(function(){b.wc(i);var e=b.uc(5);return n.validateUser(e)})),b.Ec(53," Dalje "),b.Wb(),b.Wb(),b.Wb(),b.Sb(54,"nb-step",30),b.Sb(55,"nb-step",31),b.Sb(56,"nb-step",32),b.Sb(57,"nb-step",33),b.Wb(),b.Xb(58,"div",34),b.Xb(59,"section",35),b.Ec(60," Ve\u0107 imate nalog? "),b.Xb(61,"a",36),b.Ec(62,"Uloguj se"),b.Wb(),b.Wb(),b.Wb()}if(2&e){var a=b.uc(11),t=b.uc(17),o=b.uc(24),r=b.uc(30),l=b.uc(37),s=b.uc(44),c=b.uc(50);b.Eb(10),b.nc("ngModel",n.korisnik.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.invalid&&a.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.korisnik.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.korisnik.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),b.Eb(2),b.nc("ngIf",o.invalid&&o.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.korisnik.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),b.Eb(2),b.nc("ngIf",r.invalid&&r.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.korisnik.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched||n.checkIssues),b.Eb(5),b.nc("ngModel",n.korisnik.sifra)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),b.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),b.Eb(2),b.nc("ngIf",s.invalid&&s.touched||n.checkIssues),b.Eb(4),b.nc("ngModel",n.reSifra)("required",n.getConfigValue("forms.validation.password.required"))("status",c.dirty?c.invalid||s.value!==c.value?"danger":"success":"basic"),b.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),b.Eb(2),b.nc("ngIf",c.invalid&&s.touched||n.checkIssues)}},directives:[W.ub,W.tb,l.w,l.l,l.m,W.O,l.b,l.k,l.n,l.f,l.g,l.q,l.s,r.n,W.t,s.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),St)},{path:"register-firma",component:ye},{path:"register-operacije",component:(yt=function(){function e(n,i,a){_classCallCheck(this,e),this.registerService=n,this.toastrService=i,this.router=a,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.brOT=0,this.brPTO=0,this.brATO=0,this.brVODA=0,this.brVAZDUH=0,this.operacije=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperacije().pipe(Object(D.a)()).subscribe((function(n){void 0!==n&&(e.operacije=n,e.updateOperacije())})),this.registerService.sendOperacije(Object(u.a)(this.operacije))}},{key:"validateOperations",value:function(){this.operacije.length>0?this.router.navigate(["auth/register-informacije"]):this.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}},{key:"showToast",value:function(e,n,i){this.toastrService.show(n,e,{status:i})}},{key:"brojOtpad",value:function(){return this.brOT.toString()}},{key:"updateOperacije",value:function(){this.brOT=this.operacije.length}},{key:"addTreatmentOperacija",value:function(e,n,i){this.addOperacija(e,n),i.setDisabledState(!i.disabled),i.checked&&i.disabled||(i.checked=!i.checked),e.includes("Neopasnog")?this.addOperacija("Proizvodnja Neopasnog Otpada",n):this.addOperacija("Proizvodnja Opasnog Otpada",n)}},{key:"addOperacija",value:function(e,n){n?((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT++,this.operacije.push(e)):((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT--,this.operacije.splice(this.operacije.findIndex((function(n){return n===e})),1))}}]),e}(),yt.\u0275fac=function(e){return new(e||yt)(b.Rb(m),b.Rb(W.Db),b.Rb(s.c))},yt.\u0275cmp=b.Lb({type:yt,selectors:[["ngx-register-operacije"]],decls:52,vars:18,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],["multi",""],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["TretmanNeopasnogOtpada",""],[4,"ngIf"],["responsive","true","tabTitle","Posebni tokovi otpada",3,"tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["nbButton","","fullWidth","","status","danger","routerLink","../register-firma",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"]],template:function(e,n){if(1&e){var i=b.Yb();b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Xb(3,"nb-step",2),b.Ec(4,"Test"),b.Wb(),b.Sb(5,"nb-step",3),b.Xb(6,"nb-step",4),b.Xb(7,"div",5),b.Xb(8,"nb-tabset"),b.Xb(9,"nb-tab",6),b.Xb(10,"nb-accordion",7),b.Xb(11,"nb-accordion-item"),b.Xb(12,"nb-accordion-item-header"),b.Ec(13,"Neopasan otpad"),b.Wb(),b.Xb(14,"nb-accordion-item-body"),b.Xb(15,"nb-toggle",8,9),b.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Neopasnog Otpada",e)})),b.Ec(17,"Proizvodnja "),b.Wb(),b.Xb(18,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Transport Neopasnog Otpada",e)})),b.Ec(19,"Transport "),b.Wb(),b.Xb(20,"nb-toggle",10,11),b.fc("checkedChange",(function(e){b.wc(i);var a=b.uc(16);return n.addTreatmentOperacija("Tretman Neopasnog Otpada",e,a)})),b.Ec(22,"Tretman "),b.Wb(),b.Xb(23,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Neopasnog Otpada",e)})),b.Ec(24,"Odlaganje "),b.Wb(),b.Xb(25,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Neopasnog Otpada",e)})),b.Ec(26," Skladi\u0161tenje "),b.Wb(),b.Cc(27,Mt,2,0,"div",12),b.Wb(),b.Wb(),b.Xb(28,"nb-accordion-item"),b.Xb(29,"nb-accordion-item-header"),b.Ec(30,"Opasan otpad"),b.Wb(),b.Xb(31,"nb-accordion-item-body"),b.Xb(32,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Opasnog Otpada",e)})),b.Ec(33,"Proizvodnja "),b.Wb(),b.Xb(34,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Transport Opasnog Otpada",e)})),b.Ec(35,"Transport "),b.Wb(),b.Xb(36,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Tretman Opasnog Otpada",e)})),b.Ec(37,"Tretman "),b.Wb(),b.Xb(38,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Opasnog Otpada",e)})),b.Ec(39,"Odlaganje "),b.Wb(),b.Xb(40,"nb-toggle",10),b.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Opasnog Otpada",e)})),b.Ec(41," Skladi\u0161tenje "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Sb(42,"nb-tab",13),b.Sb(43,"nb-tab",14),b.Sb(44,"nb-tab",15),b.Sb(45,"nb-tab",16),b.Wb(),b.Wb(),b.Xb(46,"button",17),b.Ec(47," Nazad "),b.Wb(),b.Xb(48,"button",18),b.fc("click",(function(){return n.validateOperations()})),b.Ec(49," Dalje "),b.Wb(),b.Wb(),b.Sb(50,"nb-step",19),b.Sb(51,"nb-step",20),b.Wb()}if(2&e){var a=b.uc(16),t=b.uc(21);b.Eb(9),b.nc("badgeText",n.brojOtpad())("tabIcon",n.trashIco),b.Eb(6),b.nc("checked",n.operacije.includes("Proizvodnja Neopasnog Otpada"))("disabled",t.checked),b.Eb(3),b.nc("checked",n.operacije.includes("Transport Neopasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Tretman Neopasnog Otpada")),b.Eb(3),b.nc("checked",n.operacije.includes("Odlaganje Neopasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Skladi\u0161tenje Neopasnog Otpada")),b.Eb(2),b.nc("ngIf",a.disabled),b.Eb(5),b.nc("checked",n.operacije.includes("Proizvodnja Opasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Transport Opasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Tretman Opasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Odlaganje Opasnog Otpada")),b.Eb(2),b.nc("checked",n.operacije.includes("Skladi\u0161tenje Opasnog Otpada")),b.Eb(2),b.nc("tabIcon",n.carBatteryIco),b.Eb(1),b.nc("tabIcon",n.recyleIco),b.Eb(1),b.nc("tabIcon",n.waterIco),b.Eb(1),b.nc("tabIcon",n.airIco)}},directives:[W.ub,W.tb,W.yb,W.xb,W.g,W.i,W.j,W.h,W.Eb,r.n,W.t,s.d],styles:[""]}),yt)},{path:"register-informacije",component:it},{path:"register-dozvola",component:$},{path:"register-potvrda",component:(Ot=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,i),(a=n.call(this,e,t,o,r)).service=e,a.options=t,a.cd=o,a.router=r,a.registerService=l,a.redirectDelay=0,a.showMessages=[],a.strategy="",a.submitted=!1,a.errors=[],a.messages=[],a.redirectDelay=a.getConfigValue("forms.register.redirectDelay"),a.showMessages=a.getConfigValue("forms.register.showMessages"),a.strategy=a.getConfigValue("forms.register.strategy"),a}return _createClass(i,[{key:"getConfigValue",value:function(e){return Object(j.n)(this.options,e,null)}},{key:"ngAfterViewInit",value:function(){this.operacije$=this.registerService.getOperacije(),this.firma$=this.registerService.getFirma(),this.korisnik$=this.registerService.getKorisnik()}},{key:"register",value:function(){var e,n=this;this.errors=this.messages=[],this.submitted=!0,this.korisnik$.subscribe((function(n){e=n})),this.firma$.subscribe((function(n){e.firma=n})),this.service.register(this.strategy,e).subscribe((function(e){n.submitted=!1,e.isSuccess()?n.messages=e.getMessages():n.errors=e.getErrors();var i=e.getRedirect();i&&setTimeout((function(){return n.router.navigateByUrl(i)}),n.redirectDelay),n.cd.detectChanges()}))}}]),i}(j.k),Ot.\u0275fac=function(e){return new(e||Ot)(b.Rb(j.g),b.Rb(j.a),b.Rb(b.h),b.Rb(s.c),b.Rb(m))},Ot.\u0275cmp=b.Lb({type:Ot,selectors:[["ngx-register-potvrda"]],features:[b.Bb],decls:164,vars:60,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(b.Xb(0,"h1",0),b.Ec(1,"Registruj se!"),b.Wb(),b.Xb(2,"nb-stepper",1),b.Xb(3,"nb-step",2),b.Ec(4,"Test"),b.Wb(),b.Sb(5,"nb-step",3),b.Sb(6,"nb-step",4),b.Sb(7,"nb-step",5),b.Xb(8,"nb-step",6),b.Xb(9,"div",7),b.Xb(10,"div",8),b.Xb(11,"div",9),b.Xb(12,"h5"),b.Ec(13,"Korisnik:"),b.Wb(),b.Wb(),b.Xb(14,"div",9),b.Xb(15,"div",10),b.Xb(16,"label",11),b.Ec(17,"Ime:"),b.Wb(),b.Wb(),b.Xb(18,"div",10),b.Xb(19,"button",12),b.Ec(20),b.ic(21,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(22,"div",9),b.Xb(23,"div",10),b.Xb(24,"label",11),b.Ec(25,"Prezime:"),b.Wb(),b.Wb(),b.Xb(26,"div",10),b.Xb(27,"button",12),b.Ec(28),b.ic(29,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(30,"div",9),b.Xb(31,"div",10),b.Xb(32,"label",11),b.Ec(33,"Telefon:"),b.Wb(),b.Wb(),b.Xb(34,"div",10),b.Xb(35,"button",12),b.Ec(36),b.ic(37,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(38,"div",9),b.Xb(39,"div",10),b.Xb(40,"label",11),b.Ec(41,"Email:"),b.Wb(),b.Wb(),b.Xb(42,"div",10),b.Xb(43,"button",12),b.Ec(44),b.ic(45,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(46,"div",9),b.Xb(47,"div",10),b.Xb(48,"label",11),b.Ec(49,"Korisni\u010dko ime:"),b.Wb(),b.Wb(),b.Xb(50,"div",10),b.Xb(51,"button",12),b.Ec(52),b.ic(53,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(54,"div",9),b.Xb(55,"h5"),b.Ec(56,"Rad firme:"),b.Wb(),b.Wb(),b.Xb(57,"div",9),b.Xb(58,"div",10),b.Cc(59,It,2,1,"button",13),b.ic(60,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(61,"div",14),b.Xb(62,"div",10),b.Xb(63,"div",9),b.Xb(64,"h5"),b.Ec(65,"Firma:"),b.Wb(),b.Wb(),b.Xb(66,"div",9),b.Xb(67,"div",10),b.Xb(68,"label",11),b.Ec(69,"Naziv:"),b.Wb(),b.Wb(),b.Xb(70,"div",10),b.Xb(71,"button",15),b.Ec(72),b.ic(73,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(74,"div",9),b.Xb(75,"div",16),b.Xb(76,"label",11),b.Ec(77,"PIB:"),b.Wb(),b.Wb(),b.Xb(78,"div",16),b.Xb(79,"label",11),b.Ec(80,"Mati\u010dni broj:"),b.Wb(),b.Wb(),b.Xb(81,"div",16),b.Xb(82,"button",15),b.Ec(83),b.ic(84,"async"),b.Wb(),b.Wb(),b.Xb(85,"div",16),b.Xb(86,"button",15),b.Ec(87),b.ic(88,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(89,"div",9),b.Xb(90,"div",10),b.Xb(91,"label",11),b.Ec(92,"Adresa:"),b.Wb(),b.Xb(93,"button",15),b.Ec(94),b.ic(95,"async"),b.ic(96,"async"),b.ic(97,"async"),b.ic(98,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(99,"div",9),b.Xb(100,"div",10),b.Xb(101,"label",11),b.Ec(102,"Delatnost:"),b.Wb(),b.Wb(),b.Xb(103,"div",10),b.Xb(104,"button",15),b.Ec(105),b.ic(106,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(107,"div",9),b.Xb(108,"div",16),b.Xb(109,"label",11),b.Ec(110,"Email:"),b.Wb(),b.Wb(),b.Xb(111,"div",16),b.Xb(112,"label",11),b.Ec(113,"Telefon:"),b.Wb(),b.Wb(),b.Xb(114,"div",17),b.Xb(115,"button",15),b.Xb(116,"p",18),b.Ec(117),b.ic(118,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(119,"div",17),b.Xb(120,"button",15),b.Ec(121),b.ic(122,"async"),b.Wb(),b.Wb(),b.Xb(123,"div",16),b.Xb(124,"label",11),b.Ec(125,"Email za prijem dokumenata:"),b.Wb(),b.Wb(),b.Xb(126,"div",16),b.Xb(127,"label",11),b.Ec(128,"Faks:"),b.Wb(),b.Wb(),b.Xb(129,"div",16),b.Xb(130,"button",15),b.Xb(131,"p",18),b.Ec(132),b.ic(133,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(134,"div",16),b.Xb(135,"button",15),b.Ec(136),b.ic(137,"async"),b.ic(138,"async"),b.Wb(),b.Wb(),b.Wb(),b.Xb(139,"div",9),b.Xb(140,"div",10),b.Xb(141,"label",11),b.Ec(142,"Zakonski zastupnik firme:"),b.Wb(),b.Wb(),b.Xb(143,"div",10),b.Xb(144,"button",15),b.Ec(145),b.ic(146,"async"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(147,"form",19),b.fc("ngSubmit",(function(){return n.register()})),b.Xb(148,"button",20),b.Ec(149," Nazad "),b.Wb(),b.Xb(150,"button",21),b.Ec(151," Zavr\u0161i "),b.Wb(),b.Wb(),b.Xb(152,"div",22),b.Xb(153,"div",23),b.Xb(154,"nb-checkbox",24,25),b.Ec(156," Sla\u017eem se sa "),b.Xb(157,"a",26),b.Xb(158,"strong"),b.Ec(159,"Uslovima Kori\u0161\u0107enjima"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(160,"div",23),b.Xb(161,"nb-checkbox",27,28),b.Ec(163,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e){var i,a,t,o,r,l,s,c,u,d,g,f,v,p=b.uc(155),m=b.uc(162),h=null,k=null;b.Eb(20),b.Fc(null==(i=b.jc(21,20,n.korisnik$))?null:i.ime),b.Eb(8),b.Fc(null==(a=b.jc(29,22,n.korisnik$))?null:a.prezime),b.Eb(8),b.Fc(null==(t=b.jc(37,24,n.korisnik$))?null:t.telefon),b.Eb(8),b.Fc(null==(o=b.jc(45,26,n.korisnik$))?null:o.email),b.Eb(8),b.Fc(null==(r=b.jc(53,28,n.korisnik$))?null:r.korisnickoIme),b.Eb(7),b.nc("ngForOf",b.jc(60,30,n.operacije$)),b.Eb(13),b.Fc(null==(l=b.jc(73,32,n.firma$))?null:l.naziv),b.Eb(11),b.Fc(null==(s=b.jc(84,34,n.firma$))?null:s.pib),b.Eb(4),b.Fc(null==(c=b.jc(88,36,n.firma$))?null:c.mat),b.Eb(7),b.Ic(" ",null==(h=b.jc(95,38,n.firma$))?null:h.adresa.mesto.opstinaNaziv,", ",null==(h=b.jc(96,40,n.firma$))?null:h.adresa.mesto.mestoNaziv,", ",null==(h=b.jc(97,42,n.firma$))?null:h.adresa.ulica," ",null==(h=b.jc(98,44,n.firma$))?null:h.adresa.mesto.postanskiBroj,""),b.Eb(11),b.Fc(null==(u=b.jc(106,46,n.firma$))?null:u.delatnost.naziv),b.Eb(12),b.Fc(null==(d=b.jc(118,48,n.firma$))?null:d.email),b.Eb(4),b.Fc(null==(g=b.jc(122,50,n.firma$))?null:g.telefon),b.Eb(11),b.Fc(null==(f=b.jc(133,52,n.firma$))?null:f.emailPrijem),b.Eb(4),b.Fc(""===(null==(k=b.jc(137,54,n.firma$))?null:k.faks)?"/":null==(k=b.jc(138,56,n.firma$))?null:k.faks),b.Eb(9),b.Fc(null==(v=b.jc(146,58,n.firma$))?null:v.zakonskiZastupnik),b.Eb(5),b.nc("disabled",!(p.checked&&m.checked))}},directives:[W.ub,W.tb,W.t,r.m,l.w,l.l,l.m,s.d,W.B],pipes:[r.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),Ot)},{path:"logout",component:w},{path:"request-password",component:j.l},{path:"reset-password",component:j.m}]}],wt=((Vt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:Vt}),Vt.\u0275inj=b.Ob({factory:function(e){return new(e||Vt)},imports:[[s.g.forChild(Ft)],s.g]}),Vt),Dt=((qt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:qt}),qt.\u0275inj=b.Ob({factory:function(e){return new(e||qt)},providers:[p,f,m,h.a,v.a],imports:[[k.a,r.c,s.g,W.p,W.P,W.u,W.C,wt,W.pb,l.e,W.Fb,W.k,W.zb,W.s,W.vb,W.z,c.c,W.gb,W.I]]}),qt)}}]);