(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(e,i,n){"use strict";n.r(i),n.d(i,"NgxAuthModule",function(){return It});var t=n("ofXK"),a=n("3Pt+"),o=n("tyNb"),r=n("jCJ1"),s=n("RS3s"),c=n("wH5/"),l=n("LRne"),b=n("AytR"),d=n("fXoL"),u=n("tk/3");let p=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=b.a.apiUrl}createOccupation(e){}deleteOccupation(e,i){}getOccupation(e="",i="_id"){return this.http.get(this.apiUrl+"/api/occupation/one/"+`${i}/${e}`)}getOccupations(e="all",i="_id"){return this.http.get(this.apiUrl+"/api/occupation/many/"+`${i}/${e}`)}updateOccupation(e,i,n="_id"){return this.http.patch(this.apiUrl+"/api/occupation/one/"+`${n}/${i}`,e)}filter(e,i){const n=e.toLowerCase();if(void 0!==i)return Object(l.a)(i.filter(e=>e.name.toLowerCase().includes(n)||e.code.includes(n)))}}return e.\u0275fac=function(i){return new(i||e)(d.ac(u.b))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var m=n("ibGe");let g=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.townshipsIsLoaded=!1,this.apiUrl=b.a.apiUrl}createLocation(e){}deleteLocation(e,i){}getLocation(e,i="_id"){return this.http.get(this.apiUrl+"/api/location/one/"+`${i}/${e}`)}getLocations(e="all",i="_id"){return this.http.get(this.apiUrl+"/api/location/many/"+`${i}/${e}`)}updateLocation(e,i,n){return this.http.patch(this.apiUrl+"/api/location/one/"+`${n}/${i}`,e)}getDistinctTownships(){return this.townshipsIsLoaded||(this.townshipNames=this.http.get(this.apiUrl+"/api/location/townships"),this.townshipsIsLoaded=!0),this.townshipNames}getPlacesFromTownship(e){return this.http.get(this.apiUrl+"/api/location/place/"+e)}filter(e,i){const n=e.toLowerCase();if(void 0!==i)return Object(l.a)(i.filter(e=>e.toLowerCase().includes(n)))}}return e.\u0275fac=function(i){return new(i||e)(d.ac(u.b))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var h=n("bS1W"),v=n("fo3O"),f=n("H5EB");let V=(()=>{class e{constructor(e,i,n,t){this.userService=e,this.companyService=i,this.permitService=n,this.vehicleService=t,this.clearData(),Object(d.Z)()&&(this.user={email:"serbiansolutions"+(1e3*Math.random()).toFixed(0)+"@gmail.com",firstName:"Filip",username:"random"+(1e3*Math.random()).toFixed(0),lastName:"Balandzic",password:"nikjan00",phone:(1e10*Math.random()).toFixed(0),role:"manager"},this.company={storages:[],address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"},occupation:{code:"",name:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailReception:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),manager:"random",name:"Test",pib:(1e9*Math.random()).toFixed(0),operations:[],telephone:(1e10*Math.random()).toFixed(0),legalRep:{firstName:"Nikola",lastName:"Jankovic"},nriz:{username:"",password:""},wasteManager:{firstName:"",lastName:""}},this.operations=["Transport Neopasnog Otpada"])}clearData(){this.user={email:"",firstName:"",username:"",lastName:"",password:"",phone:"",role:"manager"},this.company={occupation:{code:"",name:""},address:{location:{townshipCode:0,townshipName:"",placeCode:0,placeName:"",zipCode:""},street:""},email:"",emailReception:"",mat:"",manager:"",name:"",pib:"",operations:[],storages:[],permits:[],telephone:"",legalRep:{firstName:"",lastName:""},wasteManager:{firstName:"",lastName:""},nriz:{username:"",password:""}},this.operations=[],this.permitCode=""}sendPermit(e){this.permitCode$=e,e.subscribe(e=>{this.permitCode=e})}getPermit(){return Object(l.a)(this.permitCode)}sendOperations(e){this.operations$=e,e.subscribe(e=>{this.operations=e})}getOperations(){return Object(l.a)(this.operations)}sendUser(e){this.user$=e,e.subscribe(e=>{this.user=e})}getUser(){return void 0!==this.company&&void 0!==this.user&&(this.user.company=this.company),Object(l.a)(this.user)}sendCompany(e){this.company$=e,e.subscribe(e=>{this.company=e})}getCompany(){if(void 0!==this.company)return void 0!==this.operations&&(this.company.operations=this.operations),void 0!==this.user&&(this.company.manager=this.user.username),Object(l.a)(this.company)}checkUser(e){const i=[];return i.push(this.userService.getUser(e.username,"username").toPromise().then(e=>null===e)),i.push(this.userService.getUser(e.phone,"phone").toPromise().then(e=>null===e)),i.push(this.userService.getUser(e.email,"email").toPromise().then(e=>null===e)),i}checkCompany(e){const i=[];return i.push(this.companyService.getCompany(e.pib,"pib").toPromise().then(e=>null===e)),i.push(this.companyService.getCompany(e.mat,"mat").toPromise().then(e=>null===e)),i.push(this.companyService.getCompany(e.email,"email").toPromise().then(e=>null===e)),i.push(this.companyService.getCompany(e.emailReception,"emailReception").toPromise().then(e=>null===e)),i.push(this.companyService.getCompany(e.telephone,"telephone").toPromise().then(e=>null===e)),i.push(""===e.nriz.username||this.companyService.getCompany(e.nriz.username,"nriz.username").toPromise().then(e=>null===e)),i}checkPermits(e){const i=[];for(const n of e)i.push(this.permitService.getPermit(n.code,"code").toPromise().then(e=>null===e).catch(e=>!0));return i}checkVehicles(e){const i=[];for(const n of e)i.push(this.vehicleService.getVehicle(n.licensePlate,"licensePlate").toPromise().then(e=>null===e));return i}}return e.\u0275fac=function(i){return new(i||e)(d.ac(v.a),d.ac(c.a),d.ac(h.a),d.ac(f.a))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var k=n("vTDv"),W=n("McNs");let j=(()=>{class e{constructor(e){this.router=e}ngOnInit(){setTimeout(()=>{this.router.navigate(["login"])},3e3)}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(o.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-email-confirmation"]],decls:7,vars:0,consts:[[1,"text-center"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],[1,"text-muted"]],template:function(e,i){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Rb(2,"img",2),d.Vb(),d.Wb(3,"h1"),d.Fc(4,"Uspe\u0161no ste aktivirali Va\u0161 nalog!"),d.Vb(),d.Wb(5,"h5",3),d.Fc(6,"Automatski \u0107emo vas prebaciti na login stranicu..."),d.Vb(),d.Vb())},styles:[""]}),e})();var y=n("7wOV"),I=n("aceb");function F(e,i){1&e&&(d.Wb(0,"p",14),d.Fc(1," Morate upisati email! "),d.Vb())}function C(e,i){1&e&&(d.Wb(0,"p",15),d.Fc(1," Email mora biti validan! "),d.Vb())}function E(e,i){if(1&e&&(d.Ub(0),d.Dc(1,F,2,0,"p",12),d.Dc(2,C,2,0,"p",13),d.Tb()),2&e){d.hc();const e=d.vc(10);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}let w=(()=>{class e extends W.l{constructor(e,i={},n,t,a){super(e,i,n,t),this.service=e,this.options=i,this.cd=n,this.router=t,this.toastrService=a,this.email="",this.strategy=this.getConfigValue("forms.login.strategy")}sendEmail(e){e.invalid?this.toastrService.showToast("Gre\u0161ka","Popravite gre\u0161ke.","warning"):this.service.requestPassword(this.strategy,{email:this.email}).subscribe(e=>{e.isSuccess()?this.router.navigate(["login"]):this.toastrService.showToast("Gre\u0161ka","Do\u0161lo je do gre\u0161ke, poku\u0161ajte kasnije.","warning")},e=>{this.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte kasnije.","warning")})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(W.a),d.Qb(d.h),d.Qb(o.c),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["forgot-password"]],features:[d.Bb],decls:16,vars:6,consts:[[1,"align-self-center","text-center"],[1,"mb-1"],["for","input-email",1,"text-muted"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailInput","ngModel"],[4,"ngIf"],[1,"row","mt-3","d-flex","justify-content-center"],["status","primary","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message text-left mt-1 mb-0",4,"ngIf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","text-left","mt-1","mb-0"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"h1",1),d.Fc(2,"Zaboravljena lozinka:"),d.Vb(),d.Wb(3,"label",2),d.Fc(4,"Upi\u0161ite va\u0161u email adresu i posla\u0107emo Vam link za resetovanje lozinke"),d.Vb(),d.Wb(5,"form",3,4),d.dc("ngSubmit",function(){d.xc(e);const n=d.vc(6);return i.sendEmail(n)}),d.Wb(7,"div",5),d.Wb(8,"div",6),d.Wb(9,"input",7,8),d.dc("ngModelChange",function(e){return i.email=e}),d.Vb(),d.Dc(11,E,3,2,"ng-container",9),d.Vb(),d.Vb(),d.Wb(12,"div",10),d.Wb(13,"div",6),d.Wb(14,"button",11),d.Fc(15,"Po\u0161alji mejl"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(10);d.Eb(9),d.nc("ngModel",i.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(2),d.nc("ngIf",e.invalid&&e.touched)}},directives:[a.v,a.l,a.m,I.T,a.b,a.k,a.n,a.q,a.s,t.n,I.t],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();var z=n("ud2R");function M(e,i){if(1&e&&(d.Wb(0,"li",35),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.Eb(1),d.Gc(e)}}function O(e,i){if(1&e&&(d.Wb(0,"nb-alert",31),d.Wb(1,"p",32),d.Wb(2,"b"),d.Fc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),d.Vb(),d.Vb(),d.Wb(4,"ul",33),d.Dc(5,M,2,1,"li",34),d.Vb(),d.Vb()),2&e){const e=d.hc();d.Eb(5),d.nc("ngForOf",e.errors)}}function N(e,i){if(1&e&&(d.Wb(0,"li",35),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.Eb(1),d.Gc(e)}}function R(e,i){if(1&e&&(d.Wb(0,"nb-alert",36),d.Wb(1,"p",32),d.Wb(2,"b"),d.Fc(3,"Uspesno ste se ulogovali!"),d.Vb(),d.Vb(),d.Wb(4,"ul",33),d.Dc(5,N,2,1,"li",34),d.Vb(),d.Vb()),2&e){const e=d.hc();d.Eb(5),d.nc("ngForOf",e.messages)}}function D(e,i){1&e&&(d.Wb(0,"p",38),d.Fc(1," Email je obavezan! "),d.Vb())}function x(e,i){if(1&e&&(d.Ub(0),d.Dc(1,D,2,0,"p",37),d.Tb()),2&e){d.hc();const e=d.vc(17);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function T(e,i){1&e&&(d.Wb(0,"p",38),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function S(e,i){if(1&e&&(d.Ub(0),d.Dc(1,T,2,0,"p",37),d.Tb()),2&e){d.hc();const e=d.vc(26);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function P(e,i){if(1&e){const e=d.Xb();d.Wb(0,"nb-checkbox",39),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().user.rememberMe=i}),d.Fc(1,"Zapamti me"),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.user.rememberMe)}}let q=(()=>{class e extends W.h{constructor(e,i={},n,t,a){super(e,i,n,a),this.service=e,this.options=i,this.cd=n,this.roleService=t,this.router=a,this.showPassword="eye",this.redirectDelay=0,this.showMessages={},this.strategy="",this.errors=[],this.messages=[],this.user={email:"",password:"",rememberMe:!1},this.submitted=!1,this.rememberMe=!1,this.redirectDelay=this.getConfigValue("forms.login.redirectDelay"),this.showMessages=this.getConfigValue("forms.login.showMessages"),this.strategy=this.getConfigValue("forms.login.strategy"),this.rememberMe=this.getConfigValue("forms.login.rememberMe")}getConfigValue(e){return Object(W.n)(this.options,e,null)}login(){this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const i=e.getRedirect();i&&(this.roleService.loginUser(),setTimeout(()=>this.router.navigateByUrl(i),this.redirectDelay)),this.cd.detectChanges()})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(W.a),d.Qb(d.h),d.Qb(z.a),d.Qb(o.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-login"]],features:[d.Bb],decls:47,vars:18,consts:[[1,"align-self-center","flex-fill"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],["id","title",1,"title"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"row","d-flex","justify-content-center","mb-3"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-2"],["for","input-password",1,"label"],[1,"col-7","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-4"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-4","justify-content-end","d-flex"],["routerLink","../forgot-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],[1,"row","d-flex","justify-content-center","pb-2"],["aria-label","Registruj se",1,"col-8","text-center"],["routerLink","../register-user",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Rb(2,"img",2),d.Vb(),d.Wb(3,"h1",3),d.Fc(4,"Uloguj se!"),d.Vb(),d.Wb(5,"div",4),d.Wb(6,"div",5),d.Dc(7,O,6,1,"nb-alert",6),d.Dc(8,R,6,1,"nb-alert",7),d.Vb(),d.Vb(),d.Wb(9,"form",8,9),d.dc("ngSubmit",function(){return i.login()}),d.Wb(11,"div",10),d.Wb(12,"div",5),d.Wb(13,"label",11),d.Fc(14,"Email/Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(15,"div",5),d.Wb(16,"input",12,13),d.dc("ngModelChange",function(e){return i.user.email=e}),d.Vb(),d.Vb(),d.Wb(18,"div",5),d.Dc(19,x,2,1,"ng-container",14),d.Vb(),d.Vb(),d.Wb(20,"div",15),d.Wb(21,"div",5),d.Wb(22,"label",16),d.Fc(23,"\u0160ifra:"),d.Vb(),d.Vb(),d.Wb(24,"div",17),d.Wb(25,"input",18,19),d.dc("ngModelChange",function(e){return i.user.password=e}),d.Vb(),d.Vb(),d.Wb(27,"div",20),d.Wb(28,"button",21),d.dc("click",function(){return i.showPassword="eye"===i.showPassword?"eye-off":"eye"}),d.Rb(29,"nb-icon",22),d.Vb(),d.Vb(),d.Wb(30,"div",5),d.Dc(31,S,2,1,"ng-container",14),d.Vb(),d.Vb(),d.Wb(32,"div",15),d.Wb(33,"div",23),d.Dc(34,P,2,1,"nb-checkbox",24),d.Vb(),d.Wb(35,"div",25),d.Wb(36,"a",26),d.Fc(37,"Zaboravili ste \u0161ifru?"),d.Vb(),d.Vb(),d.Vb(),d.Wb(38,"div",15),d.Wb(39,"div",5),d.Wb(40,"button",27),d.Fc(41," Uloguj se "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(42,"div",28),d.Wb(43,"div",29),d.Fc(44," Nemate nalog? "),d.Wb(45,"a",30),d.Fc(46,"Registruj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.vc(17),n=d.vc(26);d.Eb(7),d.nc("ngIf",i.showMessages.error&&(null==i.errors?null:i.errors.length)&&!i.submitted),d.Eb(1),d.nc("ngIf",i.showMessages.success&&(null==i.messages?null:i.messages.length)&&!i.submitted),d.Eb(8),d.nc("ngModel",i.user.email)("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.touched),d.Eb(6),d.nc("ngModel",i.user.password)("required",i.getConfigValue("forms.validation.password.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(4),d.nc("icon",i.showPassword),d.Eb(2),d.nc("ngIf",n.touched),d.Eb(3),d.nc("ngIf",i.rememberMe),d.Eb(6),d.Ib("btn-pulse",i.submitted),d.nc("disabled",i.submitted)}},directives:[t.n,a.v,a.l,a.m,I.T,a.b,a.k,a.n,a.s,I.t,I.Q,o.f,I.o,t.m,I.G],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();var L=n("BHmg");let U=(()=>{class e extends W.i{constructor(e,i,n={},t,a){super(e,n,t),this.service=e,this.widgetService=i,this.options=n,this.router=t,this.roleService=a,this.redirectDelay=0,this.strategy="",this.redirectDelay=this.getConfigValue("forms.logout.redirectDelay"),this.strategy=this.getConfigValue("forms.logout.strategy")}logout(e){this.service.logout(e).subscribe(e=>{const i=e.getRedirect();this.roleService.ngOnDestroy(),this.widgetService.ngOnDestroy(),i&&setTimeout(()=>this.router.navigateByUrl(i),this.redirectDelay)})}getConfigValue(e){return Object(W.n)(this.options,e,null)}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(L.a),d.Qb(W.a),d.Qb(o.c),d.Qb(z.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-logout"]],features:[d.Bb],decls:2,vars:0,template:function(e,i){1&e&&(d.Wb(0,"div"),d.Fc(1,"Odjavljivanje u toku..."),d.Vb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),e})(),$=(()=>{class e{constructor(e,i){this.authService=e,this.router=i}ngOnInit(){this.authService.isAuthenticated().subscribe(e=>{e||this.router.navigate(["auth","login"])}),this.authService.getToken().subscribe(e=>{const i=e.getPayload().data.user;this.router.navigate("admin"===i.role?["admin"]:["pages","dashboard"])})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(o.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-redirect"]],decls:2,vars:0,template:function(e,i){1&e&&(d.Wb(0,"p"),d.Fc(1,"redirect works!"),d.Vb())},styles:[""]}),e})();var A=n("SxV6");const K={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},name:{title:"Naziv",filter:!1}}};function Q(e,i){if(1&e){const e=d.Xb();d.Wb(0,"button",16),d.dc("click",function(){d.xc(e);const n=i.$implicit;return d.hc().addTrash(n)}),d.Fc(1),d.Vb()}if(2&e){const e=i.$implicit;d.nc("nbPopover",e.name),d.Eb(1),d.Hc(" ",e.indexNumber," ")}}const B=function(e){return["..","register-informations",e]};let G=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.catalogService=n,this.catalog=new s.a,this.settings=K,this.permitType=""}getConfigValue(e){return Object(W.n)(this.options,e,null)}ngOnInit(){this.registerService.getPermit().subscribe(e=>{this.permitCode=e}),this.registerService.getCompany().subscribe(e=>{void 0!==e&&(this.company=e,this.permit=this.company.permits.filter(e=>e.code===this.permitCode)[0],this.permitType=this.permit.type,this.trashList=this.permit.trashList)}),this.registerService.sendCompany(Object(l.a)(this.company));let e=!1,i=!1;this.registerService.getOperations().subscribe(n=>{n.forEach(n=>{n.includes("Neopasnog")&&(e=!0),n.includes("Opasnog")&&(i=!0)}),e&&!i?this.catalogService.getSafeTrash().pipe(Object(A.a)()).subscribe(e=>{e.sort((e,i)=>e.indexNumber.localeCompare(i.indexNumber)),this.catalog.load(e)}):i&&!e?this.catalogService.getUnsafeTrash().pipe(Object(A.a)()).subscribe(e=>{e.sort((e,i)=>e.indexNumber.localeCompare(i.indexNumber)),this.catalog.load(e)}):i&&e&&this.catalogService.getCatalogs().pipe(Object(A.a)()).subscribe(e=>{e.sort((e,i)=>e.indexNumber.localeCompare(i.indexNumber)),this.catalog.load(e)})})}onSearch(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,i){return e.replace(/\s+/g,"").includes(i.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}addTrash(e){this.trashList.some(i=>i._id===e._id)?this.removeTrash(e):this.permit.trashList.push(e),this.company.permits.filter(e=>e.code===this.permitCode)[0]=this.permit}removeTrash(e){const i=this.trashList.filter(i=>i._id===e._id)[0];if(i){const e=this.trashList.indexOf(i,0);e>-1&&this.trashList.splice(e,1)}}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(V),d.Qb(m.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-permit"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Rb(6,"nb-step",4),d.Wb(7,"nb-step",5),d.Wb(8,"div",6),d.Wb(9,"div",7),d.Wb(10,"h5"),d.Fc(11,"Lista otpada dozvole:"),d.Vb(),d.Dc(12,Q,2,2,"button",8),d.Vb(),d.Wb(13,"div",9),d.Wb(14,"label",10),d.Fc(15,"Pretrazi po indeksnom broju ili nazivu:"),d.Vb(),d.Wb(16,"input",11,12),d.dc("input",function(){d.xc(e);const n=d.vc(17);return n.value.length>=1&&i.onSearch(n.value)}),d.Vb(),d.Wb(18,"ng2-smart-table",13),d.dc("custom",function(e){return i.addTrash(e.data)}),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"button",14),d.Fc(20," Zavr\u0161i "),d.Vb(),d.Vb(),d.Rb(21,"nb-step",15),d.Vb()}2&e&&(d.Eb(12),d.nc("ngForOf",i.trashList),d.Eb(6),d.nc("source",i.catalog)("settings",i.settings),d.Eb(1),d.nc("routerLink",d.rc(5,B,i.permitType))("disabled",0===(null==i.trashList?null:i.trashList.length)))},directives:[I.Bb,I.Ab,t.m,I.T,s.b,I.t,o.d,I.kb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),e})();var _=n("mrSG");function Z(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Naziv firme je obavezan! "),d.Vb())}function H(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Naziv firme mora biti du\u017ei od ",e.getConfigValue("forms.validation.companyName.minLength")," slova! ")}}function X(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Naziv firme mora biti kra\u0107i od ",e.getConfigValue("forms.validation.companyName.maxLength")," slova! ")}}function J(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Z,2,0,"p",84),d.Dc(2,H,2,1,"p",84),d.Dc(3,X,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(19);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.maxlength)}}function Y(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," PIB je obavezan! "),d.Vb())}function ee(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," PIB mora da bude validan! "),d.Vb())}function ie(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Y,2,0,"p",84),d.Dc(2,ee,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(30);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function ne(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mati\u010dni broj je obavezan! "),d.Vb())}function te(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mati\u010dni broj mora da bude validan! "),d.Vb())}function ae(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ne,2,0,"p",84),d.Dc(2,te,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(40),i=d.vc(30);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function oe(e,i){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function re(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Op\u0161tina je obavezna! "),d.Vb())}function se(e,i){if(1&e&&(d.Ub(0),d.Dc(1,re,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(57);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function ce(e,i){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function le(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mesto je obavezno! "),d.Vb())}function be(e,i){if(1&e&&(d.Ub(0),d.Dc(1,le,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(71);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function de(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Po\u0161tanski broj je obavezan "),d.Vb())}function ue(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Po\u0161tanski broj mora biti validan "),d.Vb())}function pe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,de,2,0,"p",84),d.Dc(2,ue,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(86);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function me(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ulica je obavezna! "),d.Vb())}function ge(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ulica mora biti validna! "),d.Vb())}function he(e,i){if(1&e&&(d.Ub(0),d.Dc(1,me,2,0,"p",84),d.Dc(2,ge,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(96);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function ve(e,i){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e.name),d.Eb(1),d.Ic("[",e.code," ] ",e.name,"")}}function fe(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," \u0160ifra delatnosti je obavezna! "),d.Vb())}function Ve(e,i){if(1&e&&(d.Ub(0),d.Dc(1,fe,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(107);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function ke(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function We(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function je(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ke,2,0,"p",84),d.Dc(2,We,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(122);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function ye(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Telefon firme je obavezan! "),d.Vb())}function Ie(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Telefon firme mora biti validan! "),d.Vb())}function Fe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ye,2,0,"p",84),d.Dc(2,Ie,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(132);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ce(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function Ee(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function we(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Ce,2,0,"p",84),d.Dc(2,Ee,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(151);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function ze(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function Me(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function Oe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ze,2,0,"p",84),d.Dc(2,Me,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(7);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Ne(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",13),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"label",86),d.Fc(4,"Unesite va\u0161 email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"input",87,88),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().tmpEmail=i})("ngModelChange",function(){return d.xc(e),d.hc().setCompanyEmail()}),d.Vb(),d.Vb(),d.Wb(8,"div",2),d.Dc(9,Oe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(7),i=d.hc();d.Eb(6),d.nc("ngModel",i.tmpEmail)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||i.checkIssues)}}function Re(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function De(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.username.minLength")," slova! ")}}function xe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Re,2,0,"p",84),d.Dc(2,De,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(8);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Te(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function Se(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" \u0160ifra mora biti du\u017ee od ",e.getConfigValue("forms.validation.password.minLength")," slova! ")}}function Pe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Te,2,0,"p",84),d.Dc(2,Se,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(18);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function qe(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",8),d.Wb(1,"div",13),d.Wb(2,"div",1),d.Wb(3,"div",2),d.Wb(4,"label",89),d.Fc(5,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(6,"div",2),d.Wb(7,"input",90,91),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().company.nriz.username=i}),d.Vb(),d.Vb(),d.Wb(9,"div",2),d.Dc(10,xe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(11,"div",13),d.Wb(12,"div",1),d.Wb(13,"div",2),d.Wb(14,"label",92),d.Fc(15,"\u0160ifra:"),d.Vb(),d.Vb(),d.Wb(16,"div",93),d.Wb(17,"input",94,95),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().company.nriz.password=i}),d.Vb(),d.Vb(),d.Wb(19,"div",96),d.Wb(20,"button",97),d.dc("click",function(){d.xc(e);const i=d.hc();return i.showPassword="eye"===i.showPassword?"eye-off":"eye"}),d.Rb(21,"nb-icon",98),d.Vb(),d.Vb(),d.Wb(22,"div",2),d.Dc(23,Pe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(8),i=d.vc(18),n=d.hc(),t=d.vc(171);d.Eb(7),d.nc("ngModel",n.company.nriz.username)("maxlength",n.getConfigValue("forms.validation.username.maxLength"))("minlength",n.getConfigValue("forms.validation.username.minLength"))("required",n.getConfigValue("forms.validation.username.required")&&t.checked)("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues),d.Eb(7),d.nc("ngModel",n.company.nriz.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required")&&t.checked)("status",i.dirty?i.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(4),d.nc("icon",n.showPassword),d.Eb(2),d.nc("ngIf",i.invalid&&i.touched||n.checkIssues)}}function Le(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function Ue(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function $e(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Le,2,0,"p",84),d.Dc(2,Ue,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(187);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ae(e,i){1&e&&(d.Wb(0,"p",85),d.Fc(1," Prezime zakonskog zastupnika je obavezno! "),d.Vb())}function Ke(e,i){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function Qe(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Ae,2,0,"p",84),d.Dc(2,Ke,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(197);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let Be=(()=>{class e{constructor(e={},i,n,t,a,o){this.options=e,this.locationService=i,this.occupationService=n,this.registerService=t,this.router=a,this.toastrService=o,this.showPassword="eye",this.checkIssues=!1,this.tmpEmail=""}ngOnInit(){this.registerService.getCompany().pipe(Object(A.a)()).subscribe(e=>{this.company=e}),this.registerService.getUser().pipe(Object(A.a)()).subscribe(e=>{void 0!==e&&(this.user=e)}),this.registerService.sendCompany(Object(l.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(A.a)()).subscribe(e=>{this.townships=e,this.townships$=Object(l.a)(e)}),this.occupationService.getOccupations().pipe(Object(A.a)()).subscribe(e=>{this.occupations=e,this.occupations$=Object(l.a)(e)})}getConfigValue(e){return Object(W.n)(this.options,e,null)}checkAddress(){return this.townships.includes(this.company.address.location.townshipName)&&this.places.includes(this.company.address.location.placeName)}checkOccupation(){return this.occupations.map(e=>e.name).includes(this.company.occupation.name)}validateCompany(e){return Object(_.a)(this,void 0,void 0,function*(){if(e.invalid)return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1;if(!this.checkAddress())return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite adresu (odaberite sa liste op\u0161tinu odnosno mesto) da bi ste nastavili.","warning",5e3),!1;if(!this.checkOccupation())return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite zanimanje (odaberite sa liste zanimanja) da bi ste nastavili.","warning",5e3),!1;let i="";if(!(yield Promise.all(this.registerService.checkCompany(this.company)).then(e=>(i=e[0]?i:"taj pib",i=e[1]?i:"taj mati\u010dni broj",i=e[2]?i:"taj email",i=e[3]?i:"taj email za prijem",i=e[4]?i:"taj telefon",i=e[5]?i:"to korisni\u010dko ime za NRIZ",e[0]&&e[1]&&e[2]&&e[3]&&e[4]&&e[5]))))return this.checkIssues=!0,void this.toastrService.showToast(`Ve\u0107 postoji ${i}!`,`Promenite ${i} da biste nastavili.`,"danger");e.valid&&""===this.tmpEmail&&""!==this.company.emailReception?this.router.navigate(["auth/register-operations"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))})}getPlaces(e){void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(A.a)()).subscribe(e=>{this.places=e,this.places$=Object(l.a)(e)})}chooseTownship(e){""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(e=>{this.getPlaces(e[0])})):this.townships$=Object(l.a)(this.townships)}findPlaces(e){this.places$=this.locationService.filter(e,this.places)}findOccupations(e){this.occupations$=this.occupationService.filter(e,this.occupations)}clearTmpEmail(){this.tmpEmail=""}setCompanyEmail(){this.company.emailReception=this.tmpEmail}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(g),d.Qb(p),d.Qb(V),d.Qb(o.c),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-company"]],decls:215,vars:105,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","my-1"],["for","input-companyName",1,"label"],["autofocus","","fullWidth","","id","input-companyName","name","companyName","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-townshipName",1,"label"],["autocomplete","off","fullWidth","","id","input-townshipName","name","townshipName","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["townshipName","ngModel"],["AutoCompleteTownships",""],[3,"value",4,"ngFor","ngForOf"],["for","input-placeName",1,"label"],["autocomplete","off","fullWidth","","id","input-placeName","name","placeName","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["placeName","ngModel"],["autoCompletePlaces",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-zipCode",1,"label"],["fullWidth","","id","input-zipCode","name","zipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zipCode","ngModel"],[1,"col-9"],["for","input-street",1,"label"],["fullWidth","","id","input-street","name","street","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["street","ngModel"],["for","input-occupation",1,"label"],["autocomplete","off","fullWidth","","id","input-occupation","name","occupation","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["occupation","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-companyEmail",1,"label"],["fullWidth","","id","input-companyEmail","name","companyEmail","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["companyEmail","ngModel"],["for","input-companyTelephone",1,"label"],["fullWidth","","id","input-companyTelephone","name","companyTelephone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyTelephone","ngModel"],["for","input-companyFax",1,"label"],["fullWidth","","id","input-companyFax","name","companyFax","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["companyFax","ngModel"],["for","input-companyEmailReception",1,"label"],["fullWidth","","id","input-companyEmailReception","name","companyEmailReception","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["companyEmailReception","ngModel"],[3,"value","selectionChange"],[3,"value"],["otherEmail",""],["class","col-6",4,"ngIf"],["for","toggle-nriz",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["id","toggle-nriz"],["nrizToggle",""],["class","row my-1",4,"ngIf"],[1,"label"],[1,"row","ml-2"],["for","input-fNameLegalRep",1,"label"],["fullWidth","","id","input-fNameLegalRep","name","fNameLegalRep","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameLegalRepo","ngModel"],["for","input-lNameLegalRep",1,"label"],["fullWidth","","id","input-lNameLegalRep","name","lNameLegalRep","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameLegalRepo","ngModel"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","type","button","routerLink","../register-user"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-companyEmailReception2",1,"label"],["fullWidth","","id","input-companyEmailReception2","name","companyEmailReception2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["companyEmailReception2","ngModel"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"h1",3),d.Fc(4,"Registruj se!"),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"nb-stepper",4),d.Rb(7,"nb-step",5),d.Wb(8,"nb-step",6),d.Wb(9,"form",null,7),d.Wb(11,"div",8),d.Wb(12,"div",2),d.Wb(13,"div",1),d.Wb(14,"div",2),d.Wb(15,"label",9),d.Fc(16,"Naziv Firme:"),d.Vb(),d.Vb(),d.Wb(17,"div",2),d.Wb(18,"input",10,11),d.dc("ngModelChange",function(e){return i.company.name=e}),d.Vb(),d.Vb(),d.Wb(20,"div",2),d.Dc(21,J,4,3,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",8),d.Wb(23,"div",13),d.Wb(24,"div",1),d.Wb(25,"div",2),d.Wb(26,"label",14),d.Fc(27,"Poreski identifikacioni broj (PIB):"),d.Vb(),d.Vb(),d.Wb(28,"div",2),d.Wb(29,"input",15,16),d.dc("ngModelChange",function(e){return i.company.pib=e}),d.Vb(),d.Vb(),d.Wb(31,"div",2),d.Dc(32,ie,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(33,"div",13),d.Wb(34,"div",1),d.Wb(35,"div",2),d.Wb(36,"label",17),d.Fc(37,"Mati\u010dni broj:"),d.Vb(),d.Vb(),d.Wb(38,"div",2),d.Wb(39,"input",18,19),d.dc("ngModelChange",function(e){return i.company.mat=e}),d.Vb(),d.Vb(),d.Wb(41,"div",2),d.Dc(42,ae,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(43,"div",8),d.Wb(44,"div",2),d.Wb(45,"div",1),d.Wb(46,"div",2),d.Wb(47,"label",20),d.Fc(48,"Adresa:"),d.Vb(),d.Vb(),d.Vb(),d.Wb(49,"div",21),d.Wb(50,"div",13),d.Wb(51,"div",1),d.Wb(52,"div",2),d.Wb(53,"label",22),d.Fc(54,"Op\u0161tina:"),d.Vb(),d.Vb(),d.Wb(55,"div",2),d.Wb(56,"input",23,24),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(57);return i.chooseTownship(n.value)})("ngModelChange",function(e){return i.company.address.location.townshipName=e}),d.Vb(),d.Wb(58,"nb-autocomplete",null,25),d.Dc(60,oe,2,2,"nb-option",26),d.ic(61,"async"),d.Vb(),d.Vb(),d.Wb(62,"div",2),d.Dc(63,se,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(64,"div",13),d.Wb(65,"div",1),d.Wb(66,"div",2),d.Wb(67,"label",27),d.Fc(68,"Mesto:"),d.Vb(),d.Vb(),d.Wb(69,"div",2),d.Wb(70,"input",28,29),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(71);return i.findPlaces(n.value)})("ngModelChange",function(e){return i.company.address.location.placeName=e}),d.Vb(),d.Wb(72,"nb-autocomplete",null,30),d.Dc(74,ce,2,2,"nb-option",26),d.ic(75,"async"),d.Vb(),d.Vb(),d.Wb(76,"div",2),d.Dc(77,be,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(78,"div",31),d.Wb(79,"div",32),d.Wb(80,"div",1),d.Wb(81,"div",2),d.Wb(82,"label",33),d.Fc(83,"Po\u0161tanski broj:"),d.Vb(),d.Vb(),d.Wb(84,"div",2),d.Wb(85,"input",34,35),d.dc("ngModelChange",function(e){return i.company.address.location.zipCode=e}),d.Vb(),d.Vb(),d.Wb(87,"div",2),d.Dc(88,pe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",36),d.Wb(90,"div",1),d.Wb(91,"div",2),d.Wb(92,"label",37),d.Fc(93,"Ulica i broj:"),d.Vb(),d.Vb(),d.Wb(94,"div",2),d.Wb(95,"input",38,39),d.dc("ngModelChange",function(e){return i.company.address.street=e}),d.Vb(),d.Vb(),d.Wb(97,"div",2),d.Dc(98,he,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(99,"div",8),d.Wb(100,"div",2),d.Wb(101,"div",1),d.Wb(102,"div",2),d.Wb(103,"label",40),d.Fc(104,"\u0160ifra delatnosti:"),d.Vb(),d.Vb(),d.Wb(105,"div",2),d.Wb(106,"input",41,42),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(107);return i.findOccupations(n.value)})("ngModelChange",function(e){return i.company.occupation.name=e}),d.Vb(),d.Wb(108,"nb-autocomplete",null,43),d.Dc(110,ve,2,3,"nb-option",26),d.ic(111,"async"),d.Vb(),d.Vb(),d.Wb(112,"div",2),d.Dc(113,Ve,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(114,"div",8),d.Wb(115,"div",44),d.Wb(116,"div",1),d.Wb(117,"div",2),d.Wb(118,"label",45),d.Fc(119,"Email firme:"),d.Vb(),d.Vb(),d.Wb(120,"div",2),d.Wb(121,"input",46,47),d.dc("ngModelChange",function(e){return i.company.email=e}),d.Vb(),d.Vb(),d.Wb(123,"div",2),d.Dc(124,je,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(125,"div",44),d.Wb(126,"div",1),d.Wb(127,"div",2),d.Wb(128,"label",48),d.Fc(129,"Telefon firme:"),d.Vb(),d.Vb(),d.Wb(130,"div",2),d.Wb(131,"input",49,50),d.dc("ngModelChange",function(e){return i.company.telephone=e}),d.Vb(),d.Vb(),d.Wb(133,"div",2),d.Dc(134,Fe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(135,"div",44),d.Wb(136,"div",1),d.Wb(137,"div",2),d.Wb(138,"label",51),d.Fc(139,"Faks firme:"),d.Vb(),d.Vb(),d.Wb(140,"div",2),d.Wb(141,"input",52,53),d.dc("ngModelChange",function(e){return i.company.fax=e}),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(143,"div",8),d.Wb(144,"div",13),d.Wb(145,"div",1),d.Wb(146,"div",2),d.Wb(147,"label",54),d.Fc(148,"Birajte email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(149,"div",2),d.Wb(150,"nb-select",55,56),d.dc("ngModelChange",function(e){return i.company.emailReception=e}),d.Wb(152,"nb-option",57),d.dc("selectionChange",function(){return i.clearTmpEmail()}),d.Fc(153),d.Vb(),d.Wb(154,"nb-option",57),d.dc("selectionChange",function(){return i.clearTmpEmail()}),d.Fc(155),d.Vb(),d.Wb(156,"nb-option",58,59),d.Fc(158,"Drugi email"),d.Vb(),d.Vb(),d.Vb(),d.Wb(159,"div",2),d.Dc(160,we,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Dc(161,Ne,10,6,"div",60),d.Vb(),d.Wb(162,"div",8),d.Wb(163,"div",2),d.Wb(164,"div",1),d.Wb(165,"div",2),d.Wb(166,"label",61),d.Fc(167,"Da li imate nalog na NRIZ (Nacionalni registar izvora zaga\u0111ivanja)? "),d.Rb(168,"i",62),d.Vb(),d.Vb(),d.Wb(169,"div",2),d.Rb(170,"nb-toggle",63,64),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(172,qe,24,16,"div",65),d.Wb(173,"div",8),d.Wb(174,"div",2),d.Wb(175,"div",1),d.Wb(176,"div",2),d.Wb(177,"label",66),d.Fc(178,"Puno ime zakonskog zastupnika firme:"),d.Vb(),d.Vb(),d.Vb(),d.Wb(179,"div",67),d.Wb(180,"div",13),d.Wb(181,"div",1),d.Wb(182,"div",2),d.Wb(183,"label",68),d.Fc(184,"Ime:"),d.Vb(),d.Vb(),d.Wb(185,"div",2),d.Wb(186,"input",69,70),d.dc("ngModelChange",function(e){return i.company.legalRep.firstName=e}),d.Vb(),d.Vb(),d.Wb(188,"div",2),d.Dc(189,$e,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(190,"div",13),d.Wb(191,"div",1),d.Wb(192,"div",2),d.Wb(193,"label",71),d.Fc(194,"Prezime:"),d.Vb(),d.Vb(),d.Wb(195,"div",2),d.Wb(196,"input",72,73),d.dc("ngModelChange",function(e){return i.company.legalRep.lastName=e}),d.Vb(),d.Vb(),d.Wb(198,"div",2),d.Dc(199,Qe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(200,"div",74),d.Wb(201,"div",75),d.Wb(202,"button",76),d.Fc(203," Nazad "),d.Vb(),d.Vb(),d.Wb(204,"div",77),d.Wb(205,"button",78),d.dc("click",function(){d.xc(e);const n=d.vc(10);return i.validateCompany(n)}),d.Fc(206," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(207,"nb-step",79),d.Rb(208,"nb-step",80),d.Rb(209,"nb-step",81),d.Vb(),d.Vb(),d.Wb(210,"div",2),d.Wb(211,"section",82),d.Fc(212," Ve\u0107 imate nalog? "),d.Wb(213,"a",83),d.Fc(214,"Uloguj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(19),n=d.vc(30),t=d.vc(40),a=d.vc(57),o=d.vc(59),r=d.vc(71),s=d.vc(73),c=d.vc(86),l=d.vc(96),b=d.vc(107),u=d.vc(109),p=d.vc(122),m=d.vc(132),g=d.vc(142),h=d.vc(151),v=d.vc(157),f=d.vc(171),V=d.vc(187),k=d.vc(197);d.Eb(18),d.nc("ngModel",i.company.name)("maxlength",i.getConfigValue("forms.validation.companyName.maxLength"))("minlength",i.getConfigValue("forms.validation.companyName.minLength"))("required",i.getConfigValue("forms.validation.companyName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||i.checkIssues),d.Eb(8),d.nc("ngModel",i.company.pib)("maxlength",i.getConfigValue("forms.validation.pib.maxLength"))("minlength",i.getConfigValue("forms.validation.pib.minLength"))("pattern",i.getConfigValue("forms.validation.pib.pattern"))("required",i.getConfigValue("forms.validation.pib.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.mat)("maxlength",i.getConfigValue("forms.validation.mat.maxLength"))("minlength",i.getConfigValue("forms.validation.mat.minLength"))("pattern",i.getConfigValue("forms.validation.mat.pattern"))("required",i.getConfigValue("forms.validation.mat.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||i.checkIssues),d.Eb(14),d.nc("ngModel",i.company.address.location.townshipName)("nbAutocomplete",o)("required",i.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(61,99,i.townships$)),d.Eb(3),d.nc("ngIf",a.invalid&&a.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.address.location.placeName)("nbAutocomplete",s)("required",i.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(75,101,i.places$)),d.Eb(3),d.nc("ngIf",i.checkIssues),d.Eb(8),d.nc("ngModel",i.company.address.location.zipCode)("maxlength",i.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",i.getConfigValue("forms.validation.zipCode.minLength"))("required",i.getConfigValue("forms.validation.zipCode.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(3),d.nc("ngIf",c.invalid&&c.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.address.street)("minlength",i.getConfigValue("forms.validation.street.minLength"))("required",i.getConfigValue("forms.validation.street.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(3),d.nc("ngIf",l.invalid&&l.touched||i.checkIssues),d.Eb(8),d.nc("ngModel",i.company.occupation.name)("nbAutocomplete",u)("required",i.getConfigValue("forms.validation.occupation.required")),d.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(111,103,i.occupations$)),d.Eb(3),d.nc("ngIf",b.invalid&&b.touched||i.checkIssues),d.Eb(8),d.nc("ngModel",i.company.email)("required",i.getConfigValue("forms.validation.email.required"))("pattern",i.getConfigValue("forms.validation.email.pattern"))("status",p.dirty?p.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),d.Eb(3),d.nc("ngIf",p.invalid&&p.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.telephone)("maxlength",i.getConfigValue("forms.validation.telephone.maxLength"))("minlength",i.getConfigValue("forms.validation.telephone.minLength"))("required",i.getConfigValue("forms.validation.telephone.required"))("status",m.dirty?m.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),d.Eb(3),d.nc("ngIf",m.invalid&&m.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.fax)("maxlength",i.getConfigValue("forms.validation.telephone.maxLength"))("minlength",i.getConfigValue("forms.validation.telephone.minLength")),d.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),d.Eb(9),d.nc("ngModel",i.company.emailReception)("required",i.getConfigValue("forms.validation.email.required"))("selected",i.company.email)("status",h.dirty?h.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),d.Eb(2),d.nc("value",i.company.email),d.Eb(1),d.Gc(i.company.email),d.Eb(1),d.nc("value",null==i.user?null:i.user.email),d.Eb(1),d.Gc(null==i.user?null:i.user.email),d.Eb(1),d.nc("value",i.company.emailReception),d.Eb(4),d.nc("ngIf",h.invalid&&h.touched||i.checkIssues),d.Eb(1),d.nc("ngIf",v.selected),d.Eb(7),d.nc("nbTooltip","Ukoliko posedujete nalog na NRIZ unesite korisno\u010dko ime i \u0161ifru za pristup na NRIZ ukoliko \u017eelite da nam poverite odgovornost i obavljanje poslova izve\u0161tavanja umesto vas."),d.Eb(4),d.nc("ngIf",f.checked),d.Eb(14),d.nc("ngModel",i.company.legalRep.firstName)("maxlength",i.getConfigValue("forms.validation.firstName.maxLength"))("minlength",i.getConfigValue("forms.validation.firstName.minLength"))("required",i.getConfigValue("forms.validation.firstName.required"))("status",V.dirty?V.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!V.invalid||!V.touched)||null),d.Eb(3),d.nc("ngIf",V.invalid&&V.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.company.legalRep.lastName)("maxlength",i.getConfigValue("forms.validation.lastName.maxLength"))("minlength",i.getConfigValue("forms.validation.lastName.minLength"))("required",i.getConfigValue("forms.validation.lastName.required"))("status",k.dirty?k.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!k.invalid||!k.touched)||null),d.Eb(3),d.nc("ngIf",k.invalid&&k.touched||i.checkIssues)}},directives:[I.Bb,I.Ab,a.v,a.l,a.m,I.T,a.b,a.k,a.n,a.f,a.g,a.s,t.n,a.q,I.r,I.q,t.m,I.tb,I.ib,I.Pb,I.Nb,I.t,o.d,o.f,I.Q],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),e})();const Ge=function(){return{standalone:!0}};function _e(e,i){if(1&e){const e=d.Xb();d.Wb(0,"input",9),d.dc("ngModelChange",function(i){return d.xc(e),d.hc(2).storageNo=i}),d.Vb()}if(2&e){const e=d.hc(2);d.nc("ngModel",e.storageNo)("ngModelOptions",d.qc(2,Ge))}}function Ze(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",2),d.Wb(1,"div",3),d.Wb(2,"form",null,4),d.Wb(4,"div",5),d.Wb(5,"div",3),d.Wb(6,"label",6),d.Fc(7,"Broj dozvola:"),d.Vb(),d.Vb(),d.Wb(8,"div",3),d.Wb(9,"nb-button-group"),d.Wb(10,"button",7),d.dc("pressedChange",function(i){return d.xc(e),d.hc().updatePermits(1,void 0,i)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",7),d.dc("pressedChange",function(i){return d.xc(e),d.hc().updatePermits(2,void 0,i)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",7),d.dc("pressedChange",function(i){return d.xc(e),d.hc().updatePermits(3,void 0,i)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",7),d.dc("pressedChange",function(i){return d.xc(e),d.hc().updatePermits(4,void 0,i)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",7),d.dc("pressedChange",function(i){return d.xc(e),d.hc().updatePermits(5,void 0,i)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",7),d.dc("pressedChange",function(){d.xc(e);const i=d.hc();return i.showPermitsInput=!i.showPermitsInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,_e,1,3,"input",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.hc();d.Eb(22),d.nc("ngIf",e.showPermitsInput)}}function He(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Naziv dozvole je obavezna! "),d.Vb())}function Xe(e,i){if(1&e&&(d.Wb(0,"p",34),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function Je(e,i){if(1&e&&(d.Ub(0),d.Dc(1,He,2,0,"p",33),d.Dc(2,Xe,2,1,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function Ye(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," \u0160ifra dozvole je obavezna! "),d.Vb())}function ei(e,i){if(1&e&&(d.Wb(0,"p",34),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.permitCode.minLength")," slova! ")}}function ii(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Ye,2,0,"p",33),d.Dc(2,ei,2,1,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(24);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function ni(e,i){if(1&e&&(d.Wb(0,"nb-option",40),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e.name)}}function ti(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Postrojenje za koje je vezana dozvola je obavezno! "),d.Vb())}function ai(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ti,2,0,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(7);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function oi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",35),d.Wb(1,"div",5),d.Wb(2,"div",3),d.Wb(3,"label",36),d.Fc(4,"Odaberi postrojenje:"),d.Vb(),d.Vb(),d.Wb(5,"div",3),d.Wb(6,"nb-select",37,38),d.dc("ngModelChange",function(){d.xc(e);const i=d.hc().$implicit;return d.hc(2).setAddress(i,i.storage)})("ngModelChange",function(i){return d.xc(e),d.hc().$implicit.storage=i}),d.Dc(8,ni,2,2,"nb-option",39),d.ic(9,"async"),d.Vb(),d.Vb(),d.Wb(10,"div",3),d.Dc(11,ai,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(7),i=d.hc().$implicit,n=d.hc(2);d.Eb(6),d.nc("ngModel",i.storage)("ngModelOptions",d.qc(7,Ge))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Eb(2),d.nc("ngForOf",d.jc(9,5,n.storages$)),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues)}}function ri(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum nastanka dozvole je obavezan! "),d.Vb())}function si(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),d.Vb())}function ci(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ri,2,0,"p",33),d.Dc(2,si,2,0,"p",33),d.Tb()),2&e){const e=d.hc().$implicit,i=d.vc(36),n=d.hc(2);d.Eb(1),d.nc("ngIf",null==i.errors?null:i.errors.required),d.Eb(1),d.nc("ngIf",!n.dateValid(e))}}function li(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum isteka dozvole je obavezan! "),d.Vb())}function bi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,li,2,0,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(48);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function di(e,i){1&e&&(d.Wb(0,"p",34),d.Fc(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),d.Vb())}function ui(e,i){if(1&e&&(d.Ub(0),d.Dc(1,di,2,0,"p",33),d.Tb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.nc("ngIf",e.trashList.length<1)}}function pi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",3),d.Wb(1,"form",null,12),d.Wb(3,"nb-card",13),d.Wb(4,"nb-card-body"),d.Wb(5,"div",2),d.Wb(6,"div",3),d.Wb(7,"div",5),d.Wb(8,"div",3),d.Wb(9,"label",14),d.Fc(10,"Naziv Dozvole:"),d.Vb(),d.Vb(),d.Wb(11,"div",3),d.Wb(12,"input",15,16),d.dc("ngModelChange",function(e){return i.$implicit.name=e}),d.Vb(),d.Vb(),d.Wb(14,"div",3),d.Dc(15,Je,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"div",2),d.Wb(17,"div",18),d.Wb(18,"div",5),d.Wb(19,"div",3),d.Wb(20,"label",19),d.Fc(21,"\u0160ifra Dozvole:"),d.Vb(),d.Vb(),d.Wb(22,"div",3),d.Wb(23,"input",20,21),d.dc("ngModelChange",function(e){return i.$implicit.code=e}),d.Vb(),d.Vb(),d.Wb(25,"div",3),d.Dc(26,ii,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Dc(27,oi,12,8,"div",22),d.Vb(),d.Wb(28,"div",2),d.Wb(29,"div",18),d.Wb(30,"div",5),d.Wb(31,"div",3),d.Wb(32,"label",23),d.Fc(33,"Datum izdavanja dozvole:"),d.Vb(),d.Vb(),d.Wb(34,"div",3),d.Wb(35,"input",24,25),d.dc("ngModelChange",function(e){return i.$implicit.dateCreation=e}),d.Vb(),d.Rb(37,"nb-datepicker",null,26),d.Vb(),d.Wb(39,"div",3),d.Dc(40,ci,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Wb(41,"div",18),d.Wb(42,"div",5),d.Wb(43,"div",3),d.Wb(44,"label",27),d.Fc(45,"Datum isteka dozvole:"),d.Vb(),d.Vb(),d.Wb(46,"div",3),d.Wb(47,"input",28,29),d.dc("ngModelChange",function(e){return i.$implicit.dateExpiration=e}),d.Vb(),d.Rb(49,"nb-datepicker",null,30),d.Vb(),d.Wb(51,"div",3),d.Dc(52,bi,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(53,"div",31),d.Wb(54,"div",18),d.Wb(55,"div",5),d.Wb(56,"div",3),d.Wb(57,"button",32),d.dc("click",function(){d.xc(e);const n=i.$implicit;return d.hc(2).choosePermit(n)}),d.Fc(58,"Odaberi otpade "),d.Vb(),d.Vb(),d.Wb(59,"div",3),d.Dc(60,ui,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=i.$implicit,n=i.index,t=d.vc(13),a=d.vc(24),o=d.vc(36),r=d.vc(38),s=d.vc(48),c=d.vc(50),l=d.hc(2);d.Eb(12),d.pc("placeholder","Dozvola #",n+1,""),d.nc("ngModel",e.name)("maxlength",l.getConfigValue("forms.validation.permitName.maxLength"))("minLength",l.getConfigValue("forms.validation.permitName.minLength"))("ngModelOptions",d.qc(32,Ge))("required",l.getConfigValue("forms.validation.permitName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||l.checkIssues),d.Eb(8),d.nc("ngModel",e.code)("ngModelOptions",d.qc(33,Ge))("required",l.getConfigValue("forms.validation.permitCode.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(3),d.nc("ngIf",a.invalid&&a.touched||l.checkIssues),d.Eb(1),d.nc("ngIf","transport"!==l.permitType&&"collector"!==l.permitType),d.Eb(8),d.nc("ngModel",e.dateCreation)("nbDatepicker",r)("ngModelOptions",d.qc(34,Ge))("required",l.getConfigValue("forms.validation.date.required"))("status",l.dateValid(e)?"success":"danger"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(5),d.nc("ngIf",!l.dateValid(e)||l.checkIssues),d.Eb(7),d.nc("ngModel",e.dateExpiration)("nbDatepicker",c)("ngModelOptions",d.qc(35,Ge))("required",l.getConfigValue("forms.validation.date.required"))("status",l.dateValid(e)?"success":"danger"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(5),d.nc("ngIf",s.invalid&&s.touched||l.checkIssues),d.Eb(5),d.nc("disabled",""===e.code),d.Eb(3),d.nc("ngIf",l.checkIssues)}}function mi(e,i){if(1&e&&(d.Wb(0,"div",10),d.Dc(1,pi,61,36,"div",11),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.permits$))}}let gi=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.router=i,this.registerService=n,this.toastrService=t,this.storages=[],this.permitsNo=0,this.checkIssues=!1,this.valid=!1,this.showPermitsInput=!1}ngOnInit(){this.registerService.getCompany().pipe(Object(A.a)()).subscribe(e=>{void 0!==e&&(this.company=e,void 0!==e.permits&&(this.permits=this.company.permits.filter(e=>e.type===this.permitType),this.permitsNo=this.permits.length,this.permits$=Object(l.a)(this.permits)))}),"transport"!==this.permitType&&"collector"!==this.permitType&&(this.permitsNo=this.storageNo,this.storages$=Object(l.a)(this.storages)),this.validatePermits(),this.registerService.sendCompany(Object(l.a)(this.company))}getConfigValue(e){return Object(W.n)(this.options,e,null)}checkValid(){return Object(_.a)(this,void 0,void 0,function*(){if(this.validatePermits(),!this.valid)return this.checkIssues=!0,!1;let e="";return(yield Promise.all(this.registerService.checkPermits(this.permits)).then(i=>{for(const n of i)if(e=n?e:"ta \u0161ifra",n)return n;return!1}))?!!this.valid||(this.checkIssues=!0,!1):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka",`Ve\u0107 postoji ${e} dozvole!`,"danger"),!1)})}validatePermits(){if(this.permits){this.valid=this.permits.length>0;for(const e of this.permits){if(""===e.name||e.name.length<3){this.valid=!1;break}if(""===e.code){this.valid=!1;break}if(void 0===e.dateCreation||void 0===e.dateExpiration){this.valid=!1;break}if(void 0===e.storage&&"transport"!==this.permitType&&"collector"!==this.permitType){this.valid=!1;break}if(e.trashList.length<1){this.valid=!1;break}}}}updatePermits(e,i,n){if(void 0===n||!1!==n){void 0!==e&&(this.permitsNo=e),void 0!==i&&(this.storages$=i),this.company.permits?"transport"===this.permitType?this.company.permits=this.company.permits.filter(e=>"transport"!==e.type):"collector"===this.permitType&&(this.company.permits=this.company.permits.filter(e=>"collector"!==e.type)):this.company.permits=[],this.permits=new Array(this.permitsNo);for(let e=0;e<this.permitsNo;e++)this.permits[e]={address:{location:void 0,street:""},code:"",dateCreation:new Date,dateExpiration:new Date,name:"",storage:{name:"",maxAmount:0,address:{location:{placeCode:0,placeName:"",townshipCode:0,townshipName:"",zipCode:""},street:""},amount:0},trashList:[],type:this.permitType},"transport"!==this.permitType&&"collector"!==this.permitType||(delete this.permits[e].storage,delete this.permits[e].address);this.permits$=Object(l.a)(this.permits),this.permits.forEach(e=>this.company.permits.push(e)),this.validatePermits()}}choosePermit(e){this.registerService.sendPermit(Object(l.a)(e.code)),this.router.navigate(["/auth/register-permit"])}dateValid(e){return e.dateCreation<=e.dateExpiration}setAddress(e,i){e.address=i.address}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(o.c),d.Qb(V),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-permit"]],inputs:{permitType:"permitType",storageNo:"storageNo",storages:"storages"},decls:2,vars:2,consts:[["class","row my-1",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","my-1"],[1,"col-12"],["updatePermitForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],["for","input-permitName",1,"label"],["autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","",3,"ngModel","maxlength","minLength","ngModelOptions","required","status","placeholder","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],["class","col-6 my-1",4,"ngIf"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"row","my-2"],["nbButton","","status","success","type","button",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[1,"col-6","my-1"],["for","input-permitsStorage",1,"label"],["fullWidth","","id","input-permitsStorage","name","permitsStorage","required","",3,"ngModel","ngModelOptions","status","ngModelChange"],["permitsStorage","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(d.Dc(0,Ze,23,1,"div",0),d.Dc(1,mi,3,3,"div",1)),2&e&&(d.nc("ngIf","transport"===i.permitType||"collector"===i.permitType),d.Eb(1),d.nc("ngIf",i.permitsNo>0))},directives:[t.n,a.v,a.l,a.m,I.u,I.x,I.T,a.p,a.b,a.k,a.n,t.m,I.A,I.z,a.f,a.s,I.M,I.L,I.t,I.tb,I.ib],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();const hi=["permitRef"],vi=function(){return{standalone:!0}};function fi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"input",9),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().storageNo=i}),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.storageNo)("ngModelOptions",d.qc(2,vi))}}function Vi(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Naziv skladi\u0161ta je obavezan! "),d.Vb())}function ki(e,i){if(1&e&&(d.Wb(0,"p",53),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.storageName.minLength")," slova! ")}}function Wi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Vi,2,0,"p",52),d.Dc(2,ki,2,1,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ji(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Vrsta skladi\u0161ta je obavezna! "),d.Vb())}function yi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ji,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(8);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ii(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",3),d.Wb(3,"div",1),d.Wb(4,"label",54),d.Fc(5,"Vrsta Deponije:"),d.Vb(),d.Vb(),d.Wb(6,"div",1),d.Wb(7,"nb-select",55,56),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().$implicit.dumpType=i}),d.Wb(9,"nb-option",51),d.Fc(10,"Neopasan otpad"),d.Vb(),d.Wb(11,"nb-option",51),d.Fc(12,"Opasan otpad"),d.Vb(),d.Wb(13,"nb-option",51),d.Fc(14,"Inertan otpad"),d.Vb(),d.Vb(),d.Vb(),d.Wb(15,"div",1),d.Dc(16,yi,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(8),i=d.hc().$implicit,n=d.hc(2);d.Eb(7),d.nc("ngModel",i.dumpType)("ngModelOptions",d.qc(9,vi))("required",n.getConfigValue("forms.validation.dumpType.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(2),d.nc("value","Neopasan"),d.Eb(2),d.nc("value","Opasan"),d.Eb(2),d.nc("value","Inertan"),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues)}}function Fi(e,i){if(1&e&&(d.Wb(0,"nb-option",51),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function Ci(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Op\u0161tina je obavezna! "),d.Vb())}function Ei(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Ci,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(29);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function wi(e,i){if(1&e&&(d.Wb(0,"nb-option",51),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function zi(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Mesto je obavezno! "),d.Vb())}function Mi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,zi,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(43);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function Oi(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Po\u0161tanski broj je obavezan! "),d.Vb())}function Ni(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Po\u0161tanski broj mora biti validan! "),d.Vb())}function Ri(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Oi,2,0,"p",52),d.Dc(2,Ni,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(58);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Di(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Ulica je obavezna! "),d.Vb())}function xi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Di,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(68);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ti(e,i){1&e&&(d.Wb(0,"button",61),d.Fc(1,"\xb0"),d.Vb())}function Si(e,i){1&e&&(d.Wb(0,"button",62),d.Fc(1,"'"),d.Vb())}function Pi(e,i){1&e&&(d.Wb(0,"button",62),d.Fc(1,'"'),d.Vb())}function qi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"span",57),d.Wb(1,"input",58),d.dc("ngModelChange",function(n){d.xc(e);const t=i.$implicit;return d.hc().$implicit.geolocationNorth[t]=n}),d.Vb(),d.Dc(2,Ti,2,0,"button",59),d.Dc(3,Si,2,0,"button",60),d.Dc(4,Pi,2,0,"button",60),d.Vb()}if(2&e){const e=i.$implicit,n=d.hc().$implicit;d.Eb(1),d.nc("ngModel",n.geolocationNorth[e])("ngModelOptions",d.qc(5,vi)),d.Eb(1),d.nc("ngIf",1===e),d.Eb(1),d.nc("ngIf",3===e),d.Eb(1),d.nc("ngIf",6===e)}}function Li(e,i){1&e&&(d.Wb(0,"button",61),d.Fc(1,"\xb0"),d.Vb())}function Ui(e,i){1&e&&(d.Wb(0,"button",62),d.Fc(1,"'"),d.Vb())}function $i(e,i){1&e&&(d.Wb(0,"button",62),d.Fc(1,'"'),d.Vb())}function Ai(e,i){if(1&e){const e=d.Xb();d.Wb(0,"span",63),d.Wb(1,"input",58),d.dc("ngModelChange",function(n){d.xc(e);const t=i.$implicit;return d.hc().$implicit.geolocationEast[t]=n}),d.Vb(),d.Dc(2,Li,2,0,"button",59),d.Dc(3,Ui,2,0,"button",60),d.Dc(4,$i,2,0,"button",60),d.Vb()}if(2&e){const e=i.$implicit,n=d.hc().$implicit;d.Eb(1),d.nc("ngModel",n.geolocationEast[e])("ngModelOptions",d.qc(5,vi)),d.Eb(1),d.nc("ngIf",1===e),d.Eb(1),d.nc("ngIf",3===e),d.Eb(1),d.nc("ngIf",6===e)}}function Ki(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Veli\u010dina skladi\u0161ta je obavezna! "),d.Vb())}function Qi(e,i){1&e&&(d.Wb(0,"p",53),d.Fc(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),d.Vb())}function Bi(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Ki,2,0,"p",52),d.Dc(2,Qi,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(99),i=d.hc(2);d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.required)||i.isNaN(e.value)),d.Eb(1),d.nc("ngIf",e<1)}}function Gi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",1),d.Wb(1,"form",null,12),d.Wb(3,"nb-card",13),d.Wb(4,"nb-card-body"),d.Wb(5,"div",0),d.Wb(6,"div",1),d.Wb(7,"div",3),d.Wb(8,"div",1),d.Wb(9,"label",14),d.Fc(10,"Naziv Skladi\u0161ta:"),d.Vb(),d.Vb(),d.Wb(11,"div",1),d.Wb(12,"input",15,16),d.dc("ngModelChange",function(e){return i.$implicit.name=e}),d.Vb(),d.Vb(),d.Wb(14,"div",1),d.Dc(15,Wi,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(16,Ii,17,10,"div",17),d.Wb(17,"div",0),d.Wb(18,"div",1),d.Wb(19,"label",18),d.Fc(20,"Adresa:"),d.Vb(),d.Wb(21,"div",19),d.Wb(22,"div",20),d.Wb(23,"div",3),d.Wb(24,"div",1),d.Wb(25,"label",21),d.Fc(26,"Op\u0161tina:"),d.Vb(),d.Vb(),d.Wb(27,"div",1),d.Wb(28,"input",22,23),d.dc("ngModelChange",function(){d.xc(e);const i=d.vc(29);return d.hc(2).chooseTownship(i.value)})("ngModelChange",function(e){return i.$implicit.address.location.townshipName=e}),d.Vb(),d.Wb(30,"nb-autocomplete",null,24),d.Dc(32,Fi,2,2,"nb-option",25),d.ic(33,"async"),d.Vb(),d.Vb(),d.Wb(34,"div",1),d.Dc(35,Ei,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Wb(36,"div",20),d.Wb(37,"div",3),d.Wb(38,"div",1),d.Wb(39,"label",26),d.Fc(40,"Mesto:"),d.Vb(),d.Vb(),d.Wb(41,"div",1),d.Wb(42,"input",27,28),d.dc("ngModelChange",function(i){return d.xc(e),d.hc(2).findPlaces(i)})("ngModelChange",function(e){return i.$implicit.address.location.placeName=e}),d.Vb(),d.Wb(44,"nb-autocomplete",null,29),d.Dc(46,wi,2,2,"nb-option",25),d.ic(47,"async"),d.Vb(),d.Vb(),d.Wb(48,"div",1),d.Dc(49,Mi,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(50,"div",0),d.Wb(51,"div",30),d.Wb(52,"div",3),d.Wb(53,"div",1),d.Wb(54,"label",31),d.Fc(55,"Po\u0161tanski broj:"),d.Vb(),d.Vb(),d.Wb(56,"div",1),d.Wb(57,"input",32,33),d.dc("ngModelChange",function(e){return i.$implicit.address.location.zipCode=e}),d.Vb(),d.Vb(),d.Wb(59,"div",1),d.Dc(60,Ri,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Wb(61,"div",34),d.Wb(62,"div",3),d.Wb(63,"div",1),d.Wb(64,"label",35),d.Fc(65,"Ulica i broj:"),d.Vb(),d.Vb(),d.Wb(66,"div",1),d.Wb(67,"input",36,37),d.dc("ngModelChange",function(e){return i.$implicit.address.street=e}),d.Vb(),d.Vb(),d.Wb(69,"div",1),d.Dc(70,xi,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(71,"div",0),d.Wb(72,"div",1),d.Wb(73,"div",3),d.Wb(74,"div",1),d.Wb(75,"label",38),d.Fc(76,"Geolokacija Sever (N):"),d.Vb(),d.Vb(),d.Wb(77,"div",1),d.Dc(78,qi,5,6,"span",39),d.Vb(),d.Wb(79,"div",1),d.Sb(80),d.Vb(),d.Vb(),d.Vb(),d.Wb(81,"div",40),d.Wb(82,"div",3),d.Wb(83,"div",1),d.Wb(84,"label",41),d.Fc(85,"Geolokacija Istok (E0):"),d.Vb(),d.Vb(),d.Wb(86,"div",1),d.Dc(87,Ai,5,6,"span",42),d.Vb(),d.Wb(88,"div",1),d.Sb(89),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(90,"div",43),d.Wb(91,"div",1),d.Wb(92,"div",3),d.Wb(93,"div",1),d.Wb(94,"label",44),d.Fc(95,"Veli\u010dina skladi\u0161ta: "),d.Rb(96,"i",45),d.Vb(),d.Vb(),d.Wb(97,"div",46),d.Wb(98,"input",47,48),d.dc("ngModelChange",function(e){return i.$implicit.maxAmount=e}),d.Vb(),d.Vb(),d.Wb(100,"div",49),d.Wb(101,"nb-select",50),d.dc("ngModelChange",function(e){return i.$implicit.storageUnit=e}),d.Wb(102,"nb-option",51),d.Fc(103,"KG"),d.Vb(),d.Wb(104,"nb-option",51),d.Fc(105,"T"),d.Vb(),d.Vb(),d.Vb(),d.Wb(106,"div",1),d.Dc(107,Bi,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=i.$implicit,n=i.index,t=d.vc(13),a=d.vc(29),o=d.vc(31),r=d.vc(43),s=d.vc(45),c=d.vc(58),l=d.vc(68),b=d.vc(99),u=d.hc(2);d.Eb(12),d.nc("ngModel",e.name)("maxlength",u.getConfigValue("forms.validation.storageName.maxLength"))("minlength",u.getConfigValue("forms.validation.storageName.minLength"))("ngModelOptions",d.qc(57,vi))("placeholder","Skladi\u0161te #"+(n+1))("required",u.getConfigValue("forms.validation.storageName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||u.checkIssues),d.Eb(1),d.nc("ngIf","dump"===u.storageType),d.Eb(12),d.nc("ngModel",e.address.location.townshipName)("nbAutocomplete",o)("ngModelOptions",d.qc(58,vi))("required",u.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(33,53,u.townships$)),d.Eb(3),d.nc("ngIf",a.invalid&&a.touched||u.checkIssues),d.Eb(7),d.nc("ngModel",e.address.location.placeName)("nbAutocomplete",s)("ngModelOptions",d.qc(59,vi))("required",u.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(47,55,u.places$)),d.Eb(3),d.nc("ngIf",r.invalid&&r.touched||u.checkIssues),d.Eb(8),d.nc("ngModel",e.address.location.zipCode)("maxlength",u.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",u.getConfigValue("forms.validation.zipCode.minLength"))("ngModelOptions",d.qc(60,vi))("required",u.getConfigValue("forms.validation.zipCode.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(3),d.nc("ngIf",c.invalid&&c.touched||u.checkIssues),d.Eb(7),d.nc("ngModel",e.address.street)("maxlength",u.getConfigValue("forms.validation.street.maxLength"))("minlength",u.getConfigValue("forms.validation.street.minLength"))("ngModelOptions",d.qc(61,vi))("required",u.getConfigValue("forms.validation.street.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(3),d.nc("ngIf",l.invalid&&l.touched||u.checkIssues),d.Eb(8),d.nc("ngForOf",u.numbers),d.Eb(9),d.nc("ngForOf",u.numbers),d.Eb(9),d.nc("nbTooltip","Unesite veli\u010dinu privremenog skladi\u0161ta koju posedujete u okviru pravnog subjekta u jedinicama mere. Na\u010din odre\u0111ivanja veli\u010dine privremenog skladi\u0161ta merenje/prora\u010dun/procena."),d.Eb(2),d.nc("ngModel",e.maxAmount)("min",u.getConfigValue("forms.validation.storageSize.min"))("ngModelOptions",d.qc(62,vi))("required",u.getConfigValue("forms.validation.storageSize.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),d.Eb(3),d.nc("ngModelOptions",d.qc(63,vi))("ngModel",e.storageUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(3),d.nc("ngIf",b.invalid&&b.touched||u.checkIssues)}}function _i(e,i){if(1&e&&(d.Wb(0,"div",10),d.Dc(1,Gi,108,64,"div",11),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.storages$))}}function Zi(e,i){if(1&e&&(d.Wb(0,"div"),d.Rb(1,"register-trash-permit",64,65),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("storageNo",e.storageNo)("storages",e.storages)("permitType",e.storageType)}}let Hi=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.locationService=n,this.townships=[],this.places=[],this.showStorageInput=!1,this.checkIssues=!1,this.valid=!1,this.numbers=[...Array(7).keys()]}ngOnInit(){this.registerService.getCompany().pipe(Object(A.a)()).subscribe(e=>{if(void 0!==e&&(this.company=e,void 0!==e.storages)){let e=[];"treatment"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.treatment)):"dump"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.dumpType)):"cache"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.cache)):(e=this.company.storages,this.storages=e.filter(e=>void 0===e.cache&&void 0===e.dumpType&&void 0===e.treatment)),this.storageNo=this.storages.length,this.storages$=Object(l.a)(this.storages)}}),this.registerService.sendCompany(Object(l.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(A.a)()).subscribe(e=>{this.townships=e,this.townships$=Object(l.a)(e)}),this.validateStorage()}getConfigValue(e){return Object(W.n)(this.options,e,null)}checkValid(){return this.validateStorage(),!(void 0!==this.permitRef&&!this.permitRef.checkValid()||!this.valid&&(this.checkIssues=!0,1))}validateStorage(){if(void 0!==this.storages){this.valid=this.storages.length>0;for(const e of this.storages){if(""===e.name||e.name.length<3){this.valid=!1;break}if(e.maxAmount<1||isNaN(e.maxAmount)){this.valid=!1;break}if(""===e.address.location.placeName||""===e.address.location.townshipName){this.valid=!1;break}if(""===e.address.street){this.valid=!1;break}if("dump"===this.storageType&&""===e.dumpType){this.valid=!1;break}}}}updateStorages(e,i){if(!i)return;this.storageNo=e;let n=new Array;"treatment"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.treatment)):"dump"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.dumpType)):"cache"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.cache)):(n=this.company.storages,this.company.storages=n.filter(e=>e.treatment||e.dumpType||e.cache)),this.storages=new Array(this.storageNo);for(let t=0;t<this.storageNo;t++)this.storages[t]={address:{location:{placeName:"",placeCode:0,townshipName:"",townshipCode:0,zipCode:""},street:""},amount:0,storageUnit:"KG",geolocationEast:["0","0","0","0","0","0","0"],geolocationNorth:["0","0","0","0","0","0","0"],maxAmount:NaN,name:"",packages:[],trashes:[]},"cache"===this.storageType&&(this.storages[t].cache="cache"),"treatment"===this.storageType&&(this.storages[t].treatment="treatment"),"dump"===this.storageType&&(this.storages[t].dumpType="");this.storages$=Object(l.a)(this.storages),this.storages.forEach(e=>this.company.storages.push(e)),this.validateStorage(),void 0!==this.permitRef&&this.permitRef.updatePermits(this.storageNo,this.storages$)}getPlaces(e){void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(A.a)()).subscribe(e=>{this.places=e,this.places$=Object(l.a)(e)})}chooseTownship(e){""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(e=>this.getPlaces(e[0]))):this.townships$=Object(l.a)(this.townships)}findPlaces(e){this.places$=this.locationService.filter(e,this.places)}isNaN(e){return isNaN(e)||void 0===e}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(V),d.Qb(g))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-storage"]],viewQuery:function(e,i){if(1&e&&d.Lc(hi,1),2&e){let e;d.uc(e=d.ec())&&(i.permitRef=e.first)}},inputs:{storageType:"storageType",trashType:"trashType"},decls:25,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateStorageForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row mt-3",4,"ngIf"],[4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],["for","input-storageName",1,"label"],["autofocus","","fullWidth","","id","input-storageName","name","storageName","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["storageName","ngModel"],["class","row my-1",4,"ngIf"],["for","input-address",1,"label"],["id","input-address",1,"row","ml-2"],[1,"col-6"],["for","input-storageTownship",1,"label"],["autocomplete","off","fullWidth","","id","input-storageTownship","name","storageTownship","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storageTownship","ngModel"],["autoCompleteTownship",""],[3,"value",4,"ngFor","ngForOf"],["for","input-storagePlace",1,"label"],["autocomplete","off","fullWidth","","id","input-storagePlace","name","storagePlace","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storagePlace","ngModel"],["autoCompletePlace",""],[1,"col-3"],["for","input-storageZipCode",1,"label"],["fullWidth","","id","input-storageZipCode","name","storageZipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageZipCode","ngModel"],[1,"col-9"],["for","input-storageStreet",1,"label"],["fullWidth","","id","input-storageStreet","name","storageStreet","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageStreet","ngModel"],["for","input-geolocationN",1,"label"],["id","input-geolocationN",4,"ngFor","ngForOf"],[1,"col-12","mt-1"],["for","input-geolocationE",1,"label"],["id","input-geolocationE",4,"ngFor","ngForOf"],[1,"row","mb-2"],["for","input-storageSize",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],[1,"col-10","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","placeholder","0","onkeypress","return /[0-9.]/i.test(event.key)","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-dumpType",1,"label"],["fullWidth","","id","input-dumpType","name","dumpType","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["dumpType","ngModel"],["id","input-geolocationN"],["fullWidth","","maxlength","1","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","type","text",1,"col-1",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","class","col-1 mb-1 geolocation-sign","disabled","",4,"ngIf"],["nbButton","","disabled","","style","max-width: 2vw; font-size: 1.5rem","class","col-1 mb-1",4,"ngIf"],["nbButton","","disabled","",1,"col-1","mb-1","geolocation-sign"],["nbButton","","disabled","",1,"col-1","mb-1",2,"max-width","2vw","font-size","1.5rem"],["id","input-geolocationE"],[3,"storageNo","storages","permitType"],["permitRef",""]],template:function(e,i){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"form",null,2),d.Wb(4,"div",3),d.Wb(5,"div",1),d.Wb(6,"label",4),d.Fc(7,"Broj skladi\u0161ta:"),d.Vb(),d.Vb(),d.Wb(8,"div",1),d.Wb(9,"nb-button-group"),d.Wb(10,"button",5),d.dc("pressedChange",function(e){return i.updateStorages(1,e)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",5),d.dc("pressedChange",function(e){return i.updateStorages(2,e)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",5),d.dc("pressedChange",function(e){return i.updateStorages(3,e)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",5),d.dc("pressedChange",function(e){return i.updateStorages(4,e)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",5),d.dc("pressedChange",function(e){return i.updateStorages(5,e)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",5),d.dc("pressedChange",function(){return i.showStorageInput=!i.showStorageInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,fi,1,3,"input",6),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(23,_i,3,3,"div",7),d.Dc(24,Zi,3,3,"div",8)),2&e&&(d.Eb(22),d.nc("ngIf",i.showStorageInput),d.Eb(1),d.nc("ngIf",i.storageNo>0),d.Eb(1),d.nc("ngIf","production"!==i.storageType))},directives:[a.v,a.l,a.m,I.u,I.x,t.n,I.T,a.p,a.b,a.k,a.n,t.m,I.A,I.z,a.f,a.g,a.s,I.r,I.q,I.Pb,I.tb,I.ib,I.t,gi],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}.geolocation-sign[_ngcontent-%COMP%]{max-width:2vw;font-size:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:unset}"]}),e})();const Xi=["permitRef"],Ji=function(){return{standalone:!0}};function Yi(e,i){if(1&e){const e=d.Xb();d.Wb(0,"input",10),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().vehiclesNo=i}),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.vehiclesNo)("ngModelOptions",d.qc(2,Ji))}}function en(e,i){1&e&&(d.Wb(0,"p",25),d.Fc(1," Registarski broj tablica je obavezan! "),d.Vb())}function nn(e,i){1&e&&(d.Wb(0,"p",25),d.Fc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),d.Vb())}function tn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,en,2,0,"p",24),d.Dc(2,nn,2,0,"p",24),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.pattern)||(null==e.errors?null:e.errors.minLength))}}function an(e,i){1&e&&(d.Wb(0,"p",25),d.Fc(1," Vrsta vozila je obavezna! "),d.Vb())}function on(e,i){if(1&e&&(d.Ub(0),d.Dc(1,an,2,0,"p",24),d.Tb()),2&e){d.hc();const e=d.vc(24);d.Eb(1),d.nc("ngIf",!e.value)}}function rn(e,i){if(1&e&&(d.Wb(0,"div",13),d.Wb(1,"form",null,14),d.Wb(3,"nb-card",15),d.Wb(4,"nb-card-body"),d.Wb(5,"div",0),d.Wb(6,"div",1),d.Wb(7,"div",3),d.Wb(8,"div",1),d.Wb(9,"label",16),d.Fc(10,"Registarski broj tablice:"),d.Vb(),d.Vb(),d.Wb(11,"div",1),d.Wb(12,"input",17,18),d.dc("ngModelChange",function(e){return i.$implicit.licensePlate=e}),d.Vb(),d.Vb(),d.Wb(14,"div",1),d.Dc(15,tn,3,2,"ng-container",19),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"div",0),d.Wb(17,"div",1),d.Wb(18,"div",3),d.Wb(19,"div",1),d.Wb(20,"label",20),d.Fc(21,"Vrsta vozila:"),d.Vb(),d.Vb(),d.Wb(22,"div",1),d.Wb(23,"nb-select",21,22),d.dc("ngModelChange",function(e){return i.$implicit.type=e}),d.Wb(25,"nb-option",23),d.Fc(26,"Kamion"),d.Vb(),d.Wb(27,"nb-option",23),d.Fc(28,"Kombi"),d.Vb(),d.Wb(29,"nb-option",23),d.Fc(30,"Automobil"),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",1),d.Dc(32,on,2,1,"ng-container",19),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=i.$implicit,n=d.vc(13),t=d.vc(24),a=d.hc(2);d.Eb(12),d.nc("ngModel",e.licensePlate)("maxlength",a.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",a.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",d.qc(18,Ji))("pattern",a.getConfigValue("forms.validation.licensePlate.pattern"))("required",a.getConfigValue("forms.validation.licensePlate.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||a.checkIssues),d.Eb(8),d.nc("ngModel",e.type)("ngModelOptions",d.qc(19,Ji))("required",a.getConfigValue("forms.validation.vehicleType.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(2),d.nc("value","kamion"),d.Eb(2),d.nc("value","kombi"),d.Eb(2),d.nc("value","automobil"),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||a.checkIssues)}}function sn(e,i){if(1&e&&(d.Wb(0,"div",11),d.Dc(1,rn,33,20,"div",12),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.vehicles$))}}let cn=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.toastrService=n,this.vehiclesNo=0,this.valid=!1,this.checkIssues=!1,this.showVehicleInput=!1}ngOnInit(){this.registerService.getCompany().pipe(Object(A.a)()).subscribe(e=>{void 0!==e&&(this.company=e,void 0!==e.vehicles&&(this.vehiclesNo=this.company.vehicles.length,this.vehicles=this.company.vehicles,this.vehicles$=Object(l.a)(this.vehicles)))}),this.registerService.sendCompany(Object(l.a)(this.company)),this.validateVehicles()}getConfigValue(e){return Object(W.n)(this.options,e,null)}checkValid(){return Object(_.a)(this,void 0,void 0,function*(){if(this.validateVehicles(),!this.valid)return this.checkIssues=!0,!1;let e="";return(yield Promise.all(this.registerService.checkVehicles(this.vehicles)).then(i=>{for(const n of i)if(e=n?e:"ta registarska tablica",n)return n;return!1}))?!(void 0!==this.permitRef&&!(yield this.permitRef.checkValid())||!this.valid&&(this.checkIssues=!0,1)):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka",`Ve\u0107 postoji ${e}!`,"danger"),!1)})}validateVehicles(){if(void 0!==this.vehicles){this.valid=this.vehicles.length>0;for(const e of this.vehicles){if(""===e.licensePlate||e.licensePlate.length<9){this.valid=!1;break}if(""===e.type){this.valid=!1;break}}}}updateVehicles(e,i){if(i){this.vehiclesNo=e,this.vehicles=new Array(this.vehiclesNo);for(let e=0;e<this.vehiclesNo;e++)this.vehicles[e]={licensePlate:"",type:""};this.company.vehicles=this.vehicles,this.vehicles$=Object(l.a)(this.vehicles),this.validateVehicles()}}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(V),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-transport"]],viewQuery:function(e,i){if(1&e&&d.Lc(Xi,1),2&e){let e;d.uc(e=d.ec())&&(i.permitRef=e.first)}},decls:26,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateVehicleForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row pt-4",4,"ngIf"],[3,"permitType"],["permitRef",""],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],["transportForm","ngForm"],["accent","danger"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"form",null,2),d.Wb(4,"div",3),d.Wb(5,"div",1),d.Wb(6,"label",4),d.Fc(7,"Broj vozila:"),d.Vb(),d.Vb(),d.Wb(8,"div",1),d.Wb(9,"nb-button-group"),d.Wb(10,"button",5),d.dc("pressedChange",function(e){return i.updateVehicles(1,e)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",5),d.dc("pressedChange",function(e){return i.updateVehicles(2,e)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",5),d.dc("pressedChange",function(e){return i.updateVehicles(3,e)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",5),d.dc("pressedChange",function(e){return i.updateVehicles(4,e)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",5),d.dc("pressedChange",function(e){return i.updateVehicles(5,e)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",5),d.dc("pressedChange",function(){return i.showVehicleInput=!i.showVehicleInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,Yi,1,3,"input",6),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(23,sn,3,3,"div",7),d.Rb(24,"register-trash-permit",8,9)),2&e&&(d.Eb(22),d.nc("ngIf",i.showVehicleInput),d.Eb(1),d.nc("ngIf",i.vehiclesNo>0),d.Eb(1),d.nc("permitType","transport"))},directives:[a.v,a.l,a.m,I.u,I.x,t.n,gi,I.T,a.p,a.b,a.k,a.n,t.m,I.A,I.z,a.f,a.q,a.s,I.tb,I.ib],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),e})();const ln=["productionRef"],bn=["transportRef"],dn=["collectorRef"],un=["treatmentRef"],pn=["dumpRef"],mn=["cacheRef"];function gn(e,i){1&e&&(d.Wb(0,"nb-card",16),d.Wb(1,"nb-card-body"),d.Wb(2,"p",17),d.Fc(3,"Nije potrebno uno\u0161enje dodatnih informacija za Posebne tokove otpada. Sam unos \u0107e se obavljati u samoj aplikaciji."),d.Vb(),d.Vb(),d.Vb())}function hn(e,i){1&e&&d.Rb(0,"register-trash-storage",22,23),2&e&&d.nc("storageType","production")}function vn(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,19),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Proizvodnja \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,hn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","production"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("production").status)("icon",i.checkCompletion("production").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function fn(e,i){1&e&&d.Rb(0,"register-trash-transport",null,26)}function Vn(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,24),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Transport \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,fn,2,0,"register-trash-transport",25),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","transport"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("transport").status)("icon",i.checkCompletion("transport").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function kn(e,i){1&e&&d.Rb(0,"register-trash-permit",29,30),2&e&&d.nc("permitType","collector")}function Wn(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,27),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Sakuplja\u010d \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,kn,2,1,"register-trash-permit",28),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","collector"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("collector").status)("icon",i.checkCompletion("collector").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function jn(e,i){1&e&&d.Rb(0,"register-trash-storage",22,32),2&e&&d.nc("storageType","treatment")}function yn(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,31),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Tretman \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,jn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","treatment"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("treatment").status)("icon",i.checkCompletion("treatment").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function In(e,i){1&e&&d.Rb(0,"register-trash-storage",22,34),2&e&&d.nc("storageType","dump")}function Fn(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,33),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Odlaganje \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,In,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","disposal"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("dump").status)("icon",i.checkCompletion("dump").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function Cn(e,i){1&e&&d.Rb(0,"register-trash-storage",22,36),2&e&&d.nc("storageType","cache")}function En(e,i){if(1&e&&(d.Wb(0,"nb-accordion-item",18,35),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Skladi\u0161tenje \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,Cn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),i=d.hc();d.nc("collapsed","cache"!==i.activeTab),d.Eb(4),d.nc("status",i.checkCompletion("cache").status)("icon",i.checkCompletion("cache").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}let wn=(()=>{class e{constructor(e,i,n,t,a){this.registerService=e,this.router=i,this.toastrService=n,this.roleService=t,this.route=a,this.valid=!1,this.loading=!1,this.activeTab="",this.activeTab=this.route.snapshot.paramMap.get("tab")}ngOnInit(){this.registerService.getOperations().pipe(Object(A.a)()).subscribe(e=>{this.roleService.getOperations(e,!0).pipe(Object(A.a)()).subscribe(e=>{this.operations=e})})}checkCompletion(e){return"production"===e&&void 0!==this.productionRef&&this.operations.production&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operations.transport&&this.transportRef.valid||"collector"===e&&void 0!==this.collectorRef&&this.operations.collector&&this.collectorRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operations.treatment&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operations.disposal&&this.dumpRef.valid||"cache"===e&&void 0!==this.cacheRef&&this.operations.cache&&this.cacheRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}validateInformation(e){return Object(_.a)(this,void 0,void 0,function*(){this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout(()=>Object(_.a)(this,void 0,void 0,function*(){this.valid=!0,void 0!==this.productionRef&&this.operations.production&&(this.productionRef.checkValid()||(this.valid=!1)),void 0!==this.transportRef&&this.operations.transport&&(this.valid=yield this.transportRef.checkValid()),void 0!==this.collectorRef&&this.operations.collector&&(this.valid=yield this.collectorRef.checkValid()),void 0!==this.treatmentRef&&this.operations.treatment&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.operations.disposal&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.cacheRef&&this.operations.cache&&(this.cacheRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-confirmation"]):(e.closeAll(),e.multi=!1,this.loading=!1,this.toastrService.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"))}),1e3)})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(V),d.Qb(o.c),d.Qb(y.a),d.Qb(z.a),d.Qb(o.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-informations"]],viewQuery:function(e,i){if(1&e&&(d.Lc(ln,1),d.Lc(bn,1),d.Lc(dn,1),d.Lc(un,1),d.Lc(pn,1),d.Lc(mn,1)),2&e){let e;d.uc(e=d.ec())&&(i.productionRef=e.first),d.uc(e=d.ec())&&(i.transportRef=e.first),d.uc(e=d.ec())&&(i.collectorRef=e.first),d.uc(e=d.ec())&&(i.treatmentRef=e.first),d.uc(e=d.ec())&&(i.dumpRef=e.first),d.uc(e=d.ec())&&(i.cacheRef=e.first)}},decls:24,vars:8,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["class","bg-light",4,"ngIf"],["size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operations"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Potvrda"],[1,"bg-light"],[1,"justify-content-center","d-flex"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[3,"storageType",4,"ngIf"],[3,"storageType"],["productionRef",""],["accordionTransport",""],[4,"ngIf"],["transportRef",""],["accordionCollector",""],[3,"permitType",4,"ngIf"],[3,"permitType"],["collectorRef",""],["accordionTreatment",""],["treatmentRef",""],["accordionDump",""],["dumpRef",""],["accordionCache",""],["cacheRef",""]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Rb(3,"nb-step",2),d.Rb(4,"nb-step",3),d.Rb(5,"nb-step",4),d.Wb(6,"nb-step",5),d.Dc(7,gn,4,0,"nb-card",6),d.Wb(8,"nb-accordion",7,8),d.Dc(10,vn,7,4,"nb-accordion-item",9),d.Dc(11,Vn,7,4,"nb-accordion-item",9),d.Dc(12,Wn,7,4,"nb-accordion-item",9),d.Dc(13,yn,7,4,"nb-accordion-item",9),d.Dc(14,Fn,7,4,"nb-accordion-item",9),d.Dc(15,En,7,4,"nb-accordion-item",9),d.Vb(),d.Wb(16,"div",10),d.Wb(17,"div",11),d.Wb(18,"button",12),d.Fc(19," Nazad "),d.Vb(),d.Vb(),d.Wb(20,"div",13),d.Wb(21,"button",14),d.dc("click",function(){d.xc(e);const n=d.vc(9);return i.validateInformation(n)}),d.Fc(22," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(23,"nb-step",15),d.Vb()}2&e&&(d.Eb(7),d.nc("ngIf",i.operations.specialWaste),d.Eb(1),d.nc("nbSpinner",i.loading),d.Eb(2),d.nc("ngIf",i.operations.production),d.Eb(1),d.nc("ngIf",i.operations.transport),d.Eb(1),d.nc("ngIf",i.operations.collector),d.Eb(1),d.nc("ngIf",i.operations.treatment),d.Eb(1),d.nc("ngIf",i.operations.disposal),d.Eb(1),d.nc("ngIf",i.operations.cache))},directives:[I.Bb,I.Ab,t.n,I.g,I.yb,I.t,o.d,I.A,I.z,I.i,I.j,I.Q,I.h,Hi,cn,gi],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),e})();function zn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ime je obavezno! "),d.Vb())}function Mn(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," ")}}function On(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ime mora biti validno! "),d.Vb())}function Nn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,zn,2,0,"p",45),d.Dc(2,Mn,2,1,"p",45),d.Dc(3,On,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(18);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Rn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Prezime je obavezno! "),d.Vb())}function Dn(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," ")}}function xn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Prezime mora biti validno! "),d.Vb())}function Tn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Rn,2,0,"p",45),d.Dc(2,Dn,2,1,"p",45),d.Dc(3,xn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(28);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Sn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Korisni\u010dko ime je obavezno! "),d.Vb())}function Pn(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.username.minLength"),"! ")}}function qn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Korisni\u010dko ime mora biti validno! Ne sme imati razmaka ili karaktere '@!?'. "),d.Vb())}function Ln(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Sn,2,0,"p",45),d.Dc(2,Pn,2,1,"p",45),d.Dc(3,qn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(39);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Un(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Telefon je obavezan! "),d.Vb())}function $n(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Telefon mora biti validan! "),d.Vb())}function An(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Un,2,0,"p",45),d.Dc(2,$n,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(49);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Kn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Email je obavezan! "),d.Vb())}function Qn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Email mora biti validan! "),d.Vb())}function Bn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Kn,2,0,"p",45),d.Dc(2,Qn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(61);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Gn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function _n(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function Zn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra mora biti validna! Ne sme imati razmake! "),d.Vb())}function Hn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Gn,2,0,"p",45),d.Dc(2,_n,2,1,"p",45),d.Dc(3,Zn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(73);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Xn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ponovna \u0161ifra je obavezna! "),d.Vb())}function Jn(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),d.Vb())}function Yn(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Xn,2,0,"p",45),d.Dc(2,Jn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(86),i=d.vc(73);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",i.value!==e.value)}}let et=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.registerService=i,this.router=n,this.toastrService=t,this.checkIssues=!1,this.showPassword="eye",this.retypePassword=""}ngOnInit(){this.registerService.getUser().pipe(Object(A.a)()).subscribe(e=>{this.user=e}),this.registerService.sendUser(Object(l.a)(this.user))}getConfigValue(e){return Object(W.n)(this.options,e,null)}validateUser(e){return Object(_.a)(this,void 0,void 0,function*(){if(e.invalid)return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1;let i="";if(!(yield Promise.all(this.registerService.checkUser(this.user)).then(e=>(i=e[0]?i:"to korisni\u010dko ime",i=e[1]?i:"taj telefon",i=e[2]?i:"taj email",e[0]&&e[1]&&e[2]))))return this.checkIssues=!0,void this.toastrService.showToast(`Ve\u0107 postoji ${i}!`,`Promenite ${i} da biste nastavili.`,"danger");e.valid&&this.retypePassword===this.user.password?yield this.router.navigate(["auth/register-company"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"))})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(V),d.Qb(o.c),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-user"]],decls:102,vars:58,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["tabindex","-1"],["userForm","ngForm"],[1,"row","my-1"],[1,"col-6"],["for","input-firstName",1,"label"],["autofocus","","fullWidth","","id","input-firstName","name","firstName","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime","tabindex","1",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["firstName","ngModel"],[4,"ngIf"],["for","input-lastName",1,"label"],["fullWidth","","id","input-lastName","name","lastName","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime","tabindex","2",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["lastName","ngModel"],["for","input-username",1,"label"],["fullWidth","","id","input-username","name","username","nbInput","","placeholder","Korisni\u010dko ime","tabindex","3",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["username","ngModel"],["for","input-telephone",1,"label"],["fullWidth","","id","input-telephone","name","phone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon","tabindex","4",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telephone","ngModel"],["for","input-email",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["tabindex","5","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","6",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","7",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3"],["nbButton","","fullWidth","","status","success","tabindex","8","type","submit",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"h1",3),d.Fc(4,"Registruj se!"),d.Vb(),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"nb-stepper",4),d.Wb(7,"nb-step",5),d.Wb(8,"form",6,7),d.Wb(10,"div",8),d.Wb(11,"div",9),d.Wb(12,"div",1),d.Wb(13,"div",2),d.Wb(14,"label",10),d.Fc(15,"Ime:"),d.Vb(),d.Vb(),d.Wb(16,"div",2),d.Wb(17,"input",11,12),d.dc("ngModelChange",function(e){return i.user.firstName=e}),d.Vb(),d.Vb(),d.Wb(19,"div",2),d.Dc(20,Nn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(21,"div",9),d.Wb(22,"div",1),d.Wb(23,"div",2),d.Wb(24,"label",14),d.Fc(25,"Prezime:"),d.Vb(),d.Vb(),d.Wb(26,"div",2),d.Wb(27,"input",15,16),d.dc("ngModelChange",function(e){return i.user.lastName=e}),d.Vb(),d.Vb(),d.Wb(29,"div",2),d.Dc(30,Tn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",8),d.Wb(32,"div",9),d.Wb(33,"div",1),d.Wb(34,"div",2),d.Wb(35,"label",17),d.Fc(36,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(37,"div",2),d.Wb(38,"input",18,19),d.dc("ngModelChange",function(e){return i.user.username=e}),d.Vb(),d.Vb(),d.Wb(40,"div",2),d.Dc(41,Ln,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(42,"div",9),d.Wb(43,"div",1),d.Wb(44,"div",2),d.Wb(45,"label",20),d.Fc(46,"Telefon:"),d.Vb(),d.Vb(),d.Wb(47,"div",2),d.Wb(48,"input",21,22),d.dc("ngModelChange",function(e){return i.user.phone=e}),d.Vb(),d.Vb(),d.Wb(50,"div",2),d.Dc(51,An,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(52,"div",8),d.Wb(53,"div",2),d.Wb(54,"div",1),d.Wb(55,"div",2),d.Wb(56,"label",23),d.Fc(57,"Email: "),d.Rb(58,"i",24),d.Vb(),d.Vb(),d.Wb(59,"div",2),d.Wb(60,"input",25,26),d.dc("ngModelChange",function(e){return i.user.email=e}),d.Vb(),d.Vb(),d.Wb(62,"div",2),d.Dc(63,Bn,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(64,"div",8),d.Wb(65,"div",9),d.Wb(66,"div",1),d.Wb(67,"div",2),d.Wb(68,"label",27),d.Fc(69,"\u0160ifra: "),d.Rb(70,"i",24),d.Vb(),d.Vb(),d.Wb(71,"div",28),d.Wb(72,"input",29,30),d.dc("ngModelChange",function(e){return i.user.password=e}),d.Vb(),d.Vb(),d.Wb(74,"div",31),d.Wb(75,"button",32),d.dc("click",function(){return i.showPassword="eye"===i.showPassword?"eye-off":"eye"}),d.Rb(76,"nb-icon",33),d.Vb(),d.Vb(),d.Wb(77,"div",2),d.Dc(78,Hn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(79,"div",9),d.Wb(80,"div",1),d.Wb(81,"div",2),d.Wb(82,"label",34),d.Fc(83,"Ponovi \u0161ifru:"),d.Vb(),d.Vb(),d.Wb(84,"div",2),d.Wb(85,"input",35,36),d.dc("ngModelChange",function(e){return i.retypePassword=e}),d.Vb(),d.Vb(),d.Wb(87,"div",2),d.Dc(88,Yn,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",37),d.Wb(90,"div",2),d.Wb(91,"button",38),d.dc("click",function(){d.xc(e);const n=d.vc(9);return i.validateUser(n)}),d.Fc(92," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(93,"nb-step",39),d.Rb(94,"nb-step",40),d.Rb(95,"nb-step",41),d.Rb(96,"nb-step",42),d.Vb(),d.Vb(),d.Wb(97,"div",2),d.Wb(98,"section",43),d.Fc(99," Ve\u0107 imate nalog? "),d.Wb(100,"a",44),d.Fc(101,"Uloguj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(18),n=d.vc(28),t=d.vc(39),a=d.vc(49),o=d.vc(61),r=d.vc(73),s=d.vc(86);d.Eb(17),d.nc("ngModel",i.user.firstName)("maxlength",i.getConfigValue("forms.validation.firstName.maxLength"))("minlength",i.getConfigValue("forms.validation.firstName.minLength"))("pattern",i.getConfigValue("forms.validation.firstName.pattern"))("required",i.getConfigValue("forms.validation.firstName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.user.lastName)("maxlength",i.getConfigValue("forms.validation.lastName.maxLength"))("minlength",i.getConfigValue("forms.validation.lastName.minLength"))("pattern",i.getConfigValue("forms.validation.lastName.pattern"))("required",i.getConfigValue("forms.validation.lastName.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||i.checkIssues),d.Eb(8),d.nc("ngModel",i.user.username)("maxlength",i.getConfigValue("forms.validation.username.maxLength"))("minlength",i.getConfigValue("forms.validation.username.minLength"))("pattern",i.getConfigValue("forms.validation.username.pattern"))("required",i.getConfigValue("forms.validation.username.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.user.phone)("maxlength",i.getConfigValue("forms.validation.telephone.maxLength"))("minlength",i.getConfigValue("forms.validation.telephone.minLength"))("required",i.getConfigValue("forms.validation.telephone.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(3),d.nc("ngIf",a.invalid&&a.touched||i.checkIssues),d.Eb(7),d.nc("nbTooltip","Email ne delimo, on slu\u017ei za lak\u0161u komunikaciju sa nama."),d.Eb(2),d.nc("ngModel",i.user.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(3),d.nc("ngIf",o.invalid&&o.touched||i.checkIssues),d.Eb(7),d.nc("nbTooltip","Unesite minimum 6 karaktera za kreiranje lozinke. Preporuka je da Va\u0161a lozinka ima vi\u0161e od 8 karaktera da bi bila \u0161to bezbednija, koristite znakove kao \u0161to su !,@,$..."),d.Eb(2),d.nc("ngModel",i.user.password)("maxlength",i.getConfigValue("forms.validation.password.maxLength"))("minlength",i.getConfigValue("forms.validation.password.minLength"))("pattern",i.getConfigValue("forms.validation.password.pattern"))("required",i.getConfigValue("forms.validation.password.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("icon",i.showPassword),d.Eb(2),d.nc("ngIf",r.invalid&&r.touched||i.checkIssues),d.Eb(7),d.nc("ngModel",i.retypePassword)("maxlength",i.getConfigValue("forms.validation.password.maxLength"))("minlength",i.getConfigValue("forms.validation.password.minLength"))("pattern",i.getConfigValue("forms.validation.password.pattern"))("required",i.getConfigValue("forms.validation.password.required"))("status",s.dirty?s.invalid||r.value!==s.value?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(3),d.nc("ngIf",s.invalid&&r.touched||s.touched||i.checkIssues)}},directives:[I.Bb,I.Ab,a.v,a.l,a.m,I.T,a.b,a.k,a.n,a.f,a.g,a.q,a.s,t.n,I.Pb,I.t,I.Q,o.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),e})();const it=["wasteManagerForm"];function nt(e,i){if(1&e&&(d.Wb(0,"nb-card",33),d.Wb(1,"nb-card-body",34),d.Fc(2),d.Vb(),d.Vb()),2&e){d.hc();const e=d.vc(28),i=d.vc(54);d.Eb(2),d.Hc(" Ako se bavite ",e.checked||i.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function tt(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function at(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function ot(e,i){if(1&e&&(d.Ub(0),d.Dc(1,tt,2,0,"p",45),d.Dc(2,at,2,1,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(17);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function rt(e,i){1&e&&(d.Wb(0,"p",46),d.Fc(1," Prezime zakonskog zastupnika je obavezno! "),d.Vb())}function st(e,i){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function ct(e,i){if(1&e&&(d.Ub(0),d.Dc(1,rt,2,0,"p",45),d.Dc(2,st,2,1,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(27);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function lt(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",35),d.Wb(1,"nb-card",9),d.Wb(2,"nb-card-header"),d.Wb(3,"div",5),d.Fc(4," Lice odgovorno za upravljanje otpadom: "),d.Rb(5,"i",36),d.Vb(),d.Wb(6,"p",37),d.Fc(7," Ako se bavite otpadom/posebnim tokovima otpada morate imati odre\u0111eno lice za upravaljanje otpadom, ako \u017eelite da odaberete da mi to radimo ostavite sebe pa kasnije u aplikaciji mo\u0107i \u0107ete da promenite. "),d.Vb(),d.Vb(),d.Wb(8,"nb-card-body"),d.Wb(9,"div",5),d.Wb(10,"div",8),d.Wb(11,"div",5),d.Wb(12,"div",9),d.Wb(13,"label",38),d.Fc(14,"Ime:"),d.Vb(),d.Vb(),d.Wb(15,"div",9),d.Wb(16,"input",39,40),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().company.wasteManager.firstName=i}),d.Vb(),d.Vb(),d.Wb(18,"div",9),d.Dc(19,ot,3,2,"ng-container",41),d.Vb(),d.Vb(),d.Vb(),d.Wb(20,"div",8),d.Wb(21,"div",5),d.Wb(22,"div",9),d.Wb(23,"label",42),d.Fc(24,"Prezime:"),d.Vb(),d.Vb(),d.Wb(25,"div",9),d.Wb(26,"input",43,44),d.dc("ngModelChange",function(i){return d.xc(e),d.hc().company.wasteManager.lastName=i}),d.Vb(),d.Vb(),d.Wb(28,"div",9),d.Dc(29,ct,3,2,"ng-container",41),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(17),i=d.vc(27),n=d.hc();d.Eb(5),d.nc("nbTooltip","Na osnovu Zakona o upravljanju otadom obaveza pravnog subjekta je da imenuje lice odgovorno za upravljanje otpadom, s tim u vezi proverite unete podatke ili ih promenite ako je potrebno."),d.Eb(11),d.nc("ngModel",n.company.wasteManager.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues),d.Eb(7),d.nc("ngModel",n.company.wasteManager.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||n.checkIssues)}}let bt=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.router=i,this.registerService=n,this.toastrService=t,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.trashOperationsNo=0,this.specialWasteNo=0,this.packageOperationsNo=0,this.waterOperationsNo=0,this.airOperationsNo=0,this.operations=[],this.checkIssues=!1}ngOnInit(){this.registerService.getOperations().pipe(Object(A.a)()).subscribe(e=>{void 0!==e&&(this.operations=e,this.updateOperations())}),this.registerService.getCompany().pipe(Object(A.a)()).subscribe(e=>{this.company=e}),this.registerService.getUser().pipe(Object(A.a)()).subscribe(e=>{this.company.wasteManager.firstName=e.firstName,this.company.wasteManager.lastName=e.lastName}),this.registerService.sendCompany(Object(l.a)(this.company)),this.registerService.sendOperations(Object(l.a)(this.operations))}getConfigValue(e){return Object(W.n)(this.options,e,null)}validateOperations(){if(this.form.invalid)return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning");this.trashOperationNumber(!0)+this.specialWasteOperationNumber(!0)===0&&(this.company.wasteManager.firstName="",this.company.wasteManager.lastName=""),this.operations.length>0?(this.clearRemovedOperationsData(),this.router.navigate(["auth/register-informations"])):this.toastrService.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}clearRemovedOperationsData(){this.company.vehicles=[],this.company.storages=[],this.company.permits=[],this.company.specialWastes=[],this.registerService.sendCompany(Object(l.a)(this.company)),this.registerService.sendOperations(Object(l.a)(this.operations))}trashOperationNumber(e=!1){return e?this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length:this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length+""}specialWasteOperationNumber(e=!1){return e?this.operations.filter(e=>e.toLowerCase().includes("tokova")).length:this.operations.filter(e=>e.toLowerCase().includes("tokova")).length+""}updateOperations(){this.trashOperationsNo=this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length,this.specialWasteNo=this.operations.filter(e=>e.toLowerCase().includes("tokova")).length}addProcessOperation(e,i,n){this.addOperation(e,i),n.checked||(n.checked=!0),n.disabled||n.setDisabledState(!0),e.includes("Neopasnog")?this.addOperation("Proizvodnja Neopasnog Otpada",i,!1):this.addOperation("Proizvodnja Opasnog Otpada",i,!1)}addOperation(e,i,n=!0){i?this.operations.includes(e)||this.operations.push(e):n&&this.operations.splice(this.operations.findIndex(i=>i===e),1)}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.a),d.Qb(o.c),d.Qb(V),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-operations"]],viewQuery:function(e,i){if(1&e&&d.Lc(it,1),2&e){let e;d.uc(e=d.ec())&&(i.form=e.first)}},decls:103,vars:26,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["SakupljacNeopasnogOtpada",""],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["SakupljacOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["badgeStatus","primary","responsive","true","tabTitle","Posebni tokovi otpada",3,"badgeText","tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],[1,"bg-light"],[1,"justify-content-center","text-muted","d-flex"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["wasteManagerForm","ngForm"],["class","row flex-fill ml-3","style","max-width: 54.5vw;",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-company",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"],[1,"row","flex-fill","ml-3",2,"max-width","54.5vw"],[1,"pl-1","my-auto","fa","fa-info-circle",3,"nbTooltip"],[1,"card-subtitle","text-secondary","mt-1"],["for","input-fNameManager",1,"label"],["fullWidth","","id","input-fNameManager","name","fNameManager","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameManager","ngModel"],[4,"ngIf"],["for","input-lNameManager",1,"label"],["fullWidth","","id","input-lNameManager","name","lNameManager","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameManager","ngModel"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Wb(6,"nb-step",4),d.Wb(7,"div",5),d.Wb(8,"nb-tabset"),d.Wb(9,"nb-tab",6),d.Wb(10,"div",7),d.Wb(11,"nb-card",8),d.Wb(12,"nb-card-header"),d.Fc(13,"Neopasan otpad"),d.Vb(),d.Wb(14,"nb-card-body"),d.Wb(15,"div",9),d.Wb(16,"nb-toggle",10,11),d.dc("checkedChange",function(e){return i.addOperation("Proizvodnja Neopasnog Otpada",e)}),d.Fc(18,"Proizvodnja "),d.Vb(),d.Vb(),d.Wb(19,"div",9),d.Wb(20,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Transport Neopasnog Otpada",e)}),d.Fc(21,"Transport "),d.Vb(),d.Vb(),d.Wb(22,"div",9),d.Wb(23,"nb-toggle",12,13),d.dc("checkedChange",function(e){return i.addOperation("Sakupljac Neopasnog Otpada",e)}),d.Fc(25," Sakuplja\u010d "),d.Vb(),d.Vb(),d.Wb(26,"div",9),d.Wb(27,"nb-toggle",12,14),d.dc("checkedChange",function(n){d.xc(e);const t=d.vc(17);return i.addProcessOperation("Tretman Neopasnog Otpada",n,t)}),d.Fc(29,"Tretman "),d.Vb(),d.Vb(),d.Wb(30,"div",9),d.Wb(31,"nb-toggle",12,15),d.dc("checkedChange",function(n){d.xc(e);const t=d.vc(17);return i.addProcessOperation("Odlaganje Neopasnog Otpada",n,t)}),d.Fc(33,"Odlaganje "),d.Vb(),d.Vb(),d.Wb(34,"div",9),d.Wb(35,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Skladi\u0161tenje Neopasnog Otpada",e)}),d.Fc(36," Skladi\u0161tenje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(37,"nb-card",8),d.Wb(38,"nb-card-header"),d.Fc(39,"Opasan otpad"),d.Vb(),d.Wb(40,"nb-card-body"),d.Wb(41,"div",9),d.Wb(42,"nb-toggle",10,16),d.dc("checkedChange",function(e){return i.addOperation("Proizvodnja Opasnog Otpada",e)}),d.Fc(44," Proizvodnja "),d.Vb(),d.Vb(),d.Wb(45,"div",9),d.Wb(46,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Transport Opasnog Otpada",e)}),d.Fc(47,"Transport "),d.Vb(),d.Vb(),d.Wb(48,"div",9),d.Wb(49,"nb-toggle",12,17),d.dc("checkedChange",function(e){return i.addOperation("Sakupljac Opasnog Otpada",e)}),d.Fc(51," Sakuplja\u010d "),d.Vb(),d.Vb(),d.Wb(52,"div",9),d.Wb(53,"nb-toggle",12,18),d.dc("checkedChange",function(n){d.xc(e);const t=d.vc(43);return i.addProcessOperation("Tretman Opasnog Otpada",n,t)}),d.Fc(55,"Tretman "),d.Vb(),d.Vb(),d.Wb(56,"div",9),d.Wb(57,"nb-toggle",12,19),d.dc("checkedChange",function(n){d.xc(e);const t=d.vc(43);return i.addProcessOperation("Odlaganje Opasnog Otpada",n,t)}),d.Fc(59,"Odlaganje "),d.Vb(),d.Vb(),d.Wb(60,"div",9),d.Wb(61,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Skladi\u0161tenje Opasnog Otpada",e)}),d.Fc(62," Skladi\u0161tenje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(63,nt,3,1,"nb-card",20),d.Vb(),d.Wb(64,"nb-tab",21),d.Wb(65,"div",7),d.Wb(66,"nb-card",9),d.Wb(67,"nb-card-header"),d.Fc(68,"Posebni tokovi otpada"),d.Vb(),d.Wb(69,"nb-card-body"),d.Wb(70,"div",9),d.Wb(71,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Proizvodnja Posebnih Tokova Otpada",e)}),d.Fc(72,"Proizvodnja "),d.Vb(),d.Vb(),d.Wb(73,"div",9),d.Wb(74,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Uvoz Posebnih Tokova Otpada",e)}),d.Fc(75,"Uvoz "),d.Vb(),d.Vb(),d.Wb(76,"div",9),d.Wb(77,"nb-toggle",12),d.dc("checkedChange",function(e){return i.addOperation("Izvoz Posebnih Tokova Otpada",e)}),d.Fc(78,"Izvoz "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(79,"nb-tab",22),d.Wb(80,"nb-card",23),d.Wb(81,"nb-card-body"),d.Wb(82,"h4",24),d.Fc(83,"Operacija trenutno u izradi."),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(84,"nb-tab",25),d.Wb(85,"nb-card",23),d.Wb(86,"nb-card-body"),d.Wb(87,"h4",24),d.Fc(88,"Operacija trenutno u izradi."),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"nb-tab",26),d.Wb(90,"nb-card",23),d.Wb(91,"nb-card-body"),d.Wb(92,"h4",24),d.Fc(93,"Operacija trenutno u izradi."),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(94,"form",null,27),d.Dc(96,lt,30,15,"div",28),d.Wb(97,"button",29),d.Fc(98," Nazad "),d.Vb(),d.Wb(99,"button",30),d.dc("click",function(){return i.validateOperations()}),d.Fc(100," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(101,"nb-step",31),d.Rb(102,"nb-step",32),d.Vb()}if(2&e){const e=d.vc(17),n=d.vc(28),t=d.vc(32),a=d.vc(43),o=d.vc(54),r=d.vc(58);d.Eb(9),d.nc("badgeText",i.trashOperationNumber())("tabIcon",i.trashIco),d.Eb(7),d.nc("checked",i.operations.includes("Proizvodnja Neopasnog Otpada"))("disabled",n.checked||t.checked),d.Eb(4),d.nc("checked",i.operations.includes("Transport Neopasnog Otpada")),d.Eb(3),d.nc("checked",i.operations.includes("Sakupljac Neopasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Tretman Neopasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Odlaganje Neopasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Skladi\u0161tenje Neopasnog Otpada")),d.Eb(7),d.nc("checked",i.operations.includes("Proizvodnja Opasnog Otpada"))("disabled",o.checked||r.checked),d.Eb(4),d.nc("checked",i.operations.includes("Transport Opasnog Otpada")),d.Eb(3),d.nc("checked",i.operations.includes("Sakupljac Opasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Tretman Opasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Odlaganje Opasnog Otpada")),d.Eb(4),d.nc("checked",i.operations.includes("Skladi\u0161tenje Opasnog Otpada")),d.Eb(2),d.nc("ngIf",a.disabled||e.disabled),d.Eb(1),d.nc("badgeText",i.specialWasteOperationNumber())("tabIcon",i.carBatteryIco),d.Eb(7),d.nc("checked",i.operations.includes("Proizvodnja Posebnih Tokova Otpada")),d.Eb(3),d.nc("checked",i.operations.includes("Uvoz Posebnih Tokova Otpada")),d.Eb(3),d.nc("checked",i.operations.includes("Izvoz Posebnih Tokova Otpada")),d.Eb(2),d.nc("tabIcon",i.recyleIco),d.Eb(5),d.nc("tabIcon",i.waterIco),d.Eb(5),d.nc("tabIcon",i.airIco),d.Eb(7),d.nc("ngIf",i.trashOperationNumber(!0)+0+(i.specialWasteOperationNumber(!0)+0)>0)}},directives:[I.Bb,I.Ab,I.Hb,I.Gb,I.A,I.D,I.z,I.Nb,t.n,a.v,a.l,a.m,I.t,o.d,I.Pb,I.T,a.b,a.k,a.n,a.f,a.g,a.s],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})(),dt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Kb({type:e,selectors:[["terms-of-service"]],decls:193,vars:0,consts:[[1,"text-center"],[2,"max-height","50vh","text-align","justify"],["href","https://www.app.dier.rs"],["href","mailto:support@dier.rs"],["href","www.google.com/analytics/learn/privacy.html"],["href","tel:0003812644470577"]],template:function(e,i){1&e&&(d.Wb(0,"h1",0),d.Fc(1,"DIER USLOVI KORI\u0160\u0106ENJA"),d.Vb(),d.Wb(2,"div",1),d.Fc(3,' Ovi uslovi kori\u0161\u0107enja se odnose na svakoga ko \u017eeli da koristi aplikaciju (u daljem tekstu "DIERS Aplikacija"), \u010dija je svrha da olak\u0161a zakonsku obavezu vo\u0111enja dnevnih evidencija o otpadu, posebnim tokovima otapda i dostavljanje godi\u0161njih izve\u0161taja Agenciji za za\u0161titu \u017eivotne sredine Republike Srbije (u daljem tekstu "Agencija").'),d.Rb(4,"br"),d.Rb(5,"br"),d.Fc(6," Kori\u0161\u0107enjem aplikacije "),d.Wb(7,"a",2),d.Fc(8,"https://www.app.dier.rs"),d.Vb(),d.Fc(9," smatra se da ste u potpunosti upoznati i saglasni sa ovde navedenim Uslovima kori\u0161\u0107enja. Ukoliko se sa istima ne sla\u017eete i ne prihvatate ih, molimo Vas da ne koristite ovu internet stranicu."),d.Rb(10,"br"),d.Rb(11,"br"),d.Fc(12," Uslovi kori\u0161\u0107enja odnose se na kori\u0161\u0107enje internet stranica "),d.Wb(13,"a",2),d.Fc(14,"https://www.app.dier.rs"),d.Vb(),d.Fc(15," od strane korisnika. Svakim daljim kori\u0161\u0107enjem ovih Internet stranica nakon upoznavanja sa Uslovima kori\u0161\u0107enja, smatra se da su korisnici saglasni sa ovde navedenim uslovima i pravilima i da pristaju na kori\u0161\u0107enje Internet stranica u skladu sa tim uslovima."),d.Rb(16,"br"),d.Rb(17,"br"),d.Fc(18," Predmetne izmene mogu izme\u0111u ostalog uklju\u010divati i uvo\u0111enje odre\u0111enih naknada ili naplata, stoga savetujemo korisnike da periodi\u010dno ponovo detaljno pro\u010ditaju informacije sadr\u017eane u Uslovima kori\u0161\u0107enja kako bi bili informisani o eventualnim promenama."),d.Rb(19,"br"),d.Rb(20,"br"),d.Fc(21," U slu\u010daju da do\u0111e do promene Uslova kori\u0161\u0107enja, a korisnik nastavi da koristi na\u0161u internet stranicu, smatra se da prihvata Uslove kori\u0161\u0107enja u izmenjenom obliku. Svaka eventualna izmena ili brisanje uslova kori\u0161\u0107enja va\u017ee\u0107a je za tre\u0107a lica odmah po objavi na internet stranici "),d.Wb(22,"a",2),d.Fc(23,"https://www.app.dier.rs"),d.Vb(),d.Fc(24,". Svako kori\u0161\u0107enje, osim upoznavanja sa izmenama uslova, predmetnih internet stranica od strane krajnjeg korisnika nakon takve promene podrazumeva\u0107e se kao prihvatanje tih promena."),d.Rb(25,"br"),d.Rb(26,"br"),d.Fc(27," Korisnik je isklju\u010divo odgovoran za nabavku i odr\u017eavanje svoje ra\u010dunarske opreme, uklju\u010duju\u0107i celokupan hardver i softver koji poseduje i koji koristi, kao i drugu opremu potrebnu za pristup i kori\u0161\u0107enje internet stranice https://www.app.dier.rs, isto tako samostalno snosi i sve tro\u0161kove vezane za to. DIER isklju\u010duje svaku odgovornost za bilo kakva o\u0161te\u0107enja opreme i drugih stvari krajnjeg korisnika koja eventualno mogu nastati kao posledica kori\u0161\u0107enja internet stranice "),d.Wb(28,"a",2),d.Fc(29,"https://www.app.dier.rs"),d.Vb(),d.Fc(30,"."),d.Rb(31,"br"),d.Rb(32,"br"),d.Fc(33," Kori\u0161\u0107enjem internet stranice https://www.app.dier.rs od strane korisnika, smatra se da je korisnik saglasan da sva komunikacija i interakcija koja se odvija putem internet stranice "),d.Wb(34,"a",2),d.Fc(35,"https://www.app.dier.rs"),d.Vb(),d.Fc(36," mora biti u skladu sa ovim Uslovima kori\u0161\u0107enja. Korisnici ne smeju putem ovih internet stranica objavljivati, prenositi ili \u010diniti dostupnim na bilo koji na\u010din nikakve materijale \u010dijim sadr\u017eajem se kr\u0161e prava drugih, na primer, sadr\u017eaj koji je uvredljiv, klevetni\u010dki, koji naru\u0161ava ili ugro\u017eava privatnost itd..., kao ni materijale nezakonitog sadr\u017eaja i forme. DIER zadr\u017eava diskreciono pravo da samo oceni da li je do\u0161lo do povrede obaveza od strane korisnika. "),d.Rb(37,"br"),d.Rb(38,"br"),d.Fc(39," Korisnik ne sme bez prethodnog pismenog odobrenja DIERS objavljivati, prenositi ili \u010diniti dostupnim na bilo koji na\u010din sadr\u017eaj oglasa, reklame ili ponude bilo \u010dijih proizvoda i usluga, kao ni versku, politi\u010dku i nekomercijalnu promociju, a posebno ne sme vrbovati druge korisnike internet stranica "),d.Wb(40,"a",2),d.Fc(41,"https://www.app.dier.rs"),d.Vb(),d.Fc(42," da postanu korisnici druge usluge koja je direktna ili indirektna konkurencija DIER."),d.Rb(43,"br"),d.Rb(44,"br"),d.Fc(45," DIER zadr\u017eava diskreciono pravo da samostalno oceni da li je do\u0161lo do povrede obaveza od strane korisnika."),d.Rb(46,"br"),d.Rb(47,"br"),d.Fc(48," Zabranjena je bilo kakva distribucija, kopiranje, prenos, povezivanje, objavljivanje ili na bilo koji na\u010din menjanje ovih internet stranica bez pismenog odobrenja DIER. Svako kr\u0161enje spomenute zabrane mo\u017ee imati za posledicu povredu autorskih prava, prava pe\u010data, ili nekog drugog prava pa stoga mo\u017ee da proizvede ne\u017eeljene efekte kao \u0161to su pokretanja vi\u0161e vrsta sudskih postupaka, a posebno mo\u017ee dovesti do krivi\u010dnog gonjenja."),d.Rb(49,"br"),d.Rb(50,"br"),d.Fc(51," Korisnik ne sme menjati, objavljivati, prenositi, u\u010destvovati u prenosu ili prodaji ili na bilo koji drugi na\u010din iskori\u0161\u0107avati bilo koji sadr\u017eaj sa internet stranice "),d.Wb(52,"a",2),d.Fc(53,"https://www.app.dier.rs"),d.Vb(),d.Fc(54,", u celosti ili delimi\u010dno. Tako\u0111e nije dozvoljeno kopiranje, redistribucija, ponovni prenos, izdavanje ili komercijalno iskori\u0161\u0107avanje preuzetog materijala. Korisnik se izri\u010dito obavezuje da ne\u0107e na internet stranicama "),d.Wb(55,"a",2),d.Fc(56,"https://www.app.dier.rs"),d.Vb(),d.Fc(57," postavljati, objavljivati, ili na bilo koji drugi na\u010din \u010diniti dostupnim bilo kakav materijal koji podle\u017ee autorskom pravu, pe\u010datu, ili drugim pravima, bez izri\u010ditog odobrenja nosioca tih prava, pa je kao takav isklju\u010divo odgovoran za eventualnu \u0161tetu nastalu kr\u0161enjem ove svoje obaveze. Do saznanja da li je neki od materijala na internet stranici za\u0161ti\u0107en nekim od prava, korisnik mora do\u0107i samostalno, pa stoga DIERS nije u obavezi da takve informacije iznosi ili objavljuje."),d.Rb(58,"br"),d.Rb(59,"br"),d.Fc(60," Ova izjava o odgovornosti odnosi se na sve eventualno nastale \u0161tete ili mogu\u0107e povrede uzrokovane bilo kakvom gre\u0161kom, brisanjem, prekidom, ra\u010dunarskim virusom, kvarom, ka\u0161njenjem u radu ili prenosu, prekidom u komunikacijskoj liniji, kra\u0111om, raskidom ugovora, uni\u0161tenjem ili neovla\u0161\u0107enim pristupom, promenama ili zloupotrebom zapisa, neprikladnim pona\u0161anjem, nemarom, ili bilo kakvom drugom radnjom. Korisnik je saglasan da DIERS nije odgovorna za neprikladno ili protivzakonito pona\u0161anje drugih korisnika ili tre\u0107ih strana i da je rizik od eventualnih \u0161teta u potpunosti na korisniku."),d.Rb(61,"br"),d.Rb(62,"br"),d.Fc(63," DIERS ni u kom slu\u010daju nije odgovorna za bilo kakvu \u0161tetu koja mo\u017ee nastati kao posledica kori\u0161\u0107enja, ili zbog nemogu\u0107nosti kori\u0161\u0107enja internet stranica "),d.Wb(64,"a",2),d.Fc(65,"https://www.app.dier.rs"),d.Vb(),d.Fc(66," delimi\u010dno ili u celosti."),d.Rb(67,"br"),d.Rb(68,"br"),d.Fc(69," Korisnik izri\u010dito izjavljuje da ne\u0107e smatrati odgovornom DIER, njene ogranke, odgovorne osobe u dru\u0161tvu, zaposlene i agente za naknadu eventualne \u0161tete i tro\u0161kova, uklju\u010duju\u0107i i tro\u0161kove pravnog zastupanja, a koji bi mogli da nastanu kori\u0161\u0107enjem internet stranice "),d.Wb(70,"a",2),d.Fc(71,"https://www.app.dier.rs"),d.Vb(),d.Fc(72," od strane korisnika."),d.Rb(73,"br"),d.Rb(74,"br"),d.Fc(75," DIERS mo\u017ee u svako doba da raskine poslovni odnos sa bilo kojim svojim korisnikom i ukinuti mu lozinke ili korisni\u010dke naloge. U tom slu\u010daju ne prestaju da va\u017ee uslovi koji se odnose na odgovornost i obaveze korisnika. DIERS ne garantuje za ta\u010dnost, potpunost ili korisnost bilo kog sadr\u017eaja na internet stranicama "),d.Wb(76,"a",2),d.Fc(77,"https://www.app.dier.rs"),d.Vb(),d.Fc(78," postavljenog od strane korisnika, tre\u0107ih lica ili neovla\u0161\u0107enih korisnika."),d.Rb(79,"br"),d.Rb(80,"br"),d.Fc(81," Registracijom / otvaranjem korisni\u010dkog naloga na internet stranici "),d.Wb(82,"a",2),d.Fc(83,"https://www.app.dier.rs"),d.Vb(),d.Fc(84," smatra se da je korisnik ove Uslove kori\u0161\u0107enja u celosti pro\u010ditao. "),d.Wb(85,"h4"),d.Fc(86,"VLASNI\u0160TVO SADR\u017dAJA / INTELEKTUELNA SVOJINA"),d.Vb(),d.Fc(87,' Internet sajt i svi tekstovi, logotipi, grafika, slike, audio materijal i ostali materijal na ovom internet sajtu (u daljem tekstu: Sadr\u017eaj), jesu autorsko pravo ili vlasni\u0161tvo autora Nenada Jankovi\u0107a (Autor) i privrednmog dru\u0161tva DIER (u daljem tekstu "DIER")., ili su na internet sajt postavljeni uz dozvolu vlasnika ili ovla\u0161\u0107enog nosioca prava. Kori\u0161\u0107enje Sadr\u017eaja, osim na na\u010din opisan u ovim uslovima kori\u0161\u0107enja, bez pisane dozvole vlasnika. Autor \u0107e za\u0161titi svoja autorska prava, svoja prava intelektualne svojine i ostala srodna prava, kao i druga prava, u najve\u0107oj meri dozvoljenoj zakonom, uklju\u010duju\u0107i i krivi\u010dno gonjenje.'),d.Rb(88,"br"),d.Rb(89,"br"),d.Fc(90,' Korisnici aplikacije mogu biti sva lica koja \u017eele da koriste DIERS Aplikaciju, direktno ili preko svojih zaposlenih lica (u daljem tekstu "Korisnik") i koja su zaklju\u010dila Ugovor o kori\u0161\u0107enju DIERS Aplikacije (u daljem tekstu "Ugovor").'),d.Rb(91,"br"),d.Rb(92,"br"),d.Fc(93," Svako neovla\u0161\u0107eno kori\u0161\u0107enje, umno\u017eavanje i distribucija DIERS aplikacije ili bilo kojeg njenog dela, krivi\u010dno je delo i podle\u017ee krivi\u010dnoj odgovornosti. "),d.Wb(94,"h4"),d.Fc(95,"REGISTRACIJA"),d.Vb(),d.Fc(96," Da bi se registrovao, Korisnik je du\u017ean da ta\u010dno i istinito unese sve tra\u017eene podatake o privrednom dru\u0161tvu ili drugom privrednom subjektu kao i da kreira korisni\u010dki nalog (korisni\u010dko ime i lozinku)."),d.Rb(97,"br"),d.Rb(98,"br"),d.Fc(99," Za prijavljivanje, odnosno kori\u0161\u0107enje DIERS Aplikacije, Korisnik mora da unese korisni\u010dko ime i lozinku koje je kreirao prilikom registracije."),d.Rb(100,"br"),d.Rb(101,"br"),d.Fc(102," Kada se Korisnik registruje za kori\u0161\u0107enje DIERS Aplikacije, on postaje vlasnik svog naloga na portalu DIERS Aplikacije i njegov administrator."),d.Rb(103,"br"),d.Rb(104,"br"),d.Fc(105," Za pomo\u0107 pri radu u DIERS Aplikaciji kontaktirajte nas putem email-a "),d.Wb(106,"a",3),d.Fc(107,"support@dier.rs"),d.Vb(),d.Fc(108,"."),d.Rb(109,"br"),d.Rb(110,"br"),d.Fc(111," DIER zadr\u017eava pravo izmena i dopuna DIERS Aplikacije. "),d.Wb(112,"h4"),d.Fc(113,"ODGOVORNOST KORISNIKA"),d.Vb(),d.Fc(114," Korisnik koristi DIERS Aplikaciju isklju\u010divo na svoju odgovornost. DIERS ne daje bilo kakve garancije i ne preuzima bilo kakvu odgovornost za \u0161tete koje Korisnik pretrpi ili koje bude prouzrokovao tre\u0107im licima prilikom neodgovornog kori\u0161\u0107enja DIERS Aplikacije."),d.Rb(115,"br"),d.Rb(116,"br"),d.Fc(117," Samo Korisnik zna lozinku koju je definisao u svojstvu administratora i za sve aktivnosti autorizovane i izvr\u0161ene pod nekim od korisni\u010dkih imena odgovoran je isklju\u010divo Korisnik."),d.Rb(118,"br"),d.Rb(119,"br"),d.Fc(120," Korisnik je odgovoran za otvaranje korisni\u010dkih naloga za ostale zaposlene u svojoj organizaciji i za definisanje uloga na portalu kojima svaki zaposleni pojedina\u010dno mo\u017ee da pristupi, kao i za ukidanje pristupa DIERS Aplikaciji."),d.Rb(121,"br"),d.Rb(122,"br"),d.Fc(123," Korisnik je du\u017ean da se u svemu pridr\u017eava pozitivnih zakonskih propisa Republike Srbije, a posebno propisa koji reguli\u0161u upravljanje otpadom i za\u0161titu podataka o li\u010dnosti."),d.Rb(124,"br"),d.Rb(125,"br"),d.Fc(126," Korisnik je isklju\u010divo odgovoran za ta\u010dnost podataka i informacija koje unosi u DIERS Aplikaciju. "),d.Wb(127,"h4"),d.Fc(128,"ODRICANJE OD ODGOVORNOSTI"),d.Vb(),d.Fc(129," DIERS nema uvid u kreiranu lozinku Korisnika od strane administratora, te nema mogu\u0107nost da pristupi podacima Korisnika."),d.Rb(130,"br"),d.Rb(131,"br"),d.Fc(132," DIERS nije odgovoran za gre\u0161ke koje nastaju usled neispravnog popunjavanja i neta\u010dnih podataka koje ovla\u0161\u0107ena lica Korisnika unesu u DIERS Aplikaciju, iz koje se generi\u0161u dokumenta o kretanju otpada, dokumenta o kretanju opasnog otpada, dokumenta o prekograni\u010dnom otpadu i dokumenta koja prate prekograni\u010dno kretanje otpada, kao i dnevne evidencije o otpadu, dnevne evidencije o posebnim tokovima otapda ili podaci koji se podnose Agenciji za godi\u0161nje izve\u0161taje o otpadu i posebnim tokovima otpada."),d.Rb(133,"br"),d.Rb(134,"br"),d.Fc(135," DIERS se ne\u0107e smatrati odgovornim za privremeni prekid u pru\u017eanju usluge ili gubitak sa\u010duvanih podataka usled radova na odr\u017eavanju ili iznenadnih i nepredvi\u0111enih tehni\u010dkih kvarova ili drugih tehni\u010dkih neprilika, kao ni za prekid usluge, ukoliko su ove okolnosti prouzrokovane razlozima koji su izvan doma\u0161aja DIERS. "),d.Wb(136,"h4"),d.Fc(137,"DOSTUPNOST DIERS APLIKACIJE"),d.Vb(),d.Fc(138," Korisnik razume i saglasan je sa \u010dinjenicom da je internet internacionalna ra\u010dunarska mre\u017ea koju ne kontroli\u0161e neposredno DIERS, ve\u0107 je na nju samo vezan, te zbog toga ne mo\u017ee da garantuje dostupnost servisa koje direktno NE kontroli\u0161e."),d.Rb(139,"br"),d.Rb(140,"br"),d.Fc(141," Korisnik razume i saglasan je sa \u010dinjenicom da su DIERS serveri povezani na internet putem kompleksne mre\u017ene strukure i da se podaci putem interneta prenose kroz razli\u010dite aktivne i pasivne mre\u017ene komponente (ruteri, mre\u017eni prekida\u010di, i sli\u010dno), koji imaju svoje maksimalne kapacitete prenosa, te DIERS ne mo\u017ee biti odgovoran za nemogu\u0107nosti prustupa podacima u DIERS Aplikaciji iz ovih razloga. "),d.Wb(142,"h4"),d.Fc(143,"INFORMACIJE KORISNIKA"),d.Vb(),d.Fc(144," Sve informacije koje se zahtevaju od Korisnika neophodne su za ispunjavanje obaveza po merodavnim propisima o upravljanju otpadom i koriste se isklju\u010divo i samo za popunjavanje dnevnih evidencija o otpadu, dokumenta o kretanju otpada, dokumenta o kretanju opasnog otpada, popunjavanje godi\u0161njih evidencija o otpadu, popunjavanju dnevnih evidencija Posebnih tokova otpada kao i popunjavanje godi\u0161njih evidencija Posebnh tokova otpada u zavisnosti od operacije odnosno (licence) Korisnika."),d.Rb(145,"br"),d.Rb(146,"br"),d.Fc(147," Informacije koje Korisnik unosi \u010duvaju se na DIERS serveru, i mogu im pristupiti tre\u0107a lica isklju\u010divo u skladu sa odgovaraju\u0107im propisima, na osnovu zahteva nadle\u017enog organa. "),d.Wb(148,"h4"),d.Fc(149,"UPOTREBA KOLA\u010cI\u0106A (ENGL. \u201eCOOKIES\u201c)"),d.Vb(),d.Fc(150,' Kao i ve\u0107ina sajtova na internetu, DIERS sajtovi koriste tzv. \u201ckola\u010di\u0107e\u201d (u daljem tekstu "Cookie"). Cookie-ji su mali tekstualni fajlovi koje internet pregleda\u010d (u daljem tekstu "Browser") \u010duva na ra\u010dunaru Korisnika i koji poma\u017eu da se identifikujete na veb sajtovima prilikom kasnijih poseta. Cookie-ji su jedinstveno dodeljeni Korisniku i mo\u017ee ih \u010ditati samo web server u domenu koji je izdao taj Cookie. Kori\u0161\u0107enje Cookie-ja je standardna praksa na internetu i ve\u0107ina Browser-a je pode\u0161ena tako da automatski prihvata sve Cookie-je. Me\u0111utim, Korisnik uvek mo\u017ee odlu\u010diti da \u017eeli da prestane da ih koristi, odnosno, mo\u017ee ih jednostavno ru\u010dno obrisati ili svoj Browser posebno podesiti za rad sa Cookie-jima. Za ove procedure Korisnik mo\u017ee da pogleda dokumentaciju ili Help/Pomo\u0107 sekciju svog Browser-a. '),d.Rb(151,"br"),d.Rb(152,"br"),d.Fc(153,"Na DIERS sajtovima koristimo Cookie-je isklju\u010divo kako bismo Korisnicima omogu\u0107ili bolji kvalitet interakcije sa veb sajtom i DIERS Aplikacijom."),d.Rb(154,"br"),d.Rb(155,"br"),d.Fc(156," Za potrebe statisti\u010dke analize pose\u0107enosti i optimizaciju DIERS Aplikacije koristi se servis Google Analytics. Datalji o ovim servisima kao i o mogu\u0107nostima pode\u0161avanja od strane Korisnika se mogu pogledati na slede\u0107im linkovima: "),d.Wb(157,"a",4),d.Fc(158,"www.google.com/analytics/learn/privacy.html"),d.Vb(),d.Fc(159,". "),d.Wb(160,"h4"),d.Fc(161,"DRUGI INTERNET SAJTOVI"),d.Vb(),d.Fc(162," DIERS internet sajt mo\u017ee sadr\u017eati linkove za druge internet sajtove koji nisu pod DIERS kontrolom i koji ne podle\u017eu Ugovoru i ovim Uslovima kori\u0161\u0107enja. Ukoliko Korisnik pristupi drugim internet sajtovima koriste\u0107i date linkove, operateri ovih internet sajtova mogu tra\u017eiti informacije koje \u0107e koristiti u skladu sa svojim politikama za\u0161tite privatnosti, koje se mogu razlikovati od one koja postoji kod DIERS."),d.Rb(163,"br"),d.Rb(164,"br"),d.Fc(165," Takvi linkovi su obezbe\u0111eni isklju\u010divo da bi Vama pru\u017eili \u0161to vi\u0161e informacija. DIER ne kontroli\u0161e i nije odgovoran za rad, sadr\u017eaj, politiku privatnosti ili bezbednost ovih sajtova. Autor ne kontroli\u0161e sadr\u017eaj ili proizvode ili usluge dostupne na ovim internet sajtovima. Ako uspostavite vezu sa takvim internet sajtovima preko linka na na\u0161em internet sajtu, to \u010dinite na sopstveni rizik i bez saglasnosti DIER. "),d.Wb(166,"h4"),d.Fc(167,"ZA\u0160TITA PODATAKA O LI\u010cNOSTI"),d.Vb(),d.Fc(168," DIERS ne predstavlja rukovaoca, obra\u0111iva\u010da niti korisnika podataka o li\u010dnosti u skladu sa merodavnim propisima."),d.Rb(169,"br"),d.Rb(170,"br"),d.Fc(171," Korisnik preuzima obavezu da u slu\u010daju obrade podataka o li\u010dnosti u vezi sa izvr\u0161enjem ovog Ugovora preduzme sve radnje kako bi svoje poslovanje uskladio sa zakonom i drugom pozitivno-pravnim propisima iz oblasti za\u0161tite podataka o li\u010dnosti. "),d.Wb(172,"h4"),d.Fc(173,"BEZBEDNOST"),d.Vb(),d.Fc(174," Odr\u017eavanje integriteta i bezbednosti na\u0161ih veb lokacija, proizvoda, funkcija i usluga i spre\u010davanje i otkrivanje bezbednosnih pretnji, prevara ili drugih kriminalnih ili zlonamernih aktivnosti koje mogu da ugroze va\u0161e informacije. Kada ste u interakciji sa nama, pre odobravanja pristupa va\u0161im podacima, preduze\u0107emo osnovane korake da potvrdimo va\u0161 identitet kao \u0161to je zahtevanje lozinke i ID-a korisnika. Mo\u017eemo preduzeti i dodatne bezbednosne mere, kao \u0161to je CCTV, da bismo obezbedili na\u0161e fizi\u010dke lokacije. "),d.Wb(175,"h4"),d.Fc(176,"USAGLA\u0160ENOST SA ZAKONOM"),d.Vb(),d.Fc(177," Usagla\u0161enost sa va\u017ee\u0107im zakonima, propisima, sudskim nalozima, dr\u017eavnim zahtevima i zahtevima organa reda u cilju adekvatnog rada na\u0161ih usluga i proizvoda i za\u0161tite na\u0161e kompanije, na\u0161ih korisnika i klijenata i re\u0161avanja svih korisni\u010dkih sporova. "),d.Wb(178,"h4"),d.Fc(179,"IZMENE IZJAVE O PRIVATNOSTI"),d.Vb(),d.Fc(180," Ako izmenimo izjavu o privatnosti, objavi\u0107emo izmenjenu izjavu ovde, sa datumom a\u017eurirane revizije. Ukoliko izvr\u0161imo znatne promene u izjavi o privatnosti koje dovode do materijalnih promena na\u0161ih praksi privatnosti, mo\u017eemo vas obavestiti i drugim sredstvima, na primer slanjem e-poruke ili objavljivanjem obave\u0161tenje na korporativnoj veb lokaciji i/ili stranicama dru\u0161tvenih medija pre nego \u0161to promene stupe na snagu. Datum objavljivanja: 2021. april. "),d.Wb(181,"h4"),d.Fc(182,"KOMUNIKACIJA"),d.Vb(),d.Fc(183," Komunikacija izme\u0111u DIERS i Korisnika odvija se putem imejla "),d.Wb(184,"a",3),d.Fc(185,"support@dier.rs"),d.Vb(),d.Fc(186," ili na telefon: "),d.Wb(187,"a",5),d.Fc(188,"+381 64 447 05 77"),d.Vb(),d.Fc(189,". "),d.Rb(190,"br"),d.Rb(191,"br"),d.Rb(192,"br"),d.Vb())},styles:["h4[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}"]}),e})();const ut=["reCaptcha"],pt=["termsOfServiceTemplate"];function mt(e,i){if(1&e&&(d.Wb(0,"button",32),d.Fc(1),d.Vb()),2&e){const e=i.$implicit;d.Eb(1),d.Gc(e)}}function gt(e,i){1&e&&d.Rb(0,"terms-of-service")}function ht(e,i){1&e&&(d.Wb(0,"p",23),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function vt(e,i){if(1&e&&(d.Wb(0,"p",23),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function ft(e,i){if(1&e&&(d.Ub(0),d.Dc(1,ht,2,0,"p",22),d.Dc(2,vt,2,1,"p",22),d.Tb()),2&e){d.hc();const e=d.vc(12);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Vt(e,i){1&e&&(d.Wb(0,"p",23),d.Fc(1," Ponovna \u0161ifra je obavezna! "),d.Vb())}function kt(e,i){1&e&&(d.Wb(0,"p",23),d.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),d.Vb())}function Wt(e,i){if(1&e&&(d.Ub(0),d.Dc(1,Vt,2,0,"p",22),d.Dc(2,kt,2,0,"p",22),d.Tb()),2&e){d.hc();const e=d.vc(23),i=d.vc(12);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",i.value!==e.value)}}const jt=[{path:"",component:W.c,children:[{path:"login",component:q},{path:"register-user",component:et},{path:"register-company",component:Be},{path:"register-operations",component:bt},{path:"register-informations/:tab",component:wn,pathMatch:"full"},{path:"register-informations",component:wn,pathMatch:"full"},{path:"register-permit",component:G},{path:"register-confirmation",component:(()=>{class e extends W.k{constructor(e,i={},n,t,a,o){super(e,i,t,a),this.service=e,this.options=i,this.windowService=n,this.cd=t,this.router=a,this.registerService=o,this.redirectDelay=0,this.showMessages=[],this.strategy="",this.submitted=!1,this.errors=[],this.messages=[],this.redirectDelay=this.getConfigValue("forms.register.redirectDelay"),this.showMessages=this.getConfigValue("forms.register.showMessages"),this.strategy=this.getConfigValue("forms.register.strategy")}getConfigValue(e){return Object(W.n)(this.options,e,null)}ngAfterViewInit(){this.operations$=this.registerService.getOperations(),this.company$=this.registerService.getCompany(),this.user$=this.registerService.getUser()}resolved(e){}register(){let e;this.errors=this.messages=[],this.submitted=!0,this.reCaptcha.execute(),this.user$.subscribe(i=>{e=i}),this.service.register(this.strategy,e).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const i=e.getRedirect();i&&setTimeout(()=>(this.registerService.clearData(),this.router.navigateByUrl(i)),this.redirectDelay),this.cd.detectChanges()})}openTermsOfService(){this.windowRef=this.windowService.open(this.termsOfServiceTemplate,{title:"Uslovi kori\u0161\u0107enja"})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(W.a),d.Qb(I.Ub),d.Qb(d.h),d.Qb(o.c),d.Qb(V))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-confirmation"]],viewQuery:function(e,i){if(1&e&&(d.Lc(ut,1),d.Lc(pt,1,d.P)),2&e){let e;d.uc(e=d.ec())&&(i.reCaptcha=e.first),d.uc(e=d.ec())&&(i.termsOfServiceTemplate=e.first)}},features:[d.Bb],decls:172,vars:64,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informations",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],["size","invisible",3,"siteKey","resolved"],["reCaptcha","reCaptcha"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","javascript:;",3,"click"],["name","tacnost","required",""],["tacnost",""],["termsOfServiceTemplate",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,i){if(1&e&&(d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Rb(6,"nb-step",4),d.Rb(7,"nb-step",5),d.Wb(8,"nb-step",6),d.Wb(9,"div",7),d.Wb(10,"div",8),d.Wb(11,"div",9),d.Wb(12,"h5"),d.Fc(13,"User:"),d.Vb(),d.Vb(),d.Wb(14,"div",9),d.Wb(15,"div",10),d.Wb(16,"label",11),d.Fc(17,"Ime:"),d.Vb(),d.Vb(),d.Wb(18,"div",10),d.Wb(19,"button",12),d.Fc(20),d.ic(21,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",9),d.Wb(23,"div",10),d.Wb(24,"label",11),d.Fc(25,"Prezime:"),d.Vb(),d.Vb(),d.Wb(26,"div",10),d.Wb(27,"button",12),d.Fc(28),d.ic(29,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(30,"div",9),d.Wb(31,"div",10),d.Wb(32,"label",11),d.Fc(33,"Telefon:"),d.Vb(),d.Vb(),d.Wb(34,"div",10),d.Wb(35,"button",12),d.Fc(36),d.ic(37,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(38,"div",9),d.Wb(39,"div",10),d.Wb(40,"label",11),d.Fc(41,"Email:"),d.Vb(),d.Vb(),d.Wb(42,"div",10),d.Wb(43,"button",12),d.Fc(44),d.ic(45,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(46,"div",9),d.Wb(47,"div",10),d.Wb(48,"label",11),d.Fc(49,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(50,"div",10),d.Wb(51,"button",12),d.Fc(52),d.ic(53,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(54,"div",9),d.Wb(55,"h5"),d.Fc(56,"Rad firme:"),d.Vb(),d.Vb(),d.Wb(57,"div",9),d.Wb(58,"div",10),d.Dc(59,mt,2,1,"button",13),d.ic(60,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(61,"div",14),d.Wb(62,"div",10),d.Wb(63,"div",9),d.Wb(64,"h5"),d.Fc(65,"Firma:"),d.Vb(),d.Vb(),d.Wb(66,"div",9),d.Wb(67,"div",10),d.Wb(68,"label",11),d.Fc(69,"Naziv:"),d.Vb(),d.Vb(),d.Wb(70,"div",10),d.Wb(71,"button",15),d.Fc(72),d.ic(73,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(74,"div",9),d.Wb(75,"div",16),d.Wb(76,"label",11),d.Fc(77,"PIB:"),d.Vb(),d.Vb(),d.Wb(78,"div",16),d.Wb(79,"label",11),d.Fc(80,"Mati\u010dni broj:"),d.Vb(),d.Vb(),d.Wb(81,"div",16),d.Wb(82,"button",15),d.Fc(83),d.ic(84,"async"),d.Vb(),d.Vb(),d.Wb(85,"div",16),d.Wb(86,"button",15),d.Fc(87),d.ic(88,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",9),d.Wb(90,"div",10),d.Wb(91,"label",11),d.Fc(92,"Adresa:"),d.Vb(),d.Wb(93,"button",15),d.Fc(94),d.ic(95,"async"),d.ic(96,"async"),d.ic(97,"async"),d.ic(98,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(99,"div",9),d.Wb(100,"div",10),d.Wb(101,"label",11),d.Fc(102,"Delatnost:"),d.Vb(),d.Vb(),d.Wb(103,"div",10),d.Wb(104,"button",15),d.Fc(105),d.ic(106,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(107,"div",9),d.Wb(108,"div",16),d.Wb(109,"label",11),d.Fc(110,"Email:"),d.Vb(),d.Vb(),d.Wb(111,"div",16),d.Wb(112,"label",11),d.Fc(113,"Telefon:"),d.Vb(),d.Vb(),d.Wb(114,"div",17),d.Wb(115,"button",15),d.Wb(116,"p",18),d.Fc(117),d.ic(118,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(119,"div",17),d.Wb(120,"button",15),d.Fc(121),d.ic(122,"async"),d.Vb(),d.Vb(),d.Wb(123,"div",16),d.Wb(124,"label",11),d.Fc(125,"Email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(126,"div",16),d.Wb(127,"label",11),d.Fc(128,"Faks:"),d.Vb(),d.Vb(),d.Wb(129,"div",16),d.Wb(130,"button",15),d.Wb(131,"p",18),d.Fc(132),d.ic(133,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(134,"div",16),d.Wb(135,"button",15),d.Fc(136),d.ic(137,"async"),d.ic(138,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(139,"div",9),d.Wb(140,"div",10),d.Wb(141,"label",11),d.Fc(142,"Zakonski zastupnik firme:"),d.Vb(),d.Vb(),d.Wb(143,"div",16),d.Wb(144,"button",15),d.Fc(145),d.ic(146,"async"),d.Vb(),d.Vb(),d.Wb(147,"div",16),d.Wb(148,"button",15),d.Fc(149),d.ic(150,"async"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(151,"form",19),d.dc("ngSubmit",function(){return i.register()}),d.Wb(152,"button",20),d.Fc(153," Nazad "),d.Vb(),d.Wb(154,"button",21),d.Fc(155," Zavr\u0161i "),d.Vb(),d.Wb(156,"re-captcha",22,23),d.dc("resolved",function(e){return i.resolved(e)}),d.Vb(),d.Vb(),d.Wb(158,"div",24),d.Wb(159,"div",25),d.Wb(160,"nb-checkbox",26,27),d.Fc(162," Sla\u017eem se sa "),d.Wb(163,"a",28),d.dc("click",function(){return i.openTermsOfService()}),d.Wb(164,"strong"),d.Fc(165,"Uslovima Kori\u0161\u0107enjima"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(166,"div",25),d.Wb(167,"nb-checkbox",29,30),d.Fc(169,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(170,gt,1,0,"ng-template",null,31,d.Ec)),2&e){const e=d.vc(161),n=d.vc(168);let t=null,a=null,o=null,r=null,s=null,c=null,l=null,b=null,u=null,p=null,m=null,g=null,h=null,v=null,f=null,V=null;d.Eb(20),d.Gc(null==(t=d.jc(21,22,i.user$))?null:t.firstName),d.Eb(8),d.Gc(null==(a=d.jc(29,24,i.user$))?null:a.lastName),d.Eb(8),d.Gc(null==(o=d.jc(37,26,i.user$))?null:o.phone),d.Eb(8),d.Gc(null==(r=d.jc(45,28,i.user$))?null:r.email),d.Eb(8),d.Gc(null==(s=d.jc(53,30,i.user$))?null:s.username),d.Eb(7),d.nc("ngForOf",d.jc(60,32,i.operations$)),d.Eb(13),d.Gc(null==(c=d.jc(73,34,i.company$))?null:c.name),d.Eb(11),d.Gc(null==(l=d.jc(84,36,i.company$))?null:l.pib),d.Eb(4),d.Gc(null==(b=d.jc(88,38,i.company$))?null:b.mat),d.Eb(7),d.Kc(" ",null==(u=d.jc(95,40,i.company$))?null:u.address.location.townshipName," , ",null==(u=d.jc(96,42,i.company$))?null:u.address.location.placeName,", ",null==(u=d.jc(97,44,i.company$))?null:u.address.street," ",null==(u=d.jc(98,46,i.company$))?null:u.address.location.zipCode,""),d.Eb(11),d.Gc(null==(p=d.jc(106,48,i.company$))?null:p.occupation.name),d.Eb(12),d.Gc(null==(m=d.jc(118,50,i.company$))?null:m.email),d.Eb(4),d.Gc(null==(g=d.jc(122,52,i.company$))?null:g.telephone),d.Eb(11),d.Gc(null==(h=d.jc(133,54,i.company$))?null:h.emailReception),d.Eb(4),d.Gc(""===(null==(v=d.jc(137,56,i.company$))?null:v.fax)?"/":null==(v=d.jc(138,58,i.company$))?null:v.fax),d.Eb(9),d.Gc(null==(f=d.jc(146,60,i.company$))?null:f.legalRep.firstName),d.Eb(4),d.Gc(null==(V=d.jc(150,62,i.company$))?null:V.legalRep.lastName),d.Eb(5),d.nc("disabled",!(e.checked&&n.checked)),d.Eb(2),d.nc("siteKey","6LfLNHsaAAAAAIhkWmF3F-DXvLPWdGQU2EpE-KvW")}},directives:[I.Bb,I.Ab,I.t,t.m,a.v,a.l,a.m,o.d,r.b,I.G,dt],pipes:[t.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),e})()},{path:"logout",component:U},{path:"email-confirm",component:j},{path:"forgot-password",component:w},{path:"reset-password",component:(()=>{class e extends W.m{constructor(e,i={},n,t,a,o){super(e,i,n,t),this.service=e,this.options=i,this.cd=n,this.router=t,this.activatedRoute=a,this.toastrService=o,this.showPassword="eye",this.password="",this.retypePassword="",this.token="",this.strategy=this.getConfigValue("forms.login.strategy"),this.token=this.activatedRoute.snapshot.params.token}resetPassword(e){e.invalid?this.toastrService.showToast("Gre\u0161ka","Proverite sve informacije!","warning"):this.service.resetPassword(this.strategy,{password:this.password,token:this.token}).subscribe(e=>{e.isSuccess()?this.router.navigate(["login"]):this.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")},e=>{this.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")})}}return e.\u0275fac=function(i){return new(i||e)(d.Qb(W.g),d.Qb(W.a),d.Qb(d.h),d.Qb(o.c),d.Qb(o.a),d.Qb(y.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["reset-password"]],features:[d.Bb],decls:30,vars:15,consts:[[1,"align-self-center"],[1,"mb-1","text-center"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],[1,"row","mb-2"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","1",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordModel","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],[1,"col-12"],[4,"ngIf"],[1,"row"],["for","input-rePassword",1,"label","col-12"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","2",3,"ngModel","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3","d-flex","justify-content-center"],["status","success","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"h1",1),d.Fc(2,"Zaboravljena lozinka:"),d.Vb(),d.Wb(3,"form",2,3),d.dc("ngSubmit",function(){d.xc(e);const n=d.vc(4);return i.resetPassword(n)}),d.Wb(5,"div",4),d.Wb(6,"div",5),d.Wb(7,"div",6),d.Wb(8,"label",7),d.Fc(9,"\u0160ifra:"),d.Vb(),d.Wb(10,"div",8),d.Wb(11,"input",9,10),d.dc("ngModelChange",function(e){return i.password=e}),d.Vb(),d.Vb(),d.Wb(13,"div",11),d.Wb(14,"button",12),d.dc("click",function(){return i.showPassword="eye"===i.showPassword?"eye-off":"eye"}),d.Rb(15,"nb-icon",13),d.Vb(),d.Vb(),d.Wb(16,"div",14),d.Dc(17,ft,3,2,"ng-container",15),d.Vb(),d.Vb(),d.Wb(18,"div",16),d.Wb(19,"label",17),d.Fc(20,"Ponovi \u0161ifru:"),d.Vb(),d.Wb(21,"div",14),d.Wb(22,"input",18,19),d.dc("ngModelChange",function(e){return i.retypePassword=e}),d.Vb(),d.Vb(),d.Wb(24,"div",14),d.Dc(25,Wt,3,2,"ng-container",15),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(26,"div",20),d.Wb(27,"div",5),d.Wb(28,"button",21),d.Fc(29,"Promeni lozinku"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(12),n=d.vc(23);d.Eb(11),d.nc("ngModel",i.password)("maxlength",i.getConfigValue("forms.validation.password.maxLength"))("minlength",i.getConfigValue("forms.validation.password.minLength"))("required",i.getConfigValue("forms.validation.password.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(4),d.nc("icon",i.showPassword),d.Eb(2),d.nc("ngIf",e.invalid&&e.touched),d.Eb(5),d.nc("ngModel",i.retypePassword)("required",i.getConfigValue("forms.validation.password.required"))("status",n.dirty?n.invalid||e.value!==n.value?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&e.touched)}},directives:[a.v,a.l,a.m,I.T,a.b,a.k,a.n,a.f,a.g,a.s,I.t,I.Q,t.n],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})()}]},{path:"redirect",component:$},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}];let yt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({imports:[[o.g.forChild(jt)],o.g]}),e})(),It=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({providers:[g,p,V,c.a,h.a,f.a,m.a],imports:[[k.a,t.c,o.g,I.p,I.U,I.w,I.H,yt,I.ub,a.e,I.Ob,I.k,I.Ib,I.s,I.Cb,I.E,s.c,I.lb,I.N,I.S,I.zb,r.d,I.Qb,I.v]]}),e})()},bS1W:function(e,i,n){"use strict";n.d(i,"a",function(){return r});var t=n("AytR"),a=n("fXoL"),o=n("tk/3");let r=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=t.a.apiUrl}createPermit(e,i){return this.http.post(this.apiUrl+"/api/permit",{permit:e,companyID:i})}deletePermit(e,i="_id"){return this.http.delete(this.apiUrl+"/api/permit/one/"+`${i}/${e}`)}getPermit(e,i="_id"){return this.http.get(this.apiUrl+"/api/permit/one/"+`${i}/${e}`)}getPermits(e="all",i){return this.http.get(this.apiUrl+"/api/permit/many/"+`${i}/${e}`)}updatePermit(e,i,n="_id"){return this.http.patch(this.apiUrl+"/api/permit/one/"+`${n}/${i}`,e)}getCompaniesPermits(e,i="all"){return this.http.get(this.apiUrl+"/api/company/permits/"+e+"/"+i)}sendPermitRequest(e,i="",n,t,a,o){return this.http.post(this.apiUrl+"/api/mail/permit-request",{permitID:t,trashType:a,permitType:o,email:e,message:i,requestType:n})}}return e.\u0275fac=function(i){return new(i||e)(a.ac(o.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})()},"wH5/":function(e,i,n){"use strict";n.d(i,"a",function(){return r});var t=n("AytR"),a=n("fXoL"),o=n("tk/3");let r=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=t.a.apiUrl}createCompany(e){return this.http.post(this.apiUrl+"/api/company",e)}deleteCompany(e,i="_id"){return this.http.delete(this.apiUrl+"/api/company/one/"+`${i}/${e}`)}getCompany(e,i="_id"){return this.http.get(this.apiUrl+"/api/company/one/"+`${i}/${e}`)}getCompanys(e="all",i){return this.http.get(this.apiUrl+"/api/company/many/"+`${i}/${e}`)}updateCompany(e,i,n="_id"){return this.http.patch(this.apiUrl+"/api/company/one/"+`${n}/${i}`,e)}}return e.\u0275fac=function(i){return new(i||e)(a.ac(o.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})()}}]);