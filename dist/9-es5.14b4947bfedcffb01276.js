!function(){function e(t,i){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,i)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,s=n(e);if(t){var o=n(this).constructor;a=Reflect.construct(s,arguments,o)}else a=s.apply(this,arguments);return i(this,a)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5IJp":function(e,t,i){"use strict";i.r(t),i.d(t,"TrashModule",function(){return Me});var n=i("bS1W"),s=i("BMkl"),c=i("vTDv"),r=i("tyNb"),l=i("RS3s"),d=i("ibGe"),u=i("ud2R"),b=i("7wOV"),p={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{name:{title:"Naziv"},desc:{title:"Opis"},unitOfMeasure:{title:"Jedinica mere"}}},h=i("fXoL"),v=i("aceb"),f=i("ofXK"),g=i("3Pt+");function m(e,t){if(1&e&&(h.Wb(0,"nb-option",28),h.Fc(1),h.Vb()),2&e){var i=t.$implicit;h.nc("value",i),h.Eb(1),h.Gc(i)}}function W(e,t){1&e&&(h.Wb(0,"p",30),h.Fc(1," Naziv je obavezan! "),h.Vb())}function V(e,t){if(1&e&&(h.Ub(0),h.Dc(1,W,2,0,"p",29),h.Tb()),2&e){h.hc();var i=h.vc(26);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function y(e,t){1&e&&(h.Wb(0,"p",30),h.Fc(1," Opis je obavezan! "),h.Vb())}function w(e,t){if(1&e&&(h.Ub(0),h.Dc(1,y,2,0,"p",29),h.Tb()),2&e){h.hc();var i=h.vc(33);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function S(e,t){1&e&&(h.Wb(0,"p",30),h.Fc(1," Masa je obavezna! "),h.Vb())}function M(e,t){1&e&&(h.Wb(0,"p",30),h.Fc(1," Masa mora biti broj! "),h.Vb())}function k(e,t){if(1&e&&(h.Ub(0),h.Dc(1,S,2,0,"p",29),h.Dc(2,M,2,0,"p",29),h.Tb()),2&e){h.hc();var i=h.vc(45);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required),h.Eb(1),h.nc("ngIf",null===i.value)}}function x(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",26),h.Wb(1,"div",12),h.Wb(2,"nb-toggle",31),h.dc("checkedChange",function(){h.xc(i);var e=t.$implicit;return h.hc().addOperation(e)}),h.Fc(3),h.Vb(),h.Vb(),h.Vb()}if(2&e){var n=t.$implicit,a=h.hc();h.Eb(2),h.nc("disabled",a.checkOperation(n)),h.Eb(1),h.Gc(n)}}var T,F=((T=function(){function e(t,i,n,s,o,c){var r=this;a(this,e),this.activatedRoute=t,this.catalogService=i,this.specialWasteService=n,this.router=s,this.toastrService=o,this.roleService=c,this.settings=p,this.checkIssues=!1,this.catalog=new l.a,this.otherOperations=[],this.specialWaste={amount:0,desc:"",mass:void 0,name:"",unitOfMeasure:"kg",operationTypes:[]},this.activatedRoute.params.subscribe(function(e){r.operation=e.operation,r.specialWasteType=e.trashType,r.ngOnInit()})}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.catalogService.getSpecialWaste().subscribe(function(t){e.catalog.load(t),e.specialWasteClasses=new Set,t.forEach(function(t){return e.specialWasteClasses.add(t.className)})}),this.roleService.getOperations(void 0,void 0,!0).subscribe(function(t){e.operations=t.specialWasteOperations}),this.otherOperations=[],this.specialWaste.operationTypes=[],this.operations.production&&this.otherOperations.push("Proizvodnja"),this.operations.import&&this.otherOperations.push("Uvoz"),this.operations.export&&this.otherOperations.push("Izvoz"),this.specialWaste.operationTypes=this.otherOperations}},{key:"checkOperation",value:function(e){return"Proizvodnja"===e&&"production"===this.operation||"Uvoz"===e&&"import"===this.operation||"Izvoz"===e&&"export"===this.operation}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"name",search:e},{field:"className",search:e}],!1)}},{key:"chooseSpecialWaste",value:function(e){var t=e.data;this.specialWaste.name=t.name,this.specialWaste.desc=t.desc,this.specialWaste.unitOfMeasure=t.unitOfMeasure}},{key:"addOperation",value:function(e){this.specialWaste.operationTypes.includes(e)?this.specialWaste.operationTypes=this.specialWaste.operationTypes.filter(function(t){return t!==e}):this.specialWaste.operationTypes.push(e)}},{key:"addSpecialWaste",value:function(e){if(e.invalid||isNaN(this.specialWaste.mass))return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite sve gre\u0161ke da bi ste dodali PTO.","warning");delete this.specialWaste._id,this.specialWasteService.createSpecialWaste(this.specialWaste,this.roleService.getCompanyID()).subscribe(),this.toastrService.showToast("Uspeh","Uspe\u0161no ste dodali posebeni tok otpada!","success"),this.router.navigate(["pages","dashboard"])}}]),e}()).\u0275fac=function(e){return new(e||T)(h.Qb(r.a),h.Qb(d.a),h.Qb(s.a),h.Qb(r.c),h.Qb(b.a),h.Qb(u.a))},T.\u0275cmp=h.Kb({type:T,selectors:[["add-special-waste"]],decls:55,vars:12,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-12"],[1,"col-8","pl-0"],["placeholder","Odaberite razred","fullWidth","",3,"selectedChange"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],["for","input-specialWasteName",1,"col-12","label"],[1,"col-4"],["required","","placeholder","Naziv","fullWidth","","name","specialWasteName","id","input-specialWasteName","nbInput","",3,"ngModel","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","input-specialWasteDesc",1,"col-12","label"],["required","","placeholder","Opis","fullWidth","","name","specialWasteDesc","id","input-specialWasteDesc","nbInput","",3,"ngModel","ngModelChange"],["desc","ngModel"],["for","input-specialWasteunitOfMeasure",1,"col-12","label"],["required","","disabled","","placeholder","Jedinica mere","fullWidth","","name","specialWasteunitOfMeasure","id","input-specialWasteunitOfMeasure","nbInput","",3,"ngModel","ngModelChange"],["for","input-specialWasteMass",1,"col-12","label"],["required","","fullWidth","","min","0","name","specialWasteMass","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0.0","id","input-specialWasteMass","step","0.1","type","number",3,"ngModel","ngModelChange"],["mass","ngModel"],[1,"col-12","label"],["class","row",4,"ngFor","ngForOf"],[1,"row"],["nbButton","","fullWidth","","status","primary","type","submit"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["checked","",3,"disabled","checkedChange"]],template:function(e,t){if(1&e){var i=h.Xb();h.Wb(0,"nb-card",0),h.Wb(1,"nb-card-header"),h.Wb(2,"h5"),h.Fc(3,"Dodajte novi inventar posebnih tokova otpada"),h.Vb(),h.Vb(),h.Wb(4,"nb-card-body"),h.Wb(5,"div",1),h.Wb(6,"div",2),h.Wb(7,"label",3),h.Fc(8,"Pretra\u017ei po razredu:"),h.Vb(),h.Vb(),h.Wb(9,"div",2),h.Wb(10,"nb-select",4),h.dc("selectedChange",function(e){return t.onSearch(e)}),h.Dc(11,m,2,2,"nb-option",5),h.Vb(),h.Vb(),h.Wb(12,"div",2),h.Wb(13,"label",3),h.Fc(14,"Pretra\u017ei po nazivu:"),h.Vb(),h.Vb(),h.Wb(15,"div",2),h.Wb(16,"input",6,7),h.dc("input",function(){h.xc(i);var e=h.vc(17);return e.value.length>=1&&t.onSearch(e.value)}),h.Vb(),h.Wb(18,"ng2-smart-table",8),h.dc("custom",function(e){return t.chooseSpecialWaste(e)}),h.Vb(),h.Vb(),h.Vb(),h.Wb(19,"form",9,10),h.dc("ngSubmit",function(){h.xc(i);var e=h.vc(20);return t.addSpecialWaste(e)}),h.Wb(21,"div",1),h.Wb(22,"label",11),h.Fc(23,"Naziv: "),h.Vb(),h.Wb(24,"div",12),h.Wb(25,"input",13,14),h.dc("ngModelChange",function(e){return t.specialWaste.name=e}),h.Vb(),h.Dc(27,V,2,1,"ng-container",15),h.Vb(),h.Vb(),h.Wb(28,"div",1),h.Wb(29,"label",16),h.Fc(30,"Opis: "),h.Vb(),h.Wb(31,"div",12),h.Wb(32,"input",17,18),h.dc("ngModelChange",function(e){return t.specialWaste.desc=e}),h.Vb(),h.Dc(34,w,2,1,"ng-container",15),h.Vb(),h.Vb(),h.Wb(35,"div",1),h.Wb(36,"label",19),h.Fc(37,"Jedinica mere: "),h.Vb(),h.Wb(38,"div",12),h.Wb(39,"input",20),h.dc("ngModelChange",function(e){return t.specialWaste.unitOfMeasure=e}),h.Vb(),h.Vb(),h.Vb(),h.Wb(40,"div",1),h.Wb(41,"label",21),h.Fc(42),h.Vb(),h.Wb(43,"div",12),h.Wb(44,"input",22,23),h.dc("ngModelChange",function(e){return t.specialWaste.mass=e}),h.Vb(),h.Dc(46,k,3,2,"ng-container",15),h.Vb(),h.Vb(),h.Wb(47,"div",1),h.Wb(48,"label",24),h.Fc(49,"Izaberite dodatne operacije proizvoda: "),h.Vb(),h.Vb(),h.Dc(50,x,4,2,"div",25),h.Wb(51,"div",26),h.Wb(52,"div",12),h.Wb(53,"button",27),h.Fc(54,"Dodaj "),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&e){var n=h.vc(26),a=h.vc(33),s=h.vc(45);h.Eb(11),h.nc("ngForOf",t.specialWasteClasses),h.Eb(7),h.nc("source",t.catalog)("settings",t.settings),h.Eb(7),h.nc("ngModel",t.specialWaste.name),h.Eb(2),h.nc("ngIf",n.touched||t.checkIssues),h.Eb(5),h.nc("ngModel",t.specialWaste.desc),h.Eb(2),h.nc("ngIf",a.touched||t.checkIssues),h.Eb(5),h.nc("ngModel",t.specialWaste.unitOfMeasure),h.Eb(3),h.Hc("Masa jedinice mere (",t.specialWaste.unitOfMeasure,"): "),h.Eb(2),h.nc("ngModel",t.specialWaste.mass),h.Eb(2),h.nc("ngIf",s.touched||t.checkIssues),h.Eb(4),h.nc("ngForOf",t.otherOperations)}},directives:[v.A,v.D,v.z,v.tb,f.m,v.T,l.b,g.v,g.l,g.m,g.b,g.s,g.k,g.n,f.n,g.p,v.t,v.ib,v.Nb],styles:[".error-message[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover{color:#1e90ff}"]}),T),O=i("Lx1j"),C=i("7Oz7"),E={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj"},name:{title:"Naziv"}}},P=i("UI7+"),z=i("McNs");function D(e,t){if(1&e&&(h.Wb(0,"nb-option",2),h.Fc(1),h.Vb()),2&e){var i=t.$implicit;h.nc("value",i),h.Eb(1),h.Gc(i)}}var I,A=function(){return{standalone:!0}},L=((I=function(){function e(){a(this,e),this.storageAmountUnit="KG",this.storageUnits=["KG","T"]}return o(e,[{key:"ngOnInit",value:function(){}},{key:"updateStorageUnits",value:function(e){this.storageUnits="Te\u010dno"===e?["L"]:"Gasovito"===e?["M3"]:["KG","T"],this.storageAmountUnit=this.storageUnits[0]}}]),e}()).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=h.Kb({type:I,selectors:[["input-trash-amount"]],inputs:{storageAmountUnit:"storageAmountUnit"},decls:2,vars:5,consts:[["fullWidth","",3,"ngModel","ngModelOptions","selected","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(h.Wb(0,"nb-select",0),h.dc("ngModelChange",function(e){return t.storageAmountUnit=e}),h.Dc(1,D,2,2,"nb-option",1),h.Vb()),2&e&&(h.nc("ngModel",t.storageAmountUnit)("ngModelOptions",h.qc(4,A))("selected","KG"),h.Eb(1),h.nc("ngForOf",t.storageUnits))},directives:[v.tb,g.k,g.n,f.m,v.ib],styles:[""]}),I);function _(e,t){if(1&e){var i=h.Xb();h.Wb(0,"nb-option",42),h.dc("selectionChange",function(){h.xc(i);var e=t.$implicit;return h.hc(2).updateCatalog(e)}),h.Fc(1),h.Vb()}if(2&e){var n=t.$implicit;h.nc("value",null==n?null:n.storage),h.Eb(1),h.Gc(null==n?null:n.storage.name)}}function j(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",39),h.Wb(1,"nb-select",40),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().selectedStorage=e}),h.Dc(2,_,2,2,"nb-option",41),h.Vb(),h.Vb()}if(2&e){var n=h.hc();h.Eb(1),h.nc("ngModel",n.selectedStorage),h.Eb(1),h.nc("ngForOf",n.permits)}}function N(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," Naziv je obavezan! "),h.Vb())}function U(e,t){if(1&e&&(h.Ub(0),h.Dc(1,N,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(28);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function q(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," Opis je obavezan! "),h.Vb())}function R(e,t){if(1&e&&(h.Ub(0),h.Dc(1,q,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(35);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function Q(e,t){1&e&&(h.Wb(0,"p",46),h.Fc(1," Koli\u010dina je obavezna! "),h.Vb())}function G(e,t){1&e&&(h.Wb(0,"p",46),h.Fc(1," Koli\u010dina mora biti broj! "),h.Vb())}function X(e,t){if(1&e&&(h.Ub(0),h.Dc(1,Q,2,0,"p",45),h.Dc(2,G,2,0,"p",45),h.Tb()),2&e){h.hc();var i=h.vc(43);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required),h.Eb(1),h.nc("ngIf",null===i.value)}}function K(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit;h.nc("value",i),h.Eb(1),h.Gc(i)}}function $(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," Fizi\u010dko stanje je obavezno! "),h.Vb())}function B(e,t){if(1&e&&(h.Ub(0),h.Dc(1,$,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(54);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function H(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit;h.nc("value",i),h.Eb(1),h.Gc(i.name)}}function Y(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," Morate odabrati skladi\u0161te! "),h.Vb())}function J(e,t){if(1&e&&(h.Ub(0),h.Dc(1,Y,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(5);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function Z(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",1),h.Wb(1,"label",48),h.Fc(2,"Odaberite skladi\u0161te za otpad: "),h.Vb(),h.Wb(3,"div",11),h.Wb(4,"nb-select",49,50),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().selectedStorage=e}),h.Dc(6,H,2,2,"nb-option",33),h.Vb(),h.Dc(7,J,2,1,"ng-container",17),h.Vb(),h.Vb()}if(2&e){var n=h.vc(5),a=h.hc();h.Eb(4),h.nc("ngModel",a.selectedStorage),h.Eb(2),h.nc("ngForOf",a.storages),h.Eb(1),h.nc("ngIf",n.touched||a.checkIssues)}}function ee(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.nc("value","D"+(n+1)),h.Eb(1),h.Gc("D"+(n+1)+" | "+i)}}function te(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," D oznaka je obavezna! "),h.Vb())}function ie(e,t){if(1&e&&(h.Ub(0),h.Dc(1,te,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(5);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function ne(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",1),h.Wb(1,"label",48),h.Fc(2,"Odaberite D oznaku (mo\u017eete je promentiti u svakom trenutku): "),h.Vb(),h.Wb(3,"div",51),h.Wb(4,"nb-select",52,53),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.dSign=e}),h.Dc(6,ee,2,2,"nb-option",33),h.Vb(),h.Dc(7,ie,2,1,"ng-container",17),h.Vb(),h.Vb()}if(2&e){var n=h.vc(5),a=h.hc();h.Eb(4),h.nc("ngModel",a.trash.dSign)("required","dump"===a.operation),h.Eb(2),h.nc("ngForOf",a.dSigns),h.Eb(1),h.nc("ngIf",n.touched||a.checkIssues)}}function ae(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.nc("value","R"+(n+1)),h.Eb(1),h.Gc("R"+(n+1)+" | "+i)}}function se(e,t){1&e&&(h.Wb(0,"p",44),h.Fc(1," R oznaka je obavezna! "),h.Vb())}function oe(e,t){if(1&e&&(h.Ub(0),h.Dc(1,se,2,0,"p",43),h.Tb()),2&e){h.hc();var i=h.vc(5);h.Eb(1),h.nc("ngIf",null==i.errors?null:i.errors.required)}}function ce(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",1),h.Wb(1,"label",48),h.Fc(2,"Odaberite R oznaku (mo\u017eete je promentiti u svakom trenutku): "),h.Vb(),h.Wb(3,"div",51),h.Wb(4,"nb-select",54,55),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.rSign=e}),h.Dc(6,ae,2,2,"nb-option",33),h.Vb(),h.Dc(7,oe,2,1,"ng-container",17),h.Vb(),h.Vb()}if(2&e){var n=h.vc(5),a=h.hc();h.Eb(4),h.nc("ngModel",a.trash.rSign)("required","treatment"===a.operation),h.Eb(2),h.nc("ngForOf",a.rSigns),h.Eb(1),h.nc("ngIf",n.touched||a.checkIssues)}}function re(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",1),h.Wb(1,"label",56),h.Fc(2,"\u0160ifra ispitivanja otpada: "),h.Vb(),h.Wb(3,"div",11),h.Wb(4,"input",57),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.examinationCode=e}),h.Vb(),h.Vb(),h.Vb()}if(2&e){var n=h.hc(),a=h.vc(64);h.Eb(4),h.nc("ngModel",n.trash.examinationCode)("required",a.checked)}}function le(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div",1),h.Wb(1,"label",58),h.Fc(2,"Datum ispitivanja otpada: "),h.Vb(),h.Wb(3,"div",11),h.Wb(4,"input",59),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.examinationDate=e}),h.Vb(),h.Rb(5,"nb-datepicker",60,61),h.Vb(),h.Vb()}if(2&e){var n=h.vc(6),a=h.hc(),s=h.vc(64);h.Eb(4),h.nc("ngModel",a.trash.examinationDate)("nbDatepicker",n)("required",s.checked),h.Eb(1),h.nc("max",a.today())}}function de(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.nc("value","H"+(n+1)),h.Eb(1),h.Gc("H"+(n+1)+" | "+i)}}function ue(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.nc("value","Y"+(n+1)),h.Eb(1),h.Gc("Y"+(n+1)+" | "+i)}}function be(e,t){if(1&e&&(h.Wb(0,"nb-option",47),h.Fc(1),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.nc("value","C"+(n+1)),h.Eb(1),h.Gc("C"+(n+1)+" | "+i)}}function pe(e,t){if(1&e&&(h.Wb(0,"div",11),h.Fc(1),h.Wb(2,"div",1),h.Wb(3,"label",48),h.Fc(4,"CAS: "),h.Vb(),h.Wb(5,"div",68),h.Wb(6,"input",69),h.dc("ngModelChange",function(e){return t.$implicit.CAS=e}),h.Vb(),h.Vb(),h.Vb(),h.Wb(7,"div",1),h.Wb(8,"label",48),h.Fc(9,"Hemijski naziv: "),h.Vb(),h.Wb(10,"div",68),h.Wb(11,"input",70),h.dc("ngModelChange",function(e){return t.$implicit.chemicalName=e}),h.Vb(),h.Vb(),h.Vb(),h.Wb(12,"div",1),h.Wb(13,"label",48),h.Fc(14,"Kilograma opasne materije po kilogram otpada: "),h.Vb(),h.Wb(15,"div",71),h.Wb(16,"input",72),h.dc("ngModelChange",function(e){return t.$implicit.kgOfMatter=e}),h.Vb(),h.Vb(),h.Wb(17,"div",73),h.Wb(18,"button",74),h.Fc(19,"kg"),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&e){var i=t.$implicit,n=t.index;h.hc(3);var a=h.vc(64);h.Eb(1),h.Hc(" Komponenta #",n+1," "),h.Eb(5),h.nc("required",a.checked)("ngModel",i.CAS),h.Eb(5),h.nc("ngModel",i.chemicalName)("required",a.checked),h.Eb(5),h.nc("ngModel",i.kgOfMatter)("required",a.checked)}}function he(e,t){if(1&e&&(h.Wb(0,"div",1),h.Dc(1,pe,20,7,"div",67),h.Vb()),2&e){var i=h.hc(2);h.Eb(1),h.nc("ngForOf",i.trash.unsafeComponent)}}function ve(e,t){if(1&e){var i=h.Xb();h.Wb(0,"div"),h.Wb(1,"div",1),h.Wb(2,"label",62),h.Fc(3,"H-Lista: "),h.Vb(),h.Wb(4,"label",62),h.Fc(5,"Y-Lista: "),h.Vb(),h.Wb(6,"label",62),h.Fc(7,"C-Lista: "),h.Vb(),h.Wb(8,"div",63),h.Wb(9,"nb-select",54),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.hList=e}),h.Dc(10,de,2,2,"nb-option",33),h.Vb(),h.Vb(),h.Wb(11,"div",63),h.Wb(12,"nb-select",54),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.yList=e}),h.Dc(13,ue,2,2,"nb-option",33),h.Vb(),h.Vb(),h.Wb(14,"div",39),h.Wb(15,"nb-select",54),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().trash.cList=e}),h.Dc(16,be,2,2,"nb-option",33),h.Vb(),h.Vb(),h.Vb(),h.Wb(17,"div",1),h.Wb(18,"label",48),h.Fc(19,"Broj opasnih komponenta u otpadu: "),h.Vb(),h.Wb(20,"div",11),h.Wb(21,"input",64),h.dc("ngModelChange",function(e){return h.xc(i),h.hc().componentsNo=e}),h.Vb(),h.Vb(),h.Wb(22,"div",65),h.Wb(23,"button",66),h.dc("click",function(){return h.xc(i),h.hc().updateCAS()}),h.Fc(24,"Odaberi"),h.Vb(),h.Vb(),h.Vb(),h.Dc(25,he,2,1,"div",34),h.Vb()}if(2&e){var n=h.hc(),a=h.vc(64);h.Eb(9),h.nc("ngModel",n.trash.hList)("required",a.checked),h.Eb(1),h.nc("ngForOf",n.hList),h.Eb(2),h.nc("ngModel",n.trash.yList)("required",a.checked),h.Eb(1),h.nc("ngForOf",n.yList),h.Eb(2),h.nc("ngModel",n.trash.cList)("required",a.checked),h.Eb(1),h.nc("ngForOf",n.cList),h.Eb(5),h.nc("ngModel",n.componentsNo)("required",a.checked),h.Eb(4),h.nc("ngIf",n.componentsNo>0)}}var fe,ge,me,We,Ve=function(){return{standalone:!0}},ye=((fe=function(){function e(t,i,n,s,o,c,r,d,u){var b=this;a(this,e),this.catalogService=t,this.trashService=i,this.router=n,this.authService=s,this.activatedRoute=o,this.storageService=c,this.toastrService=r,this.roleService=d,this.permitService=u,this.catalog=new l.a,this.storageAmmountUnit="KG",this.storages=[],this.permits=[],this.trash={amount:null,desc:"",indexNumber:"",name:"",dSign:"",rSign:"",state:""},this.componentsNo=0,this.checkIssues=!1,this.settings=Object.assign({},E),this.states=Object.assign([],P.e),this.dSigns=Object.assign([],P.b),this.rSigns=Object.assign([],P.d),this.hList=Object.assign([],P.c),this.yList=Object.assign([],P.f),this.cList=Object.assign([],P.a),this.activatedRoute.params.subscribe(function(e){b.storages=[],b.selectedStorage=void 0,b.operation=e.operation,b.trashType=e.trashType,b.ngOnInit()})}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.storageService.getCompaniesStorage(this.roleService.getCompanyID(),this.operation).subscribe(function(t){e.storages=t}),"production"!==this.operation?this.updatePermits():"safe"===this.trashType?this.catalogService.getSafeTrash().subscribe(function(t){e.catalog.load(t)}):this.catalogService.getUnsafeTrash().subscribe(function(t){e.catalog.load(t)}),"unsafe"===this.trashType&&(this.trash=this.trash)}},{key:"updatePermits",value:function(){var e=this;this.permitService.getCompaniesPermits(this.roleService.getCompanyID(),this.operation).subscribe(function(t){e.permits=t;for(var i=0;i<e.permits.length;i++)e.permits[i].trashList=e.permits[i].trashList.filter("safe"===e.trashType?function(e){return!e.indexNumber.includes("*")}:function(e){return e.indexNumber.includes("*")});e.updateCatalog(e.permits[0])})}},{key:"updateCatalog",value:function(e){void 0===e&&this.updatePermits(),this.selectedStorage=this.storages.find(function(t){return t._id===e.storage._id});var t=Array.from(this.selectedStorage.trashes,function(e){return e.indexNumber}),i=e.trashList;i=i.filter(function(e){return!t.includes(e.indexNumber)}),this.catalog.load(i)}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,t){return e.replace(/\s+/g,"").includes(t.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}},{key:"updateCAS",value:function(){var e=this.trash;e.unsafeComponent=new Array(this.componentsNo);for(var t=0;t<this.componentsNo;t++)e.unsafeComponent[t]={kgOfMatter:null,CAS:"",chemicalName:""};this.trash=Object.assign({},e)}},{key:"chooseTrash",value:function(e){var t=e.data;this.trash.indexNumber=t.indexNumber,this.trash.name=t.name,this.trash.desc=t.name}},{key:"today",value:function(){return new Date}},{key:"addTrash",value:function(e){if(e.invalid||isNaN(this.trash.amount))return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite sve gre\u0161ke da bi ste dodali otpad.","warning");"T"===this.storageAmmountUnit&&(this.trash.amount*=1e3),delete this.trash._id,this.selectedStorage.maxAmount<this.selectedStorage.amount+this.trash.amount?this.toastrService.showToast("Gre\u0161ka","Ne mo\u017eete da dodate vi\u0161e otpada nego \u0161to va\u0161e skladi\u0161te mo\u017ee da prihvati: "+this.selectedStorage.maxAmount+" "+this.selectedStorage.storageUnit,"warning"):(this.trashService.createTrash(this.trash,this.selectedStorage._id).subscribe(),this.toastrService.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.selectedStorage.name,"success"),this.router.navigate(["pages","storage"]))}}]),e}()).\u0275fac=function(e){return new(e||fe)(h.Qb(d.a),h.Qb(O.a),h.Qb(r.c),h.Qb(z.g),h.Qb(r.a),h.Qb(C.a),h.Qb(b.a),h.Qb(u.a),h.Qb(n.a))},fe.\u0275cmp=h.Kb({type:fe,selectors:[["pages-add-trash"]],decls:73,vars:27,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-12"],[1,"col-8","pl-0"],["class","col-4",4,"ngIf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"row"],[1,"col-6"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","required","","id","input-indeksniBroj",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["for","input-trashName",1,"col-12","label"],["fullWidth","","id","input-trashName","name","trashName","nbInput","","placeholder","Naziv","required","",3,"ngModel","ngModelOptions","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","input-trashDesc",1,"col-12","label"],["required","","placeholder","Opis","fullWidth","","name","trashDesc","id","input-trashDesc","nbInput","",3,"ngModel","ngModelChange"],["desc","ngModel"],["for","input-trashAmount",1,"col-12","label"],[1,"row","ml-1"],[1,"col-5","pr-0"],["required","","onkeypress","return /[0-9]/i.test(event.key)","fullWidth","","min","0","name","trashAmount","nbInput","","placeholder","0.0","id","input-trashAmount","step","0.1","type","number",3,"ngModel","ngModelChange"],["amount","ngModel"],[1,"col-1","pl-0"],[3,"storageAmountUnit"],["trashAmount",""],[1,"ml-2","row"],["for","input-trashState",1,"col-12","label"],["required","","placeholder","Fizi\u010dko stanje","fullWidth","","name","trashState","id","input-trashState","selected","Cvrsto",3,"ngModel","selectedChange","ngModelChange"],["state","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","row mb-2",4,"ngIf"],["status","basic",3,"checked","disabled"],["examinationCodeToggle",""],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit"],[1,"col-4"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],[3,"value","selectionChange"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["class","col-12 error-message mt-1 mb-0",4,"ngIf"],[1,"col-12","error-message","mt-1","mb-0"],[3,"value"],[1,"col-12","label"],["fullWidth","","required","","name","storage",3,"ngModel","ngModelChange"],["storage","ngModel"],[1,"col-10"],["fullWidth","","name","dSign",3,"ngModel","required","ngModelChange"],["dSign","ngModel"],["fullWidth","","name","rSign",3,"ngModel","required","ngModelChange"],["rSign","ngModel"],["for","input-examinationCode",1,"col-12","label"],["fullWidth","","id","input-examinationCode","name","examinationCode","nbInput","","placeholder","\u0160ifra","type","text",3,"ngModel","required","ngModelChange"],["for","input-examinationDate",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-examinationDate","name","examinationDate","nbInput","",3,"ngModel","nbDatepicker","required","ngModelChange"],[3,"max"],["examinationDatePicker",""],[1,"col-4","label"],[1,"col-4","mb-2"],["fullWidth","","min","1","name","brojKomponeti","nbInput","","type","number",3,"ngModel","required","ngModelChange"],[1,"col-3"],["fullWidth","","nbButton","","type","button",3,"click"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-8"],["nbInput","","type","text","required","","name","CAS",3,"required","ngModel","ngModelChange"],["nbInput","","type","text","required","","name","Hemijski naziv",3,"ngModel","required","ngModelChange"],[1,"col-6","pr-0"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Kg opasne materije",3,"ngModel","required","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","disabled",""]],template:function(e,t){if(1&e){var i=h.Xb();h.Wb(0,"nb-card",0),h.Wb(1,"nb-card-header"),h.Wb(2,"h5"),h.Fc(3,"Dodajte novi inventar otpada"),h.Vb(),h.Vb(),h.Wb(4,"nb-card-body"),h.Wb(5,"div",1),h.Wb(6,"div",2),h.Wb(7,"label",3),h.Fc(8,"Pretra\u017ei po indeksnom broju ili nazivu:"),h.Vb(),h.Vb(),h.Dc(9,j,3,2,"div",4),h.Wb(10,"div",2),h.Wb(11,"input",5,6),h.dc("input",function(){h.xc(i);var e=h.vc(12);return e.value.length>=1&&t.onSearch(e.value)}),h.Vb(),h.Wb(13,"ng2-smart-table",7),h.dc("custom",function(e){return t.chooseTrash(e)}),h.Vb(),h.Vb(),h.Vb(),h.Wb(14,"form",8,9),h.dc("ngSubmit",function(){h.xc(i);var e=h.vc(15);return t.addTrash(e)}),h.Wb(16,"div",10),h.Wb(17,"div",11),h.Wb(18,"div",1),h.Wb(19,"label",12),h.Fc(20,"Indeksni broj:"),h.Vb(),h.Wb(21,"div",11),h.Wb(22,"input",13),h.dc("ngModelChange",function(e){return t.trash.indexNumber=e}),h.Vb(),h.Vb(),h.Vb(),h.Wb(23,"div",1),h.Wb(24,"label",14),h.Fc(25,"Naziv: "),h.Vb(),h.Wb(26,"div",11),h.Wb(27,"input",15,16),h.dc("ngModelChange",function(e){return t.trash.name=e}),h.Vb(),h.Dc(29,U,2,1,"ng-container",17),h.Vb(),h.Vb(),h.Wb(30,"div",1),h.Wb(31,"label",18),h.Fc(32,"Opis: "),h.Vb(),h.Wb(33,"div",11),h.Wb(34,"input",19,20),h.dc("ngModelChange",function(e){return t.trash.desc=e}),h.Vb(),h.Dc(36,R,2,1,"ng-container",17),h.Vb(),h.Vb(),h.Wb(37,"div",1),h.Wb(38,"label",21),h.Fc(39,"Trenutna koli\u010dina na skladistu: "),h.Vb(),h.Wb(40,"div",22),h.Wb(41,"div",23),h.Wb(42,"input",24,25),h.dc("ngModelChange",function(e){return t.trash.amount=e}),h.Vb(),h.Vb(),h.Wb(44,"div",26),h.Rb(45,"input-trash-amount",27,28),h.Vb(),h.Vb(),h.Wb(47,"div",29),h.Dc(48,X,3,2,"ng-container",17),h.Vb(),h.Vb(),h.Wb(49,"div",1),h.Wb(50,"label",30),h.Fc(51,"Fizicko stanje otpada: "),h.Vb(),h.Wb(52,"div",11),h.Wb(53,"nb-select",31,32),h.dc("selectedChange",function(){return h.xc(i),h.vc(46).updateStorageUnits(t.trash.state)})("ngModelChange",function(e){return t.trash.state=e}),h.Dc(55,K,2,2,"nb-option",33),h.Vb(),h.Dc(56,B,2,1,"ng-container",17),h.Vb(),h.Vb(),h.Dc(57,Z,8,3,"div",34),h.Dc(58,ne,8,4,"div",34),h.Dc(59,ce,8,4,"div",34),h.Vb(),h.Wb(60,"div",11),h.Wb(61,"div",1),h.Wb(62,"div",2),h.Wb(63,"nb-toggle",35,36),h.Fc(65,"Imam dokumenat o ispitivanju otpada "),h.Vb(),h.Vb(),h.Vb(),h.Dc(66,re,5,2,"div",34),h.Dc(67,le,7,4,"div",34),h.Dc(68,ve,26,12,"div",17),h.Vb(),h.Wb(69,"div",37),h.Wb(70,"div",2),h.Wb(71,"button",38),h.Fc(72,"Dodaj "),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&e){var n=h.vc(28),a=h.vc(35),s=h.vc(43),o=h.vc(54),c=h.vc(64);h.Eb(9),h.nc("ngIf","production"!==t.operation),h.Eb(4),h.nc("source",t.catalog)("settings",t.settings),h.Eb(9),h.nc("ngModelOptions",h.qc(25,Ve))("ngModel",t.trash.indexNumber)("placeholder",t.trash.indexNumber||"00 00 00"),h.Eb(5),h.nc("ngModel",t.trash.name)("ngModelOptions",h.qc(26,Ve)),h.Eb(2),h.nc("ngIf",n.touched||t.checkIssues),h.Eb(5),h.nc("ngModel",t.trash.desc),h.Eb(2),h.nc("ngIf",a.touched||t.checkIssues),h.Eb(6),h.nc("ngModel",t.trash.amount),h.Eb(3),h.nc("storageAmountUnit",t.storageAmmountUnit),h.Eb(3),h.nc("ngIf",s.touched||t.checkIssues),h.Eb(5),h.nc("ngModel",t.trash.state),h.Eb(2),h.nc("ngForOf",t.states),h.Eb(1),h.nc("ngIf",o.touched||t.checkIssues),h.Eb(1),h.nc("ngIf","production"===t.operation),h.Eb(1),h.nc("ngIf","dump"===t.operation),h.Eb(1),h.nc("ngIf","treatment"===t.operation),h.Eb(4),h.nc("checked","unsafe"===t.trashType)("disabled","unsafe"===t.trashType),h.Eb(3),h.nc("ngIf",c.checked||"unsafe"===t.trashType),h.Eb(1),h.nc("ngIf",c.checked||"unsafe"===t.trashType),h.Eb(1),h.nc("ngIf","unsafe"===t.trashType)}},directives:[v.A,v.D,v.z,f.n,v.T,l.b,g.v,g.l,g.m,g.b,g.s,g.k,g.n,g.p,L,v.tb,f.m,v.Nb,v.t,v.ib,v.M,v.L],styles:["[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover{color:#1e90ff}.error-message[_ngcontent-%COMP%]{color:red}"]}),fe),we=[{path:"",component:(ge=function e(){a(this,e)},ge.\u0275fac=function(e){return new(e||ge)},ge.\u0275cmp=h.Kb({type:ge,selectors:[["pages-trash"]],decls:1,vars:0,template:function(e,t){1&e&&h.Rb(0,"router-outlet")},directives:[r.h],encapsulation:2}),ge),children:[{path:"specialwaste/:operation",component:F},{path:":trashType/:operation",component:ye}]}],Se=((We=function e(){a(this,e)}).\u0275fac=function(e){return new(e||We)},We.\u0275mod=h.Ob({type:We}),We.\u0275inj=h.Nb({imports:[[r.g.forChild(we)],r.g]}),We),Me=((me=function e(){a(this,e)}).\u0275fac=function(e){return new(e||me)},me.\u0275mod=h.Ob({type:me}),me.\u0275inj=h.Nb({providers:[d.a,O.a,n.a,s.a],imports:[[c.a,Se,v.E,v.U,v.ub,v.H,l.c,v.w,g.e,v.N,v.Ob]]}),me)},BMkl:function(i,n,s){"use strict";s.d(n,"a",function(){return u});var c,r=s("AytR"),l=s("fXoL"),d=s("tk/3"),u=((c=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}(s,i);var n=t(s);function s(e){var t;return a(this,s),(t=n.call(this)).http=e,t.apiUrl=r.a.apiUrl,t}return o(s,[{key:"createSpecialWaste",value:function(e,t){return this.http.post(this.apiUrl+"/api/specialwaste",{specialWaste:e,companyID:t})}},{key:"deleteSpecialWaste",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.delete(this.apiUrl+"/api/specialwaste/one/"+"".concat(t,"/").concat(e))}},{key:"getSpecialWaste",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/specialwaste/one/"+"".concat(t,"/").concat(e))}},{key:"getSpecialWastes",value:function(e,t){return this.http.get(this.apiUrl+"/api/specialwaste/many/"+"".concat(t,"/").concat(e))}},{key:"updateSpecialWaste",value:function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"_id";return this.http.patch(this.apiUrl+"/api/specialwaste/one/"+"".concat(a,"/").concat(n),{specialWaste:e,specialWasteType:t,amount:i})}},{key:"getCompaniesSpecialWastes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return this.http.get(this.apiUrl+"/api/company/specialwastes/"+"".concat(e,"/").concat(t))}}]),s}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||c)(l.ac(d.b))},c.\u0275prov=l.Mb({token:c,factory:c.\u0275fac}),c)},dgmN:function(e,t,i){"use strict";i.r(t),i.d(t,"PagesModule",function(){return Tt});var n,s=i("3Pt+"),c=i("aceb"),r=i("RS3s"),l=i("bS1W"),d=i("wH5/"),u=i("fo3O"),b=i("H5EB"),p=i("vTDv"),h=i("zQsl"),v=i("bJfm"),f=i("fXoL"),g=((n=function e(){a(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.Ob({type:n}),n.\u0275inj=f.Nb({providers:[],imports:[[s.e,p.a,c.E,c.Sb,c.w,c.n,c.S,c.w,v.a,c.ub,c.zb,c.k,r.c,c.Ib,h.c,h.a]]}),n),m=i("5IJp"),W=i("tyNb"),V=i("ud2R"),y=i("BHmg"),w=i("KeQW"),S=i("ofXK");function M(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div"),f.Wb(1,"button",6),f.dc("click",function(){return f.xc(i),f.hc().updatePositionMethod(-1)}),f.Rb(2,"i",7),f.Vb(),f.Wb(3,"button",6),f.dc("click",function(){return f.xc(i),f.hc().updatePositionMethod(1)}),f.Rb(4,"i",8),f.Vb(),f.Vb()}}var k,x=((k=function(){function e(){a(this,e),this.updatePosition=new f.o,this.showSettings=!1}return o(e,[{key:"ngOnInit",value:function(){}},{key:"updatePositionMethod",value:function(e){this.updatePosition.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=f.Kb({type:k,selectors:[["widget-group-header"]],inputs:{title:"title",status:"status"},outputs:{updatePosition:"updatePosition"},decls:9,vars:4,consts:[[3,"status"],[1,"row"],[1,"col-6","d-flex","justify-content-start"],[1,"col-6","d-flex","flex-fill","justify-content-end"],["nbButton","","size","small",3,"status","click"],[4,"ngIf"],["nbButton","",3,"click"],[1,"fa","fa-arrow-up"],[1,"fa","fa-arrow-down"]],template:function(e,t){1&e&&(f.Wb(0,"nb-card",0),f.Wb(1,"nb-card-header"),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Fc(4),f.Vb(),f.Wb(5,"div",3),f.Wb(6,"button",4),f.dc("click",function(){return t.showSettings=!t.showSettings}),f.Fc(7,"Izmeni redosled"),f.Vb(),f.Dc(8,M,5,0,"div",5),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.nc("status",t.status),f.Eb(4),f.Gc(t.title),f.Eb(2),f.nc("status",t.status),f.Eb(2),f.nc("ngIf",t.showSettings))},directives:[c.A,c.D,c.t,S.n],styles:[""]}),k),T=i("TOXQ"),F={view:[],legend:!0,legendTitle:"",showLabels:!0,animations:!0,xAxis:!0,yAxis:!0,showYAxisLabel:!0,showXAxisLabel:!0,xAxisLabel:"Dani",yAxisLabel:"KG",timeline:!0,schemaType:"linear"};function O(e,t){if(1&e&&(f.Wb(0,"div",10),f.Rb(1,"ngx-charts-bar-vertical-stacked",11,12),f.Vb()),2&e){var i=f.hc();f.Eb(1),f.nc("legend",i.options.legend)("showXAxisLabel",i.options.showXAxisLabel)("scheme",i.colorScheme)("showYAxisLabel",i.options.showYAxisLabel)("xAxis",i.options.xAxis)("yAxis",i.options.yAxis)("xAxisLabel",i.options.xAxisLabel)("yAxisLabel",i.options.yAxisLabel)("results",i.data)("view",i.options.view)}}function C(e,t){if(1&e&&(f.Wb(0,"nb-option",13),f.Fc(1),f.Vb()),2&e){var i=t.$implicit;f.nc("value",i),f.Eb(1),f.Hc(" ",i.trash.name," ")}}var E,P=((E=function(){function e(t){a(this,e),this.transactionService=t,this.trashList=[],this.daysInMonth=30,this.data=[],this.colorScheme={domain:["#FF0000","#0000FF"]};var i=new Date;this.options=Object.assign({},F),this.updateSize(this.size),this.daysInMonth=new Date(i.getFullYear(),i.getMonth()+1,0).getDate()}return o(e,[{key:"ngOnChanges",value:function(e){var t=this;e.size&&this.updateSize(this.size),e.type&&this.transactionService.getMostUsedTrash(this.type).subscribe(function(e){t.trashList=e,0!==e.length&&(t.selectedTrash=t.trashList[0],t.updateGraph(t.selectedTrash))})}},{key:"chooseTransaction",value:function(e){this.selectedTrash=e,this.updateGraph(e)}},{key:"updateGraph",value:function(e){var t=this;this.transactionService.getTransactions(e.trash._id,"trash").subscribe(function(e){t.trash=e,t.options.legendTitle=t.trash[0].trash.name;var i="Transportovan",n="Proizveden";"treatment"!==t.type&&"disposal"!==t.type||(n="Preuzet",i="treatment"===t.type?"Obra\u0111en":"Odlo\u017een");var a={name:n,value:0},s={name:i,value:0};t.data=[];for(var o=0;o<t.daysInMonth;o++)t.data[o]={name:o+1+"",series:[]};for(var c=0;c<t.trash.length;c++){var r;r="0"!==t.trash[c].date.toString().substring(8,10).charAt(0)?t.trash[c].date.toString().substring(8,10):t.trash[c].date.toString().substring(9,10),t.trash[c].trashAmount>0?(a.value+=t.trash[c].trashAmount,t.data[r].series.push({name:n,value:t.trash[c].trashAmount})):(s.value+=Math.abs(t.trash[c].trashAmount),t.data[r].series.push({name:i,value:t.trash[c].trashAmount}))}})}},{key:"updateSize",value:function(e){"tiny"===e||"small"===e?this.options.view=[]:"medium"===e?this.options.view=[500,300]:"large"===e?this.options.view=[700,300]:"giant"===e&&(this.options.view=[1100,500])}}]),e}()).\u0275fac=function(e){return new(e||E)(f.Qb(T.a))},E.\u0275cmp=f.Kb({type:E,selectors:[["widget-trash-stats"]],inputs:{type:"type",size:"size"},features:[f.Cb],decls:14,vars:6,consts:[["class","row flex-fill",4,"ngIf"],[1,"row","mt-2"],[1,"col-4"],["fullWidth","",3,"size","selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["disabled","","fullWidth","","selected","Dani",3,"size"],["value","Dani"],["value","Meseci"],["value","Godine"],[1,"row","flex-fill"],[3,"legend","showXAxisLabel","scheme","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","results","view"],["bar",""],[3,"value"]],template:function(e,t){1&e&&(f.Fc(0),f.Dc(1,O,3,10,"div",0),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Wb(4,"nb-select",3),f.dc("selectedChange",function(e){return t.chooseTransaction(e)}),f.Dc(5,C,2,2,"nb-option",4),f.Vb(),f.Vb(),f.Wb(6,"div",5),f.Wb(7,"nb-select",6),f.Wb(8,"nb-option",7),f.Fc(9,"Dani"),f.Vb(),f.Wb(10,"nb-option",8),f.Fc(11,"Meseci"),f.Vb(),f.Wb(12,"nb-option",9),f.Fc(13,"Godine"),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Hc("",t.options.legendTitle,"\n"),f.Eb(1),f.nc("ngIf",t.type),f.Eb(3),f.nc("size",t.size)("selected",t.trashList[0]),f.Eb(1),f.nc("ngForOf",t.trashList),f.Eb(2),f.nc("size",t.size))},directives:[S.n,c.tb,S.m,c.ib,h.b],styles:[""]}),E),z=i("7Oz7"),D=i("7wOV"),I=i("Lx1j"),A=i("xsDJ"),L=i("+HCH"),_=["addTrashTemplate"],j=["processTrashTemplate"];function N(e,t){1&e&&(f.Wb(0,"div",1),f.Fc(1,"Dodaj otpad"),f.Vb())}function U(e,t){1&e&&(f.Wb(0,"div",1),f.Fc(1,"Obradi otpad"),f.Vb())}function q(e,t){1&e&&(f.Wb(0,"div",1),f.Fc(1,"Odolo\u017ei otpad"),f.Vb())}function R(e,t){1&e&&(f.Wb(0,"div",1),f.Fc(1,"Skladi\u0161ti otpad"),f.Vb())}function Q(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",11),f.Wb(1,"i",12),f.dc("click",function(){f.xc(i);var e=f.hc().$implicit;return f.hc().openAddTrashWindow(e.trash,e.storage)}),f.Vb(),f.Vb()}}function G(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",11),f.Wb(1,"i",13),f.dc("click",function(){f.xc(i);var e=f.hc().$implicit;return f.hc().openProcessTrashWindow(e.trash,e.storage)}),f.Vb(),f.Vb()}}function X(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",11),f.Wb(1,"i",14),f.dc("click",function(){f.xc(i);var e=f.hc().$implicit;return f.hc().openProcessTrashWindow(e.trash,e.storage)}),f.Vb(),f.Vb()}}function K(e,t){if(1&e&&(f.Wb(0,"div",7),f.Wb(1,"div",8),f.Fc(2),f.Vb(),f.Wb(3,"div",9),f.Fc(4),f.Vb(),f.Wb(5,"div",1),f.Fc(6),f.Vb(),f.Dc(7,Q,2,0,"div",10),f.Dc(8,G,2,0,"div",10),f.Dc(9,X,2,0,"div",10),f.Vb()),2&e){var i=t.$implicit,n=f.hc();f.Eb(2),f.Gc(i.trash.indexNumber),f.Eb(2),f.Gc(i.trash.name),f.Eb(2),f.Gc(i.trash.amount),f.Eb(1),f.nc("ngIf","production"===n.type||"cache"===n.type),f.Eb(1),f.nc("ngIf","treatment"===n.type),f.Eb(1),f.nc("ngIf","disposal"===n.type)}}function $(e,t){if(1&e){var i=f.Xb();f.Wb(0,"add-trash-popup",15),f.dc("callAddTrash",function(e){return f.xc(i),f.hc().addTrashMethod(e)}),f.Vb()}if(2&e){var n=f.hc();f.nc("type","production")("selectedTrash",n.selectedTrash)}}function B(e,t){if(1&e){var i=f.Xb();f.Wb(0,"process-trash-popup",16),f.dc("callProcessTrash",function(e){return f.xc(i),f.hc().processTrashMethod(e)}),f.Vb()}if(2&e){var n=f.hc();f.nc("selectedTrash",n.selectedTrash)}}var H,Y=((H=function(){function e(t,i,n,s,o){a(this,e),this.transactionService=t,this.windowService=i,this.trashService=n,this.toastrService=s,this.storageService=o,this.transactions=[]}return o(e,[{key:"ngOnInit",value:function(){this.updateTransactions()}},{key:"updateTransactions",value:function(){var e=this;this.transactionService.getMostUsedTrash(this.type).subscribe(function(t){e.transactions=t})}},{key:"openAddTrashWindow",value:function(e,t){var i=this;this.selectedTrash=e,this.storageService.getStorage(t).subscribe(function(e){i.selectedStorage=e}),this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj proizvedenu kolicinu: "+this.selectedTrash.name})}},{key:"addTrashMethod",value:function(e){var t=this,i=e.trashAmmount;this.selectedStorage.maxAmount<this.selectedStorage.amount+i?this.toastrService.showToast("Gre\u0161ka","Ne mo\u017eete da dodate vi\u0161e otpada nego \u0161to va\u0161e skladi\u0161te mo\u017ee da prihvati: "+this.selectedStorage.maxAmount+" "+this.selectedStorage.storageUnit,"warning"):(this.selectedTrash.amount+=i,this.trashService.updateTrash(this.selectedTrash,this.selectedStorage._id,this.selectedTrash._id).subscribe(function(e){t.updateTransactions()}),this.toastrService.showToast("Uspeh","Uspe\u0161no ste dodali "+i+" (kg) "+this.selectedTrash.name+" na skladi\u0161te.","success"),this.windowRef.close(),i=NaN)}},{key:"openProcessTrashWindow",value:function(e,t){var i=this;this.selectedTrash=e,this.storageService.getStorage(t).subscribe(function(e){i.selectedStorage=e}),this.windowRef=this.windowService.open(this.processTrashTemplate,{title:"Obradi odre\u0111enu koli\u010dinu: "+this.selectedTrash.name})}},{key:"processTrashMethod",value:function(e){var t=this,i=e.selectedTransaction,n=e.trashAmmount,a=e.trashCreated;this.selectedStorage.amount-n<0?this.toastrService.showToast("Gre\u0161ka","Ne mo\u017eete da dodate obradite vi\u0161e otpada nego \u0161to va\u0161e skladi\u0161te ima: "+this.selectedStorage.amount+" "+this.selectedStorage.storageUnit,"warning"):(this.selectedTrash.amount-=n,this.trashService.updateTrash(this.selectedTrash,this.selectedStorage._id,this.selectedTrash._id,"_id",a?i.companyName?i.companyName:i:"",a?i.wmdNo?i.wmdNo:i:"").subscribe(function(e){t.updateTransactions()}),"-"!==i&&(i.finished=!0,this.transactionService.updateTransaction(i,i._id).subscribe(function(e){})),this.toastrService.showToast("Uspeh","Uspe\u0161no ste obradili "+n+" (kg) "+this.selectedTrash.name+" na skladi\u0161te.","success"),this.windowRef.close(),n=NaN)}}]),e}()).\u0275fac=function(e){return new(e||H)(f.Qb(T.a),f.Qb(c.Ub),f.Qb(I.a),f.Qb(D.a),f.Qb(z.a))},H.\u0275cmp=f.Kb({type:H,selectors:[["widget-most-used-trash"]],viewQuery:function(e,t){var i;1&e&&(f.Lc(_,1,f.P),f.Lc(j,1,f.P)),2&e&&(f.uc(i=f.ec())&&(t.addTrashTemplate=i.first),f.uc(i=f.ec())&&(t.processTrashTemplate=i.first))},inputs:{type:"type"},decls:17,vars:5,consts:[[1,"row"],[1,"col-3"],["class","col-3",4,"ngIf"],[2,"height","2px","border-width","0","color","gray","background-color","gray"],["class","row mb-1",4,"ngFor","ngForOf"],["addTrashTemplate",""],["processTrashTemplate",""],[1,"row","mb-1"],[1,"col-2"],[1,"col-4","text-limit"],["class","col-3 text-center",4,"ngIf"],[1,"col-3","text-center"],[1,"fa","fa-plus","add-button",3,"click"],[1,"fa","fa-trash-restore","add-button",3,"click"],[1,"fa","fa-trash","add-button",3,"click"],[3,"type","selectedTrash","callAddTrash"],[3,"selectedTrash","callProcessTrash"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Fc(2,"Indeksni broj"),f.Vb(),f.Wb(3,"div",1),f.Fc(4,"Naziv"),f.Vb(),f.Wb(5,"div",1),f.Fc(6,"Koli\u010dina (KG)"),f.Vb(),f.Dc(7,N,2,0,"div",2),f.Dc(8,U,2,0,"div",2),f.Dc(9,q,2,0,"div",2),f.Dc(10,R,2,0,"div",2),f.Vb(),f.Rb(11,"hr",3),f.Dc(12,K,10,6,"div",4),f.Dc(13,$,1,2,"ng-template",null,5,f.Ec),f.Dc(15,B,1,1,"ng-template",null,6,f.Ec)),2&e&&(f.Eb(7),f.nc("ngIf","production"===t.type),f.Eb(1),f.nc("ngIf","treatment"===t.type),f.Eb(1),f.nc("ngIf","disposal"===t.type),f.Eb(1),f.nc("ngIf","cache"===t.type),f.Eb(2),f.nc("ngForOf",t.transactions))},directives:[S.n,S.m,A.a,L.a],styles:[".add-button[_ngcontent-%COMP%]:hover{color:#2d8ac7;cursor:pointer}.add-button[_ngcontent-%COMP%]{font-size:1.5rem}.text-limit[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"]}),H),J={hideSubHeader:!0,actions:{columnTitle:"Lista otpada",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"add",title:'<i class="fa fa-search"></i>'}]},columns:{name:{title:"Naziv",editable:!1},code:{title:"\u0160ifra dozvole"},dateExpiration:{title:"Dozvola va\u017ei do",valuePrepareFunction:function(e,t){return t.dateExpiration.substring(0,10)}}}},Z=i("kBrA"),ee=i("McNs"),te=i("ibGe"),ie=i("7IaX");function ne(e,t){1&e&&(f.Wb(0,"p",37),f.Fc(1," Naziv dozvole je obavezna! "),f.Vb())}function ae(e,t){if(1&e&&(f.Wb(0,"p",37),f.Fc(1),f.Vb()),2&e){var i=f.hc(2);f.Eb(1),f.Hc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function se(e,t){if(1&e&&(f.Ub(0),f.Dc(1,ne,2,0,"p",36),f.Dc(2,ae,2,1,"p",36),f.Tb()),2&e){f.hc();var i=f.vc(12);f.Eb(1),f.nc("ngIf",null==i.errors?null:i.errors.required),f.Eb(1),f.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function oe(e,t){1&e&&(f.Wb(0,"p",37),f.Fc(1," \u0160ifra dozvole je obavezna! "),f.Vb())}function ce(e,t){if(1&e&&(f.Ub(0),f.Dc(1,oe,2,0,"p",36),f.Tb()),2&e){f.hc();var i=f.vc(19);f.Eb(1),f.nc("ngIf",null==i.errors?null:i.errors.required)}}function re(e,t){1&e&&(f.Wb(0,"p",37),f.Fc(1," Datum nastanka dozvole je obavezan! "),f.Vb())}function le(e,t){1&e&&(f.Wb(0,"p",37),f.Fc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),f.Vb())}function de(e,t){if(1&e&&(f.Ub(0),f.Dc(1,re,2,0,"p",36),f.Dc(2,le,2,0,"p",36),f.Tb()),2&e){var i=f.hc(),n=f.vc(26);f.Eb(1),f.nc("ngIf",null==n.errors?null:n.errors.required),f.Eb(1),f.nc("ngIf",!i.dateValid(i.permit))}}function ue(e,t){1&e&&(f.Wb(0,"p",37),f.Fc(1," Datum isteka dozvole je obavezan! "),f.Vb())}function be(e,t){if(1&e&&(f.Ub(0),f.Dc(1,ue,2,0,"p",36),f.Tb()),2&e){f.hc();var i=f.vc(34);f.Eb(1),f.nc("ngIf",null==i.errors?null:i.errors.required)}}function pe(e,t){if(1&e){var i=f.Xb();f.Wb(0,"button",38),f.dc("click",function(){f.xc(i);var e=t.$implicit;return f.hc().addTrashToList({data:e})}),f.Fc(1),f.Vb()}if(2&e){var n=t.$implicit;f.nc("nbPopover",n.name),f.Eb(1),f.Hc(" ",n.indexNumber," ")}}var he,ve=function(){return{standalone:!0}},fe=((he=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;a(this,e),this.permitService=t,this.options=i,this.roleService=n,this.catalogService=s,this.updatePermits=new f.o,this.openTrashList=new f.o,this.permit={code:"",dateCreation:new Date,dateExpiration:new Date,name:"",trashList:[],type:""},this.catalog=new r.a,this.settings=ie.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.catalogService.getCatalogs().subscribe(function(t){e.catalog.load(t)})}},{key:"getConfigValue",value:function(e){return Object(ee.n)(this.options,e,null)}},{key:"addPermit",value:function(){this.permit.type=this.type,this.permitService.createPermit(this.permit,this.roleService.getCompanyID()).subscribe(function(e){}),this.updatePermits.emit("update")}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"chooseTrash",value:function(){this.openTrashList.emit(this.permit)}},{key:"addTrashToList",value:function(e){var t=e.data;this.permit.trashList.some(function(e){return e._id===t._id})?this.removeTrashFromList(t):this.permit.trashList.push(t)}},{key:"removeTrashFromList",value:function(e){var t=this.permit.trashList.filter(function(t){return t._id===e._id})[0];if(t){var i=this.permit.trashList.indexOf(t,0);i>-1&&this.permit.trashList.splice(i,1)}}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,t){return e.replace(/\s+/g,"").includes(t.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}}]),e}()).\u0275fac=function(e){return new(e||he)(f.Qb(l.a),f.Qb(ee.a),f.Qb(V.a),f.Qb(te.a))},he.\u0275cmp=f.Kb({type:he,selectors:[["add-permit-popup"]],inputs:{type:"type"},outputs:{updatePermits:"updatePermits",openTrashList:"openTrashList"},decls:60,vars:35,consts:[["showToggleButton","",1,"container-fluid"],["revealCard",""],[1,"no-border"],["permitForm","ngForm"],[1,"row"],[1,"col-12","mb-2"],["for","input-permitName",1,"label"],["placeholder","Dozvola","autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"row","mb-2"],[1,"col-12"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],[1,"col-6"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"row","mt-2"],["nbButton","","status","basic","type","button",3,"click"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-11"],[1,"ml-0"],[1,"col-1"],[1,"fa","fa-arrow-alt-circle-down","fa-2x","arrow-down",3,"click"],[1,"col-12","mt-1"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,t){if(1&e){var i=f.Xb();f.Wb(0,"nb-reveal-card",0,1),f.Wb(2,"nb-card-front"),f.Wb(3,"nb-card",2),f.Wb(4,"nb-card-body"),f.Wb(5,"form",null,3),f.Wb(7,"div",4),f.Wb(8,"div",5),f.Wb(9,"label",6),f.Fc(10,"Naziv Dozvole:"),f.Vb(),f.Wb(11,"input",7,8),f.dc("ngModelChange",function(e){return t.permit.name=e}),f.Vb(),f.Dc(13,se,3,2,"ng-container",9),f.Vb(),f.Vb(),f.Wb(14,"div",10),f.Wb(15,"div",11),f.Wb(16,"label",12),f.Fc(17,"\u0160ifra Dozvole:"),f.Vb(),f.Wb(18,"input",13,14),f.dc("ngModelChange",function(e){return t.permit.code=e}),f.Vb(),f.Dc(20,ce,2,1,"ng-container",9),f.Vb(),f.Vb(),f.Wb(21,"div",10),f.Wb(22,"div",15),f.Wb(23,"label",16),f.Fc(24,"Datum izdavanja dozvole:"),f.Vb(),f.Wb(25,"input",17,18),f.dc("ngModelChange",function(e){return t.permit.dateCreation=e}),f.Vb(),f.Rb(27,"nb-datepicker",null,19),f.Dc(29,de,3,2,"ng-container",9),f.Vb(),f.Wb(30,"div",15),f.Wb(31,"label",20),f.Fc(32,"Datum isteka dozvole:"),f.Vb(),f.Wb(33,"input",21,22),f.dc("ngModelChange",function(e){return t.permit.dateExpiration=e}),f.Vb(),f.Rb(35,"nb-datepicker",null,23),f.Dc(37,be,2,1,"ng-container",9),f.Vb(),f.Vb(),f.Wb(38,"div",24),f.Wb(39,"div",15),f.Wb(40,"button",25),f.dc("click",function(){return f.xc(i),f.vc(1).revealed=!0}),f.Fc(41,"Odaberi otpade "),f.Vb(),f.Vb(),f.Wb(42,"div",15),f.Wb(43,"button",26),f.dc("click",function(){return t.addPermit()}),f.Fc(44,"Dodaj dozvolu"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(45,"nb-card-back"),f.Wb(46,"nb-card",2),f.Wb(47,"nb-card-body"),f.Wb(48,"div",10),f.Wb(49,"div",11),f.Dc(50,pe,2,2,"button",27),f.Vb(),f.Wb(51,"div",28),f.Wb(52,"label",29),f.Fc(53,"Pretrazi po indeksnom broju:"),f.Vb(),f.Vb(),f.Wb(54,"div",30),f.Wb(55,"i",31),f.dc("click",function(){return f.xc(i),f.vc(1).revealed=!1}),f.Vb(),f.Vb(),f.Wb(56,"div",32),f.Wb(57,"input",33,34),f.dc("input",function(){f.xc(i);var e=f.vc(58);return e.value.length>=1&&t.onSearch(e.value)}),f.Vb(),f.Wb(59,"ng2-smart-table",35),f.dc("custom",function(e){return t.addTrashToList(e)}),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=f.vc(12),a=f.vc(19),s=f.vc(26),o=f.vc(28),c=f.vc(34),r=f.vc(36);f.Eb(11),f.nc("ngModel",t.permit.name)("ngModelOptions",f.qc(31,ve))("required",t.getConfigValue("forms.validation.permitName.required"))("maxlength",t.getConfigValue("forms.validation.permitName.maxLength"))("minLength",t.getConfigValue("forms.validation.permitName.minLength"))("status",n.dirty?n.invalid?"danger":"success":"basic"),f.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),f.Eb(2),f.nc("ngIf",n.invalid&&n.touched),f.Eb(5),f.nc("ngModel",t.permit.code)("ngModelOptions",f.qc(32,ve))("required",t.getConfigValue("forms.validation.permitCode.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),f.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),f.Eb(2),f.nc("ngIf",a.invalid&&a.touched),f.Eb(5),f.nc("ngModel",t.permit.dateCreation)("nbDatepicker",o)("ngModelOptions",f.qc(33,ve))("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),f.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),f.Eb(4),f.nc("ngIf",!t.dateValid(t.permit)),f.Eb(4),f.nc("ngModel",t.permit.dateExpiration)("nbDatepicker",r)("ngModelOptions",f.qc(34,ve))("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),f.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),f.Eb(4),f.nc("ngIf",c.invalid&&c.touched),f.Eb(13),f.nc("ngForOf",t.permit.trashList),f.Eb(9),f.nc("source",t.catalog)("settings",t.settings)}},directives:[c.rb,c.C,c.A,c.z,s.v,s.l,s.m,c.T,s.b,s.k,s.n,s.s,s.f,S.n,c.M,c.L,c.t,c.y,S.m,r.b,c.kb],styles:["nb-card.no-border[_ngcontent-%COMP%]{border:none}.fa-arrow-alt-circle-down[_ngcontent-%COMP%]{size:1.5rem}.fa-arrow-alt-circle-down[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),he),ge=["viewTrash"],me=["addPermit"];function We(e,t){if(1&e){var i=f.Xb();f.Wb(0,"view-permits-trash-popup",8),f.dc("callUpdatePermitsTrash",function(e){return f.xc(i),f.hc().updatePermitsTrashMethod(e)}),f.Vb()}if(2&e){var n=f.hc();f.nc("selectedPermit",n.selectedPermit)}}function Ve(e,t){if(1&e){var i=f.Xb();f.Wb(0,"add-permit-popup",9),f.dc("updatePermits",function(){return f.xc(i),f.hc().updatePermits()}),f.Vb()}2&e&&f.nc("type","transport")}var ye,we=((ye=function(){function e(t,i,n,s){a(this,e),this.permitService=t,this.windowService=i,this.toastrService=n,this.roleService=s,this.settings=J,this.transportPermits=[]}return o(e,[{key:"ngOnInit",value:function(){this.updatePermits()}},{key:"updatePermits",value:function(){var e=this;this.permitService.getCompaniesPermits(this.roleService.getCompanyID(),this.type).subscribe(function(t){e.transportPermits=t}),void 0!==this.windowRef&&this.windowRef.close()}},{key:"openPermitsTrashWindow",value:function(e){var t=e.data;this.selectedPermit=t,this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}},{key:"updatePermitsTrashMethod",value:function(e){this.selectedPermit.trashList=e,this.permitService.updatePermit(this.selectedPermit,this.selectedPermit._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}},{key:"openAddPermitWindow",value:function(){this.windowRef=this.windowService.open(this.addPermit,{title:"Dodaj dozvolu za transport"})}},{key:"showToast",value:function(e,t,i){this.toastrService.show(t,e,{status:i})}}]),e}()).\u0275fac=function(e){return new(e||ye)(f.Qb(l.a),f.Qb(c.Ub),f.Qb(c.Mb),f.Qb(V.a))},ye.\u0275cmp=f.Kb({type:ye,selectors:[["widget-transport-permits"]],viewQuery:function(e,t){var i;1&e&&(f.Lc(ge,1,f.P),f.Lc(me,1,f.P)),2&e&&(f.uc(i=f.ec())&&(t.viewTrash=i.first),f.uc(i=f.ec())&&(t.addPermit=i.first))},inputs:{type:"type"},decls:11,vars:2,consts:[[1,"row"],[1,"col-12"],[3,"settings","source","custom"],[1,"row","mt-3","d-flex","justify-content-end","mr-5","pr-1","align-items-end"],[1,"col-3"],["nbButton","","type","button",3,"click"],["viewTrash",""],["addPermit",""],[3,"selectedPermit","callUpdatePermitsTrash"],[3,"type","updatePermits"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"ng2-smart-table",2),f.dc("custom",function(e){return t.openPermitsTrashWindow(e)}),f.Vb(),f.Vb(),f.Vb(),f.Wb(3,"div",3),f.Wb(4,"div",4),f.Wb(5,"button",5),f.dc("click",function(){return t.openAddPermitWindow()}),f.Fc(6,"Dodaj dozvolu"),f.Vb(),f.Vb(),f.Vb(),f.Dc(7,We,1,1,"ng-template",null,6,f.Ec),f.Dc(9,Ve,1,1,"ng-template",null,7,f.Ec)),2&e&&(f.Eb(2),f.nc("settings",t.settings)("source",t.transportPermits))},directives:[r.b,c.t,Z.a,fe],styles:[""]}),ye),Se={hideSubHeader:!0,actions:{position:"right",add:!1,edit:!1,delete:!1},columns:{type:{title:"Vrsta vozila",type:"html",valuePrepareFunction:function(e,t){var i=t.type,n=i;return"kamion"===i&&(n='<i class="fa fa-2x fa-truck"></i>'),"kombi"===i&&(n='<i class="fa fa-2x fa-shuttle-van"></i>'),"automobil"===i&&(n='<i class="fa fa-2x fa-car-side"></i>'),n}},licensePlate:{title:"Registarski broj"},licensePlateExpiration:{title:"Registracija va\u017ei do"}}};function Me(e,t){1&e&&(f.Wb(0,"p",17),f.Fc(1," Registarski broj tablica je obavezan! "),f.Vb())}function ke(e,t){1&e&&(f.Wb(0,"p",17),f.Fc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),f.Vb())}function xe(e,t){if(1&e&&(f.Ub(0),f.Dc(1,Me,2,0,"p",16),f.Dc(2,ke,2,0,"p",16),f.Tb()),2&e){f.hc();var i=f.vc(7);f.Eb(1),f.nc("ngIf",null==i.errors?null:i.errors.required),f.Eb(1),f.nc("ngIf",(null==i.errors?null:i.errors.pattern)||(null==i.errors?null:i.errors.minLength))}}function Te(e,t){1&e&&(f.Wb(0,"p",17),f.Fc(1," Vrsta vozila je obavezna! "),f.Vb())}function Fe(e,t){if(1&e&&(f.Ub(0),f.Dc(1,Te,2,0,"p",16),f.Tb()),2&e){f.hc();var i=f.vc(13);f.Eb(1),f.nc("ngIf",!i.value)}}var Oe,Ce=function(){return{standalone:!0}},Ee=((Oe=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;a(this,e),this.vehicleService=t,this.options=i,this.roleService=n,this.updateVehicles=new f.o,this.vehicle={licensePlate:"",type:""}}return o(e,[{key:"ngOnInit",value:function(){}},{key:"getConfigValue",value:function(e){return Object(ee.n)(this.options,e,null)}},{key:"addVehicle",value:function(){this.vehicleService.createVehicle(this.vehicle,this.roleService.getCompanyID()).subscribe(function(e){}),this.updateVehicles.emit("update")}}]),e}()).\u0275fac=function(e){return new(e||Oe)(f.Qb(b.a),f.Qb(ee.a),f.Qb(V.a))},Oe.\u0275cmp=f.Kb({type:Oe,selectors:[["add-vehicle-popup"]],outputs:{updateVehicles:"updateVehicles"},decls:25,vars:17,consts:[[1,"row","pt-4"],["transportForm","ngForm"],[1,"col-12","mb-2"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"],[1,"row","d-flex","justify-content-end","mr-5"],[1,"col-4"],["status","success","nbButton","",3,"click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e&&(f.Wb(0,"div",0),f.Wb(1,"form",null,1),f.Wb(3,"div",2),f.Wb(4,"label",3),f.Fc(5,"Registarski broj tablice:"),f.Vb(),f.Wb(6,"input",4,5),f.dc("ngModelChange",function(e){return t.vehicle.licensePlate=e}),f.Vb(),f.Dc(8,xe,3,2,"ng-container",6),f.Vb(),f.Wb(9,"div",2),f.Wb(10,"label",7),f.Fc(11,"Vrsta vozila:"),f.Vb(),f.Wb(12,"nb-select",8,9),f.dc("ngModelChange",function(e){return t.vehicle.type=e}),f.Wb(14,"nb-option",10),f.Fc(15,"Kamion"),f.Vb(),f.Wb(16,"nb-option",11),f.Fc(17,"Kombi"),f.Vb(),f.Wb(18,"nb-option",12),f.Fc(19,"Automobil"),f.Vb(),f.Vb(),f.Dc(20,Fe,2,1,"ng-container",6),f.Vb(),f.Vb(),f.Vb(),f.Wb(21,"div",13),f.Wb(22,"div",14),f.Wb(23,"button",15),f.dc("click",function(){return t.addVehicle()}),f.Fc(24,"Dodaj vozilo"),f.Vb(),f.Vb(),f.Vb()),2&e){var i=f.vc(7),n=f.vc(13);f.Eb(6),f.nc("ngModel",t.vehicle.licensePlate)("maxlength",t.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",t.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",f.qc(15,Ce))("pattern",t.getConfigValue("forms.validation.licensePlate.pattern"))("required",t.getConfigValue("forms.validation.licensePlate.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),f.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),f.Eb(2),f.nc("ngIf",i.invalid&&i.touched),f.Eb(4),f.nc("ngModel",t.vehicle.type)("ngModelOptions",f.qc(16,Ce))("required",t.getConfigValue("forms.validation.vehicleType.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),f.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),f.Eb(8),f.nc("ngIf",n.invalid&&n.touched)}},directives:[s.v,s.l,s.m,c.T,s.b,s.k,s.n,s.f,s.q,s.s,S.n,c.tb,c.ib,c.t],styles:[""]}),Oe),Pe=["addVehicleTemplate"];function ze(e,t){if(1&e){var i=f.Xb();f.Wb(0,"add-vehicle-popup",7),f.dc("updateVehicles",function(){return f.xc(i),f.hc().updateVehicles()}),f.Vb()}}var De,Ie=((De=function(){function e(t,i,n){a(this,e),this.vehicleService=t,this.roleService=i,this.windowService=n,this.settings=Se,this.vehicles=new r.a}return o(e,[{key:"ngOnInit",value:function(){this.updateVehicles()}},{key:"updateVehicles",value:function(){var e=this;this.vehicleService.getCompaniesVehicles(this.roleService.getCompanyID()).subscribe(function(t){e.vehicles.load(t)}),void 0!==this.windowRef&&this.windowRef.close()}},{key:"openAddVehicleWindow",value:function(){this.windowRef=this.windowService.open(this.addVehicleTemplate,{title:"Dodajte vozilo"})}}]),e}()).\u0275fac=function(e){return new(e||De)(f.Qb(b.a),f.Qb(V.a),f.Qb(c.Ub))},De.\u0275cmp=f.Kb({type:De,selectors:[["widget-vehicles"]],viewQuery:function(e,t){var i;1&e&&f.Lc(Pe,1,f.P),2&e&&f.uc(i=f.ec())&&(t.addVehicleTemplate=i.first)},decls:9,vars:2,consts:[[1,"row"],[1,"col-12"],[3,"settings","source"],[1,"row","my-3","d-flex","justify-content-end","mr-4","pr-1","align-items-end"],[1,"col-3"],["nbButton","","type","button",3,"click"],["addVehicleTemplate",""],[3,"updateVehicles"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Rb(2,"ng2-smart-table",2),f.Vb(),f.Vb(),f.Wb(3,"div",3),f.Wb(4,"div",4),f.Wb(5,"button",5),f.dc("click",function(){return t.openAddVehicleWindow()}),f.Fc(6,"Dodaj vozilo"),f.Vb(),f.Vb(),f.Vb(),f.Dc(7,ze,1,0,"ng-template",null,6,f.Ec)),2&e&&(f.Eb(2),f.nc("settings",t.settings)("source",t.vehicles))},directives:[r.b,c.t,Ee],styles:[".vehicleIcon[_ngcontent-%COMP%]{font-size:2rem}"]}),De),Ae={hideSubHeader:!0,pager:{perPage:5},actions:{columnTitle:"Zavr\u0161i tretman",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"leftover",title:'<i class="fa fa-exclamation-triangle"></i>'}]},columns:{user:{title:"Podnosioc operacije",valuePrepareFunction:function(e,t){return t.user.firstName+" "+t.user.lastName}},date:{title:"Datum tretmana",valuePrepareFunction:function(e,t){return t.date.substring(0,10)}},indexNumber:{title:"Indeksni broj",valuePrepareFunction:function(e,t){return t.trash.indexNumber}},name:{title:"Naziv otpada",valuePrepareFunction:function(e,t){var i=t.trash.name;return t.trash.name.length>10&&(i=t.trash.name.substring(0,10)+"..."),i}},amount:{title:"Kolicina (KG)",valuePrepareFunction:function(e,t){return t.trash.amount}}}},Le=i("J0/g"),_e=["leftoverTrashTemplate"];function je(e,t){if(1&e){var i=f.Xb();f.Wb(0,"leftover-trash-popup",2),f.dc("callLeftoverTrash",function(e){return f.xc(i),f.hc().leftoverTrashMethod(e)}),f.Vb()}if(2&e){var n=f.hc();f.nc("selectedTransaction",n.selectedTransaction)("storageProduction",n.storage)}}var Ne,Ue,qe=((Ne=function(){function e(t,i,n,s,o,c){a(this,e),this.windowService=t,this.storageService=i,this.trashService=n,this.transactionsService=s,this.toastrService=o,this.roleService=c,this.settings=Ae,this.transactions=[]}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.updateTransactions(),this.storageService.getCompaniesStorage(this.roleService.getCompanyID(),"production").subscribe(function(t){e.storage=t})}},{key:"updateTransactions",value:function(){var e=this;this.transactionsService.getUnfinishedTransactions(this.type,this.roleService.getCompanyID()).subscribe(function(t){e.transactions=t})}},{key:"openLeftoverTrashWindow",value:function(e){var t=e.data;this.selectedTransaction=t,this.selectedTrash=t.otpad,this.windowRef=this.windowService.open(this.leftoverTrashTemplate,{title:"Zavr\u0161i proizvodnju preostalog otpada"})}},{key:"leftoverTrashMethod",value:function(e){var t=this,i=e.selectedTransaction,n=e.leftoverTrashCreated,a=e.selectedStorage,s=!0;n.forEach(function(e){a.maxAmount<a.amount+e.amount||!s?s=!1:t.trashService.updateTrash(e,a._id,e.indexNumber,"indexNumber",void 0,void 0,!0).subscribe(function(e){t.updateTransactions()})}),s?(i.companyName=null,i.wmdNo=null,i.finished=!0,this.transactionsService.updateTransaction(i,i._id).subscribe(function(e){}),this.toastrService.showToast("Uspeh","Uspesno ste dodali otpade!","success"),this.windowRef.close()):this.toastrService.showToast("Gre\u0161ka","Ne mo\u017eete da dodate vi\u0161e otpada nego \u0161to va\u0161e skladi\u0161te mo\u017ee da prihvati: "+a.maxAmount+" "+a.storageUnit,"warning")}}]),e}()).\u0275fac=function(e){return new(e||Ne)(f.Qb(c.Ub),f.Qb(z.a),f.Qb(I.a),f.Qb(T.a),f.Qb(D.a),f.Qb(V.a))},Ne.\u0275cmp=f.Kb({type:Ne,selectors:[["widget-unfinished-operations"]],viewQuery:function(e,t){var i;1&e&&f.Lc(_e,1,f.P),2&e&&f.uc(i=f.ec())&&(t.leftoverTrashTemplate=i.first)},inputs:{type:"type"},decls:3,vars:2,consts:[[3,"settings","source","custom"],["leftoverTrashTemplate",""],[3,"selectedTransaction","storageProduction","callLeftoverTrash"]],template:function(e,t){1&e&&(f.Wb(0,"ng2-smart-table",0),f.dc("custom",function(e){return t.openLeftoverTrashWindow(e)}),f.Vb(),f.Dc(1,je,1,2,"ng-template",null,1,f.Ec)),2&e&&f.nc("settings",t.settings)("source",t.transactions)},directives:[r.b,Le.a],styles:[""]}),Ne),Re=i("BMkl"),Qe=((Ue=function(){function e(t){a(this,e),this.specialWasteService=t,this.exitEmitter=new f.o,this.specialWasteAmount=0}return o(e,[{key:"ngOnInit",value:function(){}},{key:"addSpecialWaste",value:function(){var e=this;"export"===this.type&&(this.specialWasteAmount*=-1),this.specialWasteService.updateSpecialWaste(this.selectedSpecialWaste,this.type,this.specialWasteAmount,this.selectedSpecialWaste._id).subscribe(function(t){e.exitEmitter.emit("")})}}]),e}()).\u0275fac=function(e){return new(e||Ue)(f.Qb(Re.a))},Ue.\u0275cmp=f.Kb({type:Ue,selectors:[["add-special-waste-popup"]],inputs:{type:"type",selectedSpecialWaste:"selectedSpecialWaste"},outputs:{exitEmitter:"exitEmitter"},decls:16,vars:3,consts:[[2,"max-width","50vw"],[3,"ngSubmit"],["addForm","ngForm"],[1,"row"],["for","input-Kolicina",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["amount","ngModel"],[1,"pl-0","col-2"],["nbButton","","disabled",""],[1,"row","mt-2"],[1,"col-12"],["fullWidth","","type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(e,t){if(1&e&&(f.Wb(0,"div",0),f.Wb(1,"form",1,2),f.dc("ngSubmit",function(){return t.addSpecialWaste()}),f.Wb(3,"div",3),f.Wb(4,"label",4),f.Fc(5,"Koli\u010dina koju dodajete: "),f.Vb(),f.Wb(6,"div",5),f.Wb(7,"input",6,7),f.dc("ngModelChange",function(e){return t.specialWasteAmount=e}),f.Vb(),f.Vb(),f.Wb(9,"div",8),f.Wb(10,"button",9),f.Fc(11),f.Vb(),f.Vb(),f.Vb(),f.Wb(12,"div",10),f.Wb(13,"div",11),f.Wb(14,"button",12),f.Fc(15," Dodaj "),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e){var i=f.vc(2),n=f.vc(8);f.Eb(7),f.nc("ngModel",t.specialWasteAmount),f.Eb(4),f.Gc(t.selectedSpecialWaste.unitOfMeasure),f.Eb(3),f.nc("disabled",n.value<1||void 0===n.value&&i.valid)}},directives:[s.v,s.l,s.m,c.T,s.p,s.b,s.k,s.n,c.t],styles:[""]}),Ue),Ge=["addSpecialWaste"];function Xe(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",1),f.Wb(1,"div",2),f.Fc(2),f.Vb(),f.Wb(3,"div",2),f.Fc(4),f.Vb(),f.Wb(5,"div",8),f.Wb(6,"i",9),f.dc("click",function(){f.xc(i);var e=t.$implicit;return f.hc().openAddSpecialWasteWindow(e,"production")}),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=t.$implicit;f.Eb(2),f.Gc(n.name),f.Eb(2),f.Gc(n.desc)}}function Ke(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",1),f.Wb(1,"div",2),f.Fc(2),f.Vb(),f.Wb(3,"div",2),f.Fc(4),f.Vb(),f.Wb(5,"div",8),f.Wb(6,"i",9),f.dc("click",function(){f.xc(i);var e=t.$implicit;return f.hc().openAddSpecialWasteWindow(e,"import")}),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=t.$implicit;f.Eb(2),f.Gc(n.name),f.Eb(2),f.Gc(n.desc)}}function $e(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",1),f.Wb(1,"div",2),f.Fc(2),f.Vb(),f.Wb(3,"div",2),f.Fc(4),f.Vb(),f.Wb(5,"div",8),f.Wb(6,"i",9),f.dc("click",function(){f.xc(i);var e=t.$implicit;return f.hc().openAddSpecialWasteWindow(e,"export")}),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=t.$implicit;f.Eb(2),f.Gc(n.name),f.Eb(2),f.Gc(n.desc)}}function Be(e,t){if(1&e){var i=f.Xb();f.Wb(0,"add-special-waste-popup",10),f.dc("exitEmitter",function(){return f.xc(i),f.hc().closeSpecialWasteWindow()}),f.Vb()}if(2&e){var n=f.hc();f.nc("selectedSpecialWaste",n.selectedSpecialWaste)("type",n.selectedType)}}var He,Ye=((He=function(){function e(t,i,n,s){a(this,e),this.toastrService=t,this.speicalWasteService=i,this.roleService=n,this.windowService=s,this.specialWastes=[]}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.roleService.getOperations(void 0,!1,!0).subscribe(function(t){e.operations=t.specialWasteOperations}),this.updateSpecialWastes()}},{key:"updateSpecialWastes",value:function(){var e=this;this.specialWastes=[],this.speicalWasteService.getCompaniesSpecialWastes(this.roleService.getCompanyID()).subscribe(function(t){e.specialWastes=t,e.productionWastes=e.specialWastes.filter(function(e){return e.operationTypes.includes("Proizvodnja")}),e.importWastes=e.specialWastes.filter(function(e){return e.operationTypes.includes("Uvoz")}),e.exportWastes=e.specialWastes.filter(function(e){return e.operationTypes.includes("Izvoz")})})}},{key:"openAddSpecialWasteWindow",value:function(e,t){this.selectedSpecialWaste=e,this.selectedType=t,this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj kolicinu: "+this.selectedSpecialWaste.name})}},{key:"closeSpecialWasteWindow",value:function(){this.windowRef.close(),this.showToast("Uspeh","Uspe\u0161no ste dodali "+this.selectedSpecialWaste.name,"success")}},{key:"showToast",value:function(e,t,i){this.toastrService.show(t,e,{status:i})}}]),e}()).\u0275fac=function(e){return new(e||He)(f.Qb(c.Mb),f.Qb(Re.a),f.Qb(V.a),f.Qb(c.Ub))},He.\u0275cmp=f.Kb({type:He,selectors:[["widget-most-used-special-waste"]],viewQuery:function(e,t){var i;1&e&&f.Lc(Ge,1,f.P),2&e&&f.uc(i=f.ec())&&(t.addTrashTemplate=i.first)},decls:33,vars:6,consts:[["tabTitle","Proizvodnja",3,"disabled"],[1,"row"],[1,"col-4"],[2,"height","2px","border-width","0","color","gray","background-color","gray"],["class","row",4,"ngFor","ngForOf"],["tabTitle","Uvoz",3,"disabled"],["tabTitle","Izvoz",3,"disabled"],["addSpecialWaste",""],[1,"col-4","text-center"],[1,"fa","fa-plus","add-button",3,"click"],[3,"selectedSpecialWaste","type","exitEmitter"]],template:function(e,t){1&e&&(f.Wb(0,"nb-tabset"),f.Wb(1,"nb-tab",0),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Fc(4,"Naziv"),f.Vb(),f.Wb(5,"div",2),f.Fc(6,"Opis"),f.Vb(),f.Wb(7,"div",2),f.Fc(8,"Dodaj proizvod"),f.Vb(),f.Vb(),f.Rb(9,"hr",3),f.Dc(10,Xe,7,2,"div",4),f.Vb(),f.Wb(11,"nb-tab",5),f.Wb(12,"div",1),f.Wb(13,"div",2),f.Fc(14,"Naziv"),f.Vb(),f.Wb(15,"div",2),f.Fc(16,"Opis"),f.Vb(),f.Wb(17,"div",2),f.Fc(18,"Uvezi proizvod"),f.Vb(),f.Vb(),f.Rb(19,"hr",3),f.Dc(20,Ke,7,2,"div",4),f.Vb(),f.Wb(21,"nb-tab",6),f.Wb(22,"div",1),f.Wb(23,"div",2),f.Fc(24,"Naziv"),f.Vb(),f.Wb(25,"div",2),f.Fc(26,"Opis"),f.Vb(),f.Wb(27,"div",2),f.Fc(28,"Izvezi proizvod"),f.Vb(),f.Vb(),f.Rb(29,"hr",3),f.Dc(30,$e,7,2,"div",4),f.Vb(),f.Vb(),f.Dc(31,Be,1,2,"ng-template",null,7,f.Ec)),2&e&&(f.Eb(1),f.nc("disabled",!t.operations.production),f.Eb(9),f.nc("ngForOf",t.productionWastes),f.Eb(1),f.nc("disabled",!t.operations.import),f.Eb(9),f.nc("ngForOf",t.importWastes),f.Eb(1),f.nc("disabled",!t.operations.export),f.Eb(9),f.nc("ngForOf",t.exportWastes))},directives:[c.Hb,c.Gb,S.m,Qe],styles:[".add-button[_ngcontent-%COMP%]:hover{color:#2d8ac7;cursor:pointer}.add-button[_ngcontent-%COMP%]{font-size:1.5rem}"]}),He),Je={view:[],legend:!0,legendTitle:"",showLabels:!0,animations:!0,xAxis:!0,yAxis:!0,showYAxisLabel:!0,showXAxisLabel:!0,xAxisLabel:"Dani",yAxisLabel:"KG",timeline:!0,schemaType:"linear"};function Ze(e,t){if(1&e&&(f.Wb(0,"nb-option",11),f.Fc(1),f.Vb()),2&e){var i=t.$implicit;f.nc("value",i),f.Eb(1),f.Hc(" ",i.specialWaste.name," ")}}var et,tt=((et=function(){function e(t){a(this,e),this.transactionService=t,this.options=Je,this.specialWasteList=[],this.specialWaste=[],this.daysInMonth=30,this.colorScheme={domain:["#FF0000","#0000FF","#00FF00"]};var i=new Date;this.options=Object.assign({},Je),this.updateSize(this.size),this.daysInMonth=new Date(i.getFullYear(),i.getMonth()+1,0).getDate()}return o(e,[{key:"ngOnChanges",value:function(e){var t=this;e.size&&this.updateSize(this.size),this.transactionService.getMostUsedSpecialWaste().subscribe(function(e){t.specialWasteList=e,0!==e.length&&(t.selectedSpecialWaste=t.specialWasteList[0],t.updateGraph(t.selectedSpecialWaste))})}},{key:"chooseTransaction",value:function(e){this.updateGraph(e)}},{key:"updateGraph",value:function(e){var t=this;this.transactionService.getTransactions(e.specialWaste._id,"specialWaste").subscribe(function(e){t.specialWaste=e,t.options.legendTitle=t.specialWaste[0].specialWaste.desc;var i={name:"Proizveden",value:0},n={name:"Uvezeno",value:0},a={name:"Izvezeno",value:0};t.data=[];for(var s=0;s<t.daysInMonth;s++)t.data[s]={name:s+1+"",series:[]};for(var o=0;o<t.specialWaste.length;o++){var c;c="0"!==t.specialWaste[o].date.toString().substring(8,10).charAt(0)?t.specialWaste[o].date.toString().substring(8,10):t.specialWaste[o].date.toString().substring(9,10),"production"===t.specialWaste[o].specialWasteType?(i.value+=t.specialWaste[o].trashAmount,t.data[c].series.push({name:"Proziveden",value:t.specialWaste[o].trashAmount})):"import"===t.specialWaste[o].specialWasteType?(n.value+=t.specialWaste[o].trashAmount,t.data[c].series.push({name:"Uvezeno",value:t.specialWaste[o].trashAmount})):"export"===t.specialWaste[o].specialWasteType&&(a.value+=t.specialWaste[o].trashAmount,t.data[c].series.push({name:"Izvezeno",value:t.specialWaste[o].trashAmount}))}})}},{key:"updateSize",value:function(e){"tiny"===e&&(this.options.view=[]),"small"===e&&(this.options.view=[]),"medium"===e&&(this.options.view=[500,300]),"large"===e&&(this.options.view=[700,300]),"giant"===e&&(this.options.view=[1100,500])}}]),e}()).\u0275fac=function(e){return new(e||et)(f.Qb(T.a))},et.\u0275cmp=f.Kb({type:et,selectors:[["widget-special-waste-stats"]],inputs:{size:"size"},features:[f.Cb],decls:15,vars:15,consts:[[1,"row","flex-fill"],[3,"view","legend","showXAxisLabel","scheme","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","results"],[1,"row","mt-2"],[1,"col-4"],["fullWidth","",3,"size","selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["disabled","","fullWidth","","selected","Dani",3,"size"],["value","Dani"],["value","Meseci"],["value","Godine"],[3,"value"]],template:function(e,t){1&e&&(f.Fc(0),f.Wb(1,"div",0),f.Rb(2,"ngx-charts-bar-vertical-stacked",1),f.Vb(),f.Wb(3,"div",2),f.Wb(4,"div",3),f.Wb(5,"nb-select",4),f.dc("selectedChange",function(e){return t.chooseTransaction(e)}),f.Dc(6,Ze,2,2,"nb-option",5),f.Vb(),f.Vb(),f.Wb(7,"div",6),f.Wb(8,"nb-select",7),f.Wb(9,"nb-option",8),f.Fc(10,"Dani"),f.Vb(),f.Wb(11,"nb-option",9),f.Fc(12,"Meseci"),f.Vb(),f.Wb(13,"nb-option",10),f.Fc(14,"Godine"),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Hc("",t.options.legendTitle,"\n"),f.Eb(2),f.nc("view",t.options.view)("legend",t.options.legend)("showXAxisLabel",t.options.showXAxisLabel)("scheme",t.colorScheme)("showYAxisLabel",t.options.showYAxisLabel)("xAxis",t.options.xAxis)("yAxis",t.options.yAxis)("xAxisLabel",t.options.xAxisLabel)("yAxisLabel",t.options.yAxisLabel)("results",t.data),f.Eb(3),f.nc("size",t.size)("selected",t.specialWasteList[0]),f.Eb(1),f.nc("ngForOf",t.specialWasteList),f.Eb(2),f.nc("size",t.size))},directives:[h.b,c.tb,S.m,c.ib],styles:[".add-button[_ngcontent-%COMP%]:hover{color:#2d8ac7;cursor:pointer}.add-button[_ngcontent-%COMP%]{font-size:1.5rem}"]}),et),it=["trash_stats"];function nt(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div",8),f.Fc(1," Redosled: "),f.Wb(2,"button",5),f.dc("click",function(){return f.xc(i),f.hc().updatePositionMethod(-1)}),f.Rb(3,"i",9),f.Vb(),f.Wb(4,"button",5),f.dc("click",function(){return f.xc(i),f.hc().updatePositionMethod(1)}),f.Rb(5,"i",10),f.Vb(),f.Fc(6," Veli\u010dina: "),f.Wb(7,"nb-select",11),f.dc("selectedChange",function(){return f.xc(i),f.hc().updateSizeMethod()})("ngModelChange",function(e){return f.xc(i),f.hc().size=e}),f.Wb(8,"nb-option",12),f.Fc(9,"XS"),f.Vb(),f.Wb(10,"nb-option",13),f.Fc(11,"S"),f.Vb(),f.Wb(12,"nb-option",14),f.Fc(13,"M"),f.Vb(),f.Wb(14,"nb-option",15),f.Fc(15,"L"),f.Vb(),f.Wb(16,"nb-option",16),f.Fc(17,"XL"),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=f.hc();f.Eb(7),f.nc("ngModel",n.size)("selected",n.size)}}function at(e,t){if(1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-most-used-trash",17),f.Vb()),2&e){var i=f.hc();f.Eb(1),f.nc("type",i.type)}}function st(e,t){if(1&e&&(f.Wb(0,"div",18),f.Rb(1,"widget-trash-stats",19),f.Vb()),2&e){var i=f.hc();f.Eb(1),f.nc("size",i.size)("type",i.type)}}function ot(e,t){1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-transport-permits",17),f.Vb()),2&e&&(f.Eb(1),f.nc("type","transport"))}function ct(e,t){1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-transport-permits",17),f.Vb()),2&e&&(f.Eb(1),f.nc("type","collector"))}function rt(e,t){1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-vehicles"),f.Vb())}function lt(e,t){if(1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-unfinished-operations",17),f.Vb()),2&e){var i=f.hc();f.Eb(1),f.nc("type",i.type)}}function dt(e,t){1&e&&(f.Wb(0,"div"),f.Rb(1,"widget-most-used-special-waste"),f.Vb())}function ut(e,t){if(1&e&&(f.Wb(0,"div",18),f.Rb(1,"widget-special-waste-stats",0),f.Vb()),2&e){var i=f.hc();f.Eb(1),f.nc("size",i.size)}}var bt,pt=((bt=function(){function e(t){a(this,e),this.roleService=t,this.updateSize=new f.o,this.updatePosition=new f.o,this.showSettings=!1,this.size="medium"}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.roleService.getOperations().subscribe(function(t){e.operations=t});var t="";"production"===this.type?t="proizveden":"treatment"===this.type?t="obra\u0111en":"disposal"===this.type?t="odlo\u017een":"cache"===this.type&&(t="skladi\u0161\u0107en"),this.widgetList={most_used_trash:{title:"Naj\u010de\u0161\u0107i ".concat(t," otpad")},trash_stats:{title:"Statistika otpada"},transport_vehicles:{title:"Prevozna sredstva"},transport_permits:{title:"Dozvole za transport"},collector_permits:{title:"Dozvole za sakupljanje"},unfinished_operations:{title:"Nedovr\u0161ene operacije"},most_used_special_waste:{title:"Naj\u010de\u0161\u0107e kori\u0161\u0107eni posebni tokovi otpada"},special_waste_stats:{title:"Statistika posebnih tokova otpada"}}}},{key:"getWidgetTitle",value:function(){return this.widgetList[this.name].title}},{key:"updateSizeMethod",value:function(){this.updateSize.emit(this.size)}},{key:"updatePositionMethod",value:function(e){this.updatePosition.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||bt)(f.Qb(V.a))},bt.\u0275cmp=f.Kb({type:bt,selectors:[["widget"]],viewQuery:function(e,t){var i;1&e&&f.Lc(it,1),2&e&&f.uc(i=f.ec())&&(t.trash_stats=i.first)},inputs:{type:"type",name:"name",size:"size"},outputs:{updateSize:"updateSize",updatePosition:"updatePosition"},decls:18,vars:13,consts:[[3,"size"],[1,"row"],[1,"d-flex","justify-content-start"],[1,"d-flex","flex-fill","justify-content-end"],["class","mr-2",4,"ngIf"],["size","small","nbButton","",3,"click"],[4,"ngIf"],["class","h-100",4,"ngIf"],[1,"mr-2"],[1,"fa","fa-arrow-up"],[1,"fa","fa-arrow-down"],["size","small",3,"ngModel","selected","selectedChange","ngModelChange"],["value","tiny"],["value","small"],["value","medium"],["value","large"],["value","giant"],[3,"type"],[1,"h-100"],[3,"size","type"]],template:function(e,t){1&e&&(f.Wb(0,"nb-card",0),f.Wb(1,"nb-card-header"),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Fc(4),f.Vb(),f.Wb(5,"div",3),f.Dc(6,nt,18,2,"div",4),f.Wb(7,"button",5),f.dc("click",function(){return t.showSettings=!t.showSettings}),f.Rb(8,"i"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(9,"nb-card-body"),f.Dc(10,at,2,1,"div",6),f.Dc(11,st,2,2,"div",7),f.Dc(12,ot,2,1,"div",6),f.Dc(13,ct,2,1,"div",6),f.Dc(14,rt,2,0,"div",6),f.Dc(15,lt,2,1,"div",6),f.Dc(16,dt,2,0,"div",6),f.Dc(17,ut,2,1,"div",7),f.Vb(),f.Vb()),2&e&&(f.nc("size",t.size),f.Eb(4),f.Gc(t.getWidgetTitle()),f.Eb(2),f.nc("ngIf",t.showSettings),f.Eb(2),f.Gb(t.showSettings?"fa fa-times":"fa fa-cog"),f.Eb(2),f.nc("ngIf","most_used_trash"===t.name),f.Eb(1),f.nc("ngIf","trash_stats"===t.name),f.Eb(1),f.nc("ngIf","transport_permits"===t.name),f.Eb(1),f.nc("ngIf","collector_permits"===t.name),f.Eb(1),f.nc("ngIf","transport_vehicles"===t.name),f.Eb(1),f.nc("ngIf","unfinished_operations"===t.name),f.Eb(1),f.nc("ngIf","most_used_special_waste"===t.name),f.Eb(1),f.nc("ngIf","special_waste_stats"===t.name))},directives:[c.A,c.D,S.n,c.t,c.z,c.tb,s.k,s.n,c.ib,Y,P,we,Ie,qe,Ye,tt],styles:[".right[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:right}"]}),bt);function ht(e,t){if(1&e){var i=f.Xb();f.Wb(0,"div"),f.Wb(1,"widget",7),f.dc("updateSize",function(e){f.xc(i);var n=t.$implicit;return f.hc(2).updateSizeMethod(e,n)})("updatePosition",function(e){f.xc(i);var n=t.$implicit,a=f.hc().$implicit;return f.hc().updateWidgetPositionMethod(e,n,a.widgetList)}),f.Vb(),f.Vb()}if(2&e){var n=t.$implicit,a=f.hc().$implicit,s=f.hc();f.Gb(s.WIDGET_SIZES[n.widgetSize]),f.Eb(1),f.nc("size",n.widgetSize)("name",n.widgetTitle)("type",a.groupType)}}function vt(e,t){if(1&e){var i=f.Xb();f.Wb(0,"nb-accordion-item",2),f.Wb(1,"nb-accordion-item-header"),f.Wb(2,"div",3),f.Wb(3,"widget-group-header",4),f.dc("updatePosition",function(e){f.xc(i);var n=t.$implicit;return f.hc().updateGroupPositionMethod(e,n)}),f.Vb(),f.Vb(),f.Vb(),f.Wb(4,"nb-accordion-item-body"),f.Wb(5,"div",5),f.Dc(6,ht,2,5,"div",6),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=t.$implicit;f.Eb(3),f.nc("title",n.groupTitle)("status",n.groupColor),f.Eb(3),f.nc("ngForOf",n.widgetList)}}var ft,gt,mt,Wt,Vt,yt=((gt=function(){function e(t,i){a(this,e),this.roleService=t,this.widgetService=i,this.widgetSettings={group:[],username:""},this.WIDGET_SIZES=w.h}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.roleService.getOperations().subscribe(function(t){e.operations=t}),this.widgetService.getWidgetSettings(this.roleService.getUsername(),this.operations).subscribe(function(t){e.widgetSettings=t,null===e.widgetSettings&&e.widgetService.initDefaultWidgetSettings(e.operations,e.roleService.getUsername()).subscribe(function(t){e.widgetSettings=t})})}},{key:"updateSizeMethod",value:function(e,t){t.widgetSize=e}},{key:"updateGroupPositionMethod",value:function(e,t){var i,n=t.groupPosition,a=n+e;a<0||a>this.widgetSettings.group.length-1||(t.groupPosition=a,this.widgetSettings.group[a].groupPosition=n,i=[this.widgetSettings.group[a],this.widgetSettings.group[n]],this.widgetSettings.group[n]=i[0],this.widgetSettings.group[a]=i[1])}},{key:"updateWidgetPositionMethod",value:function(e,t,i){var n,a=t.widgetPosition,s=a+e;s<0||s>i.length-1||(t.widgetPosition=s,i[s].widgetPosition=a,n=[i[s],i[a]],i[a]=n[0],i[s]=n[1])}},{key:"ngOnDestroy",value:function(){this.widgetService.updateWidgetSettings(this.widgetSettings,this.widgetSettings.username,"username").subscribe(function(e){})}}]),e}()).\u0275fac=function(e){return new(e||gt)(f.Qb(V.a),f.Qb(y.a))},gt.\u0275cmp=f.Kb({type:gt,selectors:[["ngx-dashboard"]],decls:2,vars:1,consts:[["multi",""],["collapsed","false",4,"ngFor","ngForOf"],["collapsed","false"],[1,"flex-fill",2,"height","4.4rem"],[3,"title","status","updatePosition"],[1,"row"],[3,"class",4,"ngFor","ngForOf"],[3,"size","name","type","updateSize","updatePosition"]],template:function(e,t){1&e&&(f.Wb(0,"nb-accordion",0),f.Dc(1,vt,7,3,"nb-accordion-item",1),f.Vb()),2&e&&(f.Eb(1),f.nc("ngForOf",t.widgetSettings.group))},directives:[c.g,S.m,c.i,c.j,x,c.h,pt],styles:[".nb-theme-default   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent}[_nghost-%COMP%]   nb-accordion-item[_ngcontent-%COMP%]{margin:0;padding:0;background-color:transparent}[_nghost-%COMP%]   nb-accordion-item-header[_ngcontent-%COMP%]{color:transparent;padding-bottom:0;margin-bottom:0}[_nghost-%COMP%]   nb-accordion-item-body[_ngcontent-%COMP%]{padding-top:0;background-color:transparent}"]}),gt),wt=((ft=function(){function e(t){a(this,e),this.menuService=t}return o(e,[{key:"goToHome",value:function(){this.menuService.navigateHome()}}]),e}()).\u0275fac=function(e){return new(e||ft)(f.Qb(c.gb))},ft.\u0275cmp=f.Kb({type:ft,selectors:[["ngx-not-found"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-centered","col-xl-4","col-lg-6","col-md-8","col-sm-12"],[1,"title"],[1,"sub-title"],["nbButton","","fullWidth","","type","button",1,"home-button",3,"click"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"nb-card"),f.Wb(3,"nb-card-body"),f.Wb(4,"div",2),f.Wb(5,"h2",3),f.Fc(6,"404 Ne postoji"),f.Vb(),f.Wb(7,"small",4),f.Fc(8,"Stranica koju ste tra\u017eili ne postoji"),f.Vb(),f.Wb(9,"button",5),f.dc("click",function(){return t.goToHome()}),f.Fc(10," Vrati me na po\u010detnu "),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb())},directives:[c.A,c.z,c.t],styles:[".flex-centered[_ngcontent-%COMP%]{margin:auto}nb-card-body[_ngcontent-%COMP%]{display:flex}.sub-title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{text-align:center}.sub-title[_ngcontent-%COMP%]{display:block;margin-bottom:3rem}.home-button[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),ft),St=i("mgFL"),Mt=[{path:"",component:(mt=function(){function e(t,i){var n=this;a(this,e),this.roleService=t,this.authService=i,this.menu=[],this.authService.getToken().subscribe(function(e){n.subscriber=n.roleService.getOperationsMenu().subscribe(function(e){n.menu=e})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.menu=[]}}]),e}(),mt.\u0275fac=function(e){return new(e||mt)(f.Qb(V.a),f.Qb(ee.g))},mt.\u0275cmp=f.Kb({type:mt,selectors:[["pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(f.Wb(0,"ngx-one-column-layout"),f.Rb(1,"nb-menu",0),f.Rb(2,"router-outlet"),f.Vb()),2&e&&(f.Eb(1),f.nc("items",t.menu))},directives:[St.a,c.eb,W.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),mt),children:[{path:"dashboard",component:yt},{path:"profile",loadChildren:function(){return i.e(11).then(i.bind(null,"723k")).then(function(e){return e.ProfileModule})}},{path:"storage",loadChildren:function(){return Promise.resolve().then(i.bind(null,"RPbl")).then(function(e){return e.StorageModule})}},{path:"trash",loadChildren:function(){return Promise.resolve().then(i.bind(null,"5IJp")).then(function(e){return e.TrashModule})}},{path:"",redirectTo:"/auth/redirect",pathMatch:"full"},{path:"**",component:wt}]}],kt=((Wt=function e(){a(this,e)}).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275mod=f.Ob({type:Wt}),Wt.\u0275inj=f.Nb({imports:[[W.g.forChild(Mt)],W.g]}),Wt),xt=i("RPbl"),Tt=((Vt=function e(){a(this,e)}).\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=f.Ob({type:Vt}),Vt.\u0275inj=f.Nb({providers:[u.a,c.Mb,d.a,l.a,b.a],imports:[[kt,p.a,c.fb,c.w,g,m.TrashModule,xt.StorageModule,c.E,c.Ib,c.S,s.e,c.P,c.U,c.nb,c.lb,r.c]]}),Vt)}}])}();