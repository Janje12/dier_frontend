!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BKSH:function(e,t,n){"use strict";n.r(t),n.d(t,"ReportsModule",function(){return Ve});var i=n("ofXK"),a=n("3Pt+"),r=n("aceb"),c=n("RS3s"),b=n("tyNb"),d=n("fJ6F"),u=n("ud2R"),p=n("fXoL"),m=n("jPBY"),f=n("7Oz7"),g={actions:{columnTitle:"Generi\u0161i DEO/DKO",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"trashReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"trashTransport",title:'<i class="fa fa-truck"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj"},name:{title:"Naziv"},amount:{title:"Koli\u010dina (kg)"}}};function h(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div",1),p.Wb(1,"h5"),p.Fc(2),p.Vb(),p.Wb(3,"p"),p.Fc(4,"Generi\u0161i sve izve\u0161taje "),p.Wb(5,"i",2),p.dc("click",function(){p.xc(n);var e=t.$implicit;return p.hc().allTrashReport(e)}),p.Vb(),p.Vb(),p.Wb(6,"ng2-smart-table",3),p.dc("custom",function(e){p.xc(n);var i=t.$implicit;return p.hc().chooseAction(e,i)}),p.Vb(),p.Vb()}if(2&e){var i=t.$implicit,a=p.hc();p.Eb(2),p.Gc(i.name),p.Eb(4),p.nc("settings",a.storageReportSettings)("source",i.trashes)}}var v,V=((v=function(){function e(t,n,i,a){s(this,e),this.storageService=t,this.monthlyReportService=n,this.router=i,this.adminService=a,this.storages=[],this.storageReportSettings=g}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompany(this.companyPIB,"pib").subscribe(function(t){e.storageService.getCompaniesStorage(t._id,e.type).subscribe(function(t){e.storages=t})})}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"chooseAction",value:function(e,t){"trashReport"===e.action?this.trashReport(e,t):"trashTransport"===e.action&&"production"===this.type&&this.trashTransportReport(e,t)}},{key:"trashReport",value:function(e,t){var n=this,i=e.data;this.monthlyReportService.createMesecniIzvestaj(i,t,this.type.toUpperCase()).subscribe(function(e){return n.downloadFile(e)})}},{key:"trashTransportReport",value:function(e,t){var n=e.data;this.router.navigate(["admin/reports/wmd",{trash:n._id,storage:t._id}])}},{key:"allTrashReport",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||v)(p.Qb(f.a),p.Qb(m.a),p.Qb(b.c),p.Qb(d.a))},v.\u0275cmp=p.Kb({type:v,selectors:[["storage-reports"]],inputs:{companyPIB:"companyPIB",type:"type"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,t){1&e&&p.Dc(0,h,7,3,"div",0),2&e&&p.nc("ngForOf",t.storages)},directives:[i.m,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),v);function W(e,t){if(1&e&&(p.Wb(0,"nb-tab",15),p.Rb(1,"storage-reports",16),p.Vb()),2&e){var n=p.hc();p.Eb(1),p.nc("companyPIB",n.pib)("type","production")}}function y(e,t){1&e&&(p.Wb(0,"nb-tab",17),p.Fc(1," NOT "),p.Vb())}function k(e,t){if(1&e&&(p.Wb(0,"nb-tab",18),p.Rb(1,"storage-reports",16),p.Vb()),2&e){var n=p.hc();p.Eb(1),p.nc("companyPIB",n.pib)("type","treatment")}}function C(e,t){if(1&e&&(p.Wb(0,"nb-tab",19),p.Rb(1,"storage-reports",16),p.Vb()),2&e){var n=p.hc();p.Eb(1),p.nc("companyPIB",n.pib)("type","dump")}}function M(e,t){1&e&&(p.Wb(0,"nb-tab",20),p.Fc(1," NOS "),p.Vb())}var I,F,j,E=((I=function(){function e(t,n,i,a){s(this,e),this.route=t,this.adminService=n,this.toastrService=i,this.roleService=a,this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.pib=this.route.snapshot.paramMap.get("pib"),this.adminService.getCompany(this.pib,"pib").subscribe(function(t){e.company=t,e.roleService.getOperations(e.company.operations).subscribe(function(t){e.operations=t})})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||I)(p.Qb(b.a),p.Qb(d.a),p.Qb(r.Mb),p.Qb(u.a))},I.\u0275cmp=p.Kb({type:I,selectors:[["company-reports"]],decls:23,vars:7,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"companyPIB","type"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,t){1&e&&(p.Wb(0,"nb-card"),p.Wb(1,"nb-card-header"),p.Wb(2,"div",0),p.Wb(3,"div",1),p.Wb(4,"a",2),p.Rb(5,"i",3),p.Vb(),p.Vb(),p.Wb(6,"div",4),p.Wb(7,"h5"),p.Fc(8),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(9,"nb-card-body"),p.Wb(10,"div",5),p.Wb(11,"div",6),p.Wb(12,"label",7),p.Fc(13,"Email za prijem dokumenata:"),p.Vb(),p.Wb(14,"div",6),p.Wb(15,"input",8),p.dc("ngModelChange",function(e){return t.company.emailReception=e}),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(16,"div",5),p.Wb(17,"nb-tabset",9),p.Dc(18,W,2,2,"nb-tab",10),p.Dc(19,y,2,0,"nb-tab",11),p.Dc(20,k,2,2,"nb-tab",12),p.Dc(21,C,2,2,"nb-tab",13),p.Dc(22,M,2,0,"nb-tab",14),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(8),p.Gc(t.company.name),p.Eb(7),p.nc("ngModel",t.company.emailReception),p.Eb(3),p.nc("ngIf",null==t.operations?null:t.operations.production),p.Eb(1),p.nc("ngIf",null==t.operations?null:t.operations.transport),p.Eb(1),p.nc("ngIf",null==t.operations?null:t.operations.treatment),p.Eb(1),p.nc("ngIf",null==t.operations?null:t.operations.disposal),p.Eb(1),p.nc("ngIf",null==t.operations?null:t.operations.cache))},directives:[r.A,r.D,b.f,r.z,r.T,a.b,a.k,a.n,r.Hb,i.n,r.Gb,V],styles:[""]}),I),w={pager:{perPage:10},actions:{add:!1,edit:!1,delete:!1},columns:{dan:{title:"Dan"},ukupnoStanje:{title:"Ukupno stanje (kg)"},ukupnoProizvodnja:{title:"Ukupna proizvodnja (kg)"},ukupnoTransport:{title:"Ukupan transport (kg)"},DKO:{valuePrepareFunction:function(e,t){return t.nazivFirme?t.nazivFirme+" "+t.brojDozvole:"/"},title:"DKO"}}},S=((F=function(){function e(t,n){s(this,e),this.route=t,this.reportService=n,this.settings=w,this.report={_id:"",dailyReport:[],month:0,storage:void 0,total:0,totalProduction:0,totalTransport:0,trash:void 0,year:0}}return l(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.reportService.getOneMonthlyReport(t).subscribe(function(t){e.report=t,e.dailyReports=e.report.dailyReport})}}]),e}()).\u0275fac=function(e){return new(e||F)(p.Qb(b.a),p.Qb(m.a))},F.\u0275cmp=p.Kb({type:F,selectors:[["monthly-report-information"]],decls:53,vars:11,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row"],[1,"col-12"],[1,"label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"row","mt-2"],[3,"settings","source"]],template:function(e,t){1&e&&(p.Wb(0,"nb-card"),p.Wb(1,"nb-card-header"),p.Wb(2,"div",0),p.Wb(3,"div",1),p.Wb(4,"a",2),p.Rb(5,"i",3),p.Vb(),p.Vb(),p.Wb(6,"div",4),p.Wb(7,"h5"),p.Fc(8),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(9,"nb-card-body"),p.Wb(10,"div",5),p.Wb(11,"div",6),p.Wb(12,"label",7),p.Fc(13,"Godina: "),p.Vb(),p.Wb(14,"input",8),p.dc("ngModelChange",function(e){return t.report.year=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(15,"div",5),p.Wb(16,"div",6),p.Wb(17,"label",7),p.Fc(18,"Mesec: "),p.Vb(),p.Wb(19,"input",8),p.dc("ngModelChange",function(e){return t.report.month=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(20,"div",5),p.Wb(21,"div",6),p.Wb(22,"label",7),p.Fc(23,"Skladi\u0161te: "),p.Vb(),p.Wb(24,"input",8),p.dc("ngModelChange",function(e){return t.report.storage.name=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(25,"div",5),p.Wb(26,"div",6),p.Wb(27,"label",7),p.Fc(28,"Indeksni Broj: "),p.Vb(),p.Wb(29,"input",8),p.dc("ngModelChange",function(e){return t.report.trash.indexNumber=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(30,"div",5),p.Wb(31,"div",6),p.Wb(32,"label",7),p.Fc(33,"Trenutna Koli\u010dina na stanju: "),p.Vb(),p.Wb(34,"input",8),p.dc("ngModelChange",function(e){return t.report.trash.amount=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(35,"div",5),p.Wb(36,"div",9),p.Wb(37,"label",7),p.Fc(38,"Fizi\u010dko stanje: "),p.Vb(),p.Wb(39,"input",8),p.dc("ngModelChange",function(e){return t.report.trash.state=e}),p.Vb(),p.Vb(),p.Wb(40,"div",9),p.Wb(41,"label",7),p.Fc(42,"Na\u010din pakovanja: "),p.Vb(),p.Wb(43,"input",8),p.dc("ngModelChange",function(e){return t.report.trash.packaging=e}),p.Vb(),p.Vb(),p.Wb(44,"div",9),p.Wb(45,"label",7),p.Fc(46,"Q Lista: "),p.Vb(),p.Wb(47,"input",8),p.dc("ngModelChange",function(e){return t.report.trash.qList=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(48,"div",10),p.Wb(49,"div",6),p.Wb(50,"label",7),p.Fc(51,"Izve\u0161taj za svaki dan:"),p.Vb(),p.Rb(52,"ng2-smart-table",11),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(8),p.Gc(t.report.trash.name),p.Eb(6),p.nc("ngModel",t.report.year),p.Eb(5),p.nc("ngModel",t.report.month),p.Eb(5),p.nc("ngModel",t.report.storage.name),p.Eb(5),p.nc("ngModel",t.report.trash.indexNumber),p.Eb(5),p.nc("ngModel",t.report.trash.amount),p.Eb(5),p.nc("ngModel",t.report.trash.state),p.Eb(4),p.nc("ngModel",t.report.trash.packaging),p.Eb(4),p.nc("ngModel",t.report.trash.qList),p.Eb(5),p.nc("settings",t.settings)("source",t.dailyReports))},directives:[r.A,r.D,b.f,r.z,r.T,a.b,a.k,a.n,c.b],styles:[""]}),F),x={pager:{perPage:10},actions:{columnTitle:"Generi\u0161i izve\u0161taj/Pregeldaj izve\u0161taje",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},name:{title:"Naziv Firme"},emailReception:{title:"Email za prijem"},telephone:{title:"Telefon"},operations:{title:"Rad firme"}}},z=((j=function(){function e(t,n,i){s(this,e),this.adminService=t,this.toastrService=n,this.router=i,this.companySource=new c.a,this.companySettings=x}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompanies().subscribe(function(t){e.companySource.load(t)})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"companyReports",value:function(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.gotoAllReports(e)}},{key:"gotoCompanyReport",value:function(e){var t=e.data;this.router.navigate(["admin/reports/company/",t.pib])}},{key:"gotoAllReports",value:function(e){var t=e.data;this.router.navigate(["admin/reports//",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||j)(p.Qb(d.a),p.Qb(r.Mb),p.Qb(b.c))},j.\u0275cmp=p.Kb({type:j,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(p.Wb(0,"nb-card"),p.Wb(1,"nb-card-header"),p.Fc(2,"Firme"),p.Vb(),p.Wb(3,"nb-card-body"),p.Wb(4,"ng2-smart-table",0),p.dc("custom",function(e){return t.companyReports(e)}),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(4),p.nc("settings",t.companySettings)("source",t.companySource))},directives:[r.A,r.D,r.z,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),j),D=n("LRne"),T=n("SxV6"),P=n("X+yL"),O=n("wH5/"),R=n("Lx1j");function L(e,t){1&e&&(p.Wb(0,"span"),p.Fc(1,"proizvo\u0111a\u010du"),p.Vb())}function U(e,t){1&e&&(p.Wb(0,"span"),p.Fc(1,"transporteru"),p.Vb())}function N(e,t){1&e&&(p.Wb(0,"span"),p.Fc(1,"primalacu"),p.Vb())}function B(e,t){if(1&e&&(p.Wb(0,"nb-option",16),p.Fc(1),p.Vb()),2&e){var n=t.$implicit;p.nc("value",n),p.Eb(1),p.Gc(n.name)}}function q(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div",1),p.Wb(1,"button",13),p.dc("click",function(){return p.xc(n),p.hc().chooseCompany()}),p.Fc(2,"Odaberi ve\u0107 postoje\u0107u firmu "),p.Vb(),p.Wb(3,"nb-select",14),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().tmpCompany=e}),p.Dc(4,B,2,2,"nb-option",15),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(1),p.nc("disabled",i.firstLoad),p.Eb(2),p.nc("disabled",!i.firstLoad)("ngModel",i.tmpCompany),p.Eb(1),p.nc("ngForOf",i.companies)}}function K(e,t){if(1&e&&(p.Wb(0,"nb-option",16),p.Fc(1),p.Vb()),2&e){var n=t.$implicit;p.nc("value",n),p.Eb(1),p.Gc(n)}}function Q(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div"),p.Wb(1,"div",0),p.Wb(2,"div",4),p.Wb(3,"label",5),p.Fc(4,"Predvi\u0111en na\u010din postupanja sa otpadom:"),p.Vb(),p.Vb(),p.Wb(5,"div",1),p.Wb(6,"nb-radio-group",17,18),p.dc("valueChange",function(){p.xc(n);var e=p.vc(7);return p.hc().selectList(e.value)}),p.Wb(8,"nb-radio",19),p.Fc(9,"Tretman (R)"),p.Vb(),p.Wb(10,"nb-radio",20),p.Fc(11,"Odlaganje (D)"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(12,"div",0),p.Wb(13,"div",4),p.Wb(14,"label",5),p.Fc(15,"Odaberite R/D Listu"),p.Vb(),p.Vb(),p.Wb(16,"div",1),p.Wb(17,"nb-select",21),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.nacinPostupanja=e}),p.Dc(18,K,2,2,"nb-option",15),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(17),p.nc("ngModel",i.dko.nacinPostupanja),p.Eb(1),p.nc("ngForOf",i.treatmentList)}}function _(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div"),p.Wb(1,"div",0),p.Wb(2,"div",4),p.Wb(3,"label",5),p.Fc(4,"Vrsta prevoznog sredstva:"),p.Vb(),p.Vb(),p.Wb(5,"div",1),p.Wb(6,"nb-select",21),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.vrstaVozila=e}),p.Wb(7,"nb-option",22),p.Fc(8,"Kamion"),p.Vb(),p.Wb(9,"nb-option",23),p.Fc(10,"Kombi"),p.Vb(),p.Wb(11,"nb-option",24),p.Fc(12,"Automobil"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(13,"div",0),p.Wb(14,"div",4),p.Wb(15,"label",5),p.Fc(16,"Registraski broj prevoznog sredstva:"),p.Vb(),p.Vb(),p.Wb(17,"div",1),p.Wb(18,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.registarskiBroj=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(19,"div",0),p.Wb(20,"div",4),p.Wb(21,"label",26),p.Fc(22,"Dozvola za prevoznika otpada:"),p.Vb(),p.Vb(),p.Wb(23,"div",10),p.Wb(24,"input",27),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.sifraDozvoleTransport=e}),p.Vb(),p.Vb(),p.Wb(25,"div",10),p.Wb(26,"input",28),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.datumDozvoleTransport=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(27,"div",0),p.Wb(28,"div",4),p.Wb(29,"label",5),p.Fc(30,"Ruta kretanja pocetna/krajnja:"),p.Vb(),p.Vb(),p.Wb(31,"div",1),p.Wb(32,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.rutaKretanja[0]=e}),p.Vb(),p.Vb(),p.Wb(33,"div",1),p.Wb(34,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.rutaKretanja[1]=e}),p.Vb(),p.Vb(),p.Wb(35,"div",1),p.Wb(36,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.rutaKretanja[2]=e}),p.Vb(),p.Vb(),p.Wb(37,"div",1),p.Wb(38,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.rutaKretanja[3]=e}),p.Vb(),p.Vb(),p.Wb(39,"div",1),p.Wb(40,"input",25),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.rutaKretanja[4]=e}),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(6),p.nc("ngModel",i.dko.vrstaVozila),p.Eb(12),p.nc("ngModel",i.dko.registarskiBroj),p.Eb(6),p.nc("ngModel",i.dko.sifraDozvoleTransport),p.Eb(2),p.nc("ngModel",i.dko.datumDozvoleTransport),p.Eb(6),p.nc("ngModel",i.dko.rutaKretanja[0]),p.Eb(2),p.nc("ngModel",i.dko.rutaKretanja[1]),p.Eb(2),p.nc("ngModel",i.dko.rutaKretanja[2]),p.Eb(2),p.nc("ngModel",i.dko.rutaKretanja[3]),p.Eb(2),p.nc("ngModel",i.dko.rutaKretanja[4])}}function A(e,t){if(1&e){var n=p.Xb();p.Wb(0,"nb-radio-group",21),p.dc("ngModelChange",function(e){return p.xc(n),p.hc(2).dko.vrstaPrimalaca=e}),p.Wb(1,"nb-radio",32),p.Fc(2,"Tretman"),p.Vb(),p.Wb(3,"nb-radio",33),p.Fc(4,"Skladistenje"),p.Vb(),p.Wb(5,"nb-radio",34),p.Fc(6,"Odlaganje"),p.Vb(),p.Vb()}if(2&e){var i=p.hc(2);p.nc("ngModel",i.dko.vrstaPrimalaca)}}function G(e,t){if(1&e){var n=p.Xb();p.Wb(0,"nb-radio-group",21),p.dc("ngModelChange",function(e){return p.xc(n),p.hc(2).dko.vrstaPrimalaca=e}),p.Wb(1,"nb-radio",35),p.Fc(2,"Tretman"),p.Vb(),p.Wb(3,"nb-radio",36),p.Fc(4,"Skladistenje "),p.Vb(),p.Wb(5,"nb-radio",37),p.Fc(6,"Odlaganje"),p.Vb(),p.Vb()}if(2&e){var i=p.hc(2);p.nc("ngModel",i.dko.vrstaPrimalaca),p.Eb(1),p.nc("disabled",!i.checkCompanyType("Tretman Neopasnog Otpada")),p.Eb(2),p.nc("disabled",!i.checkCompanyType("Skladi\u0161tenje Neopasnog Otpada")),p.Eb(2),p.nc("disabled",!i.checkCompanyType("Odlaganje Neopasnog Otpada"))}}function X(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div"),p.Wb(1,"div",0),p.Wb(2,"div",4),p.Wb(3,"label",26),p.Fc(4,"Vrsta primalaca:"),p.Vb(),p.Vb(),p.Wb(5,"div",1),p.Dc(6,A,7,1,"nb-radio-group",29),p.Dc(7,G,7,4,"nb-radio-group",29),p.Vb(),p.Vb(),p.Wb(8,"div",0),p.Wb(9,"div",4),p.Wb(10,"label",26),p.Fc(11,"Dozvola za primalaca otpada:"),p.Vb(),p.Vb(),p.Wb(12,"div",10),p.Wb(13,"input",30),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.sifraDozvolePrimalac=e}),p.Vb(),p.Vb(),p.Wb(14,"div",10),p.Wb(15,"input",31),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.datumDozvolePrimalac=e}),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(6),p.nc("ngIf",!i.firstLoad),p.Eb(1),p.nc("ngIf",i.firstLoad),p.Eb(6),p.nc("ngModel",i.dko.sifraDozvolePrimalac),p.Eb(2),p.nc("ngModel",i.dko.datumDozvolePrimalac)}}var $,Z=(($=function(){function e(t,n){s(this,e),this.dkoService=t,this.firmaService=n,this.tmpCompany={address:{location:void 0,street:""},email:"",mat:"",name:"",operations:[],pib:"",telephone:""},this.companies=[],this.firstLoad=!1,this.dLista=[],this.rLista=[],this.treatmentList=[];for(var i=1;i<=15;i++)this.dLista.push("D"+i);for(var a=1;a<=13;a++)this.rLista.push("R"+a)}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe(function(t){e.dko=t,e.company&&(e.tmpCompany=e.company,e.dko.firmaProizvodjac=e.tmpCompany)})}},{key:"selectList",value:function(e){this.treatmentList="R"===e?this.rLista:this.dLista}},{key:"sendCompany",value:function(){if("transport"===this.type)this.tmpCompany.operations.push("Transport "+this.trashType+" Otpada"),this.dko.firmaTransport=this.tmpCompany;else if("recipient"===this.type){var e=this.dko.vrstaPrimalaca.startsWith("s")?"Skladi\u0161tenje":this.dko.vrstaPrimalaca;e=e[0].toUpperCase()+e.substr(1).toLowerCase(),this.tmpCompany.operations.push(e+" "+this.trashType+" Otpada"),this.dko.firmaPrimalac=this.tmpCompany}this.dkoService.sendDKO(Object(D.a)(this.dko))}},{key:"chooseCompany",value:function(){("transport"!==this.type||this.firstLoad)&&("recipient"!==this.type||this.firstLoad||(this.firstLoad=!0))}},{key:"checkCompanyType",value:function(e){return!!this.tmpCompany.operations.includes(e)}}]),e}()).\u0275fac=function(e){return new(e||$)(p.Qb(P.a),p.Qb(O.a))},$.\u0275cmp=p.Kb({type:$,selectors:[["company-part"]],inputs:{company:"company",type:"type",trashType:"trashType"},decls:80,vars:28,consts:[[1,"row","mb-1"],[1,"col-6"],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-12"],[1,"label"],["fullWidth","","nbInput","","type","text",3,"ngModel","disabled","ngModelChange"],["nbInput","","fullWidth","",3,"disabled","ngModel","ngModelChange"],[1,"row","ml-2"],[1,"row","mt-2"],[1,"col-3"],["nbButton","","fullWidth","","status","danger","nbStepperPrevious",""],["nbButton","","fullWidth","","status","primary","type","button","nbStepperNext","",3,"click"],["fullWidth","","nbButton","","status","info","type","button",3,"disabled","click"],["fullWidth","",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"valueChange"],["nacinPostupanja",""],["value","R"],["value","D"],["fullWidth","",3,"ngModel","ngModelChange"],["value","kamion"],["value","kombi"],["value","automobil"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullWidth","",1,"label"],["fullWidth","","placeholder","Sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","placeholder","Datum nastanka","nbInput","","type","date",3,"ngModel","ngModelChange"],["fullWidth","",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","placeholder","sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date","placeholder","datum nastanka",3,"ngModel","ngModelChange"],["value","treatment"],["value","storage"],["value","dump"],["value","treatment",3,"disabled"],["value","storage",3,"disabled"],["value","dump",3,"disabled"]],template:function(e,t){1&e&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Wb(2,"h5"),p.Fc(3,"Podaci o "),p.Dc(4,L,2,0,"span",2),p.Dc(5,U,2,0,"span",2),p.Dc(6,N,2,0,"span",2),p.Fc(7),p.Vb(),p.Vb(),p.Dc(8,q,5,4,"div",3),p.Vb(),p.Wb(9,"div",0),p.Wb(10,"div",4),p.Wb(11,"label",5),p.Fc(12,"PIB firme:"),p.Vb(),p.Vb(),p.Wb(13,"div",1),p.Wb(14,"input",6),p.dc("ngModelChange",function(e){return t.tmpCompany.mat=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(15,"div",0),p.Wb(16,"div",4),p.Wb(17,"label",5),p.Fc(18,"Mati\u010dni broj firme:"),p.Vb(),p.Vb(),p.Wb(19,"div",1),p.Wb(20,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.pib=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(21,"div",0),p.Wb(22,"div",4),p.Wb(23,"label",5),p.Fc(24,"Naziv firme:"),p.Vb(),p.Vb(),p.Wb(25,"div",1),p.Wb(26,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.name=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(27,"div",0),p.Wb(28,"div",4),p.Wb(29,"label",5),p.Fc(30,"Adresa firme:"),p.Vb(),p.Vb(),p.Wb(31,"div",8),p.Wb(32,"div",4),p.Wb(33,"label",5),p.Fc(34,"Op\u0161tina:"),p.Vb(),p.Vb(),p.Wb(35,"div",1),p.Wb(36,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.address.location.townshipName=e}),p.Vb(),p.Vb(),p.Wb(37,"div",4),p.Wb(38,"label",5),p.Fc(39,"Location:"),p.Vb(),p.Vb(),p.Wb(40,"div",1),p.Wb(41,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.address.location.placeName=e}),p.Vb(),p.Vb(),p.Wb(42,"div",4),p.Wb(43,"label",5),p.Fc(44,"Po\u0161tanski broj:"),p.Vb(),p.Vb(),p.Wb(45,"div",1),p.Wb(46,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.address.location.zipCode=e}),p.Vb(),p.Vb(),p.Wb(47,"div",4),p.Wb(48,"label",5),p.Fc(49,"Ulica i broj:"),p.Vb(),p.Vb(),p.Wb(50,"div",1),p.Wb(51,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.address.street=e}),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(52,"div",0),p.Wb(53,"div",4),p.Wb(54,"label",5),p.Fc(55,"Email firme:"),p.Vb(),p.Vb(),p.Wb(56,"div",1),p.Wb(57,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.email=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(58,"div",0),p.Wb(59,"div",4),p.Wb(60,"label",5),p.Fc(61,"Telefon firme:"),p.Vb(),p.Vb(),p.Wb(62,"div",1),p.Wb(63,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.telephone=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(64,"div",0),p.Wb(65,"div",4),p.Wb(66,"label",5),p.Fc(67,"Telefaks firme:"),p.Vb(),p.Vb(),p.Wb(68,"div",1),p.Wb(69,"input",7),p.dc("ngModelChange",function(e){return t.tmpCompany.fax=e}),p.Vb(),p.Vb(),p.Vb(),p.Dc(70,Q,19,2,"div",2),p.Dc(71,_,41,9,"div",2),p.Dc(72,X,16,4,"div",2),p.Wb(73,"div",9),p.Wb(74,"div",10),p.Wb(75,"button",11),p.Fc(76,"Nazad"),p.Vb(),p.Vb(),p.Wb(77,"div",10),p.Wb(78,"button",12),p.dc("click",function(){return t.sendCompany()}),p.Fc(79,"Dalje "),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(4),p.nc("ngIf","production"===t.type),p.Eb(1),p.nc("ngIf","transport"===t.type),p.Eb(1),p.nc("ngIf","recipient"===t.type),p.Eb(1),p.Hc(" ","'"+(null==t.tmpCompany?null:t.tmpCompany.name)+"'",""),p.Eb(1),p.nc("ngIf","production"!==t.type),p.Eb(6),p.nc("ngModel",t.tmpCompany.mat)("disabled","production"===t.type),p.Eb(6),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.pib),p.Eb(6),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.name),p.Eb(10),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.townshipName),p.Eb(5),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.placeName),p.Eb(5),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.zipCode),p.Eb(5),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.street),p.Eb(6),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.email),p.Eb(6),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.telephone),p.Eb(6),p.nc("disabled","production"===t.type)("ngModel",t.tmpCompany.fax),p.Eb(1),p.nc("ngIf","production"===t.type),p.Eb(1),p.nc("ngIf","transport"===t.type),p.Eb(1),p.nc("ngIf","recipient"===t.type))},directives:[i.n,r.T,a.b,a.k,a.n,r.t,r.Eb,r.Db,r.tb,i.m,r.ib,r.pb,r.ob],styles:[""]}),$);function H(e,t){if(1&e&&(p.Wb(0,"button",16),p.Fc(1),p.Rb(2,"nb-icon",17),p.Vb()),2&e){var n=p.hc(),i=n.$implicit,a=n.index,o=p.hc();p.Eb(1),p.Hc(" ",i," "),p.Eb(1),p.nc("icon",a===o.dko.rutaKretanja.length-1?"checkmark-circle":"arrowhead-right")}}function J(e,t){if(1&e&&(p.Wb(0,"div",14),p.Dc(1,H,3,2,"button",15),p.Vb()),2&e){var n=t.$implicit;p.Eb(1),p.nc("ngIf",""!==n&&void 0!==n)}}var Y,ee=((Y=function(){function e(t,n){s(this,e),this.dkoService=t,this.router=n}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe(function(t){e.dko=t;for(var n=0;n<5;n++)void 0!==e.dko.rutaKretanja[n]&&""!==e.dko.rutaKretanja[n]||e.dko.rutaKretanja.splice(n,1)})}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"generateDKO",value:function(){var e=this;this.dkoService.generateDKO(this.dko,this.storage._id,this.trash._id).subscribe(function(t){e.dko.otpad.indexNumber.endsWith("*")||e.downloadFile(t),e.router.navigate(["/admin/izvestaji/firme/"+e.dko.firmaProizvodjac.pib])})}}]),e}()).\u0275fac=function(e){return new(e||Y)(p.Qb(P.a),p.Qb(b.c))},Y.\u0275cmp=p.Kb({type:Y,selectors:[["confirm-part"]],inputs:{storage:"storage",trash:"trash"},decls:37,vars:5,consts:[[1,"row"],[1,"row","mb-1"],[1,"col-4"],[1,"label"],["nbButton","","outline","","status","success","fullWidth",""],["nbButton","","outline","","status","info","fullWidth",""],["nbButton","","outline","","status","danger","fullWidth",""],[1,"col-6"],["nbButton","","outline","","status","warning","fullWidth",""],[1,"label","col-12"],["class","col",4,"ngFor","ngForOf"],[1,"row","mt-5"],["nbButton","","fullWidth","","nbStepperPrevious","","status","danger"],["nbButton","","fullWidth","","status","success",3,"click"],[1,"col"],["nbButton","","fullWidth","",4,"ngIf"],["nbButton","","fullWidth",""],[3,"icon"]],template:function(e,t){1&e&&(p.Wb(0,"div",0),p.Wb(1,"h5"),p.Fc(2,"Potvrda i generisanje dokumenta"),p.Vb(),p.Vb(),p.Wb(3,"div",1),p.Wb(4,"div",2),p.Wb(5,"label",3),p.Fc(6,"Proizvo\u0111a\u010d:"),p.Vb(),p.Wb(7,"button",4),p.Fc(8),p.Vb(),p.Vb(),p.Wb(9,"div",2),p.Wb(10,"label",3),p.Fc(11,"Transporter:"),p.Vb(),p.Wb(12,"button",5),p.Fc(13),p.Vb(),p.Vb(),p.Wb(14,"div",2),p.Wb(15,"label",3),p.Fc(16,"Primalac:"),p.Vb(),p.Wb(17,"button",6),p.Fc(18),p.Vb(),p.Vb(),p.Vb(),p.Wb(19,"div",1),p.Wb(20,"div",7),p.Wb(21,"label",3),p.Fc(22,"Otpad "),p.Vb(),p.Wb(23,"button",8),p.Fc(24),p.Vb(),p.Vb(),p.Vb(),p.Wb(25,"div",1),p.Wb(26,"label",9),p.Fc(27,"Ruta kretanja otpada"),p.Vb(),p.Dc(28,J,2,1,"div",10),p.Vb(),p.Wb(29,"div",11),p.Wb(30,"div",2),p.Wb(31,"button",12),p.Fc(32,"Nazad"),p.Vb(),p.Vb(),p.Rb(33,"div",2),p.Wb(34,"div",2),p.Wb(35,"button",13),p.dc("click",function(){return t.generateDKO()}),p.Fc(36,"Generisi dokument"),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(8),p.Gc(null==t.dko||null==t.dko.firmaProizvodjac?null:t.dko.firmaProizvodjac.naziv),p.Eb(5),p.Gc(null==t.dko||null==t.dko.firmaTransport?null:t.dko.firmaTransport.naziv),p.Eb(5),p.Gc(null==t.dko||null==t.dko.firmaPrimalac?null:t.dko.firmaPrimalac.naziv),p.Eb(6),p.Gc(null==t.dko||null==t.dko.otpad?null:t.dko.otpad.naziv),p.Eb(4),p.nc("ngForOf",t.dko.rutaKretanja))},directives:[r.t,i.m,r.Eb,i.n,r.Q],styles:[""]}),Y);function te(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div"),p.Wb(1,"div",0),p.Wb(2,"div",1),p.Wb(3,"label",2),p.Fc(4,"H Lista:"),p.Vb(),p.Vb(),p.Wb(5,"div",3),p.Wb(6,"input",33),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().trash.hList=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(7,"div",0),p.Wb(8,"div",1),p.Wb(9,"label",2),p.Fc(10,"Y Lista:"),p.Vb(),p.Vb(),p.Wb(11,"div",3),p.Wb(12,"input",34),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().trash.yList=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(13,"div",0),p.Wb(14,"div",1),p.Wb(15,"label",2),p.Fc(16,"C Lista:"),p.Vb(),p.Vb(),p.Wb(17,"div",3),p.Wb(18,"input",34),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().trash.cList=e}),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(6),p.nc("ngModel",i.trash.hList),p.Eb(6),p.nc("ngModel",i.trash.yList),p.Eb(6),p.nc("ngModel",i.trash.cList)}}function ne(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div",3),p.Wb(1,"input",35),p.dc("ngModelChange",function(e){return p.xc(n),p.hc().dko.nacinPakovanja=e}),p.Vb(),p.Vb()}if(2&e){var i=p.hc();p.Eb(1),p.nc("ngModel",i.dko.nacinPakovanja)}}function ie(e,t){if(1&e&&(p.Wb(0,"nb-option",36),p.Fc(1),p.Vb()),2&e){var n=t.$implicit;p.nc("value",n),p.Eb(1),p.Gc(n)}}var ae,oe=((ae=function(){function e(t){s(this,e),this.dkoService=t,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"]}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe(function(t){e.dko=t,e.dko.otpad=e.trash,e.dko.masaOtpada=e.trash.amount,e.dko.datumIspitivanja=e.trash.examinationDate,e.dko.sifraIspitivanja=e.trash.examinationCode,e.dko.fizickoStanje=e.trash.state,e.dko.qLista=e.trash.qList,e.dko.nacinPakovanja=e.trash.packaging,Object(p.Z)()&&(e.dko.vrstaOtpada="indutstrijski",e.dko.masaOtpada=10,e.dko.datumIspitivanja=new Date(2020,3,4),e.dko.sifraIspitivanja="1234DA",e.dko.qLista="Q1",e.dko.nacinPakovanja="Bure")}),this.dkoService.sendDKO(Object(D.a)(this.dko))}}]),e}()).\u0275fac=function(e){return new(e||ae)(p.Qb(P.a))},ae.\u0275cmp=p.Kb({type:ae,selectors:[["trash-part"]],inputs:{trash:"trash",trashType:"trashType"},decls:102,vars:15,consts:[[1,"row","mb-1"],[1,"col-12"],[1,"label"],[1,"col-6"],["fullWidth","",3,"ngModel","ngModelChange"],["value","Industrijski"],["value","Komercijalni"],["value","Otpad iz doma\u0107instva"],["disabled","","fullWidth","","nbInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","number",3,"ngModel","ngModelChange"],["value","Bure"],["value","Kanister"],["value","Sanduk"],["value","Kese"],["value","Posude pod pritiskom"],["value","Kompozitno pakovanje"],["value","U rasutom stanju"],["value","ostalo"],["ostalo",""],["class","col-6",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","",1,"label"],[1,"col-3"],["fullWidth","","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","text",3,"ngModel","ngModelChange"],["value","drumski"],["value","\u017eelezni\u010dki"],["value","re\u010dni"],[1,"row","mt-2"],["nbButton","","fullWidth","","status","primary","nbStepperNext",""],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","disabled","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","ostalo",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){if(1&e&&(p.Wb(0,"div",0),p.Wb(1,"h5"),p.Fc(2),p.Vb(),p.Vb(),p.Wb(3,"div",0),p.Wb(4,"div",1),p.Wb(5,"label",2),p.Fc(6,"Vrsta Otpada:"),p.Vb(),p.Vb(),p.Wb(7,"div",3),p.Wb(8,"nb-select",4),p.dc("ngModelChange",function(e){return t.dko.vrstaOtpada=e}),p.Wb(9,"nb-option",5),p.Fc(10,"Industrijski"),p.Vb(),p.Wb(11,"nb-option",6),p.Fc(12,"Komercijalni"),p.Vb(),p.Wb(13,"nb-option",7),p.Fc(14,"Otpad iz doma\u0107instva"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(15,"div",0),p.Wb(16,"div",1),p.Wb(17,"label",2),p.Fc(18,"Indeksni broj:"),p.Vb(),p.Vb(),p.Wb(19,"div",3),p.Wb(20,"input",8),p.dc("ngModelChange",function(e){return t.trash.indexNumber=e}),p.Vb(),p.Vb(),p.Vb(),p.Dc(21,te,19,3,"div",9),p.Wb(22,"div",0),p.Wb(23,"div",1),p.Wb(24,"label",2),p.Fc(25,"Q Lista:"),p.Vb(),p.Vb(),p.Wb(26,"div",3),p.Wb(27,"input",10),p.dc("ngModelChange",function(e){return t.dko.qLista=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(28,"div",0),p.Wb(29,"div",1),p.Wb(30,"label",2),p.Fc(31,"Masa otpada:"),p.Vb(),p.Vb(),p.Wb(32,"div",3),p.Wb(33,"input",11),p.dc("ngModelChange",function(e){return t.dko.masaOtpada=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(34,"div",0),p.Wb(35,"div",1),p.Wb(36,"label",2),p.Fc(37,"Na\u010din pakovanja otpada:"),p.Vb(),p.Vb(),p.Wb(38,"div",3),p.Wb(39,"nb-select",4),p.dc("ngModelChange",function(e){return t.dko.nacinPakovanja=e}),p.Wb(40,"nb-option",12),p.Fc(41,"Bure"),p.Vb(),p.Wb(42,"nb-option",13),p.Fc(43,"Kanister"),p.Vb(),p.Wb(44,"nb-option",14),p.Fc(45,"Sanduk"),p.Vb(),p.Wb(46,"nb-option",15),p.Fc(47,"Kese"),p.Vb(),p.Wb(48,"nb-option",16),p.Fc(49,"Posude pod pritiskom"),p.Vb(),p.Wb(50,"nb-option",17),p.Fc(51,"Kompozitno pakovanje"),p.Vb(),p.Wb(52,"nb-option",18),p.Fc(53,"U rasutom stanju"),p.Vb(),p.Wb(54,"nb-option",19,20),p.Fc(56,"Ostalo"),p.Vb(),p.Vb(),p.Vb(),p.Dc(57,ne,2,1,"div",21),p.Vb(),p.Wb(58,"div",0),p.Wb(59,"div",1),p.Wb(60,"label",2),p.Fc(61,"Fizi\u010dko stanje otpada:"),p.Vb(),p.Vb(),p.Wb(62,"div",3),p.Wb(63,"nb-select",4),p.dc("ngModelChange",function(e){return t.dko.fizickoStanje=e}),p.Dc(64,ie,2,2,"nb-option",22),p.Vb(),p.Vb(),p.Vb(),p.Wb(65,"div",0),p.Wb(66,"div",1),p.Wb(67,"label",23),p.Fc(68,"Izve\u0161taj o ispitivanju otpada:"),p.Vb(),p.Vb(),p.Wb(69,"div",24),p.Wb(70,"input",25),p.dc("ngModelChange",function(e){return t.dko.sifraIspitivanja=e}),p.Vb(),p.Vb(),p.Wb(71,"div",24),p.Wb(72,"input",26),p.dc("ngModelChange",function(e){return t.dko.datumIspitivanja=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(73,"div",0),p.Wb(74,"div",1),p.Wb(75,"label",2),p.Fc(76,"Odredi\u0161te:"),p.Vb(),p.Vb(),p.Wb(77,"div",3),p.Wb(78,"input",27),p.dc("ngModelChange",function(e){return t.dko.rutaKretanja[0]=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(79,"div",0),p.Wb(80,"div",1),p.Wb(81,"label",2),p.Fc(82,"Vrsta prevoza:"),p.Vb(),p.Vb(),p.Wb(83,"div",3),p.Wb(84,"nb-select",4),p.dc("ngModelChange",function(e){return t.dko.vidPrevoza=e}),p.Wb(85,"nb-option",28),p.Fc(86,"Drumski"),p.Vb(),p.Wb(87,"nb-option",29),p.Fc(88,"\u017delezni\u010dki"),p.Vb(),p.Wb(89,"nb-option",30),p.Fc(90,"Re\u010dni"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(91,"div",0),p.Wb(92,"div",1),p.Wb(93,"label",2),p.Fc(94,"Posebne napomene za rukovanje i dodatne informacije:"),p.Vb(),p.Vb(),p.Wb(95,"div",3),p.Wb(96,"input",27),p.dc("ngModelChange",function(e){return t.dko.dodatneInformacije=e}),p.Vb(),p.Vb(),p.Vb(),p.Wb(97,"div",31),p.Rb(98,"div",24),p.Wb(99,"div",24),p.Wb(100,"button",32),p.Fc(101,"Dalje"),p.Vb(),p.Vb(),p.Vb()),2&e){var n=p.vc(55);p.Eb(2),p.Hc("Podaci o otpadu '",null==t.trash?null:t.trash.name,"'"),p.Eb(6),p.nc("ngModel",t.dko.vrstaOtpada),p.Eb(12),p.nc("ngModel",t.trash.indexNumber),p.Eb(1),p.nc("ngIf","Opasnog"===t.trashType),p.Eb(6),p.nc("ngModel",t.dko.qLista),p.Eb(6),p.nc("ngModel",t.dko.masaOtpada),p.Eb(6),p.nc("ngModel",t.dko.nacinPakovanja),p.Eb(18),p.nc("ngIf",n.selected),p.Eb(6),p.nc("ngModel",t.dko.fizickoStanje),p.Eb(1),p.nc("ngForOf",t.fizickaStanja),p.Eb(6),p.nc("ngModel",t.dko.sifraIspitivanja),p.Eb(2),p.nc("ngModel",t.dko.datumIspitivanja),p.Eb(6),p.nc("ngModel",t.dko.rutaKretanja[0]),p.Eb(6),p.nc("ngModel",t.dko.vidPrevoza),p.Eb(12),p.nc("ngModel",t.dko.dodatneInformacije)}},directives:[r.tb,a.k,a.n,r.ib,r.T,a.b,i.n,a.p,i.m,r.t,r.Db],styles:[""]}),ae);function re(e,t){if(1&e&&(p.Wb(0,"nb-step",11),p.Wb(1,"div",12),p.Rb(2,"trash-part",13),p.ic(3,"async"),p.Vb(),p.Vb()),2&e){var n=p.hc();p.Eb(2),p.nc("trashType",n.trashType)("trash",p.jc(3,2,n.trash$))}}function se(e,t){if(1&e&&(p.Wb(0,"nb-step",14),p.Rb(1,"company-part",15),p.ic(2,"async"),p.Vb()),2&e){var n=p.hc();p.Eb(1),p.nc("trashType",n.trashType)("company",p.jc(2,3,n.company$))("type","production")}}var ce,le,be=((ce=function(){function e(t,n,i,a,o){s(this,e),this.route=t,this.notpadService=n,this.skladisteService=i,this.firmaService=a,this.dkoService=o}return l(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.params.storage;this.notpadService.getTrash(this.route.snapshot.params.trash).subscribe(function(t){e.trash=t,e.trash$=Object(D.a)(t),e.trashType=e.trash.indexNumber.endsWith("*")?"Opasnog":"Neopasnog"}),this.skladisteService.getStorage(t).subscribe(function(t){e.storage=t,e.dkoService.getDKO().subscribe(function(t){e.dko=t,e.dko.rutaKretanja=[e.storage.address.location.townshipName].concat(o(e.dko.rutaKretanja)),e.dko.vrstaProizvodjaca=e.storage.__t?"SkladisteTretman"===e.storage.__t?"treatment":"storage":"production"}),e.dkoService.sendDKO(Object(D.a)(e.dko))}),this.firmaService.getCompany(t,"skladista").pipe(Object(T.a)()).subscribe(function(t){e.company=t,e.company$=Object(D.a)(t)})}}]),e}()).\u0275fac=function(e){return new(e||ce)(p.Qb(b.a),p.Qb(R.a),p.Qb(f.a),p.Qb(O.a),p.Qb(P.a))},ce.\u0275cmp=p.Kb({type:ce,selectors:[["trash-transport-report"]],decls:15,vars:10,consts:[[1,"col-1"],[3,"routerLink"],[1,"fa","fa-2x","fa-arrow-left"],["orientation","vertical",3,"linear"],["label","Podaci o otpadu",4,"ngIf"],["label","Podaci o proizvo\u0111a\u010du",4,"ngIf"],["label","Podaci o transporteru"],[3,"trashType","type"],["label","Podaci o primalacu"],["label","Potvrda"],[3,"storage","trash"],["label","Podaci o otpadu"],[1,"test"],[3,"trashType","trash"],["label","Podaci o proizvo\u0111a\u010du"],[3,"trashType","company","type"]],template:function(e,t){1&e&&(p.Wb(0,"nb-card"),p.Wb(1,"nb-card-header"),p.Wb(2,"div",0),p.Wb(3,"a",1),p.Rb(4,"i",2),p.Vb(),p.Vb(),p.Vb(),p.Wb(5,"nb-card-body"),p.Wb(6,"nb-stepper",3),p.Dc(7,re,4,4,"nb-step",4),p.Dc(8,se,3,5,"nb-step",5),p.Wb(9,"nb-step",6),p.Rb(10,"company-part",7),p.Vb(),p.Wb(11,"nb-step",8),p.Rb(12,"company-part",7),p.Vb(),p.Wb(13,"nb-step",9),p.Rb(14,"confirm-part",10),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(3),p.nc("routerLink","/admin/izvestaji/firme/"+(null==t.company?null:t.company.pib)),p.Eb(3),p.nc("linear",!1),p.Eb(1),p.nc("ngIf",t.trash$),p.Eb(1),p.nc("ngIf",t.company$),p.Eb(2),p.nc("trashType",t.trashType)("type","transport"),p.Eb(2),p.nc("trashType",t.trashType)("type","recipient"),p.Eb(2),p.nc("storage",t.storage)("trash",t.trash))},directives:[r.A,r.D,b.f,r.z,r.Bb,i.n,r.Ab,Z,ee,oe],pipes:[i.b],styles:[".test[_ngcontent-%COMP%]{width:147%}"]}),ce),de={actions:{columnTitle:"Generi\u0161i GIO/Detaljnije",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"yearlyReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"moreInfo",title:'<i class="fa fa-info-circle"></i>'}]},columns:{otpad:{valuePrepareFunction:function(e,t){return t.otpad.naziv+" ("+t.otpad.indeksniBroj+")"},title:"Otpad"},ukupnoProizvodnja:{title:"Ukupno proizvedeno"},ukupnoTransport:{title:"Ukupno transportovano"},ukupnoStanje:{title:"Ukupno stanje"}}},ue=((le=function(){function e(t,n,i){s(this,e),this.reportService=t,this.router=n,this.companyService=i,this.reports=[],this.settings=de}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.reportService.getAllMesecniIzvestajFirme(this.companyPIB).subscribe(function(t){e.reports=t.filter(function(t){return t.month===e.month})}),this.companyService.getCompany(this.companyPIB,"pib").subscribe(function(t){e.company=t})}},{key:"chooseAction",value:function(e){"moreInfo"===e.action&&this.reportInfo(e),"yearlyReport"===e.action&&this.generateYearlyReport(e.data)}},{key:"generateYearlyReport",value:function(e){var t=this,n=e.otpad;this.reportService.createGodisnjiIzvestaj(n,"PRODUCTION",this.company).subscribe(function(e){return t.downloadFile(e)})}},{key:"reportInfo",value:function(e){var t=e.data;this.router.navigate(["admin/izvestaji/mesecni-izvestaj",t._id])}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}}]),e}()).\u0275fac=function(e){return new(e||le)(p.Qb(m.a),p.Qb(b.c),p.Qb(O.a))},le.\u0275cmp=p.Kb({type:le,selectors:[["monthly-reports"]],inputs:{month:"month",companyPIB:"companyPIB"},decls:2,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(p.Wb(0,"div"),p.Wb(1,"ng2-smart-table",0),p.dc("custom",function(e){return t.chooseAction(e)}),p.Vb(),p.Vb()),2&e&&(p.Eb(1),p.nc("settings",t.settings)("source",t.reports))},directives:[c.b],styles:[""]}),le);function pe(e,t){if(1&e&&(p.Wb(0,"nb-tab",2),p.Rb(1,"monthly-reports",3),p.Vb()),2&e){var n=t.$implicit,i=t.index,a=p.hc();p.nc("active",a.currMonth===i)("tabTitle",n),p.Eb(1),p.nc("companyPIB",a.companyPIB)("month",i)}}var me,fe,ge,he=[{path:"",component:z},{path:"company/:pib",component:E},{path:"wmd",component:be},{path:"monthly-report/:id",component:S},{path:"yearly-report/:pib",component:(me=function(){function e(t){s(this,e),this.route=t,this.months=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],this.currMonth=0,this.companyPIB=""}return l(e,[{key:"ngOnInit",value:function(){this.companyPIB=this.route.snapshot.paramMap.get("pib"),this.months$=Object(D.a)(this.months),this.currMonth=(new Date).getMonth()}}]),e}(),me.\u0275fac=function(e){return new(e||me)(p.Qb(b.a))},me.\u0275cmp=p.Kb({type:me,selectors:[["yearly-reports"]],decls:9,vars:3,consts:[["tabTitle","2020"],[3,"active","tabTitle",4,"ngFor","ngForOf"],[3,"active","tabTitle"],[3,"companyPIB","month"]],template:function(e,t){1&e&&(p.Wb(0,"nb-card"),p.Wb(1,"nb-card-header"),p.Fc(2,"Ime kompanije"),p.Vb(),p.Wb(3,"nb-card-body"),p.Wb(4,"nb-tabset"),p.Wb(5,"nb-tab",0),p.Wb(6,"nb-tabset"),p.Dc(7,pe,2,4,"nb-tab",1),p.ic(8,"async"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Eb(7),p.nc("ngForOf",p.jc(8,1,t.months$)))},directives:[r.A,r.D,r.z,r.Hb,r.Gb,i.m,ue],pipes:[i.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),me)}],ve=((ge=function e(){s(this,e)}).\u0275fac=function(e){return new(e||ge)},ge.\u0275mod=p.Ob({type:ge}),ge.\u0275inj=p.Nb({imports:[[b.g.forChild(he)],b.g]}),ge),Ve=((fe=function e(){s(this,e)}).\u0275fac=function(e){return new(e||fe)},fe.\u0275mod=p.Ob({type:fe}),fe.\u0275inj=p.Nb({imports:[[i.c,ve,r.w,r.S,r.Cb,r.E,r.Ib,c.c,r.U,a.e]]}),fe)},FYoA:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",function(){return It});var i,a,o=n("ofXK"),r=n("3Pt+"),c=n("aceb"),b=n("RS3s"),d=n("fJ6F"),u=n("X+yL"),p=n("wH5/"),m=n("bS1W"),f=n("fo3O"),g=n("jPBY"),h=n("Lx1j"),v=n("ud2R"),V=n("7Oz7"),W=n("vTDv"),y=n("bJfm"),k=n("RPbl"),C=n("tyNb"),M=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/users",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/companies",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/storages",icon:{icon:"box",pack:"font-awesome"}},{title:"Dozvole",link:"/admin/permits",icon:{icon:"paste",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/reports",icon:{icon:"print",pack:"font-awesome"}}],I=n("fXoL"),F=n("mgFL"),j=((i=function(){function e(){s(this,e),this.menu=M}return l(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=I.Kb({type:i,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(I.Wb(0,"ngx-one-column-layout"),I.Rb(1,"nb-menu",0),I.Rb(2,"router-outlet"),I.Vb()),2&e&&(I.Eb(1),I.nc("items",t.menu))},directives:[F.a,c.eb,C.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),i),E={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},name:{title:"Naziv"},email:{title:"Email"},emailReception:{title:"Email za prijem"},telephone:{title:"Telefon"},operations:{title:"Rad firme"}}},w=((a=function(){function e(t,n,i,a){s(this,e),this.companyService=t,this.toastrService=n,this.router=i,this.adminService=a,this.companies=new b.a,this.companySettings=E}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompanies().subscribe(function(t){e.companies.load(t)})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.createCompany(t).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.updateCompany(t,t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteCompany",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.companyService.deleteCompany(t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"companyInfo",value:function(e){var t=e.data;this.router.navigate(["admin/companies",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||a)(I.Qb(p.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(d.a))},a.\u0275cmp=I.Kb({type:a,selectors:[["admin-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(I.Wb(0,"nb-card"),I.Wb(1,"nb-card-header"),I.Fc(2,"Firme"),I.Vb(),I.Wb(3,"nb-card-body"),I.Wb(4,"ng2-smart-table",0),I.dc("createConfirm",function(e){return t.createCompany(e)})("editConfirm",function(e){return t.updateCompany(e)})("deleteConfirm",function(e){return t.deleteCompany(e)})("custom",function(e){return t.companyInfo(e)}),I.Vb(),I.Vb(),I.Vb()),2&e&&(I.Eb(4),I.nc("settings",t.companySettings)("source",t.companies))},directives:[c.A,c.D,c.z,b.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),a),S=n("McNs");function x(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Email je obavezan! "),I.Vb())}function z(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Email mora biti validan! "),I.Vb())}function D(e,t){if(1&e&&(I.Ub(0),I.Dc(1,x,2,0,"p",60),I.Dc(2,z,2,0,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(41);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function T(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Email je obavezan! "),I.Vb())}function P(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Email mora biti validan! "),I.Vb())}function O(e,t){if(1&e&&(I.Ub(0),I.Dc(1,T,2,0,"p",60),I.Dc(2,P,2,0,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(49);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function R(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Telefon je obavezan! "),I.Vb())}function L(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function U(e,t){if(1&e&&(I.Ub(0),I.Dc(1,R,2,0,"p",60),I.Dc(2,L,2,2,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(57);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function N(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(3);I.Eb(1),I.Ic(" Faks mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function B(e,t){if(1&e&&(I.Ub(0),I.Dc(1,N,2,2,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(6);I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function q(e,t){if(1&e){var n=I.Xb();I.Wb(0,"div",10),I.Wb(1,"div",0),I.Wb(2,"label",62),I.Fc(3,"Faks:"),I.Vb(),I.Vb(),I.Wb(4,"div",9),I.Wb(5,"input",63,64),I.dc("ngModelChange",function(e){return I.xc(n),I.hc().company.fax=e}),I.Vb(),I.Dc(7,B,2,1,"ng-container",23),I.Vb(),I.Vb()}if(2&e){var i=I.vc(6),a=I.hc();I.Eb(5),I.nc("ngModel",a.company.fax)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched)}}function K(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Zakosni zastupnik firme je obavezan! "),I.Vb())}function Q(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.legalRep.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.legalRep.maxLength")," ")}}function _(e,t){if(1&e&&(I.Ub(0),I.Dc(1,K,2,0,"p",60),I.Dc(2,Q,2,2,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(66);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function A(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Zakosni zastupnik firme je obavezan! "),I.Vb())}function G(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.legalRep.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.legalRep.maxLength")," ")}}function X(e,t){if(1&e&&(I.Ub(0),I.Dc(1,A,2,0,"p",60),I.Dc(2,G,2,2,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(73);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function $(e,t){1&e&&I.Rb(0,"input",65),2&e&&I.nc("placeholder",t.$implicit)}function Z(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," Ime zakonskog zastupnika je obavezno! "),I.Vb())}function H(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",n.getConfigValue("forms.validation.username.minLength")," slova! ")}}function J(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Z,2,0,"p",60),I.Dc(2,H,2,1,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(102);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function Y(e,t){1&e&&(I.Wb(0,"p",61),I.Fc(1," \u0160ifra je obavezna! "),I.Vb())}function ee(e,t){if(1&e&&(I.Wb(0,"p",61),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Hc(" \u0160ifra mora biti du\u017ee od ",n.getConfigValue("forms.validation.password.minLength")," slova! ")}}function te(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Y,2,0,"p",60),I.Dc(2,ee,2,1,"p",60),I.Tb()),2&e){I.hc();var n=I.vc(109);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var ne,ie=((ne=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;s(this,e),this.route=t,this.companyService=n,this.options=i,this.adminService=a,this.toastrService=o,this.router=r,this.showPassword="eye",this.company={address:{location:{placeName:"",placeCode:0,townshipName:"",zipCode:"",townshipCode:0},street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return l(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("pib");this.adminService.getCompany(t,"pib").subscribe(function(t){e.company=t})}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateCompany",value:function(e){e.valid?(this.companyService.updateCompany(this.company,this.company._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoUser",value:function(){this.router.navigate(["admin/users",this.company.manager])}}]),e}()).\u0275fac=function(e){return new(e||ne)(I.Qb(C.a),I.Qb(p.a),I.Qb(S.a),I.Qb(d.a),I.Qb(c.Mb),I.Qb(C.c))},ne.\u0275cmp=I.Kb({type:ne,selectors:[["admin-company"]],decls:120,vars:57,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-legalRepFName",1,"label"],["fullWidth","","id","input-legalRepFName","name","legalRepFName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["legalRepFName","ngModel"],["for","input-legalRepLName",1,"label"],["fullWidth","","id","input-legalRepLName","name","legalRepLName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["legalRepLName","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label","col-12"],[1,"col-5","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,t){if(1&e){var n=I.Xb();I.Wb(0,"nb-card",0),I.Wb(1,"form",1,2),I.dc("ngSubmit",function(){I.xc(n);var e=I.vc(2);return t.updateCompany(e)}),I.Wb(3,"nb-card-header"),I.Wb(4,"div",3),I.Wb(5,"div",4),I.Wb(6,"a",5),I.Rb(7,"i",6),I.Vb(),I.Vb(),I.Wb(8,"div",7),I.Wb(9,"h5",8),I.Fc(10),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(11,"nb-card-body"),I.Wb(12,"div",3),I.Wb(13,"div",9),I.Wb(14,"div",10),I.Wb(15,"div",0),I.Wb(16,"label",11),I.Fc(17,"Naziv Firme:"),I.Vb(),I.Vb(),I.Wb(18,"div",9),I.Wb(19,"input",12,13),I.dc("ngModelChange",function(e){return t.company.name=e}),I.Vb(),I.Vb(),I.Vb(),I.Wb(21,"div",10),I.Wb(22,"div",0),I.Wb(23,"label",14),I.Fc(24,"PIB:"),I.Vb(),I.Vb(),I.Wb(25,"div",9),I.Wb(26,"input",15,16),I.dc("ngModelChange",function(e){return t.company.pib=e}),I.Vb(),I.Vb(),I.Vb(),I.Wb(28,"div",10),I.Wb(29,"div",0),I.Wb(30,"label",17),I.Fc(31,"Mati\u010dni broj:"),I.Vb(),I.Vb(),I.Wb(32,"div",9),I.Wb(33,"input",18,19),I.dc("ngModelChange",function(e){return t.company.mat=e}),I.Vb(),I.Vb(),I.Vb(),I.Wb(35,"div",10),I.Wb(36,"div",0),I.Wb(37,"label",20),I.Fc(38,"Email:"),I.Vb(),I.Vb(),I.Wb(39,"div",9),I.Wb(40,"input",21,22),I.dc("ngModelChange",function(e){return t.company.email=e}),I.Vb(),I.Dc(42,D,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Wb(43,"div",10),I.Wb(44,"div",0),I.Wb(45,"label",24),I.Fc(46,"Email za prijem dokumenata:"),I.Vb(),I.Vb(),I.Wb(47,"div",9),I.Wb(48,"input",25,26),I.dc("ngModelChange",function(e){return t.company.emailReception=e}),I.Vb(),I.Dc(50,O,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Wb(51,"div",10),I.Wb(52,"div",0),I.Wb(53,"label",27),I.Fc(54,"Telefon:"),I.Vb(),I.Vb(),I.Wb(55,"div",9),I.Wb(56,"input",28,29),I.dc("ngModelChange",function(e){return t.company.telephone=e}),I.Vb(),I.Dc(58,U,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Dc(59,q,8,6,"div",30),I.Wb(60,"div",10),I.Wb(61,"div",0),I.Wb(62,"label",31),I.Fc(63,"Ime zakonskog zastupnika firme:"),I.Vb(),I.Vb(),I.Wb(64,"div",9),I.Wb(65,"input",32,33),I.dc("ngModelChange",function(e){return t.company.legalRep.firstName=e}),I.Vb(),I.Dc(67,_,3,2,"ng-container",23),I.Vb(),I.Wb(68,"div",0),I.Wb(69,"label",34),I.Fc(70,"Prezime zakonskog zastupnika firme:"),I.Vb(),I.Vb(),I.Wb(71,"div",9),I.Wb(72,"input",35,36),I.dc("ngModelChange",function(e){return t.company.legalRep.lastName=e}),I.Vb(),I.Dc(74,X,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Vb(),I.Wb(75,"div",9),I.Wb(76,"div",10),I.Wb(77,"div",0),I.Wb(78,"label",37),I.Fc(79,"Adresa Firme:"),I.Vb(),I.Vb(),I.Wb(80,"div",9),I.Rb(81,"input",38),I.Vb(),I.Vb(),I.Wb(82,"div",3),I.Wb(83,"div",0),I.Wb(84,"label",39),I.Fc(85,"Rad firme:"),I.Vb(),I.Vb(),I.Wb(86,"div",9),I.Dc(87,$,1,1,"input",40),I.Vb(),I.Vb(),I.Wb(88,"div",10),I.Wb(89,"div",0),I.Wb(90,"label",41),I.Fc(91,"Menad\u017eer Firme:"),I.Vb(),I.Vb(),I.Wb(92,"div",42),I.Rb(93,"input",43),I.Vb(),I.Wb(94,"div",44),I.Wb(95,"button",45),I.dc("click",function(){return t.gotoUser()}),I.Rb(96,"i",46),I.Vb(),I.Vb(),I.Vb(),I.Wb(97,"div",10),I.Wb(98,"div",9),I.Wb(99,"label",47),I.Fc(100,"NRIZ korisni\u010dko ime:"),I.Vb(),I.Wb(101,"input",48,49),I.dc("ngModelChange",function(e){return t.company.nriz.username=e}),I.Vb(),I.Dc(103,J,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Wb(104,"div",3),I.Wb(105,"label",50),I.Fc(106,"NRIZ \u0160ifra:"),I.Vb(),I.Wb(107,"div",51),I.Wb(108,"input",52,53),I.dc("ngModelChange",function(e){return t.company.nriz.password=e}),I.Vb(),I.Vb(),I.Wb(110,"div",54),I.Wb(111,"button",55),I.dc("click",function(){return t.showPassword="eye"===t.showPassword?"eye-off":"eye"}),I.Rb(112,"nb-icon",56),I.Vb(),I.Vb(),I.Dc(113,te,3,2,"ng-container",23),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(114,"nb-card-footer"),I.Wb(115,"div",3),I.Rb(116,"div",57),I.Wb(117,"div",58),I.Wb(118,"button",59),I.Fc(119,"SA\u010cUVAJ"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb()}if(2&e){var i=I.vc(41),a=I.vc(49),o=I.vc(57),r=I.vc(66),s=I.vc(73),c=I.vc(102),l=I.vc(109);I.Eb(10),I.Hc(" ",t.company.name,""),I.Eb(9),I.nc("ngModel",t.company.name),I.Eb(7),I.nc("ngModel",t.company.pib),I.Eb(7),I.nc("ngModel",t.company.mat),I.Eb(7),I.nc("ngModel",t.company.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched),I.Eb(6),I.nc("ngModel",t.company.emailReception)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),I.Eb(2),I.nc("ngIf",a.invalid&&a.touched),I.Eb(6),I.nc("ngModel",t.company.telephone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),I.Eb(2),I.nc("ngIf",o.invalid&&o.touched),I.Eb(1),I.nc("ngIf",""===t.company.fax),I.Eb(6),I.nc("ngModel",t.company.legalRep.firstName)("maxlength",t.getConfigValue("forms.validation.legalRep.maxLength"))("minlength",t.getConfigValue("forms.validation.legalRep.minLength"))("required",t.getConfigValue("forms.validation.legalRep.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),I.Eb(2),I.nc("ngIf",r.invalid&&r.touched),I.Eb(5),I.nc("ngModel",t.company.legalRep.lastName)("maxlength",t.getConfigValue("forms.validation.legalRep.maxLength"))("minlength",t.getConfigValue("forms.validation.legalRep.minLength"))("required",t.getConfigValue("forms.validation.legalRep.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),I.Eb(2),I.nc("ngIf",s.invalid&&s.touched),I.Eb(7),I.nc("placeholder",t.company.address.location.townshipName+", "+t.company.address.location.placeName+", "+t.company.address.street),I.Eb(6),I.nc("ngForOf",t.company.operations),I.Eb(6),I.nc("placeholder",t.company.manager),I.Eb(8),I.nc("ngModel",t.company.nriz.username)("maxlength",t.getConfigValue("forms.validation.username.maxLength"))("minlength",t.getConfigValue("forms.validation.username.minLength"))("required",t.getConfigValue("forms.validation.username.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),I.Eb(2),I.nc("ngIf",c.invalid&&c.touched),I.Eb(5),I.nc("ngModel",t.company.nriz.password)("maxlength",t.getConfigValue("forms.validation.password.maxLength"))("minlength",t.getConfigValue("forms.validation.password.minLength"))("required",t.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),I.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),I.Eb(4),I.nc("icon",t.showPassword),I.Eb(1),I.nc("ngIf",l.invalid&&l.touched)}},directives:[c.A,r.v,r.l,r.m,c.D,C.f,c.z,c.T,r.b,r.k,r.n,r.q,r.s,o.n,r.f,r.g,o.m,c.t,c.Q,c.B],styles:[""]}),ne),ae=n("kBrA"),oe=["viewTrash"];function re(e,t){1&e&&(I.Wb(0,"p",49),I.Fc(1," Naziv dozvole je obavezan! "),I.Vb())}function se(e,t){if(1&e&&(I.Ub(0),I.Dc(1,re,2,0,"p",48),I.Tb()),2&e){I.hc();var n=I.vc(22);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required)}}function ce(e,t){if(1&e){var n=I.Xb();I.Wb(0,"div",10),I.Wb(1,"div",11),I.Wb(2,"label",50),I.Fc(3,"Skladi\u0161te:"),I.Vb(),I.Vb(),I.Wb(4,"div",37),I.Wb(5,"input",51),I.dc("ngModelChange",function(e){return I.xc(n),I.hc().permit.storage.name=e}),I.Vb(),I.Vb(),I.Wb(6,"div",39),I.Wb(7,"button",40),I.dc("click",function(){return I.xc(n),I.hc().gotoStorage()}),I.Rb(8,"i",41),I.Vb(),I.Vb(),I.Vb()}if(2&e){var i=I.hc();I.Eb(5),I.nc("ngModel",i.permit.storage.name)}}function le(e,t){if(1&e){var n=I.Xb();I.Wb(0,"view-permits-trash-popup",52),I.dc("callUpdatePermitsTrash",function(e){return I.xc(n),I.hc().updatePermitsTrashMethod(e)}),I.Vb()}if(2&e){var i=I.hc();I.nc("selectedPermit",i.permit)}}var be,de=((be=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;s(this,e),this.route=t,this.permitService=n,this.options=i,this.toastrService=a,this.router=o,this.adminService=r,this.windowService=c,this.permit={code:"",dateCreation:void 0,dateExpiration:void 0,name:"",trashList:[],type:""},this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return l(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getPermit(t).subscribe(function(t){e.permit=t,e.permit.dateCreation=new Date(t.dateCreation),e.permit.dateExpiration=new Date(t.dateExpiration),e.adminService.getCompany(e.permit._id,"permits").subscribe(function(t){e.company=t})})}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updatePermit",value:function(e){e.valid?(this.permitService.updatePermit(this.permit,this.permit._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"openPermitsTrashWindow",value:function(){this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}},{key:"updatePermitsTrashMethod",value:function(e){this.permit.trashList=e,this.permitService.updatePermit(this.permit,this.permit._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"gotoStorage",value:function(){this.router.navigate(["admin/storages",this.permit.storage._id])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||be)(I.Qb(C.a),I.Qb(m.a),I.Qb(S.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(d.a),I.Qb(c.Ub))},be.\u0275cmp=I.Kb({type:be,selectors:[["admin-permit"]],viewQuery:function(e,t){var n;1&e&&I.Lc(oe,1,I.P),2&e&&I.uc(n=I.ec())&&(t.viewTrash=n.first)},decls:90,vars:30,consts:[[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[3,"ngSubmit"],["formPermit","ngForm"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-permitName",1,"label"],["fullWidth","","id","input-permitName","name","permitName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","type","text",3,"ngModel","ngModelChange"],["for","input-address",1,"label"],["disabled","","fullWidth","","id","input-address","name","address","nbInput","","type","text",3,"placeholder"],["for","input-dateCreation",1,"label"],["for","input-dateExpiration",1,"label"],[1,"col-5","mr-0","pr-0"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateCreation","ngModel"],[3,"date","dateChange"],["dateCreationPicker",""],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],["for","input-permitType",1,"label"],["fullWidth","","name","permitType","id","input-permitType",3,"selected","ngModel","ngModelChange"],[3,"value"],["class","row mb-2",4,"ngIf"],["for","input-permitCompany",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-permitCompany","name","permitCompany","nbInput","","type","text",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],[1,"row","d-flex","justify-content-end"],[1,"col-3"],["fullWidth","","nbButton","","status","primary","type","submit"],["viewTrash",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-permitStorage",1,"label"],["disabled","","fullWidth","","id","input-permitStorage","name","permitStorage","nbInput","","type","text",3,"ngModel","ngModelChange"],[3,"selectedPermit","callUpdatePermitsTrash"]],template:function(e,t){if(1&e){var n=I.Xb();I.Wb(0,"nb-card"),I.Wb(1,"nb-card-header"),I.Wb(2,"div",0),I.Wb(3,"div",1),I.Wb(4,"a",2),I.Rb(5,"i",3),I.Vb(),I.Vb(),I.Wb(6,"div",4),I.Wb(7,"h5",5),I.Fc(8),I.Vb(),I.Wb(9,"p",6),I.Fc(10),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(11,"nb-card-body"),I.Wb(12,"form",7,8),I.dc("ngSubmit",function(){I.xc(n);var e=I.vc(13);return t.updatePermit(e)}),I.Wb(14,"div",0),I.Wb(15,"div",9),I.Wb(16,"div",10),I.Wb(17,"div",11),I.Wb(18,"label",12),I.Fc(19,"Naziv dozvole:"),I.Vb(),I.Vb(),I.Wb(20,"div",9),I.Wb(21,"input",13,14),I.dc("ngModelChange",function(e){return t.permit.name=e}),I.Vb(),I.Dc(23,se,2,1,"ng-container",15),I.Vb(),I.Vb(),I.Wb(24,"div",10),I.Wb(25,"div",11),I.Wb(26,"label",16),I.Fc(27,"\u0160ifra dozvole:"),I.Vb(),I.Vb(),I.Wb(28,"div",9),I.Wb(29,"input",17),I.dc("ngModelChange",function(e){return t.permit.code=e}),I.Vb(),I.Vb(),I.Vb(),I.Wb(30,"div",10),I.Wb(31,"div",11),I.Wb(32,"label",18),I.Fc(33,"Adresa Dozvole:"),I.Vb(),I.Vb(),I.Wb(34,"div",9),I.Rb(35,"input",19),I.Vb(),I.Vb(),I.Wb(36,"div",10),I.Wb(37,"div",9),I.Wb(38,"label",20),I.Fc(39,"Datum trajanja dozvole:"),I.Vb(),I.Vb(),I.Wb(40,"div",9),I.Wb(41,"label",21),I.Fc(42,"Datum isteka dozvole:"),I.Vb(),I.Vb(),I.Wb(43,"div",22),I.Wb(44,"input",23,24),I.dc("ngModelChange",function(e){return t.permit.dateCreation=e}),I.Vb(),I.Wb(46,"nb-datepicker",25,26),I.dc("dateChange",function(e){return t.permit.dateCreation=e}),I.Vb(),I.Vb(),I.Wb(48,"button",27),I.Fc(49,"-"),I.Vb(),I.Wb(50,"div",28),I.Wb(51,"input",29,30),I.dc("ngModelChange",function(e){return t.permit.dateExpiration=e}),I.Vb(),I.Wb(53,"nb-datepicker",25,31),I.dc("dateChange",function(e){return t.permit.dateExpiration=e}),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(55,"div",9),I.Wb(56,"div",10),I.Wb(57,"div",11),I.Wb(58,"label",32),I.Fc(59,"Vrsta dozvole:"),I.Vb(),I.Vb(),I.Wb(60,"div",9),I.Wb(61,"nb-select",33),I.dc("ngModelChange",function(e){return t.permit.type=e}),I.Wb(62,"nb-option",34),I.Fc(63,"Tretman"),I.Vb(),I.Wb(64,"nb-option",34),I.Fc(65,"Skladi\u0161tenje"),I.Vb(),I.Wb(66,"nb-option",34),I.Fc(67,"Odlaganje"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Dc(68,ce,9,1,"div",35),I.Wb(69,"div",10),I.Wb(70,"div",11),I.Wb(71,"label",36),I.Fc(72,"Firma:"),I.Vb(),I.Vb(),I.Wb(73,"div",37),I.Wb(74,"input",38),I.dc("ngModelChange",function(e){return t.company.name=e}),I.Vb(),I.Vb(),I.Wb(75,"div",39),I.Wb(76,"button",40),I.dc("click",function(){return t.gotoCompany()}),I.Rb(77,"i",41),I.Vb(),I.Vb(),I.Vb(),I.Wb(78,"div",10),I.Wb(79,"div",11),I.Rb(80,"label",42),I.Vb(),I.Wb(81,"div",9),I.Wb(82,"button",43),I.dc("click",function(){return t.openPermitsTrashWindow()}),I.Fc(83,"Pogledaj listu otpada "),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(84,"div",44),I.Wb(85,"div",45),I.Wb(86,"button",46),I.Fc(87,"SA\u010cUVAJ"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Dc(88,le,1,1,"ng-template",null,47,I.Ec)}if(2&e){var i=I.vc(22),a=I.vc(45),o=I.vc(47),r=I.vc(52),s=I.vc(54);I.Eb(8),I.Gc(t.permit.name),I.Eb(2),I.Gc(t.permit.__t),I.Eb(11),I.nc("ngModel",t.permit.name)("maxlength",t.getConfigValue("forms.validation.permitName.maxLength"))("minlength",t.getConfigValue("forms.validation.permitName.minLength"))("required",t.getConfigValue("forms.validation.permitName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched),I.Eb(6),I.nc("ngModel",t.permit.code),I.Eb(6),I.nc("placeholder",(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.townshipName)+", "+(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.placeName)+", "+(null==t.permit||null==t.permit.address?null:t.permit.address.street)),I.Eb(9),I.nc("ngModel",t.permit.dateCreation)("nbDatepicker",o)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),I.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),I.Eb(2),I.nc("date",t.permit.dateCreation),I.Eb(5),I.nc("ngModel",t.permit.dateExpiration)("nbDatepicker",s)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),I.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),I.Eb(2),I.nc("date",t.permit.dateExpiration),I.Eb(8),I.nc("selected",t.permit.type)("ngModel",t.permit.type),I.Eb(1),I.nc("value","treatment"),I.Eb(2),I.nc("value","cache"),I.Eb(2),I.nc("value","dump"),I.Eb(2),I.nc("ngIf",void 0!==t.permit.storage),I.Eb(6),I.nc("ngModel",t.company.name)}},directives:[c.A,c.D,C.f,c.z,r.v,r.l,r.m,c.T,r.b,r.k,r.n,r.f,r.g,r.s,o.n,c.M,c.L,c.t,c.tb,c.ib,ae.a],styles:[""]}),be),ue=n("SxV6"),pe={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},code:{title:"\u0160ifra"},dateCreation:{valuePrepareFunction:function(e,t){return t.dateCreation.substring(0,10)},title:"Datum nastanka"},dateExpiration:{sortDirection:"asc",valuePrepareFunction:function(e,t){return t.dateExpiration.substring(0,10)},title:"Datum Isteka"}}};function me(e,t){if(1&e&&(I.Wb(0,"nb-option",3),I.Fc(1),I.Vb()),2&e){var n=t.$implicit;I.nc("value",n),I.Eb(1),I.Gc(n.name)}}var fe,ge=((fe=function(){function e(t,n,i,a){s(this,e),this.permitService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedPermits=new b.a,this.permitSettings=pe,this.companyNames=[]}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getPermits().pipe(Object(ue.a)()).subscribe(function(t){e.permits=t,e.selectedPermits.load(t)}),this.adminService.getCompanyNames("permits").subscribe(function(t){e.companyNames=t})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectPermits",value:function(e){if("-"===e)this.selectedPermits.load(this.permits);else{var t=this.permits;t=t.filter(function(t){return e.permits.includes(t._id)}),this.selectedPermits.load(t)}}},{key:"updatePermit",value:function(e){var t=e.newData,n=e.confirm;try{this.permitService.updatePermit(t,t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deletePermit",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.permitService.deletePermit(t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"permitInfo",value:function(e){var t=e.data;this.router.navigate(["admin/permits",t._id])}}]),e}()).\u0275fac=function(e){return new(e||fe)(I.Qb(m.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(d.a))},fe.\u0275cmp=I.Kb({type:fe,selectors:[["admin-permits"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(I.Wb(0,"nb-card"),I.Wb(1,"nb-card-header"),I.Fc(2,"Dozvole"),I.Vb(),I.Wb(3,"nb-card-body"),I.Wb(4,"div",0),I.Wb(5,"label",1),I.Fc(6,"Odaberite firmu: "),I.Vb(),I.Wb(7,"nb-select",2),I.dc("selectedChange",function(e){return t.selectPermits(e)}),I.Wb(8,"nb-option",3),I.Fc(9,"-"),I.Vb(),I.Dc(10,me,2,2,"nb-option",4),I.Vb(),I.Vb(),I.Wb(11,"div",5),I.Wb(12,"ng2-smart-table",6),I.dc("editConfirm",function(e){return t.updatePermit(e)})("deleteConfirm",function(e){return t.deletePermit(e)})("custom",function(e){return t.permitInfo(e)}),I.Vb(),I.Vb(),I.Vb(),I.Vb()),2&e&&(I.Eb(8),I.nc("value","-"),I.Eb(2),I.nc("ngForOf",t.companyNames),I.Eb(2),I.nc("settings",t.permitSettings)("source",t.selectedPermits))},directives:[c.A,c.D,c.z,c.tb,c.ib,o.m,b.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),fe);function he(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Ime je obavezno! "),I.Vb())}function ve(e,t){if(1&e&&(I.Wb(0,"p",27),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function Ve(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Ime mora biti validno! "),I.Vb())}function We(e,t){if(1&e&&(I.Ub(0),I.Dc(1,he,2,0,"p",26),I.Dc(2,ve,2,2,"p",26),I.Dc(3,Ve,2,0,"p",26),I.Tb()),2&e){I.hc();var n=I.vc(8);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function ye(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Prezime je obavezno! "),I.Vb())}function ke(e,t){if(1&e&&(I.Wb(0,"p",27),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function Ce(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Prezime mora biti validno! "),I.Vb())}function Me(e,t){if(1&e&&(I.Ub(0),I.Dc(1,ye,2,0,"p",26),I.Dc(2,ke,2,2,"p",26),I.Dc(3,Ce,2,0,"p",26),I.Tb()),2&e){I.hc();var n=I.vc(16),i=I.vc(8);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function Ie(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Email je obavezan! "),I.Vb())}function Fe(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Email mora biti validan! "),I.Vb())}function je(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Ie,2,0,"p",26),I.Dc(2,Fe,2,0,"p",26),I.Tb()),2&e){I.hc();var n=I.vc(24);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function Ee(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Korisni\u010dko ime je obavezno! "),I.Vb())}function we(e,t){if(1&e&&(I.Wb(0,"p",27),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function Se(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Ee,2,0,"p",26),I.Dc(2,we,2,2,"p",26),I.Tb()),2&e){I.hc();var n=I.vc(32);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function xe(e,t){1&e&&(I.Wb(0,"p",27),I.Fc(1," Telefon je obavezan! "),I.Vb())}function ze(e,t){if(1&e&&(I.Wb(0,"p",27),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function De(e,t){if(1&e&&(I.Ub(0),I.Dc(1,xe,2,0,"p",26),I.Dc(2,ze,2,2,"p",26),I.Tb()),2&e){I.hc();var n=I.vc(40);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var Te,Pe,Oe=((Pe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;s(this,e),this.korisnikService=t,this.options=n,this.toastrService=i,this.roleService=a,this.authService=o,this.korisnik={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:""},this.inputsDisabled=!0}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getUserProfile(this.roleService.getUsername()).pipe(Object(ue.a)()).subscribe(function(t){e.korisnik=t})}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(e){if(e.valid){this.korisnikService.updateUser(this.korisnik,this.korisnik._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var t=null;this.authService.getToken().subscribe(function(e){t=e}),this.authService.refreshToken("email",t).subscribe(function(e){})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Pe)(I.Qb(f.a),I.Qb(S.a),I.Qb(c.Mb),I.Qb(v.a),I.Qb(S.g))},Pe.\u0275cmp=I.Kb({type:Pe,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=I.Xb();I.Wb(0,"form",0,1),I.dc("ngSubmit",function(){I.xc(n);var e=I.vc(1);return t.updateKorisnik(e)}),I.Wb(2,"div",2),I.Wb(3,"div",3),I.Wb(4,"label",4),I.Fc(5,"Ime:"),I.Vb(),I.Vb(),I.Wb(6,"div",5),I.Wb(7,"input",6,7),I.dc("ngModelChange",function(e){return t.korisnik.firstName=e}),I.Vb(),I.Dc(9,We,4,3,"ng-container",8),I.Vb(),I.Vb(),I.Wb(10,"div",2),I.Wb(11,"div",3),I.Wb(12,"label",9),I.Fc(13,"Prezime:"),I.Vb(),I.Vb(),I.Wb(14,"div",5),I.Wb(15,"input",10,11),I.dc("ngModelChange",function(e){return t.korisnik.lastName=e}),I.Vb(),I.Dc(17,Me,4,3,"ng-container",8),I.Vb(),I.Vb(),I.Wb(18,"div",2),I.Wb(19,"div",3),I.Wb(20,"label",12),I.Fc(21,"Email:"),I.Vb(),I.Vb(),I.Wb(22,"div",5),I.Wb(23,"input",13,14),I.dc("ngModelChange",function(e){return t.korisnik.email=e}),I.Vb(),I.Dc(25,je,3,2,"ng-container",8),I.Vb(),I.Vb(),I.Wb(26,"div",2),I.Wb(27,"div",3),I.Wb(28,"label",15),I.Fc(29,"Korisni\u010dko ime:"),I.Vb(),I.Vb(),I.Wb(30,"div",5),I.Wb(31,"input",16,17),I.dc("ngModelChange",function(e){return t.korisnik.username=e}),I.Vb(),I.Dc(33,Se,3,2,"ng-container",8),I.Vb(),I.Vb(),I.Wb(34,"div",2),I.Wb(35,"div",3),I.Wb(36,"label",18),I.Fc(37,"Telefon:"),I.Vb(),I.Vb(),I.Wb(38,"div",5),I.Wb(39,"input",19,20),I.dc("ngModelChange",function(e){return t.korisnik.phone=e}),I.Vb(),I.Dc(41,De,3,2,"ng-container",8),I.Vb(),I.Vb(),I.Wb(42,"div",21),I.Rb(43,"div",22),I.Wb(44,"div",23),I.Wb(45,"button",24),I.dc("click",function(){return t.enableInputs()}),I.Fc(46,"IZMENI"),I.Vb(),I.Vb(),I.Wb(47,"div",23),I.Wb(48,"button",25),I.Fc(49,"SA\u010cUVAJ"),I.Vb(),I.Vb(),I.Vb(),I.Vb()}if(2&e){var i=I.vc(8),a=I.vc(16),o=I.vc(24),r=I.vc(32),s=I.vc(40);I.Eb(7),I.nc("ngModel",t.korisnik.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched),I.Eb(6),I.nc("ngModel",t.korisnik.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),I.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),I.Eb(2),I.nc("ngIf",a.invalid&&a.touched),I.Eb(6),I.nc("ngModel",t.korisnik.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),I.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),I.Eb(2),I.nc("ngIf",o.invalid&&o.touched),I.Eb(6),I.nc("ngModel",t.korisnik.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),I.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),I.Eb(2),I.nc("ngIf",r.invalid&&r.touched),I.Eb(6),I.nc("ngModel",t.korisnik.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),I.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),I.Eb(2),I.nc("ngIf",s.invalid&&s.touched),I.Eb(4),I.nc("disabled",!t.inputsDisabled),I.Eb(3),I.nc("disabled",t.inputsDisabled)}},directives:[r.v,r.l,r.m,c.T,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.n,c.t],styles:[""]}),Pe),Re=((Te=function(){function e(){s(this,e)}return l(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Te)},Te.\u0275cmp=I.Kb({type:Te,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,t){1&e&&(I.Wb(0,"nb-card"),I.Wb(1,"nb-card-body"),I.Rb(2,"ngx-profile-korisnik"),I.Vb(),I.Vb())},directives:[c.A,c.z,Oe],styles:[""]}),Te),Le={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indexNumber:{title:"Indeksni Broj",editable:!1},name:{title:"Naziv"},desc:{title:"Opis"},amount:{title:"Koli\u010dina (KG)"}}},Ue=n("navU");function Ne(e,t){1&e&&(I.Wb(0,"p",35),I.Fc(1," Naziv skladi\u0161ta je obavezan! "),I.Vb())}function Be(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Ne,2,0,"p",34),I.Tb()),2&e){I.hc();var n=I.vc(22);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required)}}function qe(e,t){1&e&&(I.Wb(0,"p",35),I.Fc(1," Veli\u010dina skladi\u0161ta je obavezna! "),I.Vb())}function Ke(e,t){if(1&e&&(I.Ub(0),I.Dc(1,qe,2,0,"p",34),I.Tb()),2&e){I.hc();var n=I.vc(36);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required)}}function Qe(e,t){if(1&e&&(I.Wb(0,"div",11),I.Wb(1,"div",0),I.Wb(2,"label",36),I.Fc(3,"Geolokacija Skladi\u0161ta:"),I.Vb(),I.Vb(),I.Wb(4,"div",10),I.Rb(5,"input",37),I.Vb(),I.Vb()),2&e){var n=I.hc();I.Eb(5),I.nc("placeholder",n.storage.geolocationNorth+"N"+n.storage.geolocationEast+"E")}}function _e(e,t){if(1&e&&(I.Wb(0,"div",11),I.Wb(1,"div",0),I.Wb(2,"label",38),I.Fc(3,"Vrsta Deponije:"),I.Vb(),I.Vb(),I.Wb(4,"div",10),I.Rb(5,"input",39),I.Vb(),I.Vb()),2&e){var n=I.hc();I.Eb(5),I.nc("placeholder",n.storage.dumpType)}}var Ae,Ge=function(){return{standalone:!0}},Xe=((Ae=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;s(this,e),this.route=t,this.storageService=n,this.options=i,this.toastrService=a,this.router=o,this.trashService=r,this.adminService=c,this.storage={address:{location:void 0,street:""},amount:0,maxAmount:0,name:"",dumpType:""},this.settings=Le}return l(e,[{key:"ngOnInit",value:function(){this.updateStorageView()}},{key:"updateStorageView",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getStorage(t).subscribe(function(t){e.storage=t,e.adminService.getCompany(e.storage._id,"storages").subscribe(function(t){e.company=t})})}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateStorage",value:function(e){e.valid?(this.storageService.updateStorage(this.storage,this.storage._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"updateTrash",value:function(e,t){var n=this,i=e.newData,a=e.confirm;try{this.trashService.updateTrash(i,t._id,i._id).subscribe(function(e){n.updateStorageView()}),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.name,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(e,t){var n=this,i=e.data,a=e.confirm;try{this.trashService.deleteTrash(t._id,i._id).subscribe(function(e){n.updateStorageView()}),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Ae)(I.Qb(C.a),I.Qb(V.a),I.Qb(S.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(h.a),I.Qb(d.a))},Ae.\u0275cmp=I.Kb({type:Ae,selectors:[["admin-storage"]],decls:66,vars:27,consts:[[1,"col-12"],[3,"ngSubmit"],["formStorage","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-storageName",1,"label"],["fullWidth","","id","input-storageName","name","storageName","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["storageName","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-storageSize",1,"label"],[1,"col-5","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-1","pl-0"],["nbButton","","fullWidth","","disabled",""],["class","row mb-2",4,"ngIf"],["for","input-companyName",1,"label"],["disabled","","fullWidth","","id","input-companyName","name","companyName","nbInput","","type","text",3,"placeholder"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[3,"storage"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[1,"mt-2",3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolocation",1,"label"],["disabled","","fullWidth","","id","input-geolocation","name","geolocation","nbInput","","type","text",3,"placeholder"],["for","input-dumpType",1,"label"],["disabled","","fullWidth","","id","input-dumpType","name","dumpType","nbInput","","type","text",3,"placeholder"]],template:function(e,t){if(1&e){var n=I.Xb();I.Wb(0,"nb-card",0),I.Wb(1,"form",1,2),I.dc("ngSubmit",function(){I.xc(n);var e=I.vc(2);return t.updateStorage(e)}),I.Wb(3,"nb-card-header"),I.Wb(4,"div",3),I.Wb(5,"div",4),I.Wb(6,"a",5),I.Rb(7,"i",6),I.Vb(),I.Vb(),I.Wb(8,"div",7),I.Wb(9,"h5",8),I.Fc(10),I.Vb(),I.Wb(11,"p",9),I.Fc(12),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(13,"nb-card-body"),I.Wb(14,"div",3),I.Wb(15,"div",10),I.Wb(16,"div",11),I.Wb(17,"div",0),I.Wb(18,"label",12),I.Fc(19,"Naziv skladi\u0161ta:"),I.Vb(),I.Vb(),I.Wb(20,"div",10),I.Wb(21,"input",13,14),I.dc("ngModelChange",function(e){return t.storage.name=e}),I.Vb(),I.Dc(23,Be,2,1,"ng-container",15),I.Vb(),I.Vb(),I.Wb(24,"div",11),I.Wb(25,"div",0),I.Wb(26,"label",16),I.Fc(27,"Adresa Skladi\u0161ta:"),I.Vb(),I.Vb(),I.Wb(28,"div",10),I.Rb(29,"input",17),I.Vb(),I.Vb(),I.Wb(30,"div",11),I.Wb(31,"div",0),I.Wb(32,"label",18),I.Fc(33,"Veli\u010dina skladi\u0161ta:"),I.Vb(),I.Vb(),I.Wb(34,"div",19),I.Wb(35,"input",20,21),I.dc("ngModelChange",function(e){return t.storage.maxAmount=e}),I.Vb(),I.Dc(37,Ke,2,1,"ng-container",15),I.Vb(),I.Wb(38,"div",22),I.Wb(39,"button",23),I.Fc(40),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(41,"div",10),I.Dc(42,Qe,6,1,"div",24),I.Dc(43,_e,6,1,"div",24),I.Wb(44,"div",11),I.Wb(45,"div",0),I.Wb(46,"label",25),I.Fc(47,"Firma skladi\u0161ta:"),I.Vb(),I.Vb(),I.Wb(48,"div",19),I.Rb(49,"input",26),I.Vb(),I.Wb(50,"div",22),I.Wb(51,"button",27),I.dc("click",function(){return t.gotoCompany()}),I.Rb(52,"i",28),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(53,"div",11),I.Wb(54,"div",0),I.Rb(55,"storage-meter",29),I.Vb(),I.Vb(),I.Vb(),I.Wb(56,"nb-card-footer"),I.Wb(57,"div",3),I.Rb(58,"div",30),I.Wb(59,"div",31),I.Wb(60,"button",32),I.Fc(61,"SA\u010cUVAJ"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(62,"nb-card-header"),I.Fc(63,"Otpadi: "),I.Vb(),I.Wb(64,"nb-card-body"),I.Wb(65,"ng2-smart-table",33),I.dc("editConfirm",function(e){return t.updateTrash(e,t.storage)})("deleteConfirm",function(e){return t.deleteTrash(e,t.storage)}),I.Vb(),I.Vb(),I.Vb(),I.Vb()}if(2&e){var i=I.vc(22),a=I.vc(36);I.Eb(10),I.Gc(t.storage.name),I.Eb(2),I.Gc(t.storage.__t),I.Eb(9),I.nc("ngModel",t.storage.name)("ngModelOptions",I.qc(25,Ge))("maxlength",t.getConfigValue("forms.validation.storageName.maxLength"))("minlength",t.getConfigValue("forms.validation.storageName.minLength"))("required",t.getConfigValue("forms.validation.storageName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched),I.Eb(6),I.nc("placeholder",(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.townshipName)+", "+(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.placeName)+", "+(null==t.storage||null==t.storage.address?null:t.storage.address.street)),I.Eb(6),I.nc("ngModel",t.storage.maxAmount)("ngModelOptions",I.qc(26,Ge))("pattern",t.getConfigValue("forms.validation.storageSize.pattern"))("required",t.getConfigValue("forms.validation.storageSize.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),I.Eb(2),I.nc("ngIf",a.invalid&&a.touched),I.Eb(3),I.Gc(t.storage.storageUnit),I.Eb(2),I.nc("ngIf",void 0!==t.storage.geolocationNorth),I.Eb(1),I.nc("ngIf",void 0!==t.storage.dumpType),I.Eb(6),I.nc("placeholder",null==t.company?null:t.company.name),I.Eb(6),I.nc("storage",t.storage),I.Eb(10),I.nc("settings",t.settings)("source",null==t.storage?null:t.storage.trashes)}},directives:[c.A,r.v,r.l,r.m,c.D,C.f,c.z,c.T,r.b,r.k,r.n,r.f,r.g,r.s,o.n,r.p,r.q,c.t,Ue.a,c.B,b.b],styles:[""]}),Ae),$e={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},maxAmount:{title:"Veli\u010dina"},amount:{title:"Trenutno stanje"},capacity:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}};function Ze(e,t){if(1&e&&(I.Wb(0,"nb-option",3),I.Fc(1),I.Vb()),2&e){var n=t.$implicit;I.nc("value",n),I.Eb(1),I.Gc(n.name)}}var He,Je=((He=function(){function e(t,n,i,a){s(this,e),this.storageService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedStorages=new b.a,this.storageSettings=$e,this.companyNames=[]}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getStorages().pipe(Object(ue.a)()).subscribe(function(t){t.forEach(function(e){return e.capacity=(e.amount/e.maxAmount*100).toFixed(0)}),e.storages=t,e.selectedStorages.load(t)}),this.adminService.getCompanyNames("storages").subscribe(function(t){e.companyNames=t})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectStorages",value:function(e){if("-"===e)this.selectedStorages.load(this.storages);else{var t=this.storages;t=t.filter(function(t){return e.storages.includes(t._id)}),this.selectedStorages.load(t)}}},{key:"createStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.createStorage(t).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.updateStorage(t,t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteStorage",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.storageService.deleteStorage(t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"storageInfo",value:function(e){var t=e.data;this.router.navigate(["admin/storages",t._id])}}]),e}()).\u0275fac=function(e){return new(e||He)(I.Qb(V.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(d.a))},He.\u0275cmp=I.Kb({type:He,selectors:[["admin-storages"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(I.Wb(0,"nb-card"),I.Wb(1,"nb-card-header"),I.Fc(2,"Skladi\u0161ta"),I.Vb(),I.Wb(3,"nb-card-body"),I.Wb(4,"div",0),I.Wb(5,"label",1),I.Fc(6,"Odaberite firmu: "),I.Vb(),I.Wb(7,"nb-select",2),I.dc("selectedChange",function(e){return t.selectStorages(e)}),I.Wb(8,"nb-option",3),I.Fc(9,"-"),I.Vb(),I.Dc(10,Ze,2,2,"nb-option",4),I.Vb(),I.Vb(),I.Wb(11,"div",5),I.Wb(12,"ng2-smart-table",6),I.dc("createConfirm",function(e){return t.createStorage(e)})("editConfirm",function(e){return t.updateStorage(e)})("deleteConfirm",function(e){return t.deleteStorage(e)})("custom",function(e){return t.storageInfo(e)}),I.Vb(),I.Vb(),I.Vb(),I.Vb()),2&e&&(I.Eb(8),I.nc("value","-"),I.Eb(2),I.nc("ngForOf",t.companyNames),I.Eb(2),I.nc("settings",t.storageSettings)("source",t.selectedStorages))},directives:[c.A,c.D,c.z,c.tb,c.ib,o.m,b.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),He);function Ye(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Ime je obavezno! "),I.Vb())}function et(e,t){if(1&e&&(I.Wb(0,"p",40),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function tt(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Ime mora biti validno! "),I.Vb())}function nt(e,t){if(1&e&&(I.Ub(0),I.Dc(1,Ye,2,0,"p",39),I.Dc(2,et,2,2,"p",39),I.Dc(3,tt,2,0,"p",39),I.Tb()),2&e){I.hc();var n=I.vc(19);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function it(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Prezime je obavezno! "),I.Vb())}function at(e,t){if(1&e&&(I.Wb(0,"p",40),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function ot(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Prezime mora biti validno! "),I.Vb())}function rt(e,t){if(1&e&&(I.Ub(0),I.Dc(1,it,2,0,"p",39),I.Dc(2,at,2,2,"p",39),I.Dc(3,ot,2,0,"p",39),I.Tb()),2&e){I.hc();var n=I.vc(27),i=I.vc(19);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function st(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Email je obavezan! "),I.Vb())}function ct(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Email mora biti validan! "),I.Vb())}function lt(e,t){if(1&e&&(I.Ub(0),I.Dc(1,st,2,0,"p",39),I.Dc(2,ct,2,0,"p",39),I.Tb()),2&e){I.hc();var n=I.vc(35);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function bt(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Korisni\u010dko ime je obavezno! "),I.Vb())}function dt(e,t){if(1&e&&(I.Wb(0,"p",40),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function ut(e,t){if(1&e&&(I.Ub(0),I.Dc(1,bt,2,0,"p",39),I.Dc(2,dt,2,2,"p",39),I.Tb()),2&e){I.hc();var n=I.vc(43);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function pt(e,t){1&e&&(I.Wb(0,"p",40),I.Fc(1," Telefon je obavezan! "),I.Vb())}function mt(e,t){if(1&e&&(I.Wb(0,"p",40),I.Fc(1),I.Vb()),2&e){var n=I.hc(2);I.Eb(1),I.Ic(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function ft(e,t){if(1&e&&(I.Ub(0),I.Dc(1,pt,2,0,"p",39),I.Dc(2,mt,2,2,"p",39),I.Tb()),2&e){I.hc();var n=I.vc(51);I.Eb(1),I.nc("ngIf",null==n.errors?null:n.errors.required),I.Eb(1),I.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var gt,ht,vt,Vt,Wt=((gt=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;s(this,e),this.route=t,this.adminService=n,this.options=i,this.userService=a,this.toastrService=o,this.router=r,this.user={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:"",company:{pib:"",mat:"",address:void 0,name:"",fax:"",email:"",emailReception:"",manager:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},telephone:"",occupation:void 0,operations:[]}}}return l(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("username");this.adminService.getUser(t,"username").subscribe(function(t){e.user=t})}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateUser",value:function(e){e.valid?(this.userService.updateUser(this.user,this.user._id).subscribe(function(e){}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.user.company.pib])}}]),e}()).\u0275fac=function(e){return new(e||gt)(I.Qb(C.a),I.Qb(d.a),I.Qb(S.a),I.Qb(f.a),I.Qb(c.Mb),I.Qb(C.c))},gt.\u0275cmp=I.Kb({type:gt,selectors:[["admin-user"]],decls:79,vars:43,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-role",1,"label"],["fullWidth","","id","input-role",3,"ngModel","selected","ngModelChange"],[3,"value"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=I.Xb();I.Wb(0,"nb-card",0),I.Wb(1,"form",1,2),I.dc("ngSubmit",function(){I.xc(n);var e=I.vc(2);return t.updateUser(e)}),I.Wb(3,"nb-card-header"),I.Wb(4,"div",3),I.Wb(5,"div",4),I.Wb(6,"a",5),I.Rb(7,"i",6),I.Vb(),I.Vb(),I.Wb(8,"div",7),I.Wb(9,"h5",8),I.Fc(10),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(11,"div",3),I.Wb(12,"nb-card-body",9),I.Wb(13,"div",10),I.Wb(14,"div",0),I.Wb(15,"label",11),I.Fc(16,"Ime:"),I.Vb(),I.Vb(),I.Wb(17,"div",9),I.Wb(18,"input",12,13),I.dc("ngModelChange",function(e){return t.user.firstName=e}),I.Vb(),I.Dc(20,nt,4,3,"ng-container",14),I.Vb(),I.Vb(),I.Wb(21,"div",10),I.Wb(22,"div",0),I.Wb(23,"label",15),I.Fc(24,"Prezime:"),I.Vb(),I.Vb(),I.Wb(25,"div",9),I.Wb(26,"input",16,17),I.dc("ngModelChange",function(e){return t.user.lastName=e}),I.Vb(),I.Dc(28,rt,4,3,"ng-container",14),I.Vb(),I.Vb(),I.Wb(29,"div",10),I.Wb(30,"div",0),I.Wb(31,"label",18),I.Fc(32,"Email:"),I.Vb(),I.Vb(),I.Wb(33,"div",9),I.Wb(34,"input",19,20),I.dc("ngModelChange",function(e){return t.user.email=e}),I.Vb(),I.Dc(36,lt,3,2,"ng-container",14),I.Vb(),I.Vb(),I.Wb(37,"div",10),I.Wb(38,"div",0),I.Wb(39,"label",21),I.Fc(40,"Korisni\u010dko ime:"),I.Vb(),I.Vb(),I.Wb(41,"div",9),I.Wb(42,"input",22,23),I.dc("ngModelChange",function(e){return t.user.username=e}),I.Vb(),I.Dc(44,ut,3,2,"ng-container",14),I.Vb(),I.Vb(),I.Wb(45,"div",10),I.Wb(46,"div",0),I.Wb(47,"label",24),I.Fc(48,"Telefon:"),I.Vb(),I.Vb(),I.Wb(49,"div",9),I.Wb(50,"input",25,26),I.dc("ngModelChange",function(e){return t.user.phone=e}),I.Vb(),I.Dc(52,ft,3,2,"ng-container",14),I.Vb(),I.Vb(),I.Vb(),I.Wb(53,"nb-card-body",9),I.Wb(54,"div",10),I.Wb(55,"div",0),I.Wb(56,"label",27),I.Fc(57,"Uloga:"),I.Vb(),I.Vb(),I.Wb(58,"div",9),I.Wb(59,"nb-select",28),I.dc("ngModelChange",function(e){return t.user.role=e}),I.Wb(60,"nb-option",29),I.Fc(61,"Menad\u017eer"),I.Vb(),I.Wb(62,"nb-option",29),I.Fc(63,"Admin"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(64,"div",10),I.Wb(65,"div",0),I.Wb(66,"label",30),I.Fc(67,"Firma:"),I.Vb(),I.Vb(),I.Wb(68,"div",31),I.Rb(69,"input",32),I.Vb(),I.Wb(70,"div",33),I.Wb(71,"button",34),I.dc("click",function(){return t.gotoCompany()}),I.Rb(72,"i",35),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Wb(73,"nb-card-footer"),I.Wb(74,"div",3),I.Rb(75,"div",36),I.Wb(76,"div",37),I.Wb(77,"button",38),I.Fc(78,"SA\u010cUVAJ"),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb(),I.Vb()}if(2&e){var i=I.vc(19),a=I.vc(27),o=I.vc(35),r=I.vc(43),s=I.vc(51);I.Eb(10),I.Ic(" ",t.user.firstName," ",t.user.lastName,""),I.Eb(8),I.nc("ngModel",t.user.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),I.Eb(2),I.nc("ngIf",i.invalid&&i.touched),I.Eb(6),I.nc("ngModel",t.user.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),I.Eb(2),I.nc("ngIf",a.invalid&&a.touched),I.Eb(6),I.nc("ngModel",t.user.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),I.Eb(2),I.nc("ngIf",o.invalid&&o.touched),I.Eb(6),I.nc("ngModel",t.user.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),I.Eb(2),I.nc("ngIf",r.invalid&&r.touched),I.Eb(6),I.nc("ngModel",t.user.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),I.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),I.Eb(2),I.nc("ngIf",s.invalid&&s.touched),I.Eb(7),I.nc("ngModel",t.user.role)("selected",t.user.role),I.Eb(1),I.nc("value","manager"),I.Eb(2),I.nc("value","admin"),I.Eb(7),I.nc("placeholder",t.user.company.name)}},directives:[c.A,r.v,r.l,r.m,c.D,C.f,c.z,c.T,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.n,c.tb,c.ib,c.t,c.B],styles:[""]}),gt),yt={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{firstName:{title:"Ime"},lastName:{title:"Prezime"},username:{title:"Korisni\u010dko ime"},email:{title:"Email"},phone:{title:"Telefon"},company:{editable:!1,valuePrepareFunction:function(e,t){return t.company.name},title:"Firma"}}},kt=[{path:"",component:j,children:[{path:"admin-dashboard",loadChildren:function(){return n.e(10).then(n.bind(null,"LaSW")).then(function(e){return e.AdminDashboardModule})}},{path:"profile",component:Re},{path:"users",component:(ht=function(){function e(t,n,i,a){s(this,e),this.adminService=t,this.toastrService=n,this.router=i,this.userService=a,this.usersSource=new b.a,this.userSettings=yt}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getUsers().subscribe(function(t){e.usersSource.load(t)})}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.createUser(t).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.updateUser(t,t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteUser",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.username+"?"))return;this.userService.deleteUser(t._id).subscribe(function(e){}),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"userInfo",value:function(e){var t=e.data;this.router.navigate(["admin/users",t.username])}}]),e}(),ht.\u0275fac=function(e){return new(e||ht)(I.Qb(d.a),I.Qb(c.Mb),I.Qb(C.c),I.Qb(f.a))},ht.\u0275cmp=I.Kb({type:ht,selectors:[["admin-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(I.Wb(0,"nb-card"),I.Wb(1,"nb-card-header"),I.Fc(2,"Korisnici"),I.Vb(),I.Wb(3,"nb-card-body"),I.Wb(4,"ng2-smart-table",0),I.dc("createConfirm",function(e){return t.createUser(e)})("editConfirm",function(e){return t.updateUser(e)})("deleteConfirm",function(e){return t.deleteUser(e)})("custom",function(e){return t.userInfo(e)}),I.Vb(),I.Vb(),I.Vb()),2&e&&(I.Eb(4),I.nc("settings",t.userSettings)("source",t.usersSource))},directives:[c.A,c.D,c.z,b.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),ht)},{path:"users/:username",component:Wt},{path:"companies",component:w},{path:"companies/:pib",component:ie},{path:"storages",component:Je},{path:"storages/:id",component:Xe},{path:"permits",component:ge},{path:"permits/:id",component:de},{path:"reports",loadChildren:function(){return Promise.resolve().then(n.bind(null,"BKSH")).then(function(e){return e.ReportsModule})}}]}],Ct=((vt=function e(){s(this,e)}).\u0275fac=function(e){return new(e||vt)},vt.\u0275mod=I.Ob({type:vt}),vt.\u0275inj=I.Nb({imports:[[C.g.forChild(kt)],C.g]}),vt),Mt=n("BKSH"),It=((Vt=function e(){s(this,e)}).\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=I.Ob({type:Vt}),Vt.\u0275inj=I.Nb({providers:[d.a,f.a,m.a,p.a,h.a,V.a,v.a,g.a,u.a],imports:[[o.c,Ct,W.a,c.fb,c.E,b.c,c.U,r.e,c.w,c.S,c.nb,c.k,c.Ib,c.Cb,c.ub,c.N,c.qb,Mt.ReportsModule,k.StorageModule,y.a]]}),Vt)},"X+yL":function(t,i,a){"use strict";a.d(i,"a",function(){return u});var o,r=a("tk/3"),c=a("LRne"),b=a("AytR"),d=a("fXoL"),u=((o=function(t){e(a,t);var i=n(a);function a(e){var t;return s(this,a),(t=i.call(this)).http=e,t.apiUrl=b.a.apiUrl,t.dko={datumDozvolePrimalac:new Date,datumDozvoleTransport:new Date,datumIspitivanja:new Date,dodatneInformacije:"",fizickoStanje:"",vrstaProizvodjaca:"",masaOtpada:0,nacinPakovanja:"",nacinPostupanja:"",otpad:void 0,qLista:"",registarskiBroj:"",rutaKretanja:new Array(5),sifraDozvolePrimalac:"",sifraDozvoleTransport:"",sifraIspitivanja:"",vidPrevoza:"",vrstaOtpada:"",vrstaPrimalaca:"",vrstaVozila:""},t}return l(a,[{key:"sendSyncDKO",value:function(e){this.dko=e}},{key:"sendDKO",value:function(e){var t=this;e.subscribe(function(e){t.dko=e})}},{key:"getDKO",value:function(){return Object(c.a)(this.dko)}},{key:"generateDKO",value:function(e,t,n){var i=new r.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/dko",{dko:e,skladiste:t,trash:n},{headers:i,responseType:"blob"})}}]),a}(function(){return function e(){s(this,e)}}())).\u0275fac=function(e){return new(e||o)(d.ac(r.b))},o.\u0275prov=d.Mb({token:o,factory:o.\u0275fac}),o)},fJ6F:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var e=function(){function e(t){s(this,e),this.http=t,this.apiUrl=i.a.apiUrl}return l(e,[{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/one/"+"".concat(t,"/").concat(e))}},{key:"getUsers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/many/"+"".concat(t,"/").concat(e))}},{key:"getCompany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/one/"+"".concat(t,"/").concat(e))}},{key:"getCompanies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/many/"+"".concat(t,"/").concat(e))}},{key:"getStorage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/one/"+"".concat(t,"/").concat(e))}},{key:"getStorages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/many/"+"".concat(t,"/").concat(e))}},{key:"getPermit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/one/"+"".concat(t,"/").concat(e))}},{key:"getPermits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/many/"+"".concat(t,"/").concat(e))}},{key:"getCompanyNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return this.http.get(this.apiUrl+"/api/admin/companies/storages/"+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.ac(o.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e}()},jPBY:function(t,i,a){"use strict";a.d(i,"a",function(){return d});var o,r=a("tk/3"),c=a("AytR"),b=a("fXoL"),d=((o=function(t){e(a,t);var i=n(a);function a(e){var t;return s(this,a),(t=i.call(this)).http=e,t.apiUrl=c.a.apiUrl,t}return l(a,[{key:"getMonthlyReport",value:function(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}},{key:"getOneMonthlyReport",value:function(e){return this.http.get(this.apiUrl+"/api/mesecniizvestaj/"+e)}},{key:"createMesecniIzvestaj",value:function(e,t,n){var i=new r.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:n,storageID:t._id},{headers:i,responseType:"blob"})}},{key:"createGodisnjiIzvestaj",value:function(e,t,n){var i=new r.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/godisnjiizvestaj",{trash:e,reportType:t,company:n},{headers:i,responseType:"blob"})}},{key:"getAllMesecniIzvestajFirme",value:function(e){return this.mesecniIzvestaj$||(this.mesecniIzvestaj$=this.http.get(this.apiUrl+"/api/mesecniizvestaj/firma/"+e)),this.mesecniIzvestaj$}}]),a}(function(){return function e(){s(this,e)}}())).\u0275fac=function(e){return new(e||o)(b.ac(r.b))},o.\u0275prov=b.Mb({token:o,factory:o.\u0275fac}),o)}}])}();