function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var i,t=_getPrototypeOf(e);if(n){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Yj9t:function(e,n,i){"use strict";i.r(n),i.d(n,"NgxAuthModule",(function(){return Zt}));var t,a,o,r=i("ofXK"),l=i("3Pt+"),c=i("tyNb"),s=i("RS3s"),b=i("LRne"),d=i("AytR"),u=i("fXoL"),g=i("tk/3"),f=((t=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),(t=n.call(this)).http=e,t.apiUrl=d.a.apiUrl,t}return _createClass(i,[{key:"getDelatnost",value:function(){return this.http.get(this.apiUrl+"/api/delatnost")}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(b.a)(n.filter((function(e){return e.naziv.toLowerCase().includes(i)||e.sifra.includes(i)})))}}]),i}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||t)(u.bc(g.b))},t.\u0275prov=u.Nb({token:t,factory:t.\u0275fac}),t),v=i("O8xV"),p=((o=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),(t=n.call(this)).http=e,t.apiUrl=d.a.apiUrl,t}return _createClass(i,[{key:"getMesto",value:function(){return this.http.get(this.apiUrl+"/api/mesto")}},{key:"getOpstine",value:function(){return this.http.get(this.apiUrl+"/api/mesto/opstine")}},{key:"getNazivMesta",value:function(e){return this.http.get(this.apiUrl+"/api/mesto/mesta/"+e)}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(b.a)(n.filter((function(e){return e.toLowerCase().includes(i)})))}}]),i}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||o)(u.bc(g.b))},o.\u0275prov=u.Nb({token:o,factory:o.\u0275fac}),o),m=((a=function(){function e(){_classCallCheck(this,e),Object(u.Y)()&&(this.korisnik={_id:"",email:"random@gmail.com",ime:"test",korisnickoIme:"random",prezime:"test",sifra:"nikjan00",telefon:"028456714",uloga:"menadzer"},this.firma={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"Arnajevo",opstinaSifra:0,opstinaNaziv:"Beograd",postanskiBroj:"31210"},ulica:"Nikola tesla 2"},delatnost:{_id:"",sifra:"",naziv:"Proizvodnja mesnih prera\u0111evina"},email:"random1@gmail",emailPrijem:"random1@gmail",mat:"12564375",menadzer:"random",naziv:"Test",pib:"532587587",radFirme:[],telefon:"023434789",zakonskiZastupnik:"Nikola Jankovic"})}return _createClass(e,[{key:"sendDozvola",value:function(e){var n=this;this.sifraDozvole$=e,e.subscribe((function(e){n.sifraDozvole=e}))}},{key:"getDozvola",value:function(){return Object(b.a)(this.sifraDozvole)}},{key:"sendOperacije",value:function(e){var n=this;this.operacije$=e,e.subscribe((function(e){n.operacije=e}))}},{key:"getOperacije",value:function(){return Object(b.a)(this.operacije)}},{key:"sendKorisnik",value:function(e){var n=this;this.korisnik$=e,e.subscribe((function(e){n.korisnik=e}))}},{key:"getKorisnik",value:function(){return void 0!==this.firma&&void 0!==this.korisnik&&(this.korisnik.firma=this.firma),Object(b.a)(this.korisnik)}},{key:"sendFirma",value:function(e){var n=this;this.firma$=e,e.subscribe((function(e){n.firma=e}))}},{key:"getFirma",value:function(){return void 0!==this.firma&&(void 0!==this.operacije&&(this.firma.radFirme=this.operacije),void 0!==this.korisnik&&(this.firma.menadzer=this.korisnik.korisnickoIme)),Object(b.a)(this.firma)}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=u.Nb({token:a,factory:a.\u0275fac}),a),h=i("ud2R"),k=i("vTDv"),W=i("McNs"),j=i("aceb");function X(e,n){if(1&e&&(u.Xb(0,"li",24),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.Eb(1),u.Ec(i)}}function M(e,n){if(1&e&&(u.Xb(0,"nb-alert",20),u.Xb(1,"p",21),u.Xb(2,"b"),u.Dc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),u.Wb(),u.Wb(),u.Xb(4,"ul",22),u.Bc(5,X,2,1,"li",23),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(5),u.nc("ngForOf",i.errors)}}function z(e,n){if(1&e&&(u.Xb(0,"li",24),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.Eb(1),u.Ec(i)}}function D(e,n){if(1&e&&(u.Xb(0,"nb-alert",25),u.Xb(1,"p",21),u.Xb(2,"b"),u.Dc(3,"Uspesno ste se ulogovali!"),u.Wb(),u.Wb(),u.Xb(4,"ul",22),u.Bc(5,z,2,1,"li",23),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(5),u.nc("ngForOf",i.messages)}}function E(e,n){1&e&&(u.Xb(0,"p",27),u.Dc(1," Email je obavezan! "),u.Wb())}function C(e,n){if(1&e&&(u.Vb(0),u.Bc(1,E,2,0,"p",26),u.Ub()),2&e){u.hc();var i=u.tc(11);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function O(e,n){1&e&&(u.Xb(0,"p",27),u.Dc(1," \u0160ifra je obavezna! "),u.Wb())}function I(e,n){if(1&e&&(u.Vb(0),u.Bc(1,O,2,0,"p",26),u.Ub()),2&e){u.hc();var i=u.tc(17);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function y(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-checkbox",28),u.fc("ngModelChange",(function(e){return u.vc(i),u.hc().user.rememberMe=e})),u.Dc(1,"Zapamti me"),u.Wb()}if(2&e){var t=u.hc();u.nc("ngModel",t.user.rememberMe)}}var B,S,q=((S=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,i),(t=n.call(this,e,a,o,r)).service=e,t.options=a,t.cd=o,t.router=r,t.redirectDelay=0,t.showMessages={},t.strategy="",t.errors=[],t.messages=[],t.user={},t.submitted=!1,t.rememberMe=!1,t.redirectDelay=t.getConfigValue("forms.login.redirectDelay"),t.showMessages=t.getConfigValue("forms.login.showMessages"),t.strategy=t.getConfigValue("forms.login.strategy"),t.rememberMe=t.getConfigValue("forms.login.rememberMe"),t}return _createClass(i,[{key:"login",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe((function(n){e.submitted=!1,n.isSuccess()?e.messages=n.getMessages():e.errors=n.getErrors();var i=n.getRedirect();i&&setTimeout((function(){return e.router.navigateByUrl(i)}),e.redirectDelay),e.cd.detectChanges()}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}}]),i}(W.h)).\u0275fac=function(e){return new(e||S)(u.Rb(W.g),u.Rb(W.a),u.Rb(u.h),u.Rb(c.c))},S.\u0275cmp=u.Lb({type:S,selectors:[["ngx-login"]],features:[u.Bb],decls:29,vars:16,consts:[[1,"align-self-center"],["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","type","password",3,"ngModel","required","status","ngModelChange"],["password","ngModel"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../request-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],["aria-label","Registruj se",1,"another-action"],["routerLink","../register-korisnik",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1",4,"ngIf"],[1,"error-message","mt-1"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(u.Xb(0,"div",0),u.Xb(1,"h1",1),u.Dc(2,"Uloguj se!"),u.Wb(),u.Bc(3,M,6,1,"nb-alert",2),u.Bc(4,D,6,1,"nb-alert",3),u.Xb(5,"form",4,5),u.fc("ngSubmit",(function(){return n.login()})),u.Xb(7,"div",6),u.Xb(8,"label",7),u.Dc(9,"Email:"),u.Wb(),u.Xb(10,"input",8,9),u.fc("ngModelChange",(function(e){return n.user.email=e})),u.Wb(),u.Bc(12,C,2,1,"ng-container",10),u.Wb(),u.Xb(13,"div",6),u.Xb(14,"label",11),u.Dc(15,"\u0160ifra:"),u.Wb(),u.Xb(16,"input",12,13),u.fc("ngModelChange",(function(e){return n.user.password=e})),u.Wb(),u.Bc(18,I,2,1,"ng-container",10),u.Wb(),u.Xb(19,"div",14),u.Bc(20,y,2,1,"nb-checkbox",15),u.Xb(21,"a",16),u.Dc(22,"Zaboravili ste \u0161ifru?"),u.Wb(),u.Wb(),u.Xb(23,"button",17),u.Dc(24," Uloguj se "),u.Wb(),u.Wb(),u.Xb(25,"section",18),u.Dc(26," Nemate nalog? "),u.Xb(27,"a",19),u.Dc(28,"Registruj se"),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.tc(11),t=u.tc(17);u.Eb(3),u.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),u.Eb(1),u.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),u.Eb(6),u.nc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":""),u.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),u.Eb(2),u.nc("ngIf",i.touched),u.Eb(4),u.nc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",t.dirty?t.invalid?"danger":"success":""),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.touched),u.Eb(2),u.nc("ngIf",n.rememberMe),u.Eb(3),u.Ib("btn-pulse",n.submitted),u.nc("disabled",n.submitted)}},directives:[r.n,l.w,l.l,l.m,j.I,l.b,l.k,l.n,l.s,c.f,j.s,j.n,r.m,j.z],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),S),V=((B=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,i),(t=n.call(this,e,a,o)).service=e,t.options=a,t.router=o,t.redirectDelay=0,t.strategy="",t.redirectDelay=t.getConfigValue("forms.logout.redirectDelay"),t.strategy=t.getConfigValue("forms.logout.strategy"),t}return _createClass(i,[{key:"logout",value:function(e){var n=this;this.service.logout(e).subscribe((function(e){var i=e.getRedirect();i&&setTimeout((function(){return n.router.navigateByUrl(i)}),n.redirectDelay)}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}}]),i}(W.i)).\u0275fac=function(e){return new(e||B)(u.Rb(W.g),u.Rb(W.a),u.Rb(c.c))},B.\u0275cmp=u.Lb({type:B,selectors:[["ngx-logout"]],features:[u.Bb],decls:2,vars:0,template:function(e,n){1&e&&(u.Xb(0,"div"),u.Dc(1,"Odjavljivanje u toku..."),u.Wb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),B),F=i("SxV6");function x(e,n){if(1&e){var i=u.Yb();u.Xb(0,"button",16),u.fc("click",(function(){u.vc(i);var e=n.$implicit;return u.hc().chooseOtpad(e)})),u.Dc(1),u.Wb()}if(2&e){var t=n.$implicit;u.nc("nbPopover",t.naziv),u.Eb(1),u.Fc(" ",t.indeksniBroj," ")}}var w,$=((w=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.katalogService=t,this.settings={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.katalog=new s.a}return _createClass(e,[{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getDozvola().subscribe((function(n){e.sifraDozvole=n})),this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,e.dozvol\u0430=e.firma.dozvola.filter((function(n){return n.sifra===e.sifraDozvole}))[0],e.listaOtpada=e.dozvol\u0430.listaOtpada)})),this.registerService.sendFirma(Object(b.a)(this.firma)),this.katalogService.getKatalog().pipe(Object(F.a)()).subscribe((function(n){e.katalog.load(n)}))}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:e}],!1)}},{key:"chooseOtpad",value:function(e){var n=this,i=e;void 0!==e.data&&(i=e.data),this.listaOtpada.some((function(e){return e._id===i._id}))?this.removeOtpad(i):this.dozvol\u0430.listaOtpada.push(i),this.firma.dozvola.filter((function(e){return e.sifra===n.sifraDozvole}))[0]=this.dozvol\u0430}},{key:"removeOtpad",value:function(e){var n=this.listaOtpada.filter((function(n){return n._id===e._id}))[0];if(n){var i=this.listaOtpada.indexOf(n,0);i>-1&&this.listaOtpada.splice(i,1)}}}]),e}()).\u0275fac=function(e){return new(e||w)(u.Rb(W.a),u.Rb(m),u.Rb(v.a))},w.\u0275cmp=u.Lb({type:w,selectors:[["ngx-register-dozvola"]],decls:22,vars:4,consts:[[1,"text-center"],["selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success","routerLink","../register-informacije",1,"mt-2",3,"disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){var i=u.Yb();u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper",1),u.Xb(3,"nb-step",2),u.Dc(4,"Test"),u.Wb(),u.Sb(5,"nb-step",3),u.Sb(6,"nb-step",4),u.Xb(7,"nb-step",5),u.Xb(8,"div",6),u.Xb(9,"div",7),u.Xb(10,"h5"),u.Dc(11,"Lista otpada dozvole:"),u.Wb(),u.Bc(12,x,2,2,"button",8),u.Wb(),u.Xb(13,"div",9),u.Xb(14,"label",10),u.Dc(15,"Pretrazi po indeksnom broju:"),u.Wb(),u.Xb(16,"input",11,12),u.fc("input",(function(){u.vc(i);var e=u.tc(17);return e.value.length>=1&&n.onSearch(e.value)})),u.Wb(),u.Xb(18,"ng2-smart-table",13),u.fc("custom",(function(e){return n.chooseOtpad(e)})),u.Wb(),u.Wb(),u.Wb(),u.Xb(19,"button",14),u.Dc(20," Zavr\u0161i "),u.Wb(),u.Wb(),u.Sb(21,"nb-step",15),u.Wb()}2&e&&(u.Eb(12),u.nc("ngForOf",n.listaOtpada),u.Eb(6),u.nc("source",n.katalog)("settings",n.settings),u.Eb(1),u.nc("disabled",0===(null==n.listaOtpada?null:n.listaOtpada.length)))},directives:[j.kb,j.jb,r.m,j.I,s.b,j.s,c.d,j.X],styles:[""]}),w);function N(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Naziv firme je obavezan! "),u.Wb())}function P(e,n){if(1&e&&(u.Xb(0,"p",71),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Naziv firme mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function T(e,n){if(1&e&&(u.Vb(0),u.Bc(1,N,2,0,"p",70),u.Bc(2,P,2,1,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(13);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function L(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," PIB je obavezan! "),u.Wb())}function _(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," PIB mora da bude validan! "),u.Wb())}function U(e,n){if(1&e&&(u.Vb(0),u.Bc(1,L,2,0,"p",70),u.Bc(2,_,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function R(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Mati\u010dni broj je obavezan! "),u.Wb())}function A(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Mati\u010dni broj mora da bude validan! "),u.Wb())}function Z(e,n){if(1&e&&(u.Vb(0),u.Bc(1,R,2,0,"p",70),u.Bc(2,A,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(26),t=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==t.errors?null:t.errors.minlength)}}function K(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function G(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Op\u0161tina je obavezna! "),u.Wb())}function Y(e,n){if(1&e&&(u.Vb(0),u.Bc(1,G,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(37);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function J(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function H(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Mesto je obavezno! "),u.Wb())}function Q(e,n){if(1&e&&(u.Vb(0),u.Bc(1,H,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(47);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function ee(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Po\u0161tanski broj je obavezan "),u.Wb())}function ne(e,n){if(1&e&&(u.Xb(0,"p",71),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",i.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function ie(e,n){if(1&e&&(u.Vb(0),u.Bc(1,ee,2,0,"p",70),u.Bc(2,ne,2,1,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(59);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function te(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Ulica je obavezna! "),u.Wb())}function ae(e,n){if(1&e&&(u.Vb(0),u.Bc(1,te,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(65);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function oe(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i.naziv),u.Eb(1),u.Gc("[",i.sifra,"] ",i.naziv,"")}}function re(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," \u0160ifra delatnosti je obavezna! "),u.Wb())}function le(e,n){if(1&e&&(u.Vb(0),u.Bc(1,re,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(72);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function ce(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Email je obavezan! "),u.Wb())}function se(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Email mora biti validan! "),u.Wb())}function be(e,n){if(1&e&&(u.Vb(0),u.Bc(1,ce,2,0,"p",70),u.Bc(2,se,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(83);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function de(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Telefon firme je obavezan! "),u.Wb())}function ue(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Telefon firme mora biti validan! "),u.Wb())}function ge(e,n){if(1&e&&(u.Vb(0),u.Bc(1,de,2,0,"p",70),u.Bc(2,ue,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(89);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function fe(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Email je obavezan! "),u.Wb())}function ve(e,n){if(1&e&&(u.Vb(0),u.Bc(1,fe,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(101);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function pe(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Email je obavezan! "),u.Wb())}function me(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Email mora biti validan! "),u.Wb())}function he(e,n){if(1&e&&(u.Vb(0),u.Bc(1,pe,2,0,"p",70),u.Bc(2,me,2,0,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(4);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function ke(e,n){if(1&e){var i=u.Yb();u.Xb(0,"div",11),u.Xb(1,"label",72),u.Dc(2,"Unesite va\u0161 email za prijem dokumenata:"),u.Wb(),u.Xb(3,"input",73,74),u.fc("ngModelChange",(function(e){return u.vc(i),u.hc().firma.emailPrijem=e})),u.Wb(),u.Bc(5,he,3,2,"ng-container",10),u.Wb()}if(2&e){var t=u.tc(4),a=u.hc();u.Eb(3),u.nc("ngModel",a.firma.emailPrijem)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",a.getConfigValue("forms.validation.email.required")),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched)}}function We(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Ime zakonskog zastupnika je obavezno! "),u.Wb())}function je(e,n){if(1&e&&(u.Xb(0,"p",71),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Ime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Xe(e,n){if(1&e&&(u.Vb(0),u.Bc(1,We,2,0,"p",70),u.Bc(2,je,2,1,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(120);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Me(e,n){1&e&&(u.Xb(0,"p",71),u.Dc(1," Prezime zakonskog zastupnika je obavezno! "),u.Wb())}function ze(e,n){if(1&e&&(u.Xb(0,"p",71),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function De(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Me,2,0,"p",70),u.Bc(2,ze,2,1,"p",70),u.Ub()),2&e){u.hc();var i=u.tc(126);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}var Ee,Ce=((Ee=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.mestoService=i,this.delatnostService=t,this.registerService=a,this.imeZakonskogZastupinka="",this.prezimeZakonskogZastupinka="",this.firma={_id:"",menadzer:"",radFirme:[],naziv:"",pib:"",mat:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},delatnost:{_id:"",sifra:"",naziv:""},email:"",emailPrijem:"",faks:"",telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mestoService.getOpstine().pipe(Object(F.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(b.a)(n)})),this.delatnostService.getDelatnost().pipe(Object(F.a)()).subscribe((function(n){e.delatnosti=n,e.delatnosti$=Object(b.a)(n)})),this.registerService.getKorisnik().subscribe((function(n){void 0!==n&&(e.korisnik=n)})),this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,e.imeZakonskogZastupinka=e.firma.zakonskiZastupnik.split(" ")[0],e.prezimeZakonskogZastupinka=e.firma.zakonskiZastupnik.split(" ")[1])})),this.registerService.sendFirma(Object(b.a)(this.firma))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(b.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(b.a)(e),n.getMesta(e[0])})):this.opstine$=Object(b.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"findDelatnost",value:function(e){this.delatnosti$=this.delatnostService.filter(e,this.delatnosti)}},{key:"spojIme",value:function(e){this.imeZakonskogZastupinka=e,e+=" ";var n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(n),this.firma.zakonskiZastupnik=e+this.firma.zakonskiZastupnik}},{key:"spojPrezime",value:function(e){this.prezimeZakonskogZastupinka=e,e=" "+e;var n=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(0,n),this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik+e}}]),e}()).\u0275fac=function(e){return new(e||Ee)(u.Rb(W.a),u.Rb(p),u.Rb(f),u.Rb(m))},Ee.\u0275cmp=u.Lb({type:Ee,selectors:[["ngx-register-firma"]],decls:135,vars:102,consts:[[1,"text-center"],["selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["form","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["nbInput","","id","input-naziv","name","naziv","placeholder","Naziv","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["nazivFirme","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["nbInput","","id","input-pib","name","pib","placeholder","PIB","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["pib","ngModel"],["nbInput","","id","input-mat","name","mat","placeholder","Mati\u010dni broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaFirma",1,"label"],["id","input-opstinaFirma","name","opstinaFirma","nbInput","","autocomplete","off","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","required","nbAutocomplete","ngModelChange"],["opstinaFirma","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoFirma",1,"label"],["nbInput","","id","input-mestoFirma","autocomplete","off","name","mestoFirma","placeholder","Mesto","fullWidth","",3,"ngModel","required","nbAutocomplete","ngModelChange"],["mestoFirma","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBroj",1,"label"],["nbInput","","name","postanskiBrojFirme","id","input-postanskiBroj","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaFirme",1,"label"],["nbInput","","name","ulicaFirme","id","input-ulicaFirme","placeholder","Ulica i broj","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["ulica","ngModel"],["for","input-delatnost",1,"label"],["nbInput","","id","input-delatnost","name","delatnost","autocomplete","off","placeholder","Delatnost","fullWidth","",3,"ngModel","nbAutocomplete","required","ngModelChange"],["delatnost","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-emailFirme",1,"label"],["nbInput","","id","input-emailFirme","name","email","pattern",".+@.+..+","placeholder","Email firme","fullWidth","",3,"ngModel","status","required","ngModelChange"],["emailFirma","ngModel"],["for","input-telefonFirme",1,"label"],["nbInput","","id","input-telefonFirme","name","telefon","placeholder","Telefon firme","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)","maxlength","12",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["telefonFirme","ngModel"],["for","input-faksFirma",1,"label"],["nbInput","","id","input-faksFirma","name","faksFirma","placeholder","Faks firme","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)","maxlength","12",3,"ngModel","ngModelChange"],["faksFirma","ngModel"],["for","input-emailPrijem",1,"label"],["id","input-emailPrijem","name","emailPrijem","placeholder","Email za prijem dokumenata","fullWidth","",3,"ngModel","selected","status","required","ngModelChange"],["emailPrijem","ngModel"],[3,"value"],["drugiEmail",""],["class","col-6",4,"ngIf"],[1,"label","pl-0","col-12"],[1,"row","ml-2"],["for","input-ime",1,"label"],["nbInput","","id","input-ime","name","ime","placeholder","Ime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["ime","ngModel"],["for","input-prezime",1,"label"],["nbInput","","id","input-prezime","name","prezime","placeholder","Prezime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["prezime","ngModel"],["nbButton","","fullWidth","","status","danger","routerLink","../register-korisnik",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-operacije",1,"mt-2","col-6",3,"disabled"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-emailPrijem2",1,"label"],["nbInput","","id","input-emailPrijem2","name","emailPrijem2","pattern",".+@.+..+","placeholder","Email za prijem dokumenata","fullWidth","",3,"ngModel","status","required","ngModelChange"],["emailPrijem2","ngModel"]],template:function(e,n){if(1&e){var i=u.Yb();u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper",1),u.Xb(3,"nb-step",2),u.Dc(4,"Test"),u.Wb(),u.Xb(5,"nb-step",3),u.Xb(6,"form",null,4),u.Xb(8,"div",5),u.Xb(9,"div",6),u.Xb(10,"label",7),u.Dc(11,"Naziv Firme:"),u.Wb(),u.Xb(12,"input",8,9),u.fc("ngModelChange",(function(e){return n.firma.naziv=e})),u.Wb(),u.Bc(14,T,3,2,"ng-container",10),u.Wb(),u.Wb(),u.Xb(15,"div",5),u.Xb(16,"div",11),u.Xb(17,"label",12),u.Dc(18,"PIB:"),u.Wb(),u.Xb(19,"input",13,14),u.fc("ngModelChange",(function(e){return n.firma.pib=e})),u.Wb(),u.Bc(21,U,3,2,"ng-container",10),u.Wb(),u.Xb(22,"div",11),u.Xb(23,"label",12),u.Dc(24,"Mati\u010dni broj:"),u.Wb(),u.Xb(25,"input",15,16),u.fc("ngModelChange",(function(e){return n.firma.mat=e})),u.Wb(),u.Bc(27,Z,3,2,"ng-container",10),u.Wb(),u.Wb(),u.Xb(28,"div",5),u.Xb(29,"div",6),u.Xb(30,"label",17),u.Dc(31,"Adresa:"),u.Wb(),u.Xb(32,"div",18),u.Xb(33,"div",11),u.Xb(34,"nb-select-label",19),u.Dc(35,"Op\u0161tina:"),u.Wb(),u.Xb(36,"input",20,21),u.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(){u.vc(i);var e=u.tc(37);return n.findOpstina(e.value)})),u.Wb(),u.Xb(38,"nb-autocomplete",null,22),u.Bc(40,K,2,2,"nb-option",23),u.ic(41,"async"),u.Wb(),u.Bc(42,Y,2,1,"ng-container",10),u.Wb(),u.Xb(43,"div",11),u.Xb(44,"nb-select-label",24),u.Dc(45,"Mesto:"),u.Wb(),u.Xb(46,"input",25,26),u.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(){u.vc(i);var e=u.tc(47);return n.findMesta(e.value)})),u.Wb(),u.Xb(48,"nb-autocomplete",null,27),u.Xb(50,"nb-option"),u.Bc(51,J,2,2,"nb-option",23),u.ic(52,"async"),u.Wb(),u.Wb(),u.Bc(53,Q,2,1,"ng-container",10),u.Wb(),u.Wb(),u.Xb(54,"div",28),u.Xb(55,"div",29),u.Xb(56,"label",30),u.Dc(57,"Po\u0161tanski broj:"),u.Wb(),u.Xb(58,"input",31,32),u.fc("ngModelChange",(function(e){return n.firma.adresa.mesto.postanskiBroj=e})),u.Wb(),u.Bc(60,ie,3,2,"ng-container",10),u.Wb(),u.Xb(61,"div",33),u.Xb(62,"label",34),u.Dc(63,"Ulica i broj:"),u.Wb(),u.Xb(64,"input",35,36),u.fc("ngModelChange",(function(e){return n.firma.adresa.ulica=e})),u.Wb(),u.Bc(66,ae,2,1,"ng-container",10),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(67,"div",5),u.Xb(68,"div",6),u.Xb(69,"nb-select-label",37),u.Dc(70,"\u0160ifra delatnosti:"),u.Wb(),u.Xb(71,"input",38,39),u.fc("ngModelChange",(function(e){return n.firma.delatnost.naziv=e}))("ngModelChange",(function(){u.vc(i);var e=u.tc(72);return n.findDelatnost(e.value)})),u.Wb(),u.Xb(73,"nb-autocomplete",null,40),u.Bc(75,oe,2,3,"nb-option",23),u.ic(76,"async"),u.Wb(),u.Bc(77,le,2,1,"ng-container",10),u.Wb(),u.Wb(),u.Xb(78,"div",5),u.Xb(79,"div",41),u.Xb(80,"label",42),u.Dc(81,"Email firme:"),u.Wb(),u.Xb(82,"input",43,44),u.fc("ngModelChange",(function(e){return n.firma.email=e})),u.Wb(),u.Bc(84,be,3,2,"ng-container",10),u.Wb(),u.Xb(85,"div",41),u.Xb(86,"label",45),u.Dc(87,"Telefon firme:"),u.Wb(),u.Xb(88,"input",46,47),u.fc("ngModelChange",(function(e){return n.firma.telefon=e})),u.Wb(),u.Bc(90,ge,3,2,"ng-container",10),u.Wb(),u.Xb(91,"div",41),u.Xb(92,"label",48),u.Dc(93,"Faks firme:"),u.Wb(),u.Xb(94,"input",49,50),u.fc("ngModelChange",(function(e){return n.firma.faks=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(96,"div",5),u.Xb(97,"div",11),u.Xb(98,"nb-select-label",51),u.Dc(99,"Birajte email za prijem dokumenata: "),u.Wb(),u.Xb(100,"nb-select",52,53),u.fc("ngModelChange",(function(e){return n.firma.emailPrijem=e})),u.Xb(102,"nb-option",54),u.Dc(103),u.Wb(),u.Xb(104,"nb-option",54),u.Dc(105),u.Wb(),u.Xb(106,"nb-option",54,55),u.Dc(108,"Drugi email"),u.Wb(),u.Wb(),u.Bc(109,ve,2,1,"ng-container",10),u.Wb(),u.Bc(110,ke,6,5,"div",56),u.Wb(),u.Xb(111,"div",5),u.Xb(112,"div",6),u.Xb(113,"label",57),u.Dc(114,"Puno ime zakonskog zastupnika firme:"),u.Wb(),u.Xb(115,"div",58),u.Xb(116,"div",11),u.Xb(117,"label",59),u.Dc(118,"Ime:"),u.Wb(),u.Xb(119,"input",60,61),u.fc("ngModelChange",(function(e){return n.imeZakonskogZastupinka=e}))("ngModelChange",(function(e){return n.spojIme(e)})),u.Wb(),u.Bc(121,Xe,3,2,"ng-container",10),u.Wb(),u.Xb(122,"div",11),u.Xb(123,"label",62),u.Dc(124,"Prezime:"),u.Wb(),u.Xb(125,"input",63,64),u.fc("ngModelChange",(function(e){return n.prezimeZakonskogZastupinka=e}))("ngModelChange",(function(e){return n.spojPrezime(e)})),u.Wb(),u.Bc(127,De,3,2,"ng-container",10),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(128,"button",65),u.Dc(129," Nazad "),u.Wb(),u.Xb(130,"button",66),u.Dc(131," Dalje "),u.Wb(),u.Wb(),u.Wb(),u.Sb(132,"nb-step",67),u.Sb(133,"nb-step",68),u.Sb(134,"nb-step",69),u.Wb()}if(2&e){var t=u.tc(7),a=u.tc(13),o=u.tc(20),r=u.tc(26),l=u.tc(37),c=u.tc(39),s=u.tc(47),b=u.tc(49),d=u.tc(59),g=u.tc(65),f=u.tc(72),v=u.tc(74),p=u.tc(83),m=u.tc(89),h=u.tc(95),k=u.tc(101),W=u.tc(107),j=u.tc(120),X=u.tc(126);u.Eb(12),u.nc("ngModel",n.firma.naziv)("status",a.dirty?a.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.nazivFirme.required"))("minlength",n.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",n.getConfigValue("forms.validation.nazivFirme.maxLength")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(5),u.nc("ngModel",n.firma.pib)("status",o.dirty?o.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.pib.required"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",n.firma.mat)("status",r.dirty?r.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.mat.required"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(9),u.nc("ngModel",n.firma.adresa.mesto.opstinaNaziv)("required",n.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",c),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(41,96,n.opstine$)),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(4),u.nc("ngModel",n.firma.adresa.mesto.mestoNaziv)("required",n.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",b),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(5),u.nc("ngForOf",u.jc(52,98,n.mesta$)),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(5),u.nc("ngModel",n.firma.adresa.mesto.postanskiBroj)("status",d.dirty?d.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",n.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",n.getConfigValue("forms.validation.postanskiBroj.maxLength")),u.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),u.Eb(2),u.nc("ngIf",d.invalid&&d.touched),u.Eb(4),u.nc("ngModel",n.firma.adresa.ulica)("status",g.dirty?g.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.ulica.required"))("minlength",n.getConfigValue("forms.validation.ulica.minLength"))("maxlength",n.getConfigValue("forms.validation.ulica.maxLength")),u.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),u.Eb(2),u.nc("ngIf",g.invalid&&g.touched),u.Eb(5),u.nc("ngModel",n.firma.delatnost.naziv)("nbAutocomplete",v)("required",n.getConfigValue("forms.validation.delatnost.required")),u.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(76,100,n.delatnosti$)),u.Eb(2),u.nc("ngIf",f.invalid&&f.touched),u.Eb(5),u.nc("ngModel",n.firma.email)("status",p.dirty?p.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),u.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),u.Eb(2),u.nc("ngIf",p.invalid&&p.touched),u.Eb(4),u.nc("ngModel",n.firma.telefon)("status",m.dirty?m.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.telefon.required"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("maxlength",n.getConfigValue("forms.validation.telefon.maxLength")),u.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),u.Eb(2),u.nc("ngIf",m.invalid&&m.touched),u.Eb(4),u.nc("ngModel",n.firma.faks),u.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),u.Eb(6),u.nc("ngModel",n.firma.emailPrijem)("selected",n.firma.email)("status",k.dirty?k.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.email.required")),u.Fb("aria-invalid",!(!k.invalid||!k.touched)||null),u.Eb(2),u.nc("value",n.firma.email),u.Eb(1),u.Ec(n.firma.email),u.Eb(1),u.nc("value",null==n.korisnik?null:n.korisnik.email),u.Eb(1),u.Ec(null==n.korisnik?null:n.korisnik.email),u.Eb(1),u.nc("value",n.firma.emailPrijem),u.Eb(3),u.nc("ngIf",k.invalid&&k.touched),u.Eb(1),u.nc("ngIf",W.selected),u.Eb(9),u.nc("ngModel",n.imeZakonskogZastupinka)("status",j.dirty?j.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.ime.required"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("maxlength",n.getConfigValue("forms.validation.ime.maxLength")),u.Fb("aria-invalid",!(!j.invalid||!j.touched)||null),u.Eb(2),u.nc("ngIf",j.invalid&&j.touched),u.Eb(4),u.nc("ngModel",n.prezimeZakonskogZastupinka)("status",X.dirty?X.invalid?"danger":"success":"basic")("required",n.getConfigValue("forms.validation.prezime.required"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("maxlength",n.getConfigValue("forms.validation.prezime.maxLength")),u.Fb("aria-invalid",!(!X.invalid||!X.touched)||null),u.Eb(2),u.nc("ngIf",X.invalid&&X.touched),u.Eb(3),u.nc("disabled",!t.valid)}},directives:[j.kb,j.jb,l.w,l.l,l.m,j.I,l.b,l.k,l.n,l.s,l.g,l.f,r.n,l.q,j.eb,j.q,j.p,r.m,j.W,j.db,j.s,c.d],pipes:[r.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}"]}),Ee);function Oe(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function Ie(e,n){if(1&e&&(u.Xb(0,"p",47),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function ye(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Oe,2,0,"p",46),u.Bc(2,Ie,2,1,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Be(e,n){if(1&e&&(u.Xb(0,"nb-option",48),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function Se(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Op\u0161tina je obavezna! "),u.Wb())}function qe(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Se,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(19);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ve(e,n){if(1&e&&(u.Xb(0,"nb-option",48),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function Fe(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Mesto je obavezno! "),u.Wb())}function xe(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Fe,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(29);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function we(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Po\u0161tanski broj je obavezan "),u.Wb())}function $e(e,n){if(1&e&&(u.Xb(0,"p",47),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",i.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function Ne(e,n){if(1&e&&(u.Vb(0),u.Bc(1,we,2,0,"p",46),u.Bc(2,$e,2,1,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(41);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Pe(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Ulica je obavezna! "),u.Wb())}function Te(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Pe,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(47);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Le(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function _e(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Le,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(56);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}var Ue=function(){return{standalone:!0}};function Re(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card",12),u.Xb(1,"nb-card-body"),u.Dc(2),u.Xb(3,"div",13),u.Xb(4,"div",4),u.Xb(5,"label",14),u.Dc(6,"Naziv Skladi\u0161ta:"),u.Wb(),u.Xb(7,"input",15,16),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.naziv=e})),u.Wb(),u.Bc(9,ye,3,2,"ng-container",17),u.Wb(),u.Wb(),u.Xb(10,"div",18),u.Xb(11,"div",4),u.Xb(12,"label",19),u.Dc(13,"Adresa:"),u.Wb(),u.Xb(14,"div",20),u.Xb(15,"div",21),u.Xb(16,"nb-select-label",22),u.Dc(17,"Op\u0161tina:"),u.Wb(),u.Xb(18,"input",23,24),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findOpstina(e)})),u.Wb(),u.Xb(20,"nb-autocomplete",null,25),u.Bc(22,Be,2,2,"nb-option",26),u.ic(23,"async"),u.Wb(),u.Bc(24,qe,2,1,"ng-container",17),u.Wb(),u.Xb(25,"div",21),u.Xb(26,"nb-select-label",27),u.Dc(27,"Mesto:"),u.Wb(),u.Xb(28,"input",28,29),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findMesta(e)})),u.Wb(),u.Xb(30,"nb-autocomplete",null,30),u.Xb(32,"nb-option"),u.Bc(33,Ve,2,2,"nb-option",26),u.ic(34,"async"),u.Wb(),u.Wb(),u.Bc(35,xe,2,1,"ng-container",17),u.Wb(),u.Wb(),u.Xb(36,"div",31),u.Xb(37,"div",32),u.Xb(38,"label",33),u.Dc(39,"Po\u0161tanski broj:"),u.Wb(),u.Xb(40,"input",34,35),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),u.Wb(),u.Bc(42,Ne,3,2,"ng-container",17),u.Wb(),u.Xb(43,"div",36),u.Xb(44,"label",37),u.Dc(45,"Ulica i broj:"),u.Wb(),u.Xb(46,"input",38,39),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.ulica=e})),u.Wb(),u.Bc(48,Te,2,1,"ng-container",17),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(49,"div",18),u.Xb(50,"div",4),u.Xb(51,"label",40),u.Dc(52,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Xb(53,"div",0),u.Xb(54,"div",41),u.Xb(55,"input",42,43),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.maxKolicina=e})),u.Wb(),u.Wb(),u.Xb(57,"div",44),u.Xb(58,"button",45),u.Dc(59,"KG"),u.Wb(),u.Wb(),u.Xb(60,"div",4),u.Bc(61,_e,2,1,"ng-container",17),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=u.tc(8),o=u.tc(19),r=u.tc(21),l=u.tc(29),c=u.tc(31),s=u.tc(41),b=u.tc(47),d=u.tc(56),g=u.hc(2);u.Eb(2),u.Fc(" ",t.naziv," "),u.Eb(5),u.nc("ngModel",t.naziv)("ngModelOptions",u.pc(48,Ue))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.nazivFirme.required"))("minlength",g.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",g.getConfigValue("forms.validation.nazivFirme.maxLength")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(9),u.nc("ngModel",t.adresa.mesto.opstinaNaziv)("ngModelOptions",u.pc(49,Ue))("required",g.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",r),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(23,44,g.opstine$)),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.adresa.mesto.mestoNaziv)("ngModelOptions",u.pc(50,Ue))("required",g.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",c),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(5),u.nc("ngForOf",u.jc(34,46,g.mesta$)),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(5),u.nc("ngModel",t.adresa.mesto.postanskiBroj)("ngModelOptions",u.pc(51,Ue))("status",s.dirty?s.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",g.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",g.getConfigValue("forms.validation.postanskiBroj.maxLength")),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(4),u.nc("ngModel",t.adresa.ulica)("ngModelOptions",u.pc(52,Ue))("status",b.dirty?b.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.ulica.required"))("minlength",g.getConfigValue("forms.validation.ulica.minLength"))("maxlength",g.getConfigValue("forms.validation.ulica.maxLength")),u.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),u.Eb(2),u.nc("ngIf",b.invalid&&b.touched),u.Eb(7),u.nc("ngModel",t.maxKolicina)("ngModelOptions",u.pc(53,Ue))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.velicinaSkladista.required")),u.Eb(6),u.nc("ngIf",d.invalid&&d.touched)}}function Ae(e,n){if(1&e&&(u.Vb(0,9),u.Xb(1,"form",4,10),u.Bc(3,Re,62,54,"ng-template",11),u.ic(4,"async"),u.Wb(),u.Ub()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",u.jc(4,1,i.skladista$))}}var Ze,Ke=((Ze=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=t,this.brojSkladista=0}return _createClass(e,[{key:"updateSkladisteForm",value:function(){this.skladista=new Array(this.brojSkladista);for(var e=0;e<this.brojSkladista;e++)this.skladista[e]={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:0,naziv:"Skladiste #"+e};this.skladista$=Object(b.a)(this.skladista),this.firma.skladista=this.skladista}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladista&&(e.brojSkladista=e.firma.skladista.length,e.skladista=e.firma.skladista))})),this.registerService.sendFirma(Object(b.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(F.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(b.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(b.a)(e),n.getMesta(e[0])})):this.opstine$=Object(b.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}}]),e}()).\u0275fac=function(e){return new(e||Ze)(u.Rb(W.a),u.Rb(m),u.Rb(p))},Ze.\u0275cmp=u.Lb({type:Ze,selectors:[["ngx-proizvodnja"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-4"],[3,"ngSubmit"],["form1",""],[1,"col-12"],["name","brojSkladista","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["broj","ngModel"],["nbButton","","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["form2","ngForm"],["ngFor","",3,"ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","placeholder","Naziv","autofocus","","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0.0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"]],template:function(e,n){1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"form",2,3),u.fc("ngSubmit",(function(){return n.updateSkladisteForm()})),u.Xb(4,"label",4),u.Dc(5,"Broj skladista:"),u.Wb(),u.Xb(6,"input",5,6),u.fc("ngModelChange",(function(e){return n.brojSkladista=e})),u.Wb(),u.Xb(8,"button",7),u.Dc(9,"Odaberi"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Bc(10,Ae,5,3,"ng-container",8)),2&e&&(u.Eb(6),u.nc("ngModel",n.brojSkladista),u.Eb(4),u.nc("ngIf",n.brojSkladista>0))},directives:[l.w,l.l,l.m,j.I,l.p,l.b,l.k,l.n,j.s,r.n,r.m,j.v,j.u,l.s,l.g,l.f,j.eb,j.q,j.p,j.W],pipes:[r.b],styles:[""]}),Ze);function Ge(e,n){1&e&&(u.Xb(0,"p",31),u.Dc(1," \u0160ifra dozvole je obavezna! "),u.Wb())}function Ye(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ge,2,0,"p",30),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Je(e,n){1&e&&(u.Xb(0,"p",31),u.Dc(1," Datum izdavanja dozvole je obavezan! "),u.Wb())}function He(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Je,2,0,"p",30),u.Ub()),2&e){u.hc();var i=u.tc(14);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Qe(e,n){1&e&&(u.Xb(0,"p",31),u.Dc(1," Datum isteka dozvole je obavezan! "),u.Wb())}function en(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Qe,2,0,"p",30),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function nn(e,n){if(1&e&&(u.Xb(0,"nb-option",32),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i.adresa),u.Eb(1),u.Ec(i.naziv)}}var tn=function(){return{standalone:!0}};function an(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card-body"),u.Xb(1,"div",0),u.Xb(2,"h5"),u.Dc(3),u.Wb(),u.Xb(4,"div",15),u.Xb(5,"label",16),u.Dc(6,"\u0160ifra Dozvole:"),u.Wb(),u.Xb(7,"input",17,18),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.sifra=e})),u.Wb(),u.Bc(9,Ye,2,1,"ng-container",19),u.Wb(),u.Xb(10,"div",3),u.Xb(11,"label",20),u.Dc(12,"Datum izdavanja dozvole:"),u.Wb(),u.Xb(13,"input",21,22),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumNastanka=e})),u.Wb(),u.Bc(15,He,2,1,"ng-container",19),u.Wb(),u.Xb(16,"div",3),u.Xb(17,"label",23),u.Dc(18,"Datum isteka dozvole:"),u.Wb(),u.Xb(19,"input",24,25),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumTrajanja=e})),u.Wb(),u.Bc(21,en,2,1,"ng-container",19),u.Wb(),u.Xb(22,"div",26),u.Xb(23,"button",27),u.fc("click",(function(){u.vc(i);var e=n.$implicit;return u.hc(2).chooseDozvola(e)})),u.Dc(24,"Odaberi otpade "),u.Wb(),u.Wb(),u.Xb(25,"div",26),u.Xb(26,"nb-select",28),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa=e})),u.Bc(27,nn,2,2,"nb-option",29),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=n.index,o=u.tc(8),r=u.tc(14),l=u.tc(20),c=u.hc(2);u.Eb(3),u.Fc("Dozovla #",a,""),u.Eb(4),u.nc("ngModel",t.sifra)("ngModelOptions",u.pc(23,tn))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.datumNastanka)("ngModelOptions",u.pc(24,tn))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(4),u.nc("ngModel",t.datumTrajanja)("ngModelOptions",u.pc(25,tn))("status",l.dirty?l.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(2),u.nc("disabled",""===t.sifra),u.Eb(3),u.nc("ngModel",t.adresa)("ngModelOptions",u.pc(26,tn)),u.Eb(1),u.nc("ngForOf",c.firma.skladistaTretman)}}function on(e,n){if(1&e&&(u.Xb(0,"form",11,12),u.Xb(2,"nb-card",13),u.Bc(3,an,28,27,"nb-card-body",14),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",i.dozvole)}}function rn(e,n){1&e&&(u.Xb(0,"p",31),u.Dc(1," Registarski broj tablica je obavezan! "),u.Wb())}function ln(e,n){if(1&e&&(u.Vb(0),u.Bc(1,rn,2,0,"p",30),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function cn(e,n){1&e&&(u.Xb(0,"p",31),u.Dc(1," Vrsta vozila je obavezna! "),u.Wb())}function sn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,cn,2,0,"p",30),u.Ub()),2&e){u.hc();var i=u.tc(14);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function bn(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card-body"),u.Xb(1,"div",0),u.Xb(2,"h5"),u.Dc(3),u.Wb(),u.Xb(4,"div",4),u.Xb(5,"label",35),u.Dc(6,"Registarski broj tablice:"),u.Wb(),u.Xb(7,"input",36,37),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.registarskiBroj=e})),u.Wb(),u.Bc(9,ln,2,1,"ng-container",19),u.Wb(),u.Xb(10,"div",4),u.Xb(11,"label",38),u.Dc(12,"Vrsta vozila:"),u.Wb(),u.Xb(13,"nb-select",39,40),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.vrstaVozila=e})),u.Xb(15,"nb-option",41),u.Dc(16,"Kamion"),u.Wb(),u.Xb(17,"nb-option",42),u.Dc(18,"Kombi"),u.Wb(),u.Xb(19,"nb-option",43),u.Dc(20,"Automobil"),u.Wb(),u.Wb(),u.Bc(21,sn,2,1,"ng-container",19),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=n.index,o=u.tc(8),r=u.tc(14),l=u.hc(2);u.Eb(3),u.Fc("Vozilo #",a,""),u.Eb(4),u.nc("ngModel",t.registarskiBroj)("ngModelOptions",u.pc(13,tn))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",l.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.vrstaVozila)("ngModelOptions",u.pc(14,tn))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",l.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(8),u.nc("ngIf",r.invalid&&r.touched)}}function dn(e,n){if(1&e&&(u.Xb(0,"form",11,33),u.Xb(2,"nb-card",34),u.Bc(3,bn,22,15,"nb-card-body",14),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",i.vozila)}}var un,gn=((un=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.router=t,this.brojDozvola=0,this.brojVozila=0}return _createClass(e,[{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.prevoznoSredstvo&&(e.brojVozila=e.firma.prevoznoSredstvo.length,e.vozila=e.firma.prevoznoSredstvo),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola,e.brojDozvola=e.firma.dozvola.length))})),this.registerService.sendFirma(Object(b.a)(this.firma))}},{key:"updateDozvolaForm",value:function(){this.dozvole=new Array(this.brojDozvola);for(var e=0;e<this.brojDozvola;e++)this.dozvole[e]={_id:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"transport"};this.vozila=new Array(this.brojVozila);for(var n=0;n<this.brojVozila;n++)this.vozila[n]={_id:"",registarskiBroj:"",vrstaVozila:""};this.firma.prevoznoSredstvo=this.vozila,this.firma.dozvola=this.dozvole}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(b.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}]),e}()).\u0275fac=function(e){return new(e||un)(u.Rb(W.a),u.Rb(m),u.Rb(c.c))},un.\u0275cmp=u.Lb({type:un,selectors:[["ngx-transport"]],decls:20,vars:8,consts:[[1,"row"],[1,"col-12",3,"ngSubmit"],["form3",""],[1,"col-6"],[1,"col-12"],["name","brojDozvola","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["brojDozvola1","ngModel"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["brojVozila1","ngModel"],["nbButton","","type","submit","fullWidth",""],["class","mt-3",4,"ngIf"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[4,"ngFor","ngForOf"],[1,"col-12","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],[4,"ngIf"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","datum","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumNastanka","ngModel"],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","datumTrajanja","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumTrajanja","ngModel"],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"],["name","dozvola",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],["form4","ngForm"],["accent","danger"],["for","input-registarskiBroj",1,"label"],["nbInput","","id","input-registarskiBroj","name","registarskiBroj","placeholder","Registarski broj","pattern","([A-\u017d]{2})-(\\d{3,4})-([A-\u017d]{2})","autofocus","","oninput","this.value = this.value.toUpperCase()","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["registarskiBroj","ngModel"],["for","input-vrstaVozila",1,"label"],["id","input-vrstaVozila","name","vrstaVozila","placeholder","Vrsta","autofocus","","fullWidth","","selected","kamion",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["vrstaVozila","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"]],template:function(e,n){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),u.Xb(3,"div",0),u.Xb(4,"div",3),u.Xb(5,"label",4),u.Dc(6,"Broj dozvola:"),u.Wb(),u.Xb(7,"input",5,6),u.fc("ngModelChange",(function(e){return n.brojDozvola=e})),u.Wb(),u.Wb(),u.Xb(9,"div",3),u.Xb(10,"label",4),u.Dc(11,"Broj vozila:"),u.Wb(),u.Xb(12,"input",7,8),u.fc("ngModelChange",(function(e){return n.brojVozila=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(14,"div",0),u.Xb(15,"div",4),u.Xb(16,"button",9),u.Dc(17,"Odaberi"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Bc(18,on,4,1,"form",10),u.Bc(19,dn,4,1,"form",10)),2&e&&(u.Eb(7),u.nc("ngModelOptions",u.pc(6,tn))("ngModel",n.brojDozvola),u.Eb(5),u.nc("ngModelOptions",u.pc(7,tn))("ngModel",n.brojVozila),u.Eb(6),u.nc("ngIf",n.brojDozvola>0),u.Eb(1),u.nc("ngIf",n.brojVozila>0))},directives:[l.w,l.l,l.m,j.I,l.p,l.b,l.k,l.n,j.s,r.n,j.v,r.m,j.u,l.s,j.db,j.W,l.q],styles:[""]}),un);function fn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function vn(e,n){if(1&e&&(u.Xb(0,"p",53),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function pn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,fn,2,0,"p",52),u.Bc(2,vn,2,1,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function mn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," NGeolokacija sever je obavezna! "),u.Wb())}function hn(e,n){if(1&e&&(u.Xb(0,"p",53),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Geolokacija istok mora biti du\u017ea od ",i.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function kn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,mn,2,0,"p",52),u.Bc(2,hn,2,1,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(16),t=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Wn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Geolokacija istok je obavezna! "),u.Wb())}function jn(e,n){if(1&e&&(u.Xb(0,"p",53),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Geolokacija istok mora biti du\u017ea od ",i.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function Xn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Wn,2,0,"p",52),u.Bc(2,jn,2,1,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(22);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Mn(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function zn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Op\u0161tina je obavezna! "),u.Wb())}function Dn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,zn,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(33);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function En(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function Cn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Mesto je obavezno! "),u.Wb())}function On(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Cn,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(43);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function In(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Po\u0161tanski broj je obavezan "),u.Wb())}function yn(e,n){if(1&e&&(u.Xb(0,"p",53),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",i.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function Bn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,In,2,0,"p",52),u.Bc(2,yn,2,1,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(55);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Sn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Ulica je obavezna! "),u.Wb())}function qn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Sn,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(61);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Vn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function Fn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Vn,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(70);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}var xn=function(){return{standalone:!0}};function wn(e,n){if(1&e){var i=u.Yb();u.Xb(0,"div"),u.Xb(1,"nb-card",13),u.Xb(2,"nb-card-body"),u.Dc(3),u.Xb(4,"div",14),u.Xb(5,"div",4),u.Xb(6,"label",15),u.Dc(7,"Naziv Skladi\u0161ta:"),u.Wb(),u.Xb(8,"input",16,17),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.naziv=e})),u.Wb(),u.Bc(10,pn,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(11,"div",19),u.Xb(12,"div",3),u.Xb(13,"label",20),u.Dc(14,"Geolokacija Sever(N):"),u.Wb(),u.Xb(15,"input",21,22),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.geolokacijaN=e})),u.Wb(),u.Bc(17,kn,3,2,"ng-container",18),u.Wb(),u.Xb(18,"div",3),u.Xb(19,"label",23),u.Dc(20,"Geolokacija Istok(E0):"),u.Wb(),u.Xb(21,"input",24,25),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.geolokacijaE=e})),u.Wb(),u.Bc(23,Xn,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(24,"div",19),u.Xb(25,"div",4),u.Xb(26,"label",26),u.Dc(27,"Adresa:"),u.Wb(),u.Xb(28,"div",27),u.Xb(29,"div",3),u.Xb(30,"nb-select-label",28),u.Dc(31,"Op\u0161tina:"),u.Wb(),u.Xb(32,"input",29,30),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findOpstina(e)})),u.Wb(),u.Xb(34,"nb-autocomplete",null,31),u.Bc(36,Mn,2,2,"nb-option",32),u.ic(37,"async"),u.Wb(),u.Bc(38,Dn,2,1,"ng-container",18),u.Wb(),u.Xb(39,"div",3),u.Xb(40,"nb-select-label",33),u.Dc(41,"Mesto:"),u.Wb(),u.Xb(42,"input",34,35),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findMesta(e)})),u.Wb(),u.Xb(44,"nb-autocomplete",null,36),u.Xb(46,"nb-option"),u.Bc(47,En,2,2,"nb-option",32),u.ic(48,"async"),u.Wb(),u.Wb(),u.Bc(49,On,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Xb(50,"div",37),u.Xb(51,"div",38),u.Xb(52,"label",39),u.Dc(53,"Po\u0161tanski broj:"),u.Wb(),u.Xb(54,"input",40,41),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),u.Wb(),u.Bc(56,Bn,3,2,"ng-container",18),u.Wb(),u.Xb(57,"div",42),u.Xb(58,"label",43),u.Dc(59,"Ulica i broj:"),u.Wb(),u.Xb(60,"input",44,45),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.ulica=e})),u.Wb(),u.Bc(62,qn,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(63,"div",19),u.Xb(64,"div",4),u.Xb(65,"label",46),u.Dc(66,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Xb(67,"div",0),u.Xb(68,"div",47),u.Xb(69,"input",48,49),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.maxKolicina=e})),u.Wb(),u.Wb(),u.Xb(71,"div",50),u.Xb(72,"button",51),u.Dc(73,"KG"),u.Wb(),u.Wb(),u.Xb(74,"div",4),u.Bc(75,Fn,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=u.tc(9),o=u.tc(16),r=u.tc(22),l=u.tc(33),c=u.tc(35),s=u.tc(43),b=u.tc(45),d=u.tc(55),g=u.tc(61),f=u.tc(70),v=u.hc(2);u.Eb(3),u.Fc(" ",t.naziv," "),u.Eb(5),u.nc("ngModel",t.naziv)("ngModelOptions",u.pc(64,xn))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.nazivFirme.required"))("minlength",v.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",v.getConfigValue("forms.validation.nazivFirme.maxLength")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(5),u.nc("ngModel",t.geolokacijaN)("ngModelOptions",u.pc(65,xn))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.geolokacija.required"))("minlength",v.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",v.getConfigValue("forms.validation.geolokacija.maxLength")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.geolokacijaE)("ngModelOptions",u.pc(66,xn))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.geolokacija.required"))("minlength",v.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",v.getConfigValue("forms.validation.geolokacija.maxLength")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(9),u.nc("ngModel",t.adresa.mesto.opstinaNaziv)("ngModelOptions",u.pc(67,xn))("required",v.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",c),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(37,60,v.opstine$)),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(4),u.nc("ngModel",t.adresa.mesto.mestoNaziv)("ngModelOptions",u.pc(68,xn))("required",v.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",b),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(5),u.nc("ngForOf",u.jc(48,62,v.mesta$)),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(5),u.nc("ngModel",t.adresa.mesto.postanskiBroj)("ngModelOptions",u.pc(69,xn))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",v.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",v.getConfigValue("forms.validation.postanskiBroj.maxLength")),u.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),u.Eb(2),u.nc("ngIf",d.invalid&&d.touched),u.Eb(4),u.nc("ngModel",t.adresa.ulica)("ngModelOptions",u.pc(70,xn))("status",g.dirty?g.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.ulica.required"))("minlength",v.getConfigValue("forms.validation.ulica.minLength"))("maxlength",v.getConfigValue("forms.validation.ulica.maxLength")),u.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),u.Eb(2),u.nc("ngIf",g.invalid&&g.touched),u.Eb(7),u.nc("ngModel",t.maxKolicina)("ngModelOptions",u.pc(71,xn))("status",f.dirty?f.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.velicinaSkladista.required")),u.Eb(6),u.nc("ngIf",f.invalid&&f.touched)}}function $n(e,n){if(1&e&&(u.Xb(0,"form",4,11),u.Bc(2,wn,76,72,"div",12),u.Wb()),2&e){var i=u.hc();u.Eb(2),u.nc("ngForOf",i.skladistaTretman)}}function Nn(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," \u0160ifra dozvole je obavezna! "),u.Wb())}function Pn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Nn,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Tn(e,n){if(1&e&&(u.Xb(0,"nb-option",54),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i.naziv)}}function Ln(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Datum izdavanja dozvole je obavezan! "),u.Wb())}function _n(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ln,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Un(e,n){1&e&&(u.Xb(0,"p",53),u.Dc(1," Datum isteka dozvole je obavezan! "),u.Wb())}function Rn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Un,2,0,"p",52),u.Ub()),2&e){u.hc();var i=u.tc(26);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function An(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card-body"),u.Xb(1,"div",0),u.Xb(2,"h5",4),u.Dc(3),u.Wb(),u.Xb(4,"div",58),u.Xb(5,"label",59),u.Dc(6,"\u0160ifra Dozvole:"),u.Wb(),u.Xb(7,"input",60,61),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.sifra=e})),u.Wb(),u.Bc(9,Pn,2,1,"ng-container",18),u.Wb(),u.Xb(10,"div",58),u.Xb(11,"label",62),u.Dc(12,"Odaberi postrojenje:"),u.Wb(),u.Xb(13,"nb-select",63,64),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.skladistaTretman=e})),u.Bc(15,Tn,2,2,"nb-option",32),u.Wb(),u.Wb(),u.Xb(16,"div",3),u.Xb(17,"label",65),u.Dc(18,"Datum izdavanja dozvole:"),u.Wb(),u.Xb(19,"input",66,67),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumNastanka=e})),u.Wb(),u.Bc(21,_n,2,1,"ng-container",18),u.Wb(),u.Xb(22,"div",3),u.Xb(23,"label",68),u.Dc(24,"Datum isteka dozvole:"),u.Wb(),u.Xb(25,"input",69,70),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumTrajanja=e})),u.Wb(),u.Bc(27,Rn,2,1,"ng-container",18),u.Wb(),u.Xb(28,"div",71),u.Xb(29,"button",72),u.fc("click",(function(){u.vc(i);var e=n.$implicit;return u.hc(2).chooseDozvola(e)})),u.Dc(30,"Odaberi otpade "),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=n.index,o=u.tc(8),r=u.tc(20),l=u.tc(26),c=u.hc(2);u.Eb(3),u.Fc("Dozovla #",a,""),u.Eb(4),u.nc("ngModel",t.sifra)("ngModelOptions",u.pc(23,xn))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.skladistaTretman)("ngModelOptions",u.pc(24,xn)),u.Eb(2),u.nc("ngForOf",c.firma.skladistaTretman),u.Eb(4),u.nc("ngModel",t.datumNastanka)("ngModelOptions",u.pc(25,xn))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(4),u.nc("ngModel",t.datumTrajanja)("ngModelOptions",u.pc(26,xn))("status",l.dirty?l.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(2),u.nc("disabled",""===t.sifra)}}function Zn(e,n){if(1&e&&(u.Xb(0,"form",55,56),u.Xb(2,"nb-card",57),u.Bc(3,An,31,27,"nb-card-body",12),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",i.dozvole)}}var Kn,Gn=((Kn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=t,this.router=a,this.brojSkladistaTretman=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladistaTretman&&(e.brojSkladistaTretman=e.firma.skladistaTretman.length,e.skladistaTretman=e.firma.skladistaTretman),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola))})),this.registerService.sendFirma(Object(b.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(F.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"updateDozvolaForm",value:function(){this.dozvole=new Array(this.brojSkladistaTretman);for(var e=0;e<this.brojSkladistaTretman;e++)this.dozvole[e]={_id:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"tretman"};this.skladistaTretman=new Array(this.brojSkladistaTretman);for(var n=0;n<this.brojSkladistaTretman;n++)this.skladistaTretman[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:0,geolokacijaN:0,kolicina:0,maxKolicina:0,naziv:"Skladiste Tretman #"+n};this.firma.skladistaTretman=this.skladistaTretman,this.firma.dozvola=this.dozvole}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(b.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(b.a)(e),n.getMesta(e[0])})):this.opstine$=Object(b.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(b.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}]),e}()).\u0275fac=function(e){return new(e||Kn)(u.Rb(W.a),u.Rb(m),u.Rb(p),u.Rb(c.c))},Kn.\u0275cmp=u.Lb({type:Kn,selectors:[["ngx-tretman"]],decls:16,vars:3,consts:[[1,"row"],[1,"col-12",3,"ngSubmit"],["form1",""],[1,"col-6"],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista","ngModel"],["nbButton","","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","placeholder","Naziv","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-geolokacijaN",1,"label"],["nbInput","","id","input-geolokacijaN","name","geolokacijaN","placeholder","N","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["nbInput","","id","input-geolokacijaE0","name","geolokacijaE0","placeholder","E0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0.0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","datum","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumNastanka","ngModel"],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","datumTrajanja","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumTrajanja","ngModel"],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),u.Xb(3,"div",0),u.Xb(4,"div",3),u.Xb(5,"label",4),u.Dc(6,"Broj skladi\u0161ta za tretman:"),u.Wb(),u.Xb(7,"input",5,6),u.fc("ngModelChange",(function(e){return n.brojSkladistaTretman=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",0),u.Xb(10,"div",3),u.Xb(11,"button",7),u.Dc(12,"Odaberi"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",8),u.Bc(14,$n,3,1,"form",9),u.Wb(),u.Bc(15,Zn,4,1,"form",10)),2&e&&(u.Eb(7),u.nc("ngModel",n.brojSkladistaTretman),u.Eb(7),u.nc("ngIf",n.brojSkladistaTretman>0),u.Eb(1),u.nc("ngIf",n.brojSkladistaTretman>0))},directives:[l.w,l.l,l.m,j.I,l.p,l.b,l.k,l.n,j.s,r.n,r.m,j.v,j.u,l.s,l.g,l.f,j.eb,j.q,j.p,j.W,j.db],pipes:[r.b],styles:[""]}),Kn);function Yn(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function Jn(e,n){if(1&e&&(u.Xb(0,"p",58),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Hn(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Yn,2,0,"p",57),u.Bc(2,Jn,2,1,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Qn(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Vrsta skladi\u0161ta je obavezan! "),u.Wb())}function ei(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Qn,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function ni(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," NGeolokacija sever je obavezna! "),u.Wb())}function ii(e,n){if(1&e&&(u.Xb(0,"p",58),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Geolokacija istok mora biti du\u017ea od ",i.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function ti(e,n){if(1&e&&(u.Vb(0),u.Bc(1,ni,2,0,"p",57),u.Bc(2,ii,2,1,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(29),t=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function ai(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Geolokacija istok je obavezna! "),u.Wb())}function oi(e,n){if(1&e&&(u.Xb(0,"p",58),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Geolokacija istok mora biti du\u017ea od ",i.getConfigValue("forms.validation.geolokacija.minLength")," slova! ")}}function ri(e,n){if(1&e&&(u.Vb(0),u.Bc(1,ai,2,0,"p",57),u.Bc(2,oi,2,1,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(35);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function li(e,n){if(1&e&&(u.Xb(0,"nb-option",59),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function ci(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Op\u0161tina je obavezna! "),u.Wb())}function si(e,n){if(1&e&&(u.Vb(0),u.Bc(1,ci,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(46);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function bi(e,n){if(1&e&&(u.Xb(0,"nb-option",59),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function di(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Mesto je obavezno! "),u.Wb())}function ui(e,n){if(1&e&&(u.Vb(0),u.Bc(1,di,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(56);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function gi(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Po\u0161tanski broj je obavezan "),u.Wb())}function fi(e,n){if(1&e&&(u.Xb(0,"p",58),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",i.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function vi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,gi,2,0,"p",57),u.Bc(2,fi,2,1,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(68);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function pi(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Ulica je obavezna! "),u.Wb())}function mi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,pi,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(74);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function hi(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function ki(e,n){if(1&e&&(u.Vb(0),u.Bc(1,hi,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(83);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}var Wi=function(){return{standalone:!0}};function ji(e,n){if(1&e){var i=u.Yb();u.Xb(0,"div"),u.Xb(1,"nb-card",13),u.Xb(2,"nb-card-body"),u.Dc(3),u.Xb(4,"div",14),u.Xb(5,"div",4),u.Xb(6,"label",15),u.Dc(7,"Naziv Skladi\u0161ta:"),u.Wb(),u.Xb(8,"input",16,17),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.naziv=e})),u.Wb(),u.Bc(10,Hn,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(11,"div",14),u.Xb(12,"div",4),u.Xb(13,"nb-select-label",19),u.Dc(14,"Vrsta Skladi\u0161ta:"),u.Wb(),u.Xb(15,"nb-select",20,17),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.vrstaDeponije=e})),u.Xb(17,"nb-option",21),u.Dc(18,"Neopasan otpad"),u.Wb(),u.Xb(19,"nb-option",22),u.Dc(20,"Opasan otpad"),u.Wb(),u.Xb(21,"nb-option",23),u.Dc(22,"Inertan otpad"),u.Wb(),u.Wb(),u.Bc(23,ei,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Xb(24,"div",24),u.Xb(25,"div",3),u.Xb(26,"label",25),u.Dc(27,"Geolokacija Sever(N):"),u.Wb(),u.Xb(28,"input",26,27),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.geolokacijaN=e})),u.Wb(),u.Bc(30,ti,3,2,"ng-container",18),u.Wb(),u.Xb(31,"div",3),u.Xb(32,"label",28),u.Dc(33,"Geolokacija Istok(E0):"),u.Wb(),u.Xb(34,"input",29,30),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.geolokacijaE=e})),u.Wb(),u.Bc(36,ri,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(37,"div",24),u.Xb(38,"div",4),u.Xb(39,"label",31),u.Dc(40,"Adresa:"),u.Wb(),u.Xb(41,"div",32),u.Xb(42,"div",3),u.Xb(43,"nb-select-label",33),u.Dc(44,"Op\u0161tina:"),u.Wb(),u.Xb(45,"input",34,35),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findOpstina(e)})),u.Wb(),u.Xb(47,"nb-autocomplete",null,36),u.Bc(49,li,2,2,"nb-option",37),u.ic(50,"async"),u.Wb(),u.Bc(51,si,2,1,"ng-container",18),u.Wb(),u.Xb(52,"div",3),u.Xb(53,"nb-select-label",38),u.Dc(54,"Mesto:"),u.Wb(),u.Xb(55,"input",39,40),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findMesta(e)})),u.Wb(),u.Xb(57,"nb-autocomplete",null,41),u.Xb(59,"nb-option"),u.Bc(60,bi,2,2,"nb-option",37),u.ic(61,"async"),u.Wb(),u.Wb(),u.Bc(62,ui,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Xb(63,"div",42),u.Xb(64,"div",43),u.Xb(65,"label",44),u.Dc(66,"Po\u0161tanski broj:"),u.Wb(),u.Xb(67,"input",45,46),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),u.Wb(),u.Bc(69,vi,3,2,"ng-container",18),u.Wb(),u.Xb(70,"div",47),u.Xb(71,"label",48),u.Dc(72,"Ulica i broj:"),u.Wb(),u.Xb(73,"input",49,50),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.ulica=e})),u.Wb(),u.Bc(75,mi,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(76,"div",24),u.Xb(77,"div",4),u.Xb(78,"label",51),u.Dc(79,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Xb(80,"div",0),u.Xb(81,"div",52),u.Xb(82,"input",53,54),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.maxKolicina=e})),u.Wb(),u.Wb(),u.Xb(84,"div",55),u.Xb(85,"button",56),u.Dc(86,"KG"),u.Wb(),u.Wb(),u.Xb(87,"div",4),u.Bc(88,ki,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=u.tc(9),o=u.tc(29),r=u.tc(35),l=u.tc(46),c=u.tc(48),s=u.tc(56),b=u.tc(58),d=u.tc(68),g=u.tc(74),f=u.tc(83),v=u.hc(2);u.Eb(3),u.Fc(" ",t.naziv," "),u.Eb(5),u.nc("ngModel",t.naziv)("ngModelOptions",u.pc(70,Wi))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.nazivFirme.required"))("minlength",v.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",v.getConfigValue("forms.validation.nazivFirme.maxLength")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(5),u.nc("ngModel",t.vrstaDeponije)("ngModelOptions",u.pc(71,Wi))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(8),u.nc("ngIf",a.invalid&&a.touched),u.Eb(5),u.nc("ngModel",t.geolokacijaN)("ngModelOptions",u.pc(72,Wi))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.geolokacija.required"))("minlength",v.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",v.getConfigValue("forms.validation.geolokacija.maxLength")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.geolokacijaE)("ngModelOptions",u.pc(73,Wi))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.geolokacija.required"))("minlength",v.getConfigValue("forms.validation.geolokacija.minLength"))("maxlength",v.getConfigValue("forms.validation.geolokacija.maxLength")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(9),u.nc("ngModel",t.adresa.mesto.opstinaNaziv)("ngModelOptions",u.pc(74,Wi))("required",v.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",c),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(50,66,v.opstine$)),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(4),u.nc("ngModel",t.adresa.mesto.mestoNaziv)("ngModelOptions",u.pc(75,Wi))("required",v.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",b),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(5),u.nc("ngForOf",u.jc(61,68,v.mesta$)),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(5),u.nc("ngModel",t.adresa.mesto.postanskiBroj)("ngModelOptions",u.pc(76,Wi))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",v.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",v.getConfigValue("forms.validation.postanskiBroj.maxLength")),u.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),u.Eb(2),u.nc("ngIf",d.invalid&&d.touched),u.Eb(4),u.nc("ngModel",t.adresa.ulica)("ngModelOptions",u.pc(77,Wi))("status",g.dirty?g.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.ulica.required"))("minlength",v.getConfigValue("forms.validation.ulica.minLength"))("maxlength",v.getConfigValue("forms.validation.ulica.maxLength")),u.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),u.Eb(2),u.nc("ngIf",g.invalid&&g.touched),u.Eb(7),u.nc("ngModel",t.maxKolicina)("ngModelOptions",u.pc(78,Wi))("status",f.dirty?f.invalid?"danger":"success":"basic")("required",v.getConfigValue("forms.validation.velicinaSkladista.required")),u.Eb(6),u.nc("ngIf",f.invalid&&f.touched)}}function Xi(e,n){if(1&e&&(u.Xb(0,"form",4,11),u.Bc(2,ji,89,79,"div",12),u.Wb()),2&e){var i=u.hc();u.Eb(2),u.nc("ngForOf",i.skladisteDeponija)}}function Mi(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," \u0160ifra dozvole je obavezna! "),u.Wb())}function zi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Mi,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Di(e,n){if(1&e&&(u.Xb(0,"nb-option",59),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i.naziv)}}function Ei(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Datum izdavanja dozvole je obavezan! "),u.Wb())}function Ci(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ei,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Oi(e,n){1&e&&(u.Xb(0,"p",58),u.Dc(1," Datum isteka dozvole je obavezan! "),u.Wb())}function Ii(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Oi,2,0,"p",57),u.Ub()),2&e){u.hc();var i=u.tc(26);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function yi(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card-body"),u.Xb(1,"div",0),u.Xb(2,"h5",4),u.Dc(3),u.Wb(),u.Xb(4,"div",63),u.Xb(5,"label",64),u.Dc(6,"\u0160ifra Dozvole:"),u.Wb(),u.Xb(7,"input",65,66),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.sifra=e})),u.Wb(),u.Bc(9,zi,2,1,"ng-container",18),u.Wb(),u.Xb(10,"div",63),u.Xb(11,"label",67),u.Dc(12,"Odaberi postrojenje:"),u.Wb(),u.Xb(13,"nb-select",68,69),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.skladistaDeponija=e})),u.Bc(15,Di,2,2,"nb-option",37),u.Wb(),u.Wb(),u.Xb(16,"div",3),u.Xb(17,"label",70),u.Dc(18,"Datum izdavanja dozvole:"),u.Wb(),u.Xb(19,"input",71,72),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumNastanka=e})),u.Wb(),u.Bc(21,Ci,2,1,"ng-container",18),u.Wb(),u.Xb(22,"div",3),u.Xb(23,"label",73),u.Dc(24,"Datum isteka dozvole:"),u.Wb(),u.Xb(25,"input",74,75),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumTrajanja=e})),u.Wb(),u.Bc(27,Ii,2,1,"ng-container",18),u.Wb(),u.Xb(28,"div",76),u.Xb(29,"button",77),u.fc("click",(function(){u.vc(i);var e=n.$implicit;return u.hc(2).chooseDozvola(e)})),u.Dc(30,"Odaberi otpade "),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=n.index,o=u.tc(8),r=u.tc(20),l=u.tc(26),c=u.hc(2);u.Eb(3),u.Fc("Dozovla #",a,""),u.Eb(4),u.nc("ngModel",t.sifra)("ngModelOptions",u.pc(23,Wi))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.skladistaDeponija)("ngModelOptions",u.pc(24,Wi)),u.Eb(2),u.nc("ngForOf",c.firma.skladistaDeponija),u.Eb(4),u.nc("ngModel",t.datumNastanka)("ngModelOptions",u.pc(25,Wi))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(4),u.nc("ngModel",t.datumTrajanja)("ngModelOptions",u.pc(26,Wi))("status",l.dirty?l.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(2),u.nc("disabled",""===t.sifra)}}function Bi(e,n){if(1&e&&(u.Xb(0,"form",60,61),u.Xb(2,"nb-card",62),u.Bc(3,yi,31,27,"nb-card-body",12),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",i.dozvole)}}var Si,qi=((Si=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=t,this.router=a,this.brojSkladistaDeponija=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladistaDeponija&&(e.brojSkladistaDeponija=e.firma.skladistaDeponija.length,e.skladisteDeponija=e.firma.skladistaDeponija),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola))})),this.registerService.sendFirma(Object(b.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(F.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"updateDozvolaForm",value:function(){this.dozvole=new Array(this.brojSkladistaDeponija);for(var e=0;e<this.brojSkladistaDeponija;e++)this.dozvole[e]={_id:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"odlaganje"};this.skladisteDeponija=new Array(this.brojSkladistaDeponija);for(var n=0;n<this.brojSkladistaDeponija;n++)this.skladisteDeponija[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:0,geolokacijaN:0,kolicina:0,maxKolicina:0,naziv:"Skladiste Deponija #"+n,vrstaDeponije:""};this.firma.skladistaDeponija=this.skladisteDeponija,this.firma.dozvola=this.dozvole}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(b.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(b.a)(e),n.getMesta(e[0])})):this.opstine$=Object(b.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(b.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}]),e}()).\u0275fac=function(e){return new(e||Si)(u.Rb(W.a),u.Rb(m),u.Rb(p),u.Rb(c.c))},Si.\u0275cmp=u.Lb({type:Si,selectors:[["ngx-odlaganje"]],decls:16,vars:3,consts:[[1,"row"],[1,"col-12",3,"ngSubmit"],["form1",""],[1,"col-6"],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista","ngModel"],["nbButton","","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","placeholder","Naziv","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],["for","input-vrstaSkladista",1,"label"],["id","input-vrstaSkladista","name","vrstaSkladista","autofocus","","placeholder","Naziv","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["value","Neopasan"],["value","Opasan"],["value","Inertan"],[1,"row","mb-2"],["for","input-geolokacijaN",1,"label"],["nbInput","","id","input-geolokacijaN","name","geolokacijaN","placeholder","N","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["nbInput","","id","input-geolokacijaE0","name","geolokacijaE0","placeholder","E0","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0.0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","datum","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumNastanka","ngModel"],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","datumTrajanja","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumTrajanja","ngModel"],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),u.Xb(3,"div",0),u.Xb(4,"div",3),u.Xb(5,"label",4),u.Dc(6,"Broj deponija:"),u.Wb(),u.Xb(7,"input",5,6),u.fc("ngModelChange",(function(e){return n.brojSkladistaDeponija=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",0),u.Xb(10,"div",3),u.Xb(11,"button",7),u.Dc(12,"Odaberi"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",8),u.Bc(14,Xi,3,1,"form",9),u.Wb(),u.Bc(15,Bi,4,1,"form",10)),2&e&&(u.Eb(7),u.nc("ngModel",n.brojSkladistaDeponija),u.Eb(7),u.nc("ngIf",n.brojSkladistaDeponija>0),u.Eb(1),u.nc("ngIf",n.brojSkladistaDeponija>0))},directives:[l.w,l.l,l.m,j.I,l.p,l.b,l.k,l.n,j.s,r.n,r.m,j.v,j.u,l.s,l.g,l.f,j.eb,j.db,j.W,j.q,j.p],pipes:[r.b],styles:[""]}),Si);function Vi(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function Fi(e,n){if(1&e&&(u.Xb(0,"p",47),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function xi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Vi,2,0,"p",46),u.Bc(2,Fi,2,1,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function wi(e,n){if(1&e&&(u.Xb(0,"nb-option",48),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function $i(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Op\u0161tina je obavezna! "),u.Wb())}function Ni(e,n){if(1&e&&(u.Vb(0),u.Bc(1,$i,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Pi(e,n){if(1&e&&(u.Xb(0,"nb-option",48),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i)}}function Ti(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Mesto je obavezno! "),u.Wb())}function Li(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ti,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(30);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function _i(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Po\u0161tanski broj je obavezan "),u.Wb())}function Ui(e,n){if(1&e&&(u.Xb(0,"p",47),u.Dc(1),u.Wb()),2&e){var i=u.hc(4);u.Eb(1),u.Fc(" Po\u0161tanski broj mora biti du\u017ei od ",i.getConfigValue("forms.validation.postanskiBroj.minLength")," brojeva! ")}}function Ri(e,n){if(1&e&&(u.Vb(0),u.Bc(1,_i,2,0,"p",46),u.Bc(2,Ui,2,1,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(42);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ai(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Ulica je obavezna! "),u.Wb())}function Zi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ai,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(48);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function Ki(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function Gi(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ki,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(57);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}var Yi=function(){return{standalone:!0}};function Ji(e,n){if(1&e){var i=u.Yb();u.Xb(0,"div"),u.Xb(1,"nb-card",13),u.Xb(2,"nb-card-body"),u.Dc(3),u.Xb(4,"div",14),u.Xb(5,"div",4),u.Xb(6,"label",15),u.Dc(7,"Naziv Skladi\u0161ta:"),u.Wb(),u.Xb(8,"input",16,17),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.naziv=e})),u.Wb(),u.Bc(10,xi,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(11,"div",19),u.Xb(12,"div",4),u.Xb(13,"label",20),u.Dc(14,"Adresa:"),u.Wb(),u.Xb(15,"div",21),u.Xb(16,"div",3),u.Xb(17,"nb-select-label",22),u.Dc(18,"Op\u0161tina:"),u.Wb(),u.Xb(19,"input",23,24),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.opstinaNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findOpstina(e)})),u.Wb(),u.Xb(21,"nb-autocomplete",null,25),u.Bc(23,wi,2,2,"nb-option",26),u.ic(24,"async"),u.Wb(),u.Bc(25,Ni,2,1,"ng-container",18),u.Wb(),u.Xb(26,"div",3),u.Xb(27,"nb-select-label",27),u.Dc(28,"Mesto:"),u.Wb(),u.Xb(29,"input",28,29),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.mestoNaziv=e}))("ngModelChange",(function(e){return u.vc(i),u.hc(2).findMesta(e)})),u.Wb(),u.Xb(31,"nb-autocomplete",null,30),u.Xb(33,"nb-option"),u.Bc(34,Pi,2,2,"nb-option",26),u.ic(35,"async"),u.Wb(),u.Wb(),u.Bc(36,Li,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Xb(37,"div",31),u.Xb(38,"div",32),u.Xb(39,"label",33),u.Dc(40,"Po\u0161tanski broj:"),u.Wb(),u.Xb(41,"input",34,35),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.mesto.postanskiBroj=e})),u.Wb(),u.Bc(43,Ri,3,2,"ng-container",18),u.Wb(),u.Xb(44,"div",36),u.Xb(45,"label",37),u.Dc(46,"Ulica i broj:"),u.Wb(),u.Xb(47,"input",38,39),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.adresa.ulica=e})),u.Wb(),u.Bc(49,Zi,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(50,"div",19),u.Xb(51,"div",4),u.Xb(52,"label",40),u.Dc(53,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Xb(54,"div",0),u.Xb(55,"div",41),u.Xb(56,"input",42,43),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.maxKolicina=e})),u.Wb(),u.Wb(),u.Xb(58,"div",44),u.Xb(59,"button",45),u.Dc(60,"KG"),u.Wb(),u.Wb(),u.Xb(61,"div",4),u.Bc(62,Gi,2,1,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=u.tc(9),o=u.tc(20),r=u.tc(22),l=u.tc(30),c=u.tc(32),s=u.tc(42),b=u.tc(48),d=u.tc(57),g=u.hc(2);u.Eb(3),u.Fc(" ",t.naziv," "),u.Eb(5),u.nc("ngModel",t.naziv)("ngModelOptions",u.pc(48,Yi))("status",a.dirty?a.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.nazivFirme.required"))("minlength",g.getConfigValue("forms.validation.nazivFirme.minLength"))("maxlength",g.getConfigValue("forms.validation.nazivFirme.maxLength")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(9),u.nc("ngModel",t.adresa.mesto.opstinaNaziv)("ngModelOptions",u.pc(49,Yi))("required",g.getConfigValue("forms.validation.opstina.required"))("nbAutocomplete",r),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(4),u.nc("ngForOf",u.jc(24,44,g.opstine$)),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.adresa.mesto.mestoNaziv)("ngModelOptions",u.pc(50,Yi))("required",g.getConfigValue("forms.validation.mesto.required"))("nbAutocomplete",c),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(5),u.nc("ngForOf",u.jc(35,46,g.mesta$)),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(5),u.nc("ngModel",t.adresa.mesto.postanskiBroj)("ngModelOptions",u.pc(51,Yi))("status",s.dirty?s.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.postanskiBroj.required"))("minlength",g.getConfigValue("forms.validation.postanskiBroj.minLength"))("maxlength",g.getConfigValue("forms.validation.postanskiBroj.maxLength")),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(4),u.nc("ngModel",t.adresa.ulica)("ngModelOptions",u.pc(52,Yi))("status",b.dirty?b.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.ulica.required"))("minlength",g.getConfigValue("forms.validation.ulica.minLength"))("maxlength",g.getConfigValue("forms.validation.ulica.maxLength")),u.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),u.Eb(2),u.nc("ngIf",b.invalid&&b.touched),u.Eb(7),u.nc("ngModel",t.maxKolicina)("ngModelOptions",u.pc(53,Yi))("status",d.dirty?d.invalid?"danger":"success":"basic")("required",g.getConfigValue("forms.validation.velicinaSkladista.required")),u.Eb(6),u.nc("ngIf",d.invalid&&d.touched)}}function Hi(e,n){if(1&e&&(u.Xb(0,"form",4,11),u.Bc(2,Ji,63,54,"div",12),u.Wb()),2&e){var i=u.hc();u.Eb(2),u.nc("ngForOf",i.skladistaSkladistenje)}}function Qi(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," \u0160ifra dozvole je obavezna! "),u.Wb())}function et(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Qi,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function nt(e,n){if(1&e&&(u.Xb(0,"nb-option",48),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.nc("value",i),u.Eb(1),u.Ec(i.naziv)}}function it(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Datum izdavanja dozvole je obavezan! "),u.Wb())}function tt(e,n){if(1&e&&(u.Vb(0),u.Bc(1,it,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(20);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function at(e,n){1&e&&(u.Xb(0,"p",47),u.Dc(1," Datum isteka dozvole je obavezan! "),u.Wb())}function ot(e,n){if(1&e&&(u.Vb(0),u.Bc(1,at,2,0,"p",46),u.Ub()),2&e){u.hc();var i=u.tc(26);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function rt(e,n){if(1&e){var i=u.Yb();u.Xb(0,"nb-card-body"),u.Xb(1,"div",0),u.Xb(2,"h5",4),u.Dc(3),u.Wb(),u.Xb(4,"div",52),u.Xb(5,"label",53),u.Dc(6,"\u0160ifra Dozvole:"),u.Wb(),u.Xb(7,"input",54,55),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.sifra=e})),u.Wb(),u.Bc(9,et,2,1,"ng-container",18),u.Wb(),u.Xb(10,"div",52),u.Xb(11,"label",56),u.Dc(12,"Odaberi postrojenje:"),u.Wb(),u.Xb(13,"nb-select",57,58),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.skladistaSkladistenje=e})),u.Bc(15,nt,2,2,"nb-option",26),u.Wb(),u.Wb(),u.Xb(16,"div",3),u.Xb(17,"label",59),u.Dc(18,"Datum izdavanja dozvole:"),u.Wb(),u.Xb(19,"input",60,61),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumNastanka=e})),u.Wb(),u.Bc(21,tt,2,1,"ng-container",18),u.Wb(),u.Xb(22,"div",3),u.Xb(23,"label",62),u.Dc(24,"Datum isteka dozvole:"),u.Wb(),u.Xb(25,"input",63,64),u.fc("ngModelChange",(function(e){return u.vc(i),n.$implicit.datumTrajanja=e})),u.Wb(),u.Bc(27,ot,2,1,"ng-container",18),u.Wb(),u.Xb(28,"div",65),u.Xb(29,"button",66),u.fc("click",(function(){u.vc(i);var e=n.$implicit;return u.hc(2).chooseDozvola(e)})),u.Dc(30,"Odaberi otpade "),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){var t=n.$implicit,a=n.index,o=u.tc(8),r=u.tc(20),l=u.tc(26),c=u.hc(2);u.Eb(3),u.Fc("Dozovla #",a,""),u.Eb(4),u.nc("ngModel",t.sifra)("ngModelOptions",u.pc(23,Yi))("status",o.dirty?o.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",t.skladistaSkladistenje)("ngModelOptions",u.pc(24,Yi)),u.Eb(2),u.nc("ngForOf",c.firma.skladisteSkladistenje),u.Eb(4),u.nc("ngModel",t.datumNastanka)("ngModelOptions",u.pc(25,Yi))("status",r.dirty?r.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(4),u.nc("ngModel",t.datumTrajanja)("ngModelOptions",u.pc(26,Yi))("status",l.dirty?l.invalid?"danger":"success":"basic")("required",c.getConfigValue("forms.validation.nazivFirme.required")),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(2),u.nc("disabled",""===t.sifra)}}function lt(e,n){if(1&e&&(u.Xb(0,"form",49,50),u.Xb(2,"nb-card",51),u.Bc(3,rt,31,27,"nb-card-body",12),u.Wb(),u.Wb()),2&e){var i=u.hc();u.Eb(3),u.nc("ngForOf",i.dozvole)}}var ct,st=((ct=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.mestoService=t,this.router=a,this.brojSkladista=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getFirma().subscribe((function(n){void 0!==n&&(e.firma=n,void 0!==n.skladisteSkladistenje&&(e.brojSkladista=e.firma.skladisteSkladistenje.length,e.skladistaSkladistenje=e.firma.skladisteSkladistenje),void 0!==n.dozvola&&(e.dozvole=e.firma.dozvola))})),this.registerService.sendFirma(Object(b.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(F.a)()).subscribe((function(n){e.opstine=n,e.opstine$=Object(b.a)(n)}))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"updateDozvolaForm",value:function(){this.dozvole=new Array(this.brojSkladista);for(var e=0;e<this.brojSkladista;e++)this.dozvole[e]={_id:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],skladistaTretman:void 0,sifra:"",vrstaDozvole:"skladistenje"};this.skladistaSkladistenje=new Array(this.brojSkladista);for(var n=0;n<this.brojSkladista;n++)this.skladistaSkladistenje[n]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:0,naziv:"Skladiste #"+n};this.firma.skladisteSkladistenje=this.skladistaSkladistenje,this.firma.dozvola=this.dozvole}},{key:"getMesta",value:function(e){var n=this;void 0!==e&&this.mestoService.getNazivMesta(e).subscribe((function(e){n.mesta=e,n.mesta$=Object(b.a)(e)}))}},{key:"findOpstina",value:function(e){var n=this;""!==e?this.mestoService.filter(e,this.opstine).subscribe((function(e){n.opstine$=Object(b.a)(e),n.getMesta(e[0])})):this.opstine$=Object(b.a)(this.opstine)}},{key:"findMesta",value:function(e){this.mesta$=this.mestoService.filter(e,this.mesta)}},{key:"chooseDozvola",value:function(e){this.registerService.sendDozvola(Object(b.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}]),e}()).\u0275fac=function(e){return new(e||ct)(u.Rb(W.a),u.Rb(m),u.Rb(p),u.Rb(c.c))},ct.\u0275cmp=u.Lb({type:ct,selectors:[["ngx-skladistenje"]],decls:16,vars:3,consts:[[1,"row"],[1,"col-12",3,"ngSubmit"],["form1",""],[1,"col-6"],[1,"col-12"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModel","ngModelChange"],["brojSkladista1","ngModel"],["nbButton","","type","submit","fullWidth",""],[1,"row","pt-4"],["class","col-12",4,"ngIf"],["class","mt-3",4,"ngIf"],["form3","ngForm"],[4,"ngFor","ngForOf"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["nbInput","","id","input-nazivSkladista","name","nazivSkladista","autofocus","","placeholder","Naziv","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaSkladista",1,"label"],["id","input-opstinaSkladista","name","opstinaSkladista","autocomplete","off","nbInput","","placeholder","Op\u0161tina","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["nbInput","","autocomplete","off","id","input-mestoSkladiste","name","mestoSkladiste","placeholder","Mesto","fullWidth","",3,"ngModel","ngModelOptions","required","nbAutocomplete","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["nbInput","","name","postanskiBrojSkladiste","id","input-postanskiBrojSkladiste","placeholder","Po\u0161tanski broj","fullWidth","","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["nbInput","","name","ulicaSkladista","id","input-ulicaSkladista","placeholder","Ulica i broj","fullWidth","",3,"ngModel","ngModelOptions","status","required","minlength","maxlength","ngModelChange"],["ulicaSkladista","ngModel"],[1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["nbInput","","name","kolicina","step","1","min","0","fullWidth","","type","number","placeholder","0.0","onkeypress","return /[0-9]/i.test(event.key)",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],["nbButton","","disabled","true"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"value"],[1,"mt-3"],["form2","ngForm"],["accent","success"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["nbInput","","id","input-sifraDozvole","name","sifraDozvole","placeholder","Sifra","fullWidth","","autofocus","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["fullWidth","","id","input-postrojenjeDozvole",3,"ngModel","ngModelOptions","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["nbInput","","id","input-datumNastanka","name","datumDozvole","placeholder","datum","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumNastanka","ngModel"],["for","input-datumTrajanja",1,"label"],["nbInput","","id","input-datumTrajanja","name","datumTrajanja","placeholder","datumTrajanja","type","date","fullWidth","",3,"ngModel","ngModelOptions","status","required","ngModelChange"],["datumTrajanja","ngModel"],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,n){1&e&&(u.Xb(0,"div",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){return n.updateDozvolaForm()})),u.Xb(3,"div",0),u.Xb(4,"div",3),u.Xb(5,"label",4),u.Dc(6,"Broj skladi\u0161ta za tretman:"),u.Wb(),u.Xb(7,"input",5,6),u.fc("ngModelChange",(function(e){return n.brojSkladista=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"div",0),u.Xb(10,"div",3),u.Xb(11,"button",7),u.Dc(12,"Odaberi"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"div",8),u.Bc(14,Hi,3,1,"form",9),u.Wb(),u.Bc(15,lt,4,1,"form",10)),2&e&&(u.Eb(7),u.nc("ngModel",n.brojSkladista),u.Eb(7),u.nc("ngIf",n.brojSkladista>0),u.Eb(1),u.nc("ngIf",n.brojSkladista>0))},directives:[l.w,l.l,l.m,j.I,l.p,l.b,l.k,l.n,j.s,r.n,r.m,j.v,j.u,l.s,l.g,l.f,j.eb,j.q,j.p,j.W,j.db],pipes:[r.b],styles:[""]}),ct);function bt(e,n){1&e&&(u.Xb(0,"div"),u.Sb(1,"ngx-proizvodnja"),u.Wb())}function dt(e,n){1&e&&(u.Xb(0,"div"),u.Sb(1,"ngx-transport"),u.Wb())}function ut(e,n){1&e&&(u.Xb(0,"div"),u.Sb(1,"ngx-tretman"),u.Wb())}function gt(e,n){1&e&&(u.Xb(0,"div"),u.Sb(1,"ngx-odlaganje"),u.Wb())}function ft(e,n){1&e&&(u.Xb(0,"div"),u.Sb(1,"ngx-skladistenje"),u.Wb())}var vt,pt=((vt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.proizvodnja=!1,this.transport=!1,this.tretman=!1,this.odlaganje=!1,this.skladistenje=!1}return _createClass(e,[{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperacije().subscribe((function(n){e.operacije=n})),this.findOperations()}},{key:"findOperations",value:function(){var e=this;this.operacije.forEach((function(n){n.startsWith("Proizvodnja")&&(e.proizvodnja=!0),n.startsWith("Transport")&&(e.transport=!0),n.startsWith("Tretman")&&(e.tretman=!0),n.startsWith("Odlaganje")&&(e.odlaganje=!0),n.startsWith("Skladi\u0161tenje")&&(e.skladistenje=!0)}))}}]),e}()).\u0275fac=function(e){return new(e||vt)(u.Rb(W.a),u.Rb(m))},vt.\u0275cmp=u.Lb({type:vt,selectors:[["ngx-register-informacije"]],decls:18,vars:5,consts:[[1,"text-center"],["selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-operacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-potvrda",1,"mt-2","col-6"],["label","Potvrda"]],template:function(e,n){1&e&&(u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper",1),u.Xb(3,"nb-step",2),u.Dc(4,"Test"),u.Wb(),u.Sb(5,"nb-step",3),u.Sb(6,"nb-step",4),u.Xb(7,"nb-step",5),u.Bc(8,bt,2,0,"div",6),u.Bc(9,dt,2,0,"div",6),u.Bc(10,ut,2,0,"div",6),u.Bc(11,gt,2,0,"div",6),u.Bc(12,ft,2,0,"div",6),u.Xb(13,"button",7),u.Dc(14," Nazad "),u.Wb(),u.Xb(15,"button",8),u.Dc(16," Dalje "),u.Wb(),u.Wb(),u.Sb(17,"nb-step",9),u.Wb()),2&e&&(u.Eb(8),u.nc("ngIf",n.proizvodnja),u.Eb(1),u.nc("ngIf",n.transport),u.Eb(1),u.nc("ngIf",n.tretman),u.Eb(1),u.nc("ngIf",n.odlaganje),u.Eb(1),u.nc("ngIf",n.skladistenje))},directives:[j.kb,j.jb,r.n,j.s,c.d,Ke,gn,Gn,qi,st],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),vt);function mt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Ime je obavezno! "),u.Wb())}function ht(e,n){if(1&e&&(u.Xb(0,"p",37),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Gc(" Ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.ime.maxLength")," ")}}function kt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Ime mora biti validno! "),u.Wb())}function Wt(e,n){if(1&e&&(u.Vb(0),u.Bc(1,mt,2,0,"p",36),u.Bc(2,ht,2,2,"p",36),u.Bc(3,kt,2,0,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(11);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function jt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Prezime je obavezno! "),u.Wb())}function Xt(e,n){if(1&e&&(u.Xb(0,"p",37),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Prezime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.prezime.minLength")," ")}}function Mt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Prezime mora biti validno! "),u.Wb())}function zt(e,n){if(1&e&&(u.Vb(0),u.Bc(1,jt,2,0,"p",36),u.Bc(2,Xt,2,1,"p",36),u.Bc(3,Mt,2,0,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(17);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.minlength),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function Dt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Korisni\u010dko ime je obavezan! "),u.Wb())}function Et(e,n){if(1&e&&(u.Xb(0,"p",37),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" Korisni\u010dko ime mora biti du\u017ee od ",i.getConfigValue("forms.validation.korisnickoIme.minLength"),"! ")}}function Ct(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Dt,2,0,"p",36),u.Bc(2,Et,2,1,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(24);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ot(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Telefon je obavezan! "),u.Wb())}function It(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Telefon mora biti validan! "),u.Wb())}function yt(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Ot,2,0,"p",36),u.Bc(2,It,2,0,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(30);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Bt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Email je obavezan! "),u.Wb())}function St(e,n){if(1&e&&(u.Vb(0),u.Bc(1,Bt,2,0,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(37);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function qt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," \u0160ifra je obavezna! "),u.Wb())}function Vt(e,n){if(1&e&&(u.Xb(0,"p",37),u.Dc(1),u.Wb()),2&e){var i=u.hc(2);u.Eb(1),u.Fc(" \u0160ifra ne sme biti kra\u0107a od ",i.getConfigValue("forms.validation.password.minLength"),"! ")}}function Ft(e,n){if(1&e&&(u.Vb(0),u.Bc(1,qt,2,0,"p",36),u.Bc(2,Vt,2,1,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(44);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function xt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," Ponovna \u0161ifra je obavezna! "),u.Wb())}function wt(e,n){1&e&&(u.Xb(0,"p",37),u.Dc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),u.Wb())}function $t(e,n){if(1&e&&(u.Vb(0),u.Bc(1,xt,2,0,"p",36),u.Bc(2,wt,2,0,"p",36),u.Ub()),2&e){u.hc();var i=u.tc(50),t=u.tc(44);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",t.value!=i.value&&!(null!=i.errors&&i.errors.required))}}function Nt(e,n){if(1&e&&(u.Xb(0,"button",29),u.Dc(1),u.Wb()),2&e){var i=n.$implicit;u.Eb(1),u.Ec(i)}}var Pt,Tt,Lt,_t,Ut,Rt=[{path:"",component:W.c,children:[{path:"login",component:q},{path:"register-korisnik",component:(Lt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;_classCallCheck(this,e),this.options=n,this.registerService=i,this.korisnik={_id:"",ime:"",prezime:"",korisnickoIme:"",sifra:"",email:"",telefon:"",uloga:"menadzer"}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getKorisnik().subscribe((function(n){void 0!==n&&(e.korisnik=n)})),this.registerService.sendKorisnik(Object(b.a)(this.korisnik))}},{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}}]),e}(),Lt.\u0275fac=function(e){return new(e||Lt)(u.Rb(W.a),u.Rb(m))},Lt.\u0275cmp=u.Lb({type:Lt,selectors:[["ngx-register-korisnik"]],decls:63,vars:48,consts:[[1,"text-center"],["label","Korisnik"],["form","ngForm"],[1,"row","mb-2"],[1,"col-6"],["for","input-ime",1,"label"],["nbInput","","id","input-ime","name","ime","placeholder","Ime","autofocus","","fullWidth","","onkeypress","return /[a-z]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["nbInput","","id","input-prezime","name","prezime","placeholder","Prezime","autofocus","","fullWidth","","onkeypress","return /[a-z\\-]/i.test(event.key)",3,"ngModel","status","required","minlength","maxlength","pattern","ngModelChange"],["prezime","ngModel"],["for","input-korisnickoIme",1,"label"],["nbInput","","id","input-korisnickoIme","name","korisnickoIme","placeholder","Korisni\u010dko ime","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["nbInput","","id","input-telefon","name","telefon","placeholder","Telefon","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["telefon","ngModel"],[1,"col-12"],["for","input-email",1,"label"],["nbInput","","id","input-email","name","email","pattern",".+@.+..+","placeholder","Email","fullWidth","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],["nbInput","","type","password","id","input-password","name","password","placeholder","\u0160ifra","fullWidth","",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],["for","input-re-password",1,"label"],["nbInput","","type","password","id","input-re-password","name","rePass","placeholder","Potvrdi \u0161ifru","fullWidth","",3,"ngModel","status","required","ngModelChange"],["rePass","ngModel"],["nbButton","","fullWidth","","status","success","routerLink","../register-firma",1,"mt-2",3,"disabled"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],[1,"container-fluid"],["aria-label","Uloguj se",1,"text-center","my-2"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e&&(u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper"),u.Xb(3,"nb-step",1),u.Xb(4,"form",null,2),u.Xb(6,"div",3),u.Xb(7,"div",4),u.Xb(8,"label",5),u.Dc(9,"Ime:"),u.Wb(),u.Xb(10,"input",6,7),u.fc("ngModelChange",(function(e){return n.korisnik.ime=e})),u.Wb(),u.Bc(12,Wt,4,3,"ng-container",8),u.Wb(),u.Xb(13,"div",4),u.Xb(14,"label",9),u.Dc(15,"Prezime:"),u.Wb(),u.Xb(16,"input",10,11),u.fc("ngModelChange",(function(e){return n.korisnik.prezime=e})),u.Wb(),u.Bc(18,zt,4,3,"ng-container",8),u.Wb(),u.Wb(),u.Xb(19,"div",3),u.Xb(20,"div",4),u.Xb(21,"label",12),u.Dc(22,"Korisni\u010dko ime:"),u.Wb(),u.Xb(23,"input",13,14),u.fc("ngModelChange",(function(e){return n.korisnik.korisnickoIme=e})),u.Wb(),u.Bc(25,Ct,3,2,"ng-container",8),u.Wb(),u.Xb(26,"div",4),u.Xb(27,"label",15),u.Dc(28,"Telefon:"),u.Wb(),u.Xb(29,"input",16,17),u.fc("ngModelChange",(function(e){return n.korisnik.telefon=e})),u.Wb(),u.Bc(31,yt,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(32,"div",3),u.Xb(33,"div",18),u.Xb(34,"label",19),u.Dc(35,"Email:"),u.Wb(),u.Xb(36,"input",20,21),u.fc("ngModelChange",(function(e){return n.korisnik.email=e})),u.Wb(),u.Bc(38,St,2,1,"ng-container",8),u.Wb(),u.Wb(),u.Xb(39,"div",3),u.Xb(40,"div",4),u.Xb(41,"label",22),u.Dc(42,"\u0160ifra:"),u.Wb(),u.Xb(43,"input",23,24),u.fc("ngModelChange",(function(e){return n.korisnik.sifra=e})),u.Wb(),u.Bc(45,Ft,3,2,"ng-container",8),u.Wb(),u.Xb(46,"div",4),u.Xb(47,"label",25),u.Dc(48,"Ponovi \u0161ifru:"),u.Wb(),u.Xb(49,"input",26,27),u.fc("ngModelChange",(function(e){return n.reSifra=e})),u.Wb(),u.Bc(51,$t,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(52,"button",28),u.Dc(53," Dalje "),u.Wb(),u.Wb(),u.Wb(),u.Sb(54,"nb-step",29),u.Sb(55,"nb-step",30),u.Sb(56,"nb-step",31),u.Sb(57,"nb-step",32),u.Wb(),u.Xb(58,"div",33),u.Xb(59,"section",34),u.Dc(60," Ve\u0107 imate nalog? "),u.Xb(61,"a",35),u.Dc(62,"Uloguj se"),u.Wb(),u.Wb(),u.Wb()),2&e){var i=u.tc(5),t=u.tc(11),a=u.tc(17),o=u.tc(24),r=u.tc(30),l=u.tc(37),c=u.tc(44),s=u.tc(50);u.Eb(10),u.nc("ngModel",n.korisnik.ime)("status",t.dirty?t.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.ime.required"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern")),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(4),u.nc("ngModel",n.korisnik.prezime)("status",a.dirty?a.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.prezime.required"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern")),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(5),u.nc("ngModel",n.korisnik.korisnickoIme)("status",o.dirty?o.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength")),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("ngModel",n.korisnik.telefon)("status",r.dirty?r.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.telefon.required"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("maxlength",n.getConfigValue("forms.validation.telefon.maxLength")),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(5),u.nc("ngModel",n.korisnik.email)("status",l.dirty?l.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.email.required")),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(5),u.nc("ngModel",n.korisnik.sifra)("status",c.dirty?c.invalid?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("maxlength",n.getConfigValue("forms.validation.password.maxLength")),u.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),u.Eb(2),u.nc("ngIf",c.invalid&&c.touched),u.Eb(4),u.nc("ngModel",n.reSifra)("status",s.dirty?s.invalid||c.value!=s.value?"danger":"success":"")("required",n.getConfigValue("forms.validation.password.required")),u.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),u.Eb(2),u.nc("ngIf",s.invalid&&s.touched),u.Eb(1),u.nc("disabled",!i.valid)}},directives:[j.kb,j.jb,l.w,l.l,l.m,j.I,l.b,l.k,l.n,l.s,l.g,l.f,l.q,r.n,j.s,c.d,c.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),Lt)},{path:"register-firma",component:Ce},{path:"register-operacije",component:(Tt=function(){function e(n){_classCallCheck(this,e),this.registerService=n,this.brOT=0,this.brPTO=0,this.brATO=0,this.brVODA=0,this.brVAZDUH=0,this.operacije=[],this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperacije().subscribe((function(n){void 0!==n&&(e.operacije=n,e.updateOperacije())})),this.registerService.sendOperacije(Object(b.a)(this.operacije))}},{key:"brojOtpad",value:function(){return this.brOT.toString()}},{key:"updateOperacije",value:function(){this.brOT=this.operacije.length}},{key:"addOperacija",value:function(e,n){n?((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT++,this.operacije.push(e)):((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT--,this.operacije.splice(this.operacije.findIndex((function(n){return n===e})),1))}}]),e}(),Tt.\u0275fac=function(e){return new(e||Tt)(u.Rb(m))},Tt.\u0275cmp=u.Lb({type:Tt,selectors:[["ngx-register-operacije"]],decls:49,vars:17,consts:[[1,"text-center"],["selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],["multi",""],[1,"mx-1",3,"checked","checkedChange"],["responsive","true","tabTitle","Posebni tokovi otpada",3,"tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["nbButton","","fullWidth","","status","danger","routerLink","../register-firma",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","routerLink","../register-informacije",1,"col-6","mt-2",3,"disabled"],["label","Informacije"],["lable","Potvrda"]],template:function(e,n){1&e&&(u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper",1),u.Xb(3,"nb-step",2),u.Dc(4,"Test"),u.Wb(),u.Sb(5,"nb-step",3),u.Xb(6,"nb-step",4),u.Xb(7,"div",5),u.Xb(8,"nb-tabset"),u.Xb(9,"nb-tab",6),u.Xb(10,"nb-accordion",7),u.Xb(11,"nb-accordion-item"),u.Xb(12,"nb-accordion-item-header"),u.Dc(13,"Neopasan otpad"),u.Wb(),u.Xb(14,"nb-accordion-item-body"),u.Xb(15,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Neopasnog Otpada",e)})),u.Dc(16,"Proizvodnja "),u.Wb(),u.Xb(17,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Transport Neopasnog Otpada",e)})),u.Dc(18,"Transport "),u.Wb(),u.Xb(19,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Tretman Neopasnog Otpada",e)})),u.Dc(20,"Tretman "),u.Wb(),u.Xb(21,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Neopasnog Otpada",e)})),u.Dc(22,"Odlaganje "),u.Wb(),u.Xb(23,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Neopasnog Otpada",e)})),u.Dc(24,"Skladi\u0161tenje "),u.Wb(),u.Wb(),u.Wb(),u.Xb(25,"nb-accordion-item"),u.Xb(26,"nb-accordion-item-header"),u.Dc(27,"Opasan otpad"),u.Wb(),u.Xb(28,"nb-accordion-item-body"),u.Xb(29,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Proizvodnja Opasnog Otpada",e)})),u.Dc(30,"Proizvodnja "),u.Wb(),u.Xb(31,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Transport Opasnog Otpada",e)})),u.Dc(32,"Transport "),u.Wb(),u.Xb(33,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Tretman Opasnog Otpada",e)})),u.Dc(34,"Tretman "),u.Wb(),u.Xb(35,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Odlaganje Opasnog Otpada",e)})),u.Dc(36,"Odlaganje "),u.Wb(),u.Xb(37,"nb-toggle",8),u.fc("checkedChange",(function(e){return n.addOperacija("Skladi\u0161tenje Opasnog Otpada",e)})),u.Dc(38,"Skladi\u0161tenje "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Sb(39,"nb-tab",9),u.Sb(40,"nb-tab",10),u.Sb(41,"nb-tab",11),u.Sb(42,"nb-tab",12),u.Wb(),u.Wb(),u.Xb(43,"button",13),u.Dc(44," Nazad "),u.Wb(),u.Xb(45,"button",14),u.Dc(46," Dalje "),u.Wb(),u.Wb(),u.Sb(47,"nb-step",15),u.Sb(48,"nb-step",16),u.Wb()),2&e&&(u.Eb(9),u.nc("badgeText",n.brojOtpad())("tabIcon",n.trashIco),u.Eb(6),u.nc("checked",n.operacije.includes("Proizvodnja Neopasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Transport Neopasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Tretman Neopasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Odlaganje Neopasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Skladi\u0161tenje Neopasnog Otpada")),u.Eb(6),u.nc("checked",n.operacije.includes("Proizvodnja Opasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Transport Opasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Tretman Opasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Odlaganje Opasnog Otpada")),u.Eb(2),u.nc("checked",n.operacije.includes("Skladi\u0161tenje Opasnog Otpada")),u.Eb(2),u.nc("tabIcon",n.carBatteryIco),u.Eb(1),u.nc("tabIcon",n.recyleIco),u.Eb(1),u.nc("tabIcon",n.waterIco),u.Eb(1),u.nc("tabIcon",n.airIco),u.Eb(3),u.nc("disabled",0==n.operacije.length))},directives:[j.kb,j.jb,j.ob,j.nb,j.f,j.h,j.i,j.g,j.tb,j.s,c.d],styles:[""]}),Tt)},{path:"register-informacije",component:pt},{path:"register-dozvola",component:$},{path:"register-potvrda",component:(Pt=function(e){_inherits(i,e);var n=_createSuper(i);function i(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,i),(t=n.call(this,e,a,o,r)).service=e,t.options=a,t.cd=o,t.router=r,t.registerService=l,t.redirectDelay=0,t.showMessages=[],t.strategy="",t.submitted=!1,t.errors=[],t.messages=[],t.redirectDelay=t.getConfigValue("forms.register.redirectDelay"),t.showMessages=t.getConfigValue("forms.register.showMessages"),t.strategy=t.getConfigValue("forms.register.strategy"),t}return _createClass(i,[{key:"getConfigValue",value:function(e){return Object(W.n)(this.options,e,null)}},{key:"ngAfterViewInit",value:function(){this.operacije$=this.registerService.getOperacije(),this.firma$=this.registerService.getFirma(),this.korisnik$=this.registerService.getKorisnik()}},{key:"register",value:function(){var e,n=this;this.errors=this.messages=[],this.submitted=!0,this.korisnik$.subscribe((function(n){e=n})),this.firma$.subscribe((function(n){e.firma=n})),this.service.register(this.strategy,e).subscribe((function(e){n.submitted=!1,e.isSuccess()?n.messages=e.getMessages():n.errors=e.getErrors();var i=e.getRedirect();i&&setTimeout((function(){return n.router.navigateByUrl(i)}),n.redirectDelay),n.cd.detectChanges()}))}}]),i}(W.k),Pt.\u0275fac=function(e){return new(e||Pt)(u.Rb(W.g),u.Rb(W.a),u.Rb(u.h),u.Rb(c.c),u.Rb(m))},Pt.\u0275cmp=u.Lb({type:Pt,selectors:[["ngx-register-potvrda"]],features:[u.Bb],decls:164,vars:60,consts:[[1,"text-center"],["selectedIndex","4"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(u.Xb(0,"h1",0),u.Dc(1,"Registruj se!"),u.Wb(),u.Xb(2,"nb-stepper",1),u.Xb(3,"nb-step",2),u.Dc(4,"Test"),u.Wb(),u.Sb(5,"nb-step",3),u.Sb(6,"nb-step",4),u.Sb(7,"nb-step",5),u.Xb(8,"nb-step",6),u.Xb(9,"div",7),u.Xb(10,"div",8),u.Xb(11,"div",9),u.Xb(12,"h5"),u.Dc(13,"Korisnik:"),u.Wb(),u.Wb(),u.Xb(14,"div",9),u.Xb(15,"div",10),u.Xb(16,"label",11),u.Dc(17,"Ime:"),u.Wb(),u.Wb(),u.Xb(18,"div",10),u.Xb(19,"button",12),u.Dc(20),u.ic(21,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(22,"div",9),u.Xb(23,"div",10),u.Xb(24,"label",11),u.Dc(25,"Prezime:"),u.Wb(),u.Wb(),u.Xb(26,"div",10),u.Xb(27,"button",12),u.Dc(28),u.ic(29,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(30,"div",9),u.Xb(31,"div",10),u.Xb(32,"label",11),u.Dc(33,"Telefon:"),u.Wb(),u.Wb(),u.Xb(34,"div",10),u.Xb(35,"button",12),u.Dc(36),u.ic(37,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(38,"div",9),u.Xb(39,"div",10),u.Xb(40,"label",11),u.Dc(41,"Email:"),u.Wb(),u.Wb(),u.Xb(42,"div",10),u.Xb(43,"button",12),u.Dc(44),u.ic(45,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(46,"div",9),u.Xb(47,"div",10),u.Xb(48,"label",11),u.Dc(49,"Korisni\u010dko ime:"),u.Wb(),u.Wb(),u.Xb(50,"div",10),u.Xb(51,"button",12),u.Dc(52),u.ic(53,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(54,"div",9),u.Xb(55,"h5"),u.Dc(56,"Rad firme:"),u.Wb(),u.Wb(),u.Xb(57,"div",9),u.Xb(58,"div",10),u.Bc(59,Nt,2,1,"button",13),u.ic(60,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(61,"div",14),u.Xb(62,"div",10),u.Xb(63,"div",9),u.Xb(64,"h5"),u.Dc(65,"Firma:"),u.Wb(),u.Wb(),u.Xb(66,"div",9),u.Xb(67,"div",10),u.Xb(68,"label",11),u.Dc(69,"Naziv:"),u.Wb(),u.Wb(),u.Xb(70,"div",10),u.Xb(71,"button",15),u.Dc(72),u.ic(73,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(74,"div",9),u.Xb(75,"div",16),u.Xb(76,"label",11),u.Dc(77,"PIB:"),u.Wb(),u.Wb(),u.Xb(78,"div",16),u.Xb(79,"label",11),u.Dc(80,"Mati\u010dni broj:"),u.Wb(),u.Wb(),u.Xb(81,"div",16),u.Xb(82,"button",15),u.Dc(83),u.ic(84,"async"),u.Wb(),u.Wb(),u.Xb(85,"div",16),u.Xb(86,"button",15),u.Dc(87),u.ic(88,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(89,"div",9),u.Xb(90,"div",10),u.Xb(91,"label",11),u.Dc(92,"Adresa:"),u.Wb(),u.Xb(93,"button",15),u.Dc(94),u.ic(95,"async"),u.ic(96,"async"),u.ic(97,"async"),u.ic(98,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(99,"div",9),u.Xb(100,"div",10),u.Xb(101,"label",11),u.Dc(102,"Delatnost:"),u.Wb(),u.Wb(),u.Xb(103,"div",10),u.Xb(104,"button",15),u.Dc(105),u.ic(106,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(107,"div",9),u.Xb(108,"div",16),u.Xb(109,"label",11),u.Dc(110,"Email:"),u.Wb(),u.Wb(),u.Xb(111,"div",16),u.Xb(112,"label",11),u.Dc(113,"Telefon:"),u.Wb(),u.Wb(),u.Xb(114,"div",17),u.Xb(115,"button",15),u.Xb(116,"p",18),u.Dc(117),u.ic(118,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(119,"div",17),u.Xb(120,"button",15),u.Dc(121),u.ic(122,"async"),u.Wb(),u.Wb(),u.Xb(123,"div",16),u.Xb(124,"label",11),u.Dc(125,"Email za prijem dokumenata:"),u.Wb(),u.Wb(),u.Xb(126,"div",16),u.Xb(127,"label",11),u.Dc(128,"Faks:"),u.Wb(),u.Wb(),u.Xb(129,"div",16),u.Xb(130,"button",15),u.Xb(131,"p",18),u.Dc(132),u.ic(133,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(134,"div",16),u.Xb(135,"button",15),u.Dc(136),u.ic(137,"async"),u.ic(138,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(139,"div",9),u.Xb(140,"div",10),u.Xb(141,"label",11),u.Dc(142,"Zakonski zastupnik firme:"),u.Wb(),u.Wb(),u.Xb(143,"div",10),u.Xb(144,"button",15),u.Dc(145),u.ic(146,"async"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(147,"form",19),u.fc("ngSubmit",(function(){return n.register()})),u.Xb(148,"button",20),u.Dc(149," Nazad "),u.Wb(),u.Xb(150,"button",21),u.Dc(151," Zavr\u0161i "),u.Wb(),u.Wb(),u.Xb(152,"div",22),u.Xb(153,"div",23),u.Xb(154,"nb-checkbox",24,25),u.Dc(156," Sla\u017eem se sa "),u.Xb(157,"a",26),u.Xb(158,"strong"),u.Dc(159,"Uslovima Kori\u0161\u0107enjima"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(160,"div",23),u.Xb(161,"nb-checkbox",27,28),u.Dc(163,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e){var i,t,a,o,r,l,c,s,b,d,g,f,v,p=u.tc(155),m=u.tc(162),h=null,k=null;u.Eb(20),u.Ec(null==(i=u.jc(21,20,n.korisnik$))?null:i.ime),u.Eb(8),u.Ec(null==(t=u.jc(29,22,n.korisnik$))?null:t.prezime),u.Eb(8),u.Ec(null==(a=u.jc(37,24,n.korisnik$))?null:a.telefon),u.Eb(8),u.Ec(null==(o=u.jc(45,26,n.korisnik$))?null:o.email),u.Eb(8),u.Ec(null==(r=u.jc(53,28,n.korisnik$))?null:r.korisnickoIme),u.Eb(7),u.nc("ngForOf",u.jc(60,30,n.operacije$)),u.Eb(13),u.Ec(null==(l=u.jc(73,32,n.firma$))?null:l.naziv),u.Eb(11),u.Ec(null==(c=u.jc(84,34,n.firma$))?null:c.pib),u.Eb(4),u.Ec(null==(s=u.jc(88,36,n.firma$))?null:s.mat),u.Eb(7),u.Ic(" ",null==(h=u.jc(95,38,n.firma$))?null:h.adresa.mesto.opstinaNaziv,", ",null==(h=u.jc(96,40,n.firma$))?null:h.adresa.mesto.mestoNaziv,", ",null==(h=u.jc(97,42,n.firma$))?null:h.adresa.ulica," ",null==(h=u.jc(98,44,n.firma$))?null:h.adresa.mesto.postanskiBroj,""),u.Eb(11),u.Ec(null==(b=u.jc(106,46,n.firma$))?null:b.delatnost.naziv),u.Eb(12),u.Ec(null==(d=u.jc(118,48,n.firma$))?null:d.email),u.Eb(4),u.Ec(null==(g=u.jc(122,50,n.firma$))?null:g.telefon),u.Eb(11),u.Ec(null==(f=u.jc(133,52,n.firma$))?null:f.emailPrijem),u.Eb(4),u.Ec(""===(null==(k=u.jc(137,54,n.firma$))?null:k.faks)?"/":null==(k=u.jc(138,56,n.firma$))?null:k.faks),u.Eb(9),u.Ec(null==(v=u.jc(146,58,n.firma$))?null:v.zakonskiZastupnik),u.Eb(5),u.nc("disabled",!(p.checked&&m.checked))}},directives:[j.kb,j.jb,j.s,r.m,l.w,l.l,l.m,c.d,j.z],pipes:[r.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),Pt)},{path:"logout",component:V},{path:"request-password",component:W.l},{path:"reset-password",component:W.m}]}],At=((Ut=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:Ut}),Ut.\u0275inj=u.Ob({factory:function(e){return new(e||Ut)},imports:[[c.g.forChild(Rt)],c.g]}),Ut),Zt=((_t=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:_t}),_t.\u0275inj=u.Ob({factory:function(e){return new(e||_t)},providers:[p,f,m,h.a,v.a],imports:[[k.a,r.c,c.g,j.o,j.J,j.t,j.A,At,j.fb,l.e,j.ub,j.j,j.pb,j.r,j.lb,j.x,s.c,j.Y]]}),_t)}}]);