(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"723k":function(i,n,e){"use strict";e.r(n),e.d(n,"ProfileModule",(function(){return ji}));var t=e("ofXK"),a=e("3Pt+"),l=e("aceb"),o=e("RS3s"),s=e("tyNb"),r=e("ud2R"),b=e("fXoL"),d=e("McNs"),c=e("SxV6"),u=e("v7Ib");function f(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Ime je obavezno! "),b.Wb())}function g(i,n){if(1&i&&(b.Xb(0,"p",27),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.ime.maxLength")," ")}}function p(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Ime mora biti validno! "),b.Wb())}function m(i,n){if(1&i&&(b.Vb(0),b.Cc(1,f,2,0,"p",26),b.Cc(2,g,2,2,"p",26),b.Cc(3,p,2,0,"p",26),b.Ub()),2&i){b.hc();const i=b.uc(8);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function v(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Prezime je obavezno! "),b.Wb())}function h(i,n){if(1&i&&(b.Xb(0,"p",27),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Prezime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.prezime.maxLength")," ")}}function W(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Prezime mora biti validno! "),b.Wb())}function k(i,n){if(1&i&&(b.Vb(0),b.Cc(1,v,2,0,"p",26),b.Cc(2,h,2,2,"p",26),b.Cc(3,W,2,0,"p",26),b.Ub()),2&i){b.hc();const i=b.uc(16),n=b.uc(8);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function X(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Email je obavezan! "),b.Wb())}function E(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Email mora biti validan! "),b.Wb())}function C(i,n){if(1&i&&(b.Vb(0),b.Cc(1,X,2,0,"p",26),b.Cc(2,E,2,0,"p",26),b.Ub()),2&i){b.hc();const i=b.uc(24);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function z(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Korisni\u010dko ime je obavezno! "),b.Wb())}function I(i,n){if(1&i&&(b.Xb(0,"p",27),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function M(i,n){if(1&i&&(b.Vb(0),b.Cc(1,z,2,0,"p",26),b.Cc(2,I,2,2,"p",26),b.Ub()),2&i){b.hc();const i=b.uc(32);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function S(i,n){1&i&&(b.Xb(0,"p",27),b.Ec(1," Telefon je obavezan! "),b.Wb())}function w(i,n){if(1&i&&(b.Xb(0,"p",27),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Telefon mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function x(i,n){if(1&i&&(b.Vb(0),b.Cc(1,S,2,0,"p",26),b.Cc(2,w,2,2,"p",26),b.Ub()),2&i){b.hc();const i=b.uc(40);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}let y=(()=>{class i{constructor(i,n={},e,t){this.korisnikService=i,this.options=n,this.toastrService=e,this.authService=t,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}ngOnInit(){this.korisnikService.getCurrentKorisnik().pipe(Object(c.a)()).subscribe(i=>{this.korisnik=i})}getConfigValue(i){return Object(d.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateKorisnik(i){if(i.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;let i=null;this.authService.getToken().subscribe(n=>{i=n}),this.authService.refreshToken("email",i).subscribe(i=>{})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,n,e){this.toastrService.show(n,i,{status:e})}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(u.a),b.Rb(d.a),b.Rb(l.Hb),b.Rb(d.g))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,n){if(1&i){const i=b.Yb();b.Xb(0,"form",0,1),b.fc("ngSubmit",(function(){b.wc(i);const e=b.uc(1);return n.updateKorisnik(e)})),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"label",4),b.Ec(5,"Ime:"),b.Wb(),b.Wb(),b.Xb(6,"div",5),b.Xb(7,"input",6,7),b.fc("ngModelChange",(function(i){return n.korisnik.ime=i})),b.Wb(),b.Cc(9,m,4,3,"ng-container",8),b.Wb(),b.Wb(),b.Xb(10,"div",2),b.Xb(11,"div",3),b.Xb(12,"label",9),b.Ec(13,"Prezime:"),b.Wb(),b.Wb(),b.Xb(14,"div",5),b.Xb(15,"input",10,11),b.fc("ngModelChange",(function(i){return n.korisnik.prezime=i})),b.Wb(),b.Cc(17,k,4,3,"ng-container",8),b.Wb(),b.Wb(),b.Xb(18,"div",2),b.Xb(19,"div",3),b.Xb(20,"label",12),b.Ec(21,"Email:"),b.Wb(),b.Wb(),b.Xb(22,"div",5),b.Xb(23,"input",13,14),b.fc("ngModelChange",(function(i){return n.korisnik.email=i})),b.Wb(),b.Cc(25,C,3,2,"ng-container",8),b.Wb(),b.Wb(),b.Xb(26,"div",2),b.Xb(27,"div",3),b.Xb(28,"label",15),b.Ec(29,"Korisni\u010dko ime:"),b.Wb(),b.Wb(),b.Xb(30,"div",5),b.Xb(31,"input",16,17),b.fc("ngModelChange",(function(i){return n.korisnik.korisnickoIme=i})),b.Wb(),b.Cc(33,M,3,2,"ng-container",8),b.Wb(),b.Wb(),b.Xb(34,"div",2),b.Xb(35,"div",3),b.Xb(36,"label",18),b.Ec(37,"Telefon:"),b.Wb(),b.Wb(),b.Xb(38,"div",5),b.Xb(39,"input",19,20),b.fc("ngModelChange",(function(i){return n.korisnik.telefon=i})),b.Wb(),b.Cc(41,x,3,2,"ng-container",8),b.Wb(),b.Wb(),b.Xb(42,"div",21),b.Sb(43,"div",22),b.Xb(44,"div",23),b.Xb(45,"button",24),b.fc("click",(function(){return n.enableInputs()})),b.Ec(46,"IZMENI"),b.Wb(),b.Wb(),b.Xb(47,"div",23),b.Xb(48,"button",25),b.Ec(49,"SA\u010cUVAJ"),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.uc(8),e=b.uc(16),t=b.uc(24),a=b.uc(32),l=b.uc(40);b.Eb(7),b.nc("ngModel",n.korisnik.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),b.Eb(2),b.nc("ngIf",i.invalid&&i.touched),b.Eb(6),b.nc("ngModel",n.korisnik.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),b.Eb(2),b.nc("ngIf",e.invalid&&e.touched),b.Eb(6),b.nc("ngModel",n.korisnik.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched),b.Eb(6),b.nc("ngModel",n.korisnik.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.invalid&&a.touched),b.Eb(6),b.nc("ngModel",n.korisnik.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),b.Eb(2),b.nc("ngIf",l.invalid&&l.touched),b.Eb(4),b.nc("disabled",!n.inputsDisabled),b.Eb(3),b.nc("disabled",n.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.f,a.g,a.q,a.s,t.n,l.t],styles:[""]}),i})();var j=e("g6/h");function V(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Email je obavezan! "),b.Wb())}function O(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Email mora biti validan! "),b.Wb())}function D(i,n){if(1&i&&(b.Vb(0),b.Cc(1,V,2,0,"p",37),b.Cc(2,O,2,0,"p",37),b.Ub()),2&i){b.hc();const i=b.uc(31);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function q(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Email je obavezan! "),b.Wb())}function F(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Email mora biti validan! "),b.Wb())}function T(i,n){if(1&i&&(b.Vb(0),b.Cc(1,q,2,0,"p",37),b.Cc(2,F,2,0,"p",37),b.Ub()),2&i){b.hc();const i=b.uc(39);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function L(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Telefon je obavezan! "),b.Wb())}function P(i,n){if(1&i&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Telefon mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function U(i,n){if(1&i&&(b.Vb(0),b.Cc(1,L,2,0,"p",37),b.Cc(2,P,2,2,"p",37),b.Ub()),2&i){b.hc();const i=b.uc(47);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function R(i,n){if(1&i&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&i){const i=b.hc(3);b.Eb(1),b.Hc(" Faks mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function B(i,n){if(1&i&&(b.Vb(0),b.Cc(1,R,2,2,"p",37),b.Ub()),2&i){b.hc();const i=b.uc(6);b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function N(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div",4),b.Xb(1,"div",5),b.Xb(2,"label",39),b.Ec(3,"Faks:"),b.Wb(),b.Wb(),b.Xb(4,"div",3),b.Xb(5,"input",40,41),b.fc("ngModelChange",(function(n){return b.wc(i),b.hc().firma.faks=n})),b.Wb(),b.Cc(7,B,2,1,"ng-container",18),b.Wb(),b.Wb()}if(2&i){const i=b.uc(6),n=b.hc();b.Eb(5),b.nc("ngModel",n.firma.faks)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),b.Eb(2),b.nc("ngIf",i.invalid&&i.touched)}}function A(i,n){1&i&&(b.Xb(0,"p",38),b.Ec(1," Zakosni zastupnik firme je obavezan! "),b.Wb())}function Z(i,n){if(1&i&&(b.Xb(0,"p",38),b.Ec(1),b.Wb()),2&i){const i=b.hc(2);b.Eb(1),b.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",i.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function $(i,n){if(1&i&&(b.Vb(0),b.Cc(1,A,2,0,"p",37),b.Cc(2,Z,2,2,"p",37),b.Ub()),2&i){b.hc();const i=b.uc(56);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function K(i,n){1&i&&b.Sb(0,"input",42),2&i&&b.nc("placeholder",n.$implicit)}let Y=(()=>{class i{constructor(i,n={},e,t){this.firmaService=i,this.options=n,this.toastrService=e,this.authService=t,this.firma={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:{sifra:"",naziv:"",_id:""},email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.inputsDisabled=!0}ngOnInit(){this.firmaService.getCurrentFirma().pipe(Object(c.a)()).subscribe(i=>{this.firma=i})}getConfigValue(i){return Object(d.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateFirma(i){if(i.valid){this.firmaService.updateFirma(this.firma).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;let i=null;this.authService.getToken().subscribe(n=>{i=n}),this.authService.refreshToken("email",i).subscribe(i=>{})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,n,e){this.toastrService.show(n,i,{status:e})}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(j.a),b.Rb(d.a),b.Rb(l.Hb),b.Rb(d.g))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile-firma"]],decls:79,vars:38,consts:[[1,"col-12",3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["disabled","","fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["disabled","","fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["disabled","","fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder",4,"ngFor","ngForOf"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","disabled","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder"]],template:function(i,n){if(1&i){const i=b.Yb();b.Xb(0,"form",0,1),b.fc("ngSubmit",(function(){b.wc(i);const e=b.uc(1);return n.updateFirma(e)})),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"label",6),b.Ec(7,"Naziv Firme:"),b.Wb(),b.Wb(),b.Xb(8,"div",3),b.Xb(9,"input",7,8),b.fc("ngModelChange",(function(i){return n.firma.naziv=i})),b.Wb(),b.Wb(),b.Wb(),b.Xb(11,"div",4),b.Xb(12,"div",5),b.Xb(13,"label",9),b.Ec(14,"PIB:"),b.Wb(),b.Wb(),b.Xb(15,"div",3),b.Xb(16,"input",10,11),b.fc("ngModelChange",(function(i){return n.firma.pib=i})),b.Wb(),b.Wb(),b.Wb(),b.Xb(18,"div",4),b.Xb(19,"div",5),b.Xb(20,"label",12),b.Ec(21,"Mati\u010dni broj:"),b.Wb(),b.Wb(),b.Xb(22,"div",3),b.Xb(23,"input",13,14),b.fc("ngModelChange",(function(i){return n.firma.mat=i})),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"div",4),b.Xb(26,"div",5),b.Xb(27,"label",15),b.Ec(28,"Email:"),b.Wb(),b.Wb(),b.Xb(29,"div",3),b.Xb(30,"input",16,17),b.fc("ngModelChange",(function(i){return n.firma.email=i})),b.Wb(),b.Cc(32,D,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Xb(33,"div",4),b.Xb(34,"div",5),b.Xb(35,"label",19),b.Ec(36,"Email za prijem dokumenata:"),b.Wb(),b.Wb(),b.Xb(37,"div",3),b.Xb(38,"input",20,21),b.fc("ngModelChange",(function(i){return n.firma.emailPrijem=i})),b.Wb(),b.Cc(40,T,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Xb(41,"div",4),b.Xb(42,"div",5),b.Xb(43,"label",22),b.Ec(44,"Telefon:"),b.Wb(),b.Wb(),b.Xb(45,"div",3),b.Xb(46,"input",23,24),b.fc("ngModelChange",(function(i){return n.firma.telefon=i})),b.Wb(),b.Cc(48,U,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Cc(49,N,8,7,"div",25),b.Xb(50,"div",4),b.Xb(51,"div",5),b.Xb(52,"label",26),b.Ec(53,"Zakonski Zastupnik Firme:"),b.Wb(),b.Wb(),b.Xb(54,"div",3),b.Xb(55,"input",27,28),b.fc("ngModelChange",(function(i){return n.firma.zakonskiZastupnik=i})),b.Wb(),b.Cc(57,$,3,2,"ng-container",18),b.Wb(),b.Wb(),b.Wb(),b.Xb(58,"div",3),b.Xb(59,"div",4),b.Xb(60,"div",5),b.Xb(61,"label",29),b.Ec(62,"Adresa Firme:"),b.Wb(),b.Wb(),b.Xb(63,"div",5),b.Sb(64,"input",30),b.Wb(),b.Wb(),b.Xb(65,"div",2),b.Xb(66,"div",5),b.Xb(67,"label",31),b.Ec(68,"Rad firme:"),b.Wb(),b.Wb(),b.Xb(69,"div",5),b.Cc(70,K,1,1,"input",32),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(71,"div",2),b.Sb(72,"div",33),b.Xb(73,"div",34),b.Xb(74,"button",35),b.fc("click",(function(){return n.enableInputs()})),b.Ec(75," IZMENI "),b.Wb(),b.Wb(),b.Xb(76,"div",34),b.Xb(77,"button",36),b.Ec(78,"SA\u010cUVAJ"),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.uc(31),e=b.uc(39),t=b.uc(47),a=b.uc(56);b.Eb(9),b.nc("ngModel",n.firma.naziv),b.Eb(7),b.nc("ngModel",n.firma.pib),b.Eb(7),b.nc("ngModel",n.firma.mat),b.Eb(7),b.nc("ngModel",n.firma.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),b.Eb(2),b.nc("ngIf",i.invalid&&i.touched),b.Eb(6),b.nc("ngModel",n.firma.emailPrijem)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),b.Eb(2),b.nc("ngIf",e.invalid&&e.touched),b.Eb(6),b.nc("ngModel",n.firma.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched),b.Eb(1),b.nc("ngIf",""===n.firma.faks),b.Eb(6),b.nc("ngModel",n.firma.zakonskiZastupnik)("maxlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",n.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),b.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),b.Eb(2),b.nc("ngIf",a.invalid&&a.touched),b.Eb(7),b.nc("placeholder",n.firma.adresa.mesto.opstinaNaziv+", "+n.firma.adresa.mesto.mestoNaziv+", "+n.firma.adresa.ulica),b.Eb(6),b.nc("ngForOf",n.firma.radFirme),b.Eb(4),b.nc("disabled",!n.inputsDisabled),b.Eb(3),b.nc("disabled",n.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.q,a.s,t.n,a.f,a.g,t.m,l.t],styles:[".divider-left[_ngcontent-%COMP%]{border-left:1px solid grey}"]}),i})();var H=e("pVkk");function _(i,n){1&i&&(b.Xb(0,"label",23),b.Ec(1,"Naziv Deponije:"),b.Wb())}function J(i,n){1&i&&(b.Xb(0,"label",23),b.Ec(1,"Naziv Skladi\u0161ta za tretman:"),b.Wb())}function G(i,n){1&i&&(b.Xb(0,"label",23),b.Ec(1,"Naziv Skladi\u0161ta za skladi\u0161tenje:"),b.Wb())}function Q(i,n){1&i&&(b.Xb(0,"label",23),b.Ec(1,"Naziv Skladi\u0161ta:"),b.Wb())}function ii(i,n){1&i&&(b.Xb(0,"p",25),b.Ec(1," Naziv skladi\u0161ta je obavezan! "),b.Wb())}function ni(i,n){if(1&i&&(b.Vb(0),b.Cc(1,ii,2,0,"p",24),b.Ub()),2&i){b.hc();const i=b.uc(11);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}function ei(i,n){1&i&&(b.Xb(0,"p",25),b.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),b.Wb())}function ti(i,n){if(1&i&&(b.Vb(0),b.Cc(1,ei,2,0,"p",24),b.Ub()),2&i){b.hc();const i=b.uc(19);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}const ai=function(){return{standalone:!0}};function li(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",3),b.Xb(2,"div",8),b.Xb(3,"div",9),b.Xb(4,"div",10),b.Cc(5,_,2,0,"label",11),b.Cc(6,J,2,0,"label",11),b.Cc(7,G,2,0,"label",11),b.Cc(8,Q,2,0,"label",12),b.Wb(),b.Xb(9,"div",8),b.Xb(10,"input",13,14),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(12,ni,2,1,"ng-container",15),b.Wb(),b.Wb(),b.Xb(13,"div",9),b.Xb(14,"div",16),b.Xb(15,"label",17),b.Ec(16,"Veli\u010dina skladi\u0161ta:"),b.Wb(),b.Wb(),b.Xb(17,"div",8),b.Xb(18,"input",18,19),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.maxKolicina=e})),b.Wb(),b.Cc(20,ti,2,1,"ng-container",15),b.Wb(),b.Wb(),b.Wb(),b.Xb(21,"div",8),b.Xb(22,"div",9),b.Xb(23,"div",16),b.Xb(24,"label",20),b.Ec(25,"Adresa Skladi\u0161ta:"),b.Wb(),b.Wb(),b.Xb(26,"div",16),b.Sb(27,"input",21),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(28,"div",9),b.Xb(29,"div",16),b.Xb(30,"nb-progress-bar",22),b.Ec(31),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=n.$implicit,e=b.uc(11),t=b.uc(19),a=b.hc();b.Eb(4),b.nc("ngSwitch",i.__t),b.Eb(1),b.nc("ngSwitchCase","SkladisteDeponija"),b.Eb(1),b.nc("ngSwitchCase","SkladisteTretman"),b.Eb(1),b.nc("ngSwitchCase","SkladisteSkladistenje"),b.Eb(3),b.nc("ngModel",i.naziv)("ngModelOptions",b.qc(26,ai))("maxlength",a.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",a.getConfigValue("forms.validation.nazivFirme.minLength"))("required",a.getConfigValue("forms.validation.nazivFirme.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",a.inputsDisabled),b.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),b.Eb(2),b.nc("ngIf",e.invalid&&e.touched),b.Eb(6),b.nc("ngModel",i.maxKolicina)("ngModelOptions",b.qc(27,ai))("pattern",a.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",a.getConfigValue("forms.validation.velicinaSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",a.inputsDisabled),b.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),b.Eb(2),b.nc("ngIf",t.invalid&&t.touched),b.Eb(7),b.nc("placeholder",i.adresa.mesto.opstinaNaziv+", "+i.adresa.mesto.mestoNaziv+", "+i.adresa.ulica),b.Eb(3),b.nc("value",a.calculateValue(i))("status",a.calculateStatus(i)),b.Eb(1),b.Hc(" ",i.kolicina,"/",i.maxKolicina," ")}}let oi=(()=>{class i{constructor(i,n={},e){this.skladisteService=i,this.options=n,this.toastrService=e,this.skladista=[],this.inputsDisabled=!0}ngOnInit(){this.skladisteService.getAllSkladistaFirme().pipe(Object(c.a)()).subscribe(i=>{this.skladista=i})}getConfigValue(i){return Object(d.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateSkladiste(i){i.valid?(this.skladista.forEach(i=>this.skladisteService.updateSkladiste(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,n,e){this.toastrService.show(n,i,{status:e})}calculateStatus(i){return i.kolicina/i.maxKolicina*100<33?"success":i.kolicina/i.maxKolicina*100<66?"warning":"danger"}calculateValue(i){return i.kolicina/i.maxKolicina*100}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(H.a),b.Rb(d.a),b.Rb(l.Hb))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile-skladiste"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","status","primary","fullWidth","","type","button",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12",3,"ngSwitch"],["class","label","for","input-naziv",4,"ngSwitchCase"],["class","label","for","input-naziv",4,"ngSwitchDefault"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],[1,"col-12"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","disabled","ngModelChange"],["velicina","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],["size","large",3,"value","status"],["for","input-naziv",1,"label"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,n){if(1&i){const i=b.Yb();b.Xb(0,"form",0,1),b.fc("ngSubmit",(function(){b.wc(i);const e=b.uc(1);return n.updateSkladiste(e)})),b.Cc(2,li,32,28,"div",2),b.Xb(3,"div",3),b.Sb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"button",6),b.fc("click",(function(){return n.enableInputs()})),b.Ec(7," IZMENI "),b.Wb(),b.Wb(),b.Xb(8,"div",5),b.Xb(9,"button",7),b.Ec(10,"SA\u010cUVAJ"),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&i&&(b.Eb(2),b.nc("ngForOf",n.skladista),b.Eb(4),b.nc("disabled",!n.inputsDisabled),b.Eb(3),b.nc("disabled",n.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,t.o,t.p,t.q,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,a.p,a.q,l.hb],styles:[""]}),i})();var si=e("O97o"),ri=e("O8xV"),bi=e("7IaX");const di=["viewTrash"];function ci(i,n){1&i&&(b.Xb(0,"p",30),b.Ec(1," Naziv dozvole je obavezan! "),b.Wb())}function ui(i,n){if(1&i&&(b.Vb(0),b.Cc(1,ci,2,0,"p",29),b.Ub()),2&i){b.hc();const i=b.uc(9);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required)}}const fi=function(){return{standalone:!0}};function gi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div",10),b.Xb(1,"div",11),b.Xb(2,"label",31),b.Ec(3,"Skladi\u0161te:"),b.Wb(),b.Wb(),b.Xb(4,"div",9),b.Xb(5,"input",32),b.fc("ngModelChange",(function(n){return b.wc(i),b.hc().$implicit.skladistaSkladistenje.naziv=n})),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.hc().$implicit;b.Eb(5),b.nc("ngModel",i.skladistaSkladistenje.naziv)("ngModelOptions",b.qc(2,fi))}}function pi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div",10),b.Xb(1,"div",11),b.Xb(2,"label",33),b.Ec(3,"Skladi\u0161te:"),b.Wb(),b.Wb(),b.Xb(4,"div",9),b.Xb(5,"input",34),b.fc("ngModelChange",(function(n){return b.wc(i),b.hc().$implicit.skladistaDeponija.naziv=n})),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.hc().$implicit;b.Eb(5),b.nc("ngModel",i.skladistaDeponija.naziv)("ngModelOptions",b.qc(2,fi))}}function mi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div",10),b.Xb(1,"div",11),b.Xb(2,"label",35),b.Ec(3,"Skladi\u0161te:"),b.Wb(),b.Wb(),b.Xb(4,"div",9),b.Xb(5,"input",36),b.fc("ngModelChange",(function(n){return b.wc(i),b.hc().$implicit.skladistaTretman.naziv=n})),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.hc().$implicit;b.Eb(5),b.nc("ngModel",i.skladistaTretman.naziv)("ngModelOptions",b.qc(2,fi))}}function vi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",3),b.Xb(2,"div",9),b.Xb(3,"div",10),b.Xb(4,"div",11),b.Xb(5,"label",12),b.Ec(6,"Naziv dozvole:"),b.Wb(),b.Wb(),b.Xb(7,"div",9),b.Xb(8,"input",13,14),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.naziv=e})),b.Wb(),b.Cc(10,ui,2,1,"ng-container",15),b.Wb(),b.Wb(),b.Xb(11,"div",10),b.Xb(12,"div",11),b.Xb(13,"label",16),b.Ec(14,"\u0160ifra dozvole:"),b.Wb(),b.Wb(),b.Xb(15,"div",9),b.Xb(16,"input",17),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.sifra=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(17,"div",10),b.Xb(18,"div",11),b.Xb(19,"label",18),b.Ec(20,"Datum trajanja dozvole:"),b.Wb(),b.Wb(),b.Xb(21,"div",19),b.Sb(22,"input",20),b.Wb(),b.Xb(23,"button",21),b.Ec(24,"-"),b.Wb(),b.Xb(25,"div",22),b.Sb(26,"input",23),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",9),b.Xb(28,"div",10),b.Xb(29,"div",11),b.Xb(30,"label",24),b.Ec(31,"Vrsta dozvole:"),b.Wb(),b.Wb(),b.Xb(32,"div",9),b.Xb(33,"input",25),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.vrstaDozvole=e})),b.Wb(),b.Wb(),b.Wb(),b.Cc(34,gi,6,3,"div",26),b.Cc(35,pi,6,3,"div",26),b.Cc(36,mi,6,3,"div",26),b.Xb(37,"div",10),b.Xb(38,"div",11),b.Sb(39,"label",27),b.Wb(),b.Xb(40,"div",9),b.Xb(41,"button",28),b.fc("click",(function(){b.wc(i);const e=n.$implicit;return b.hc().showOtpade(e)})),b.Ec(42,"Pogledaj listu otpada "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=n.$implicit,e=b.uc(9),t=b.hc();b.Eb(8),b.nc("ngModel",i.naziv)("ngModelOptions",b.qc(18,fi))("maxlength",t.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",t.getConfigValue("forms.validation.nazivFirme.minLength"))("required",t.getConfigValue("forms.validation.nazivFirme.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),b.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),b.Eb(2),b.nc("ngIf",e.invalid&&e.touched),b.Eb(6),b.nc("ngModel",i.sifra)("ngModelOptions",b.qc(19,fi)),b.Eb(6),b.nc("placeholder",t.getDate(i.datumNastanka)),b.Eb(4),b.nc("placeholder",t.getDate(i.datumTrajanja)),b.Eb(7),b.nc("ngModel",i.vrstaDozvole)("ngModelOptions",b.qc(20,fi)),b.Eb(1),b.nc("ngIf",void 0!==i.skladistaSkladistenje),b.Eb(1),b.nc("ngIf",void 0!==i.skladistaDeponija),b.Eb(1),b.nc("ngIf",void 0!==i.skladistaTretman)}}function hi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"button",42),b.fc("click",(function(){b.wc(i);const e=n.$implicit;b.hc();const t=b.uc(10);return b.hc().chooseOtpad(e,t)})),b.Ec(1),b.Wb()}if(2&i){const i=n.$implicit;b.nc("nbPopover",i.naziv),b.Eb(1),b.Gc(" ",i.indeksniBroj," ")}}function Wi(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div",11),b.Xb(1,"label",43),b.Ec(2,"Pretrazi po indeksnom broju:"),b.Wb(),b.Xb(3,"input",44,45),b.fc("input",(function(){b.wc(i);const n=b.uc(4),e=b.hc(2);return n.value.length>=1&&e.onSearch(n.value)})),b.Wb(),b.Xb(5,"ng2-smart-table",46),b.fc("custom",(function(n){b.wc(i),b.hc();const e=b.uc(10);return b.hc().chooseOtpad(n,e)})),b.Wb(),b.Wb()}if(2&i){const i=b.hc(2);b.Eb(5),b.nc("source",i.katalog)("settings",i.katalogSettings)}}function ki(i,n){if(1&i){const i=b.Yb();b.Xb(0,"nb-card"),b.Xb(1,"nb-card-body"),b.Xb(2,"div",3),b.Xb(3,"div",11),b.Cc(4,hi,2,2,"button",37),b.Wb(),b.Cc(5,Wi,6,2,"div",38),b.Wb(),b.Wb(),b.Xb(6,"nb-card-footer",39),b.Xb(7,"div",3),b.Xb(8,"div",9),b.Xb(9,"button",40,41),b.fc("click",(function(){return b.wc(i),b.uc(10).disabled=!0})),b.Ec(11," A\u017dURIRAJ OTPADE "),b.Wb(),b.Wb(),b.Xb(12,"div",9),b.Xb(13,"button",6),b.fc("click",(function(){return b.wc(i),b.hc().updateListaOtpada()})),b.Ec(14," SA\u010cUVAJ PROMENE "),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&i){const i=b.uc(10),n=b.hc();b.Eb(4),b.nc("ngForOf",n.listaOtpada),b.Eb(1),b.nc("ngIf",i.disabled),b.Eb(8),b.nc("disabled",!i.disabled||n.listaOtpada.length<1)}}let Xi=(()=>{class i{constructor(i,n={},e,t,a,l){this.dozvolaService=i,this.options=n,this.toastrService=e,this.datePipe=t,this.katalogService=a,this.windowService=l,this.dozvole=[],this.inputsDisabled=!0,this.listaOtpada=[],this.katalog=new o.a,this.katalogSettings=bi.a,this.firstLoad=!0}ngOnInit(){this.dozvolaService.getDozvolaFirme().pipe(Object(c.a)()).subscribe(i=>{this.dozvole=i})}getConfigValue(i){return Object(d.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateDozvole(i){i.valid?(this.dozvole.forEach(i=>this.dozvolaService.updateDozvola(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}updateListaOtpada(){this.dozvolaService.updateDozvola(this.currDozvola).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.openWindow.close()}showToast(i,n,e){this.toastrService.show(n,i,{status:e})}getDate(i){return this.datePipe.transform(i,"dd-MM-yyyy")}showOtpade(i){this.firstLoad&&(this.firstLoad=!1,this.katalogService.getKatalog().subscribe(i=>{this.katalog.load(i)})),this.currDozvola=i,this.listaOtpada=i.listaOtpada,this.openWindow=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}onSearch(i=""){this.katalog.setFilter([{field:"indeksniBroj",search:i,filter:function(i,n){return i.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}chooseOtpad(i,n){if(!n.disabled)return;let e=i;void 0!==i.data&&(e=i.data),this.listaOtpada.some(i=>i._id===e._id)?this.removeOtpad(e):this.listaOtpada.push(e)}removeOtpad(i){const n=this.listaOtpada.filter(n=>n._id===i._id)[0];if(n){const i=this.listaOtpada.indexOf(n,0);i>-1&&this.listaOtpada.splice(i,1)}}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(si.a),b.Rb(d.a),b.Rb(l.Hb),b.Rb(t.e),b.Rb(ri.a),b.Rb(l.Nb))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile-dozvola"]],viewQuery:function(i,n){var e;1&i&&b.Lc(di,!0,b.N),2&i&&b.tc(e=b.gc())&&(n.viewTrash=e.first)},decls:13,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["viewTrash",""],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-sifra",1,"label"],["disabled","","fullWidth","","id","input-sifra","name","sifra","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-datumNastanka",1,"label"],[1,"col-5","mr-0","pr-0"],["disabled","","fullWidth","","id","input-datumNastanka","name","datumNastanka","nbInput","","type","text",3,"placeholder"],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["disabled","","fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["class","row mb-2",4,"ngIf"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-skladisteSkladistenje",1,"label"],["disabled","","fullWidth","","id","input-skladisteSkladistenje","name","skladisteSkladistenje","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaDeponija",1,"label"],["disabled","","fullWidth","","id","input-skladistaDeponija","name","skladistaDeponija","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaTretman",1,"label"],["disabled","","fullWidth","","id","input-skladistaTretman","name","skladistaTretman","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"border-0"],["nbButton","","fullWidth","","type","button","status","primary",3,"click"],["listaOtpadaButton",""],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(i,n){if(1&i){const i=b.Yb();b.Xb(0,"form",0,1),b.fc("ngSubmit",(function(){b.wc(i);const e=b.uc(1);return n.updateDozvole(e)})),b.Cc(2,vi,43,21,"div",2),b.Xb(3,"div",3),b.Sb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"button",6),b.fc("click",(function(){return n.enableInputs()})),b.Ec(7," IZMENI "),b.Wb(),b.Wb(),b.Xb(8,"div",5),b.Xb(9,"button",7),b.Ec(10,"SA\u010cUVAJ"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Cc(11,ki,15,3,"ng-template",null,8,b.Dc)}2&i&&(b.Eb(2),b.nc("ngForOf",n.dozvole),b.Eb(4),b.nc("disabled",!n.inputsDisabled),b.Eb(3),b.nc("disabled",n.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,l.w,l.v,l.x,l.fb,o.b],styles:[""]}),i})();var Ei=e("8sB5");function Ci(i,n){1&i&&(b.Xb(0,"p",18),b.Ec(1," Registarski broj tablice je obavezan! "),b.Wb())}function zi(i,n){1&i&&(b.Xb(0,"p",18),b.Ec(1," Registarski broj tablice mora biti validan! "),b.Wb())}function Ii(i,n){if(1&i&&(b.Vb(0),b.Cc(1,Ci,2,0,"p",17),b.Cc(2,zi,2,0,"p",17),b.Ub()),2&i){b.hc();const i=b.uc(9);b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.required),b.Eb(1),b.nc("ngIf",null==i.errors?null:i.errors.pattern)}}const Mi=function(){return{standalone:!0}};function Si(i,n){if(1&i){const i=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",3),b.Xb(2,"div",8),b.Xb(3,"div",9),b.Xb(4,"div",10),b.Xb(5,"label",11),b.Ec(6,"Registarski broj tablice:"),b.Wb(),b.Wb(),b.Xb(7,"div",8),b.Xb(8,"input",12,13),b.fc("ngModelChange",(function(e){return b.wc(i),n.$implicit.registarskiBroj=e})),b.Wb(),b.Cc(10,Ii,3,2,"ng-container",14),b.Wb(),b.Wb(),b.Xb(11,"div",9),b.Xb(12,"div",10),b.Xb(13,"label",15),b.Ec(14,"Vrsta vozila:"),b.Wb(),b.Wb(),b.Xb(15,"div",8),b.Sb(16,"input",16),b.Wb(),b.Wb(),b.Wb(),b.Sb(17,"div",8),b.Wb(),b.Wb()}if(2&i){const i=n.$implicit,e=b.uc(9),t=b.hc();b.Eb(8),b.nc("ngModel",i.registarskiBroj)("ngModelOptions",b.qc(7,Mi))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),b.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),b.Eb(2),b.nc("ngIf",e.invalid&&e.touched),b.Eb(6),b.nc("placeholder",i.vrstaVozila)}}let wi=(()=>{class i{constructor(i,n={},e){this.prevoznoSredstvoService=i,this.options=n,this.toastrService=e,this.prevoznoSredstvo=[],this.inputsDisabled=!0}ngOnInit(){this.prevoznoSredstvoService.getPrevoznoSredstvoFirme().pipe(Object(c.a)()).subscribe(i=>{this.prevoznoSredstvo=i})}getConfigValue(i){return Object(d.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updatePrevoznoSredstvo(i){i.valid?(this.prevoznoSredstvo.forEach(i=>this.prevoznoSredstvoService.updatePrevoznoSredstvo(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,n,e){this.toastrService.show(n,i,{status:e})}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(Ei.a),b.Rb(d.a),b.Rb(l.Hb))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile-prevozno-sredstvo"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-registarskiBroj",1,"label"],["required","","pattern","([A-\u017d]{2})-(\\d{3,4})-([A-\u017d]{2})","fullWidth","","id","input-registarskiBroj","name","registarskiBroj","nbInput","","type","text",3,"ngModel","ngModelOptions","status","disabled","ngModelChange"],["registarskiBroj","ngModel"],[4,"ngIf"],["for","input-vrstaVozila",1,"label"],["fullWidth","","disabled","","id","input-vrstaVozila","name","vrstaVozila","nbInput","","type","text",3,"placeholder"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,n){if(1&i){const i=b.Yb();b.Xb(0,"form",0,1),b.fc("ngSubmit",(function(){b.wc(i);const e=b.uc(1);return n.updatePrevoznoSredstvo(e)})),b.Cc(2,Si,18,8,"div",2),b.Xb(3,"div",3),b.Sb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"button",6),b.fc("click",(function(){return n.enableInputs()})),b.Ec(7," IZMENI "),b.Wb(),b.Wb(),b.Xb(8,"div",5),b.Xb(9,"button",7),b.Ec(10,"SA\u010cUVAJ"),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&i&&(b.Eb(2),b.nc("ngForOf",n.prevoznoSredstvo),b.Eb(4),b.nc("disabled",!n.inputsDisabled),b.Eb(3),b.nc("disabled",n.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.s,a.q,a.k,a.n,t.n],styles:[""]}),i})();const xi=[{path:"",component:(()=>{class i{constructor(i){this.roleService=i}ngOnInit(){this.roleService.findOperations().subscribe(i=>{this.operations=i})}}return i.\u0275fac=function(n){return new(n||i)(b.Rb(r.a))},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-profile"]],decls:12,vars:3,consts:[["tabIcon","person","tabTitle","Korisnik"],["tabIcon","briefcase","tabTitle","Firma"],["tabIcon","cube","tabTitle","Skladista",3,"disabled"],["tabIcon","file-text","tabTitle","Dozvole",3,"disabled"],["tabIcon","car","tabTitle","Prevozna Sredstva",3,"disabled"]],template:function(i,n){1&i&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-tabset"),b.Xb(2,"nb-tab",0),b.Sb(3,"ngx-profile-korisnik"),b.Wb(),b.Xb(4,"nb-tab",1),b.Sb(5,"ngx-profile-firma"),b.Wb(),b.Xb(6,"nb-tab",2),b.Sb(7,"ngx-profile-skladiste"),b.Wb(),b.Xb(8,"nb-tab",3),b.Sb(9,"ngx-profile-dozvola"),b.Wb(),b.Xb(10,"nb-tab",4),b.Sb(11,"ngx-profile-prevozno-sredstvo"),b.Wb(),b.Wb(),b.Wb()),2&i&&(b.Eb(6),b.nc("disabled",!(n.operations.proizvodnja||n.operations.tretman||n.operations.odlaganje||n.operations.skladistenje)),b.Eb(2),b.nc("disabled",!(n.operations.transport||n.operations.tretman||n.operations.odlaganje||n.operations.skladistenje)),b.Eb(2),b.nc("disabled",!n.operations.transport))},directives:[l.w,l.Cb,l.Bb,y,Y,oi,Xi,wi],styles:[""]}),i})()}];let yi=(()=>{class i{}return i.\u0275mod=b.Pb({type:i}),i.\u0275inj=b.Ob({factory:function(n){return new(n||i)},imports:[[s.g.forChild(xi)],s.g]}),i})(),ji=(()=>{class i{}return i.\u0275mod=b.Pb({type:i}),i.\u0275inj=b.Ob({factory:function(n){return new(n||i)},imports:[[yi,t.c,a.e,l.P,l.ib,l.u,l.Db,l.z,l.gb,o.c]]}),i})()}}]);