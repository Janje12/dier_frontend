function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8FOb":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a,i=n("AytR"),o=n("fXoL"),s=n("tk/3"),r=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).http=t,a.apiUrl=i.a.apiUrl,a}return _createClass(n,[{key:"getOOtpad",value:function(){return this.http.get(this.apiUrl+"/api/opasniotpad")}},{key:"dodajOOtpad",value:function(t,e){return this.http.post(this.apiUrl+"/api/opasniotpad",{otpad:t,skladiste:e})}},{key:"updateOOtpad",value:function(t,e,n,a){return this.http.patch(this.apiUrl+"/api/opasniotpad/"+t._id,{otpad:t,skladiste:e,brDokumenta:a,nazivFirme:n})}},{key:"deleteOOtpad",value:function(t,e){return this.http.delete(this.apiUrl+"/api/opasniotpad/"+t._id+"/"+e)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||a)(o.bc(s.b))},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac}),a)},"8sB5":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a,i=n("AytR"),o=n("fXoL"),s=n("tk/3"),r=n("McNs"),c=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a){var o;return _classCallCheck(this,n),(o=e.call(this)).http=t,o.authService=a,o.apiUrl=i.a.apiUrl,o}return _createClass(n,[{key:"getPrevoznoSredstvo",value:function(){}},{key:"updatePrevoznoSredstvo",value:function(t){return this.http.patch(this.apiUrl+"/api/prevoznosredstvo/"+t._id,t)}},{key:"getPrevoznoSredstvoFirme",value:function(){var t="";return this.authService.getToken().subscribe((function(e){t=e.getPayload().data.firma._id})),this.http.get(this.apiUrl+"/api/prevoznosredstvo/firma/"+t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||a)(o.bc(s.b),o.bc(r.g))},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac}),a)},"9pL+":function(t,e,n){"use strict";n.r(e),n.d(e,"PtotpadModule",(function(){return j}));var a,i,o,s,r,c=n("vTDv"),l=n("aceb"),d=n("RS3s"),b=n("O8xV"),u=n("3Pt+"),p=n("tyNb"),h=n("fXoL"),f=((a=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=h.Lb({type:a,selectors:[["ngx-ptotpad"]],decls:1,vars:0,template:function(t,e){1&t&&h.Sb(0,"router-outlet")},directives:[p.h],encapsulation:2}),a),v=n("AytR"),g=n("tk/3"),m=((i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).http=t,a.apiUrl=v.a.apiUrl,a}return _createClass(n,[{key:"getPTOtpad",value:function(){return this.http.get(this.apiUrl+"/api/posebnitokoviotpada")}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(h.bc(g.b))},i.\u0275prov=h.Nb({token:i,factory:i.\u0275fac}),i),k=n("ofXK"),W=[{path:"",component:f,children:[{path:"dodaj-otpad",component:(o=function(){function t(e,n){_classCallCheck(this,t),this.katalogService=e,this.ptotpadService=n,this.katalog=new d.a,this.settings={actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.ptotpad={_id:"",cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,masa:0,jedinicaMere:"",opasnaKomponenta:[{kgMaterije:0,cas:"",hemijskiNaziv:""}]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(e){t.katalog.load(e)}))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.ptotpad.indeksniBroj=t.data.indeksniBroj,this.ptotpad.naziv=t.data.naziv,this.ptotpad.opis=t.data.naziv}}]),t}(),o.\u0275fac=function(t){return new(t||o)(h.Rb(b.a),h.Rb(m))},o.\u0275cmp=h.Lb({type:o,selectors:[["ngx-dodaj-otpad"]],decls:59,vars:15,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],["nbInput","","name","Jedinica mere",1,"col","ml-3",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Masa",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div"),h.Xb(1,"nb-card",0),h.Xb(2,"nb-card-header"),h.Ec(3," Dodajte novi inventar otpada "),h.Wb(),h.Xb(4,"nb-card-body"),h.Xb(5,"div",1),h.Xb(6,"div",2),h.Xb(7,"div",3),h.Xb(8,"form"),h.Xb(9,"div",4),h.Xb(10,"label",5),h.Ec(11),h.Wb(),h.Wb(),h.Xb(12,"div",4),h.Xb(13,"label",5),h.Ec(14,"Naziv: "),h.Wb(),h.Xb(15,"input",6),h.fc("ngModelChange",(function(t){return e.ptotpad.naziv=t})),h.Wb(),h.Wb(),h.Xb(16,"div",4),h.Xb(17,"label",5),h.Ec(18,"Opis: "),h.Wb(),h.Xb(19,"input",7),h.fc("ngModelChange",(function(t){return e.ptotpad.opis=t})),h.Wb(),h.Wb(),h.Xb(20,"div",4),h.Xb(21,"label",5),h.Ec(22,"Trenutna kolicina na skladistu: "),h.Wb(),h.Xb(23,"input",8),h.fc("ngModelChange",(function(t){return e.ptotpad.kolicina=t})),h.Wb(),h.Xb(24,"button",9),h.Ec(25,"kg"),h.Wb(),h.Wb(),h.Xb(26,"div",4),h.Xb(27,"label",5),h.Ec(28,"Fizicko stanje otpada: "),h.Wb(),h.Xb(29,"nb-select",10),h.fc("ngModelChange",(function(t){return e.ptotpad.fizickoStanje=t})),h.Xb(30,"nb-option",11),h.Ec(31,"Cvrsto"),h.Wb(),h.Xb(32,"nb-option",12),h.Ec(33,"Tecno"),h.Wb(),h.Xb(34,"nb-option",13),h.Ec(35,"Gasovito"),h.Wb(),h.Xb(36,"nb-option",14),h.Ec(37,"Prah"),h.Wb(),h.Wb(),h.Wb(),h.Xb(38,"div",4),h.Xb(39,"label",5),h.Ec(40,"Jedinica mere: "),h.Wb(),h.Xb(41,"input",15),h.fc("ngModelChange",(function(t){return e.ptotpad.jedinicaMere=t})),h.Wb(),h.Wb(),h.Xb(42,"div",4),h.Xb(43,"label",5),h.Ec(44,"Masa jedinicnog proizvoda: "),h.Wb(),h.Xb(45,"input",16),h.fc("ngModelChange",(function(t){return e.ptotpad.masa=t})),h.Wb(),h.Xb(46,"button",9),h.Ec(47),h.Wb(),h.Wb(),h.Xb(48,"div",4),h.Xb(49,"button",17),h.Ec(50,"Dodaj"),h.Wb(),h.Wb(),h.Wb(),h.Ec(51),h.ic(52,"json"),h.Wb(),h.Xb(53,"div",18),h.Xb(54,"label",19),h.Ec(55,"Pretrazi po indeksnom broju:"),h.Wb(),h.Xb(56,"input",20,21),h.fc("input",(function(){h.wc(n);var t=h.uc(57);return t.value.length>=1&&e.onSearch(t.value)})),h.Wb(),h.Xb(58,"ng2-smart-table",22),h.fc("custom",(function(t){return e.chooseOtpad(t)})),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb()}2&t&&(h.Eb(11),h.Gc("Indeksni broj: ",e.ptotpad.indeksniBroj,""),h.Eb(4),h.nc("placeholder",e.ptotpad.naziv)("ngModel",e.ptotpad.naziv),h.Eb(4),h.nc("placeholder",e.ptotpad.opis)("ngModel",e.ptotpad.opis),h.Eb(4),h.nc("ngModel",e.ptotpad.kolicina),h.Eb(6),h.nc("ngModel",e.ptotpad.fizickoStanje),h.Eb(12),h.nc("ngModel",e.ptotpad.jedinicaMere),h.Eb(4),h.nc("ngModel",e.ptotpad.masa),h.Eb(2),h.Fc(e.ptotpad.jedinicaMere),h.Eb(4),h.Gc(" ",h.jc(52,13,e.ptotpad)," "),h.Eb(7),h.nc("source",e.katalog)("settings",e.settings))},directives:[l.w,l.y,l.v,u.w,u.l,u.m,l.O,u.b,u.k,u.n,u.p,l.t,l.nb,l.db,d.b],pipes:[k.h],styles:[""]}),o)}]}],X=((r=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:r}),r.\u0275inj=h.Ob({factory:function(t){return new(t||r)},imports:[[p.g.forChild(W)],p.g]}),r),j=((s=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:s}),s.\u0275inj=h.Ob({factory:function(t){return new(t||s)},providers:[b.a,m],imports:[[c.a,l.z,l.P,l.pb,l.C,d.c,l.u,u.e,X]]}),s)},"E+HJ":function(t,e,n){"use strict";n.r(e),n.d(e,"AotpadModule",(function(){return S}));var a,i,o,s,r=n("vTDv"),c=n("tyNb"),l=n("O8xV"),d=n("RS3s"),b=n("fXoL"),u=n("tk/3"),p=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).http=t,a}return _createClass(n,[{key:"getAOtpad",value:function(){return this.http.get("api/ambalazniotpad")}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||a)(b.bc(u.b))},a.\u0275prov=b.Nb({token:a,factory:a.\u0275fac}),a),h=n("aceb"),f=n("3Pt+"),v=n("ofXK"),g=((o=function(){function t(e,n){_classCallCheck(this,t),this.katalogService=e,this.aotpadService=n,this.katalog=new d.a,this.settings={hideSubHeader:!0,actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.aotpad={_id:"",fizickoStanje:"",indeksniBroj:"",naziv:"",opis:"",kolicina:0,komunalan:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(e){t.katalog.load(e)}))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.aotpad.indeksniBroj=t.data.indeksniBroj,this.aotpad.naziv=t.data.naziv,this.aotpad.opis=t.data.naziv}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Rb(l.a),b.Rb(p))},o.\u0275cmp=b.Lb({type:o,selectors:[["ngx-dodaj-otpad"]],decls:55,vars:13,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","komunalan",3,"valueChange"],["checked","","name","nekomunalan",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,e){if(1&t){var n=b.Yb();b.Xb(0,"div"),b.Xb(1,"nb-card",0),b.Xb(2,"nb-card-header"),b.Ec(3," Dodajte novi inventar otpada "),b.Wb(),b.Xb(4,"nb-card-body"),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"div",3),b.Xb(8,"form"),b.Xb(9,"div",4),b.Xb(10,"label",5),b.Ec(11),b.Wb(),b.Wb(),b.Xb(12,"div",4),b.Xb(13,"label",5),b.Ec(14,"Naziv: "),b.Wb(),b.Xb(15,"input",6),b.fc("ngModelChange",(function(t){return e.aotpad.naziv=t})),b.Wb(),b.Wb(),b.Xb(16,"div",4),b.Xb(17,"label",5),b.Ec(18,"Opis: "),b.Wb(),b.Xb(19,"input",7),b.fc("ngModelChange",(function(t){return e.aotpad.opis=t})),b.Wb(),b.Wb(),b.Xb(20,"div",4),b.Xb(21,"label",5),b.Ec(22,"Trenutna kolicina na skladistu: "),b.Wb(),b.Xb(23,"input",8),b.fc("ngModelChange",(function(t){return e.aotpad.kolicina=t})),b.Wb(),b.Xb(24,"button",9),b.Ec(25,"kg"),b.Wb(),b.Wb(),b.Xb(26,"div",4),b.Xb(27,"label",5),b.Ec(28,"Fizicko stanje otpada: "),b.Wb(),b.Xb(29,"nb-select",10),b.fc("ngModelChange",(function(t){return e.aotpad.fizickoStanje=t})),b.Xb(30,"nb-option",11),b.Ec(31,"Cvrsto"),b.Wb(),b.Xb(32,"nb-option",12),b.Ec(33,"Tecno"),b.Wb(),b.Xb(34,"nb-option",13),b.Ec(35,"Gasovito"),b.Wb(),b.Xb(36,"nb-option",14),b.Ec(37,"Prah"),b.Wb(),b.Wb(),b.Wb(),b.Xb(38,"div",15),b.Xb(39,"nb-radio-group",16),b.fc("ngModelChange",(function(t){return e.aotpad.komunalan=t})),b.Xb(40,"nb-radio",17),b.fc("valueChange",(function(){return e.aotpad.komunalan=!0})),b.Ec(41,"Komunalan"),b.Wb(),b.Xb(42,"nb-radio",18),b.fc("valueChange",(function(){return e.aotpad.komunalan=!1})),b.Ec(43,"Nekomunalan"),b.Wb(),b.Wb(),b.Wb(),b.Xb(44,"div",4),b.Xb(45,"button",19),b.Ec(46,"Dodaj"),b.Wb(),b.Wb(),b.Wb(),b.Ec(47),b.ic(48,"json"),b.Wb(),b.Xb(49,"div",20),b.Xb(50,"label",21),b.Ec(51,"Pretrazi po indeksnom broju:"),b.Wb(),b.Xb(52,"input",22,23),b.fc("input",(function(){b.wc(n);var t=b.uc(53);return t.value.length>=1&&e.onSearch(t.value)})),b.Wb(),b.Xb(54,"ng2-smart-table",24),b.fc("custom",(function(t){return e.chooseOtpad(t)})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(11),b.Gc("Indeksni broj: ",e.aotpad.indeksniBroj,""),b.Eb(4),b.nc("placeholder",e.aotpad.naziv)("ngModel",e.aotpad.naziv),b.Eb(4),b.nc("placeholder",e.aotpad.opis)("ngModel",e.aotpad.opis),b.Eb(4),b.nc("ngModel",e.aotpad.kolicina),b.Eb(6),b.nc("ngModel",e.aotpad.fizickoStanje),b.Eb(10),b.nc("ngModel",e.aotpad.komunalan),b.Eb(8),b.Gc(" ",b.jc(48,11,e.aotpad)," "),b.Eb(7),b.nc("source",e.katalog)("settings",e.settings))},directives:[h.w,h.y,h.v,f.w,f.l,f.m,h.O,f.b,f.k,f.n,f.p,h.t,h.nb,h.db,h.kb,h.jb,d.b],pipes:[v.h],styles:[""]}),o),m=((i=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b.Lb({type:i,selectors:[["ngx-aotpad"]],decls:1,vars:0,template:function(t,e){1&t&&b.Sb(0,"router-outlet")},directives:[c.h],encapsulation:2}),i),k=n("LRne"),W=((s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).http=t,a}return _createClass(n,[{key:"getAmbalaza",value:function(){return this.http.get("api/ambalaza")}},{key:"getVrsteAmbalaza",value:function(){return Object(k.a)(["PET","Staklo","Druga vrsta plastike","Gvo\u017e\u0111e","Aluminijum","Palete","Ostalo Drvo","Tekstil","Keramika","Druge vrste ambala\u017ee"])}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||s)(b.bc(u.b))},s.\u0275prov=b.Nb({token:s,factory:s.\u0275fac}),s);function X(t,e){if(1&t&&(b.Xb(0,"nb-option",17),b.Ec(1),b.Wb()),2&t){var n=e.$implicit;b.nc("value",n),b.Eb(1),b.Fc(n)}}var j,C,y,T=[{path:"",component:m,children:[{path:"dodaj-otpad",component:g},{path:"dodaj-ambalazu",component:(j=function(){function t(e,n){_classCallCheck(this,t),this.katalogService=e,this.ambalazaService=n,this.ambalaza={_id:"",naziv:"",opis:"",kolicina:0,povratna:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.ambalazaService.getVrsteAmbalaza().subscribe((function(e){t.vrste=e}))}}]),t}(),j.\u0275fac=function(t){return new(t||j)(b.Rb(l.a),b.Rb(W))},j.\u0275cmp=b.Lb({type:j,selectors:[["ngx-dodaj-ambalazu"]],decls:37,vars:12,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],["name","naziv",1,"col-8",3,"selected","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","pattern","[0-9]*","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","povratna",3,"valueChange"],["checked","","name","nepovratna",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[3,"value"]],template:function(t,e){1&t&&(b.Xb(0,"div"),b.Xb(1,"nb-card",0),b.Xb(2,"nb-card-header"),b.Ec(3," Dodajte novi inventar ambalaze "),b.Wb(),b.Xb(4,"nb-card-body"),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"div",3),b.Xb(8,"form"),b.Xb(9,"div",4),b.Xb(10,"nb-select",5),b.fc("ngModelChange",(function(t){return e.ambalaza.naziv=t})),b.Cc(11,X,2,2,"nb-option",6),b.Wb(),b.Wb(),b.Xb(12,"div",4),b.Xb(13,"label",7),b.Ec(14,"Naziv: "),b.Wb(),b.Xb(15,"input",8),b.fc("ngModelChange",(function(t){return e.ambalaza.naziv=t})),b.Wb(),b.Wb(),b.Xb(16,"div",4),b.Xb(17,"label",7),b.Ec(18,"Opis: "),b.Wb(),b.Xb(19,"input",9),b.fc("ngModelChange",(function(t){return e.ambalaza.opis=t})),b.Wb(),b.Wb(),b.Xb(20,"div",4),b.Xb(21,"label",7),b.Ec(22,"Trenutna kolicina na skladistu: "),b.Wb(),b.Xb(23,"input",10),b.fc("ngModelChange",(function(t){return e.ambalaza.kolicina=t})),b.Wb(),b.Xb(24,"button",11),b.Ec(25,"kg"),b.Wb(),b.Wb(),b.Xb(26,"div",12),b.Xb(27,"nb-radio-group",13),b.fc("ngModelChange",(function(t){return e.ambalaza.povratna=t})),b.Xb(28,"nb-radio",14),b.fc("valueChange",(function(){return e.ambalaza.povratna=!0})),b.Ec(29,"Povratna"),b.Wb(),b.Xb(30,"nb-radio",15),b.fc("valueChange",(function(){return e.ambalaza.povratna=!1})),b.Ec(31,"Nepovratna"),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"div",4),b.Xb(33,"button",16),b.Ec(34,"Dodaj"),b.Wb(),b.Wb(),b.Wb(),b.Ec(35),b.ic(36,"json"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.nc("selected",e.vrste[0])("ngModel",e.ambalaza.naziv),b.Eb(1),b.nc("ngForOf",e.vrste),b.Eb(4),b.nc("placeholder",e.ambalaza.naziv)("ngModel",e.ambalaza.naziv),b.Eb(4),b.nc("placeholder",e.ambalaza.opis)("ngModel",e.ambalaza.opis),b.Eb(4),b.nc("ngModel",e.ambalaza.kolicina),b.Eb(4),b.nc("ngModel",e.ambalaza.povratna),b.Eb(8),b.Gc(" ",b.jc(36,10,e.ambalaza)," "))},directives:[h.w,h.y,h.v,f.w,f.l,f.m,h.nb,f.k,f.n,v.m,h.O,f.b,f.p,f.q,h.t,h.kb,h.jb,h.db],pipes:[v.h],styles:[""]}),j)}]}],M=((y=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:y}),y.\u0275inj=b.Ob({factory:function(t){return new(t||y)},imports:[[c.g.forChild(T)],c.g]}),y),S=((C=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:C}),C.\u0275inj=b.Ob({factory:function(t){return new(t||C)},providers:[l.a,p,W],imports:[[r.a,M,h.z,h.P,h.pb,h.C,d.c,h.u,f.e,h.lb]]}),C)},O97o:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a,i=n("AytR"),o=n("fXoL"),s=n("tk/3"),r=n("McNs"),c=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a){var o;return _classCallCheck(this,n),(o=e.call(this)).http=t,o.authService=a,o.apiUrl=i.a.apiUrl,o}return _createClass(n,[{key:"getDozvola",value:function(){return this.http.get(this.apiUrl+"/api/dozvola")}},{key:"updateDozvola",value:function(t){return this.http.patch(this.apiUrl+"/api/dozvola/"+t._id,t)}},{key:"getDozvolaFirme",value:function(t){var e="";return this.authService.getToken().subscribe((function(t){e=t.getPayload().data.firma._id})),this.http.get(this.apiUrl+"/api/dozvola/firma/"+e+"/"+t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||a)(o.bc(s.b),o.bc(r.g))},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac}),a)},dgmN:function(t,e,n){"use strict";n.r(e),n.d(e,"PagesModule",(function(){return Yt}));var a,i,o,s,r,c=n("3Pt+"),l=n("aceb"),d=n("RS3s"),b=n("O97o"),u=n("g6/h"),p=n("v7Ib"),h=n("8sB5"),f=n("ud2R"),v=n("vTDv"),g=n("E+HJ"),m=n("fXoL"),k=((a=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:a}),a.\u0275inj=m.Ob({factory:function(t){return new(t||a)},imports:[[c.e,v.a,l.z,l.Lb,l.u,l.n,l.N,l.u]]}),a),W=n("o/8v"),X=n("rDBk"),j=n("tyNb"),C=((o=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=m.Lb({type:o,selectors:[["ngx-dashboard"]],decls:2,vars:0,consts:[[1,"row"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Ec(1," Glavni panel!\n"),m.Wb())},styles:[".nb-theme-default   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}"]}),o),y=((i=function(){function t(e){_classCallCheck(this,t),this.menuService=e}return _createClass(t,[{key:"goToHome",value:function(){this.menuService.navigateHome()}}]),t}()).\u0275fac=function(t){return new(t||i)(m.Rb(l.bb))},i.\u0275cmp=m.Lb({type:i,selectors:[["ngx-not-found"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-centered","col-xl-4","col-lg-6","col-md-8","col-sm-12"],[1,"title"],[1,"sub-title"],["nbButton","","fullWidth","","type","button",1,"home-button",3,"click"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"nb-card"),m.Xb(3,"nb-card-body"),m.Xb(4,"div",2),m.Xb(5,"h2",3),m.Ec(6,"404 Ne postoji"),m.Wb(),m.Xb(7,"small",4),m.Ec(8,"Stranica koju ste tra\u017eili ne postoji"),m.Wb(),m.Xb(9,"button",5),m.fc("click",(function(){return e.goToHome()})),m.Ec(10," Vrati me na po\u010detnu "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb())},directives:[l.w,l.v,l.t],styles:[".flex-centered[_ngcontent-%COMP%]{margin:auto}nb-card-body[_ngcontent-%COMP%]{display:flex}.sub-title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{text-align:center}.sub-title[_ngcontent-%COMP%]{display:block;margin-bottom:3rem}.home-button[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),i),T=n("McNs"),M=n("mgFL"),S=((s=function(){function t(e,n,a){var i=this;_classCallCheck(this,t),this.roleService=e,this.authService=n,this.router=a,this.menu=[],this.authService.getToken().subscribe((function(t){"admin"===t.getPayload().data.korisnik.uloga&&i.router.navigate(["admin"])}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getToken().subscribe((function(e){var n=e.getPayload().data.firma.radFirme;t.roleService.getOperationsMenu(n).subscribe((function(e){t.menu=e}))}))}},{key:"ngOnDestroy",value:function(){this.menu=[]}}]),t}()).\u0275fac=function(t){return new(t||s)(m.Rb(f.a),m.Rb(T.g),m.Rb(j.c))},s.\u0275cmp=m.Lb({type:s,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(m.Xb(0,"ngx-one-column-layout"),m.Sb(1,"nb-menu",0),m.Sb(2,"router-outlet"),m.Wb()),2&t&&(m.Eb(1),m.nc("items",e.menu))},directives:[M.a,l.Z,j.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),s),E=n("pVkk"),O=n("ofXK"),z=n("LRne"),w=n("El76"),_=n("8FOb"),I={edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',saveButtonContent:"save",cancelButtonContent:"cancel"},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)",editable:!1}}},P={hideSubHeader:!0,actions:{columnTitle:"Dodaj na skladi\u0161te",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"add",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}},F=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"calculateStatus",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100<33?"success":this.storage.kolicina/this.storage.maxKolicina*100<66?"warning":"danger"}},{key:"calculateValue",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=m.Lb({type:r,selectors:[["storage-meter"]],inputs:{storage:"storage"},decls:6,vars:4,consts:[[1,"row"],[1,"col-12","text-center","progress-bar-text"],[1,"badge","badge-light"],[1,"col-12"],["size","large",3,"value","status"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"span",2),m.Ec(3),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Sb(5,"nb-progress-bar",4),m.Wb(),m.Wb()),2&t&&(m.Eb(3),m.Hc("",e.storage.kolicina,"/",e.storage.maxKolicina,""),m.Eb(2),m.nc("value",e.calculateValue())("status",e.calculateStatus()))},directives:[l.hb],styles:[".progress-bar-text[_ngcontent-%COMP%]{font-size:1.3rem;z-index:1;position:relative;transform:translateY(101%)}"]}),r),D=["Deponovanje otpada u zemlji\u0161te ili na zemlji\u0161te","Izlaganje otpada procesima u zemlji\u0161tu","Duboko ubrizgavanje","Povr\u0161insko deponovanje ","Odlaganje otpada u posebno projektovane deponije","Ispu\u0161tanje u vode, osim u mora, odnosno okeane","Ispu\u0161tanje u mora, odnosno okeane, uklju\u010duju\u0107i utiskivanje u morsko dno","Biolo\u0161ki tretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Fizi\u010dko-hemijsk itretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Spaljivanje (insineracija) na tlu","Spaljivanje (insineracija) na moru","Trajno skladi\u0161tenje","Me\u0161anje otpada pre podvrgavanja bilo kojoj od operacija od D1 do D12","Prepakovanje otpada pre podvrgavanja bil okojoj od operacija od D1 do D13","Skladi\u0161tenje otpada koje prethodi bilo kojoj od operacija od D1 do D14"],x=["Kori\u0161\u0107enje otpada prvenstveno ka goriva ili drugog sredstva za proizvodnju energine","Regeneracija/prerada rastvara\u010da","Recikliranje/prerada organskih materija koji se ne koriste kao rastvara\u010di (uklju\u010duju\u0107i kompostiranje i ostale procese biolo\u0161ke transformacije)","Recikliranje/prerada metala i jedinjenja metala","Recikliranje/prerada drugih neorganskih materijala","Regeneracija kiselina ili baza","Obnavljanje komponenata koje se koriste za smanjenje zaga\u0111enja","Obnavljanje komponenata katalizatora","Re-rafinacija ili drugi na\u010din ponovnog iskori\u0161\u0107enja otpadnog ulja","Izlaganje otpada procesima u zemlji\u0161tu koji imaju korist za poljoprivredu il iekolo\u0161ki napredak","Promene radi podvrgavanja otpada bilo kojoj od operacija od R1 do R11","Skladi\u0161tenje otpada namenjenih za bilo koju operaciju od R1 do R12 (isklju\u010duju\u0107i privremeno skladi\u0161tenje otpada na lokaciji njegovog nastanka) "];function B(t,e){if(1&t&&(m.Xb(0,"nb-option-group",27),m.Xb(1,"nb-option",11),m.Ec(2),m.Wb(),m.Wb()),2&t){var n=e.$implicit,a=e.index,i=m.hc(2);m.nc("title","disposal"===i.type?"D"+(a+1):"R"+(a+1)),m.Eb(1),m.nc("value","disposal"===i.type?"D"+(a+1):"R"+(a+1)),m.Eb(1),m.Fc(n)}}function N(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div",4),m.Xb(2,"label",15),m.Ec(3,"Naziv preduze\u0107a od kojeg je preuzet otpad: "),m.Wb(),m.Xb(4,"div",13),m.Xb(5,"input",16,17),m.fc("ngModelChange",(function(t){return m.wc(n),m.hc().companyName=t})),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"div",18),m.Xb(8,"label",19),m.Ec(9,"Broj dokumenta o kretanju otpada: "),m.Wb(),m.Xb(10,"div",13),m.Xb(11,"input",20,21),m.fc("ngModelChange",(function(t){return m.wc(n),m.hc().documentNo=t})),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"div",18),m.Xb(14,"label",22),m.Ec(15),m.Wb(),m.Xb(16,"div",13),m.Xb(17,"nb-select",23),m.fc("ngModelChange",(function(t){m.wc(n);var e=m.hc();return"disposal"===e.type?e.selectedTrash.dOznaka:e.selectedTrash.rOznaka=t})),m.Cc(18,B,3,3,"nb-option-group",24),m.Wb(),m.Wb(),m.Xb(19,"div",25),m.Xb(20,"nb-checkbox",null,26),m.Ec(22),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.uc(21),i=m.hc();m.Eb(5),m.nc("ngModel",i.companyName),m.Eb(6),m.nc("ngModel",i.documentNo),m.Eb(4),m.Gc("","disposal"===i.type?"D":"R"," Oznaka: "),m.Eb(2),m.nc("ngModel","disposal"===i.type?i.selectedTrash.dOznaka:i.selectedTrash.rOznaka)("disabled",!a.checked),m.Eb(1),m.nc("ngForOf",i.currentTags),m.Eb(4),m.Gc("Promeni ","disposal"===i.type?"D":"R"," oznaku otpada")}}var R,A=function(){return{standalone:!0}},L=((R=function(){function t(){_classCallCheck(this,t),this.callAddTrash=new m.o,this.storageAmmountUnit="KG",this.D_TAGS=D,this.R_TAGS=x,this.currentTags="disposal"===this.type?D:x}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"callAddTrashMethod",value:function(){"KG"!==this.storageAmmountUnit&&(this.trashAmmount*=1e3),this.callAddTrash.emit({trashAmmount:this.trashAmmount,companyName:this.companyName,documentNo:this.documentNo})}}]),t}()).\u0275fac=function(t){return new(t||R)},R.\u0275cmp=m.Lb({type:R,selectors:[["add-trash-popup"]],inputs:{type:"type",selectedTrash:"selectedTrash"},outputs:{callAddTrash:"callAddTrash"},decls:23,vars:10,consts:[[2,"max-width","50vw"],[3,"ngSubmit"],["addForm","ngForm"],[4,"ngIf"],[1,"row"],["for","input-Kolicina",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"pl-0","col-2"],["fullWidth","",3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],[1,"row","my-2"],[1,"col-12"],["fullWidth","","type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["for","input-nazivFirme",1,"label","col-12"],["required","","fullWidth","","id","input-nazivFirme","name","nazivFirme","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["nazivFirme1","ngModel"],[1,"row","mt-1"],["for","input-brDokumenta",1,"label","col-12"],["required","","fullWidth","","id","input-brDokumenta","name","brDokumenta","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["brDokumenta1","ngModel"],["for","input-dOznaka",1,"col-12","label"],["fullWidth","","name","dOznaka","id","input-dOznaka",1,"pr-2",3,"ngModel","disabled","ngModelChange"],[3,"title",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["checkBox",""],[3,"title"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"form",1,2),m.fc("ngSubmit",(function(){return e.callAddTrashMethod()})),m.Cc(3,N,23,7,"div",3),m.Xb(4,"div",4),m.Xb(5,"label",5),m.Ec(6,"Koli\u010dina koju dodajete: "),m.Wb(),m.Xb(7,"div",6),m.Xb(8,"input",7,8),m.fc("ngModelChange",(function(t){return e.trashAmmount=t})),m.Wb(),m.Wb(),m.Xb(10,"div",9),m.Xb(11,"nb-select",10),m.fc("ngModelChange",(function(t){return e.storageAmmountUnit=t})),m.Xb(12,"nb-option",11),m.Ec(13,"KG"),m.Wb(),m.Xb(14,"nb-option",11),m.Ec(15,"T"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"div",12),m.Xb(17,"div",13),m.Xb(18,"p"),m.Ec(19),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"div",4),m.Xb(21,"button",14),m.Ec(22," Dodaj "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.uc(2),a=m.uc(9);m.Eb(3),m.nc("ngIf","production"!==e.type),m.Eb(5),m.nc("ngModel",e.trashAmmount),m.Eb(3),m.nc("ngModelOptions",m.qc(9,A))("selected","KG")("ngModel",e.storageAmmountUnit),m.Eb(1),m.nc("value","KG"),m.Eb(2),m.nc("value","T"),m.Eb(5),m.Gc("Trenutna kolicina otpada na skladistu: ",e.selectedTrash.kolicina," KG"),m.Eb(2),m.nc("disabled",a.value<1||void 0===a.value&&n.valid)}},directives:[c.w,c.l,c.m,O.n,l.O,c.p,c.b,c.k,c.n,l.nb,l.db,c.s,O.m,l.B,l.eb],styles:[""]}),R),K=["addTrash"];function U(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Sb(1,"storage-meter",3),m.Xb(2,"nb-card"),m.Xb(3,"nb-card-header"),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2",6),m.Ec(7),m.Wb(),m.Wb(),m.Xb(8,"div",7),m.Xb(9,"nb-icon",8),m.fc("click",(function(){return m.wc(n),m.hc().edit()})),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"nb-card-body"),m.Xb(11,"ng2-smart-table",9),m.fc("custom",(function(t){m.wc(n);var a=e.$implicit;return m.hc().chooseAction(t,a)}))("editConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().updateTrash(t,a)}))("deleteConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().deleteTrash(t,a)})),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.hc();m.Eb(1),m.nc("storage",a),m.Eb(6),m.Fc(null==a?null:a.naziv),m.Eb(2),m.nc("icon",i.editIcon),m.Eb(2),m.nc("settings",i.currentSettings)("source",null==a?null:a.neopasniOtpad)}}function $(t,e){if(1&t){var n=m.Yb();m.Xb(0,"add-trash-popup",10),m.fc("callAddTrash",(function(t){return m.wc(n),m.hc().addTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("type","production")("selectedTrash",a.selectedTrash)}}var G,Y,H=((G=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.storageService=e,this.windowService=n,this.safeTrashService=a,this.unsafeTrashService=i,this.toastrService=o,this.updateStorageEvent=new m.o,this.settings=P,this.currentSettings=this.settings,this.editSettings=I,this.editIcon="edit"}return _createClass(t,[{key:"ngOnInit",value:function(){this.mergeTrash(),this.storage$=Object(z.a)(this.storage)}},{key:"updateStorage",value:function(){this.updateStorageEvent.emit(),this.mergeTrash(),this.storage$=Object(z.a)(this.storage)}},{key:"mergeTrash",value:function(){var t,e=_createForOfIteratorHelper(this.storage);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.neopasniOtpad=n.neopasniOtpad.concat(n.opasniOtpad)}}catch(a){e.e(a)}finally{e.f()}}},{key:"edit",value:function(){this.currentSettings!==this.editSettings?(this.currentSettings=this.editSettings,this.editIcon="close"):(this.currentSettings=this.settings,this.editIcon="edit")}},{key:"chooseAction",value:function(t,e){this.selectedStorage=e,"add"===t.action&&this.openAddTrashWindow(t.data)}},{key:"openAddTrashWindow",value:function(t){this.selectedTrash=t,this.windowRef=this.windowService.open(this.addTrash,{title:"Dodaj proizvedenu kolicinu: "+this.selectedTrash.naziv})}},{key:"addTrashMethod",value:function(t){var e=this;this.selectedTrash.kolicina+=t,this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(this.selectedTrash,this.selectedStorage._id).subscribe((function(t){e.updateStorage()})):this.safeTrashService.updateNOtpad(this.selectedTrash,this.selectedStorage._id).subscribe((function(t){e.updateStorage()})),this.showToast("Uspeh","Uspe\u0161no ste dodali "+t+" (kg) "+this.selectedTrash.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),t=NaN}},{key:"updateTrash",value:function(t,e){var n=t.newData,a=t.confirm;this.selectedStorage=e;try{this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(n,this.selectedStorage._id).subscribe((function(t){})):this.safeTrashService.updateNOtpad(n,this.selectedStorage._id).subscribe((function(t){})),this.updateStorage(),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,e){var n=this,a=t.data,i=t.confirm;if(this.selectedStorage=e,window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+a.naziv+"?"))try{a.indeksniBroj.endsWith("*")?this.unsafeTrashService.deleteOOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})):this.safeTrashService.deleteNOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+a.naziv,"success")}catch(o){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+a.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||G)(m.Rb(E.a),m.Rb(l.Nb),m.Rb(w.a),m.Rb(_.a),m.Rb(l.Hb))},G.\u0275cmp=m.Lb({type:G,selectors:[["ngx-skladiste-proizvodnja"]],viewQuery:function(t,e){var n;1&t&&m.Lc(K,!0,m.N),2&t&&m.tc(n=m.gc())&&(e.addTrash=n.first)},inputs:{storage:"storage"},outputs:{updateStorageEvent:"updateStorageEvent"},decls:5,vars:3,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["addTrash",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[1,"order-table",3,"settings","source","custom","editConfirm","deleteConfirm"],[3,"type","selectedTrash","callAddTrash"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Cc(1,U,12,5,"div",1),m.ic(2,"async"),m.Wb(),m.Cc(3,$,1,2,"ng-template",null,2,m.Dc)),2&t&&(m.Eb(1),m.nc("ngForOf",m.jc(2,1,e.storage$)))},directives:[O.m,F,l.w,l.y,l.L,l.v,d.b,L],pipes:[O.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),G),q=n("AytR"),V=n("tk/3"),J=((Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).http=t,a.apiUrl=q.a.apiUrl,a}return _createClass(n,[{key:"getTransactions",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.http.get(this.apiUrl+"/api/transaction")}},{key:"getTransaction",value:function(t){return this.http.get(this.apiUrl+"/api/transaction/"+t)}},{key:"getTransportersTransactions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get(this.apiUrl+"/api/transaction/"+t)}},{key:"getUnfinishedTransactions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get(this.apiUrl+"/api/transaction/unfinished/"+t)}},{key:"updateTransaction",value:function(t){return this.http.patch(this.apiUrl+"/api/transaction/"+t._id,{transaction:t})}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||Y)(m.bc(V.b))},Y.\u0275prov=m.Nb({token:Y,factory:Y.\u0275fac}),Y),Z={hideSubHeader:!0,actions:{columnTitle:"Dodaj otpad/Obradi otpad/Zavr\u0161i tretman",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"add",title:'<i class="fa fa-plus"></i>'},{name:"process",title:'<i class="fa fa-trash-restore"></i>'},{name:"leftover",title:'<i class="fa fa-exclamation-triangle"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}};function Q(t,e){if(1&t&&(m.Xb(0,"nb-option",18),m.Ec(1),m.Wb()),2&t){var n=e.$implicit,a=e.index,i=m.hc();m.nc("value",n),m.Eb(1),m.Ic(" ",n.nazivFirme," | ",i.dateStrings[a]," | ",n.kolicinaOtpada," kg ")}}var tt,et=function(){return{standalone:!0}},nt=((tt=function(){function t(e){_classCallCheck(this,t),this.transactionService=e,this.callProcessTrash=new m.o,this.storageAmmountUnit="KG",this.dateStrings=[],this.leftoverTrashCreated=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.transactionService.getTransportersTransactions(this.selectedTrash._id).subscribe((function(e){t.transactions=e,t.transactions$=Object(z.a)(e),t.dateStrings=[],t.transactions.forEach((function(e){t.dateStrings.push(e.datum.toString().slice(0,10))}))}))}},{key:"onChange",value:function(t){var e=t.toLowerCase();this.transactions$=Object(z.a)(this.transactions.filter((function(t){return t.nazivFirme.includes(e)})))}},{key:"chooseTransaction",value:function(t,e){this.selectedTransaction=e,t.value=e.nazivFirme+" | "+e.kolicinaOtpada+" kg"}},{key:"callProcessTrashMethod",value:function(){"KG"!==this.storageAmmountUnit&&(this.trashAmmount*=1e3),this.callProcessTrash.emit({selectedTransaction:this.selectedTransaction,trashAmmount:this.trashAmmount,trashCreated:this.leftoverTrashCreated})}}]),t}()).\u0275fac=function(t){return new(t||tt)(m.Rb(J))},tt.\u0275cmp=m.Lb({type:tt,selectors:[["process-trash-popup"]],inputs:{selectedTrash:"selectedTrash"},outputs:{callProcessTrash:"callProcessTrash"},decls:35,vars:18,consts:[[2,"max-width","50vw"],[3,"ngSubmit"],["obradiForm","ngForm"],[1,"row"],[1,"label","col-12"],[1,"col-12"],["nbInput","","fullWidth","","type","text","name","transaction-input","placeholder","Unesi naziv firme",3,"ngModelOptions","ngModel","nbAutocomplete","ngModelChange","input"],["autoInput",""],["fullWidth","",3,"selectedChange"],["auto",""],["value","-"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],[3,"ngModel","ngModelOptions","ngModelChange"],["nbInput","","name","kolicinaOtpada","fullWidth","","type","number","onkeypress","return /[0-9]/i.test(event.key)","min","1",3,"disabled","max","ngModelOptions","ngModel","ngModelChange"],["kolicina",""],[1,"row","my-2"],["nbButton","","fullWidth","","type","submit",3,"disabled","status"],[3,"value"]],template:function(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",0),m.Xb(1,"form",1,2),m.fc("ngSubmit",(function(){return e.callProcessTrashMethod()})),m.Xb(3,"div",3),m.Xb(4,"label",4),m.Ec(5,"Odaberi otpad koje firme: "),m.Sb(6,"br"),m.Ec(7,"(Naziv firme | Datum | Koli\u010dina otpada)"),m.Wb(),m.Xb(8,"div",5),m.Xb(9,"input",6,7),m.fc("ngModelChange",(function(t){return e.selectedTransaction=t}))("input",(function(){m.wc(n);var t=m.uc(10);return e.onChange(t.value)})),m.Wb(),m.Xb(11,"nb-autocomplete",8,9),m.fc("selectedChange",(function(t){m.wc(n);var a=m.uc(10);return e.chooseTransaction(a,t)})),m.Xb(13,"nb-option",10),m.Ec(14,"-"),m.Wb(),m.Cc(15,Q,2,4,"nb-option",11),m.ic(16,"async"),m.Wb(),m.Wb(),m.Wb(),m.Xb(17,"div",3),m.Xb(18,"div",12),m.Xb(19,"nb-toggle",13),m.fc("ngModelChange",(function(t){return e.leftoverTrashCreated=t})),m.Ec(20," Da li nastaje neki otpad tokom odlaganje? "),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",3),m.Xb(22,"label",4),m.Ec(23,"Odaberi koli\u010dinu za preradu:"),m.Wb(),m.Xb(24,"div",5),m.Xb(25,"input",14,15),m.fc("ngModelChange",(function(t){return e.trashAmmount=t})),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",16),m.Xb(28,"div",5),m.Xb(29,"p"),m.Ec(30),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",3),m.Xb(32,"div",5),m.Xb(33,"button",17),m.Ec(34," Obradi "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.uc(12),i=m.uc(26);m.Eb(9),m.nc("ngModelOptions",m.qc(15,et))("ngModel",e.selectedTransaction)("nbAutocomplete",a),m.Eb(6),m.nc("ngForOf",m.jc(16,13,e.transactions$)),m.Eb(4),m.nc("ngModel",e.leftoverTrashCreated)("ngModelOptions",m.qc(16,et)),m.Eb(6),m.nc("disabled",void 0===e.selectedTransaction)("max",null==e.selectedTransaction?null:e.selectedTransaction.kolicinaOtpada)("ngModelOptions",m.qc(17,et))("ngModel",e.trashAmmount),m.Eb(5),m.Gc("Trenutna kolicina otpada na skladistu: ",e.selectedTrash.kolicina," KG"),m.Eb(3),m.nc("disabled",i.value<1||void 0===i.value)("status","primary")}},directives:[c.w,c.l,c.m,l.O,c.b,l.r,c.k,c.n,l.q,l.db,O.m,l.Ib,c.p,l.t],pipes:[O.b],styles:[""]}),tt),at=n("O8xV");function it(t,e){if(1&t&&(m.Xb(0,"nb-option",7),m.Ec(1),m.Wb()),2&t){var n=e.$implicit;m.nc("value",n),m.Eb(1),m.Gc(" ",n.naziv," ")}}function ot(t,e){if(1&t&&(m.Xb(0,"nb-option",7),m.Ec(1),m.Wb()),2&t){var n=e.$implicit;m.nc("value",n),m.Eb(1),m.Hc(" ",n.indeksniBroj," | ",n.naziv," ")}}var st=function(){return{standalone:!0}};function rt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",18),m.Xb(1,"div",16),m.Xb(2,"label",3),m.Ec(3,"Indeksni broj:"),m.Wb(),m.Xb(4,"input",19),m.fc("ngModelChange",(function(t){return m.wc(n),e.$implicit.indeksniBroj=t})),m.Wb(),m.Wb(),m.Xb(5,"div",16),m.Xb(6,"label",3),m.Ec(7,"Naziv:"),m.Wb(),m.Xb(8,"input",20),m.fc("ngModelChange",(function(t){return m.wc(n),e.$implicit.naziv=t})),m.Wb(),m.Wb(),m.Xb(9,"div",21),m.Xb(10,"label",3),m.Ec(11,"Kolicina:"),m.Wb(),m.Xb(12,"input",22),m.fc("ngModelChange",(function(t){return m.wc(n),e.$implicit.kolicina=t})),m.Wb(),m.Wb(),m.Xb(13,"div",23),m.Sb(14,"br"),m.Xb(15,"button",24),m.fc("click",(function(){m.wc(n);var t=e.$implicit;return m.hc(2).removeTrash(t)})),m.Sb(16,"nb-icon",25),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit;m.Eb(4),m.nc("ngModelOptions",m.qc(6,st))("ngModel",a.indeksniBroj),m.Eb(4),m.nc("ngModelOptions",m.qc(7,st))("ngModel",a.naziv),m.Eb(4),m.nc("ngModelOptions",m.qc(8,st))("ngModel",a.kolicina)}}function ct(t,e){if(1&t){var n=m.Yb();m.Xb(0,"nb-accordion-item",8),m.fc("collapsedChange",(function(){m.wc(n);var t=e.$implicit;return m.hc().chooseTransaction(t)})),m.Xb(1,"nb-accordion-item-header"),m.Ec(2),m.Wb(),m.Xb(3,"nb-accordion-item-body"),m.Xb(4,"form",null,9),m.Xb(6,"div",1),m.Xb(7,"div",2),m.Xb(8,"label",3),m.Ec(9,"Odaberi otpade koji nastaju:"),m.Wb(),m.Xb(10,"div",2),m.Xb(11,"input",10,11),m.fc("input",(function(){m.wc(n);var t=m.uc(12);return m.hc().onChange(t.value)})),m.Wb(),m.Xb(13,"nb-autocomplete",12,13),m.fc("selectedChange",(function(t){m.wc(n);var e=m.uc(12);return m.hc().updateLeftoverTrash(t,e)})),m.Cc(15,ot,2,3,"nb-option",5),m.ic(16,"async"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Cc(17,rt,17,9,"div",14),m.Xb(18,"div",15),m.Xb(19,"div",16),m.Xb(20,"button",17),m.fc("click",(function(){return m.wc(n),m.hc().callLeftoverTrashMethod()})),m.Ec(21,"Dodaj nastale otpade "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.uc(14),o=m.hc();m.Eb(2),m.Ic("",a.nazivFirme," | ",a.datum," | ",a.kolicinaOtpada,""),m.Eb(9),m.nc("nbAutocomplete",i),m.Eb(4),m.nc("ngForOf",m.jc(16,7,o.catalog$)),m.Eb(2),m.nc("ngForOf",o.leftoverTrashCreated),m.Eb(3),m.nc("disabled",0===o.leftoverTrashCreated.length||void 0===o.selectedStorage)}}var lt,dt=((lt=function(){function t(e,n){_classCallCheck(this,t),this.catalogService=e,this.transactionService=n,this.callLeftoverTrash=new m.o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.leftoverTrashCreated=[],this.unfinshedTransactions$=this.transactionService.getUnfinishedTransactions(this.selectedTrash._id),this.storageProduction$=Object(z.a)(this.storageProduction),this.catalogService.getKatalog().subscribe((function(e){t.catalog=e,t.catalog$=Object(z.a)(e)}))}},{key:"callLeftoverTrashMethod",value:function(){this.callLeftoverTrash.emit({selectedTransaction:this.selectedTransaction,leftoverTrashCreated:this.leftoverTrashCreated,selectedStorage:this.selectedStorage})}},{key:"chooseTransaction",value:function(t){this.selectedTransaction=t}},{key:"onChange",value:function(t){var e=t.toLowerCase();this.catalog$=Object(z.a)(this.catalog.filter((function(t){return t.naziv.includes(e)})))}},{key:"updateLeftoverTrash",value:function(t,e){e.value="",delete t._id,t.opis=t.naziv,t.kolicina=0,this.leftoverTrashCreated.includes(t)||this.leftoverTrashCreated.push(t)}},{key:"removeTrash",value:function(t){this.leftoverTrashCreated=this.leftoverTrashCreated.filter((function(e){return e.indeksniBroj!==t.indeksniBroj}))}}]),t}()).\u0275fac=function(t){return new(t||lt)(m.Rb(at.a),m.Rb(J))},lt.\u0275cmp=m.Lb({type:lt,selectors:[["leftover-trash-popup"]],inputs:{selectedTrash:"selectedTrash",storageProduction:"storageProduction"},outputs:{callLeftoverTrash:"callLeftoverTrash"},decls:11,vars:7,consts:[[2,"width","50vw"],[1,"row"],[1,"col-12"],[1,"col-12","label"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"collapsedChange",4,"ngFor","ngForOf"],[3,"value"],[3,"collapsedChange"],["LeftoverTrashForm",""],["nbInput","","fullWidth","","type","text","placeholder","Unesi naziv otpada",3,"nbAutocomplete","input"],["autoInput",""],[3,"selectedChange"],["auto",""],["class","row my-2",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-4"],["fullWidth","","nbButton","","status","primary",3,"disabled","click"],[1,"row","my-2"],["fullWidth","","nbInput","","disabled","",3,"ngModelOptions","ngModel","ngModelChange"],["fullWidth","","nbInput","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-3"],["fullWidth","","type","number","min","1","nbInput","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-1"],["fullWidth","","nbButton","",1,"mt-1",3,"click"],["icon","close"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"label",3),m.Ec(4,"Odaberite skladiste na kome ce nastati otpad:"),m.Wb(),m.Xb(5,"nb-select",4),m.fc("ngModelChange",(function(t){return e.selectedStorage=t})),m.Cc(6,it,2,2,"nb-option",5),m.ic(7,"async"),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"nb-accordion"),m.Cc(9,ct,22,9,"nb-accordion-item",6),m.ic(10,"async"),m.Wb(),m.Wb()),2&t&&(m.Eb(5),m.nc("ngModel",e.selectedStorage),m.Eb(1),m.nc("ngForOf",m.jc(7,3,e.storageProduction$)),m.Eb(3),m.nc("ngForOf",m.jc(10,5,e.unfinshedTransactions$)))},directives:[l.nb,c.k,c.n,O.m,l.g,l.db,l.i,l.j,l.h,c.w,c.l,c.m,l.O,l.r,l.q,l.t,c.b,c.p,l.L],pipes:[O.b],styles:[""]}),lt),bt=["addTrashTemplate"],ut=["processTrashTemplate"],pt=["leftoverTrashTemplate"];function ht(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Sb(1,"storage-meter",5),m.Xb(2,"nb-card"),m.Xb(3,"nb-card-header"),m.Xb(4,"div",6),m.Xb(5,"div",7),m.Xb(6,"h2",8),m.Ec(7),m.Wb(),m.Wb(),m.Xb(8,"div",9),m.Xb(9,"nb-icon",10),m.fc("click",(function(){return m.wc(n),m.hc().edit()})),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"nb-card-body"),m.Xb(11,"ng2-smart-table",11),m.fc("custom",(function(t){m.wc(n);var a=e.$implicit;return m.hc().chooseAction(t,a)}))("editConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().updateTrash(t,a)}))("deleteConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().deleteTrash(t,a)})),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.hc();m.Eb(1),m.nc("storage",a),m.Eb(6),m.Fc(null==a?null:a.naziv),m.Eb(2),m.nc("icon",i.editIcon),m.Eb(2),m.nc("settings",i.currentSettings)("source",null==a?null:a.neopasniOtpad)}}function ft(t,e){if(1&t){var n=m.Yb();m.Xb(0,"add-trash-popup",12),m.fc("callAddTrash",(function(t){return m.wc(n),m.hc().addTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("type","treatment")("selectedTrash",a.selectedTrash)}}function vt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"process-trash-popup",13),m.fc("callProcessTrash",(function(t){return m.wc(n),m.hc().processTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("selectedTrash",a.selectedTrash)}}function gt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"leftover-trash-popup",14),m.fc("callLeftoverTrash",(function(t){return m.wc(n),m.hc().leftoverTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("selectedTrash",a.selectedTrash)("storageProduction",a.storage)}}var mt,kt=((mt=function(){function t(e,n,a,i,o,s){_classCallCheck(this,t),this.storageService=e,this.windowService=n,this.safeTrashService=a,this.unsafeTrashService=i,this.transactionsService=o,this.toastrService=s,this.updateStorageEvent=new m.o,this.settings=Z,this.currentSettings=this.settings,this.editSettings=I,this.editIcon="edit",this.leftoverTrashCreated=[],this.unfinishedTransactions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.mergeTrash(),this.storageTreatment$=Object(z.a)(this.storageTreatment)}},{key:"updateStorage",value:function(){this.updateStorageEvent.emit(),this.mergeTrash()}},{key:"mergeTrash",value:function(){var t,e=_createForOfIteratorHelper(this.storageTreatment);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.neopasniOtpad=n.neopasniOtpad.concat(n.opasniOtpad)}}catch(a){e.e(a)}finally{e.f()}}},{key:"edit",value:function(){this.currentSettings!==this.editSettings?(this.currentSettings=this.editSettings,this.editIcon="close"):(this.currentSettings=this.settings,this.editIcon="edit")}},{key:"chooseAction",value:function(t,e){this.selectedStorageTreatment=e,"add"===t.action?this.openAddTrashWindow(t.data):"process"===t.action?this.openProcessTrashWindow(t.data):"leftover"===t.action&&this.openLeftoverTrashWindow(t.data)}},{key:"openAddTrashWindow",value:function(t){this.selectedTrash=t,this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj donetu kolicinu: "+this.selectedTrash.naziv})}},{key:"addTrashMethod",value:function(t){var e=this,n=t.trashAmmount,a=t.documentNo,i=t.companyName;this.selectedTrash.kolicina+=n,this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(this.selectedTrash,this.selectedStorageTreatment._id,i,a).subscribe((function(t){e.updateStorage()})):this.safeTrashService.updateNOtpad(this.selectedTrash,this.selectedStorageTreatment._id,i,a).subscribe((function(t){e.updateStorage()})),this.showToast("Uspeh","Uspe\u0161no ste dodali "+n+" (kg) "+this.selectedTrash.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),n=NaN}},{key:"openProcessTrashWindow",value:function(t){this.selectedTrash=t,this.windowRef=this.windowService.open(this.processTrashTemplate,{title:"Obradi odre\u0111enu koli\u010dinu: "+this.selectedTrash.naziv})}},{key:"processTrashMethod",value:function(t){var e=t.selectedTransaction,n=t.trashAmmount,a=t.trashCreated;this.selectedTrash.kolicina-=n;var i=a?e.nazivFirme:"",o=a?e.brojDKO:"";this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(this.selectedTrash,this.selectedStorageTreatment._id,i,o).subscribe((function(t){})):this.safeTrashService.updateNOtpad(this.selectedTrash,this.selectedStorageTreatment._id,i,o).subscribe((function(t){})),e.finished=!0,this.transactionsService.updateTransaction(e).subscribe((function(t){})),this.updateStorage(),this.showToast("Uspeh","Uspe\u0161no ste obradili "+n+" (kg) "+this.selectedTrash.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),n=NaN}},{key:"openLeftoverTrashWindow",value:function(t){var e=this;this.selectedTrash=t,this.transactionsService.getUnfinishedTransactions(this.selectedTrash._id).subscribe((function(t){e.unfinishedTransactions=t})),this.windowRef=this.windowService.open(this.leftoverTrashTemplate,{title:"Zavr\u0161i proizvodnju preostalog otpada"})}},{key:"leftoverTrashMethod",value:function(t){var e=this,n=t.selectedTransaction,a=t.leftoverTrashCreated,i=t.selectedStorage;a.forEach((function(t){e.selectedTrash.indeksniBroj.endsWith("*")?e.unsafeTrashService.dodajOOtpad(t,i._id).subscribe((function(t){e.updateStorage()})):e.safeTrashService.dodajNOtpad(t,i._id).subscribe((function(t){e.updateStorage()}))})),n.nazivFirme=null,n.brojDKO=null,n.finished=!0,this.transactionsService.updateTransaction(n).subscribe((function(t){})),this.showToast("Uspeh","Uspesno ste dodali otpade!","success"),this.windowRef.close()}},{key:"updateTrash",value:function(t,e){var n=t.newData,a=t.confirm;this.selectedStorage=e;try{this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(n,this.selectedStorage._id).subscribe((function(t){})):this.safeTrashService.updateNOtpad(n,this.selectedStorage._id).subscribe((function(t){})),this.updateStorage(),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,e){var n=this,a=t.data,i=t.confirm;if(this.selectedStorage=e,window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+a.naziv+"?"))try{a.indeksniBroj.endsWith("*")?this.unsafeTrashService.deleteOOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})):this.safeTrashService.deleteNOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+a.naziv,"success")}catch(o){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+a.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||mt)(m.Rb(E.a),m.Rb(l.Nb),m.Rb(w.a),m.Rb(_.a),m.Rb(J),m.Rb(l.Hb))},mt.\u0275cmp=m.Lb({type:mt,selectors:[["ngx-skladiste-tretman"]],viewQuery:function(t,e){var n;1&t&&(m.Lc(bt,!0,m.N),m.Lc(ut,!0,m.N),m.Lc(pt,!0,m.N)),2&t&&(m.tc(n=m.gc())&&(e.addTrashTemplate=n.first),m.tc(n=m.gc())&&(e.processTrashTemplate=n.first),m.tc(n=m.gc())&&(e.leftoverTrashTemplate=n.first))},inputs:{storageTreatment:"storageTreatment",storage:"storage"},outputs:{updateStorageEvent:"updateStorageEvent"},decls:9,vars:3,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["addTrashTemplate",""],["processTrashTemplate",""],["leftoverTrashTemplate",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[3,"settings","source","custom","editConfirm","deleteConfirm"],[3,"type","selectedTrash","callAddTrash"],[3,"selectedTrash","callProcessTrash"],[3,"selectedTrash","storageProduction","callLeftoverTrash"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Cc(1,ht,12,5,"div",1),m.ic(2,"async"),m.Wb(),m.Cc(3,ft,1,2,"ng-template",null,2,m.Dc),m.Cc(5,vt,1,1,"ng-template",null,3,m.Dc),m.Cc(7,gt,1,2,"ng-template",null,4,m.Dc)),2&t&&(m.Eb(1),m.nc("ngForOf",m.jc(2,1,e.storageTreatment$)))},directives:[O.m,F,l.w,l.y,l.L,l.v,d.b,L,nt,dt],pipes:[O.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:60px;text-align:center}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),mt),Wt={hideSubHeader:!0,actions:{columnTitle:"Dodaj otpad/Odlo\u017ei otpad/Zavr\u0161i odlaganje",position:"right",edit:!1,add:!1,delete:!1,custom:[{name:"add",title:'<i class="fa fa-plus"></i>'},{name:"dispose",title:'<i class="fa fa-trash-alt"></i>'},{name:"leftover",title:'<i class="fa fa-exclamation-triangle"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}},Xt=["addTrashTemplate"],jt=["disposeTrashTemplate"],Ct=["leftoverTrashTemplate"];function yt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Sb(1,"storage-meter",5),m.Xb(2,"nb-card"),m.Xb(3,"nb-card-header"),m.Xb(4,"div",6),m.Xb(5,"div",7),m.Xb(6,"h2",8),m.Ec(7),m.Wb(),m.Wb(),m.Xb(8,"div",9),m.Xb(9,"nb-icon",10),m.fc("click",(function(){return m.wc(n),m.hc().edit()})),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"nb-card-body"),m.Xb(11,"ng2-smart-table",11),m.fc("custom",(function(t){m.wc(n);var a=e.$implicit;return m.hc().chooseAction(t,a)}))("editConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().updateTrash(t,a)}))("deleteConfirm",(function(t){m.wc(n);var a=e.$implicit;return m.hc().deleteTrash(t,a)})),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.hc();m.Eb(1),m.nc("storage",a),m.Eb(6),m.Fc(null==a?null:a.naziv),m.Eb(2),m.nc("icon",i.editIcon),m.Eb(2),m.nc("settings",i.currentSettings)("source",null==a?null:a.neopasniOtpad)}}function Tt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"add-trash-popup",12),m.fc("callAddTrash",(function(t){return m.wc(n),m.hc().addTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("type","disposal")("selectedTrash",a.selectedTrash)}}function Mt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"process-trash-popup",13),m.fc("callProcessTrash",(function(t){return m.wc(n),m.hc().disposeTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("selectedTrash",a.selectedTrash)}}function St(t,e){if(1&t){var n=m.Yb();m.Xb(0,"leftover-trash-popup",14),m.fc("callLeftoverTrash",(function(t){return m.wc(n),m.hc().leftoverTrashMethod(t)})),m.Wb()}if(2&t){var a=m.hc();m.nc("selectedTrash",a.selectedTrash)("storageProduction",a.storage)}}var Et,Ot=((Et=function(){function t(e,n,a,i,o,s){_classCallCheck(this,t),this.storageService=e,this.windowService=n,this.safeTrashService=a,this.unsafeTrashService=i,this.toastrService=o,this.transactionsService=s,this.updateStorageEvent=new m.o,this.settings=Wt,this.currentSettings=this.settings,this.editSettings=I,this.editIcon="edit",this.leftoverTrashCreated=[],this.unfinishedTransactions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.mergeTrash(),this.storageDisposal$=Object(z.a)(this.storageDisposal)}},{key:"updateStorage",value:function(){this.updateStorageEvent.emit(),this.mergeTrash()}},{key:"mergeTrash",value:function(){var t,e=_createForOfIteratorHelper(this.storageDisposal);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.neopasniOtpad=n.neopasniOtpad.concat(n.opasniOtpad)}}catch(a){e.e(a)}finally{e.f()}}},{key:"edit",value:function(){this.currentSettings!==this.editSettings?(this.currentSettings=this.editSettings,this.editIcon="close"):(this.currentSettings=this.settings,this.editIcon="edit")}},{key:"chooseAction",value:function(t,e){this.selectedStorageDisposal=e,"add"===t.action?this.openAddTrashWindow(t.data):"dispose"===t.action?this.openDisposeTrashWindow(t.data):"leftover"===t.action&&this.openLeftoverTrashWindow(t.data)}},{key:"openAddTrashWindow",value:function(t){this.selectedTrash=t,this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj donetu kolicinu: "+this.selectedTrash.naziv})}},{key:"addTrashMethod",value:function(t){var e=this,n=t.trashAmmount,a=t.documentNo,i=t.companyName;this.selectedTrash.kolicina+=n,this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(this.selectedTrash,this.selectedStorageDisposal._id,i,a).subscribe((function(t){e.updateStorage()})):this.safeTrashService.updateNOtpad(this.selectedTrash,this.selectedStorageDisposal._id,i,a).subscribe((function(t){e.updateStorage()})),this.showToast("Uspeh","Uspe\u0161no ste dodali "+n+" (kg) "+this.selectedTrash.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),n=NaN}},{key:"openDisposeTrashWindow",value:function(t){this.selectedTrash=t,this.windowRef=this.windowService.open(this.disposeTrashTemplate,{title:"Obradi odre\u0111enu koli\u010dinu: "+this.selectedTrash.naziv})}},{key:"disposeTrashMethod",value:function(t){var e=t.selectedTransaction,n=t.trashAmmount,a=t.trashCreated;this.selectedTrash.kolicina-=n;var i=a?e.nazivFirme:"",o=a?e.brojDKO:"";this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(this.selectedTrash,this.selectedStorageDisposal._id,i,o).subscribe((function(t){})):this.safeTrashService.updateNOtpad(this.selectedTrash,this.selectedStorageDisposal._id,i,o).subscribe((function(t){})),e.finished=!0,this.transactionsService.updateTransaction(e).subscribe((function(t){})),this.updateStorage(),this.showToast("Uspeh","Uspe\u0161no ste obradili "+n+" (kg) "+this.selectedTrash.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),n=NaN}},{key:"openLeftoverTrashWindow",value:function(t){var e=this;this.selectedTrash=t,this.transactionsService.getUnfinishedTransactions(this.selectedTrash._id).subscribe((function(t){e.unfinishedTransactions=t})),this.windowRef=this.windowService.open(this.leftoverTrashTemplate,{title:"Zavr\u0161i proizvodnju preostalog otpada"})}},{key:"leftoverTrashMethod",value:function(t){var e=this,n=t.selectedTransaction,a=t.leftoverTrashCreated,i=t.selectedStorage;a.forEach((function(t){e.selectedTrash.indeksniBroj.endsWith("*")?e.unsafeTrashService.dodajOOtpad(t,i._id).subscribe((function(t){e.updateStorage()})):e.safeTrashService.dodajNOtpad(t,i._id).subscribe((function(t){e.updateStorage()}))})),n.nazivFirme=null,n.brojDKO=null,n.finished=!0,this.transactionsService.updateTransaction(n).subscribe((function(t){})),this.showToast("Uspeh","Uspesno ste dodali otpade!","success"),this.windowRef.close()}},{key:"updateTrash",value:function(t,e){var n=t.newData,a=t.confirm;this.selectedStorage=e;try{this.selectedTrash.indeksniBroj.endsWith("*")?this.unsafeTrashService.updateOOtpad(n,this.selectedStorage._id).subscribe((function(t){})):this.safeTrashService.updateNOtpad(n,this.selectedStorage._id).subscribe((function(t){})),this.updateStorage(),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,e){var n=this,a=t.data,i=t.confirm;if(this.selectedStorage=e,window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+a.naziv+"?"))try{a.indeksniBroj.endsWith("*")?this.unsafeTrashService.deleteOOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})):this.safeTrashService.deleteNOtpad(a,this.selectedStorage._id).subscribe((function(t){n.updateStorage()})),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+a.naziv,"success")}catch(o){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+a.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||Et)(m.Rb(E.a),m.Rb(l.Nb),m.Rb(w.a),m.Rb(_.a),m.Rb(l.Hb),m.Rb(J))},Et.\u0275cmp=m.Lb({type:Et,selectors:[["ngx-skladiste-deponija"]],viewQuery:function(t,e){var n;1&t&&(m.Lc(Xt,!0,m.N),m.Lc(jt,!0,m.N),m.Lc(Ct,!0,m.N)),2&t&&(m.tc(n=m.gc())&&(e.addTrashTemplate=n.first),m.tc(n=m.gc())&&(e.disposeTrashTemplate=n.first),m.tc(n=m.gc())&&(e.leftoverTrashTemplate=n.first))},inputs:{storageDisposal:"storageDisposal",storage:"storage"},outputs:{updateStorageEvent:"updateStorageEvent"},decls:9,vars:3,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["addTrashTemplate",""],["disposeTrashTemplate",""],["leftoverTrashTemplate",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[1,"order-table",3,"settings","source","custom","editConfirm","deleteConfirm"],[3,"type","selectedTrash","callAddTrash"],[3,"selectedTrash","callProcessTrash"],[3,"selectedTrash","storageProduction","callLeftoverTrash"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Cc(1,yt,12,5,"div",1),m.ic(2,"async"),m.Wb(),m.Cc(3,Tt,1,2,"ng-template",null,2,m.Dc),m.Cc(5,Mt,1,1,"ng-template",null,3,m.Dc),m.Cc(7,St,1,2,"ng-template",null,4,m.Dc)),2&t&&(m.Eb(1),m.nc("ngForOf",m.jc(2,1,e.storageDisposal$)))},directives:[O.m,F,l.w,l.y,l.L,l.v,d.b,L,nt,dt],pipes:[O.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:60px;text-align:center}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),Et),zt=["dodajKolicinu"];function wt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"nb-card"),m.Xb(2,"nb-card-header"),m.Xb(3,"h2",3),m.Ec(4),m.Wb(),m.Wb(),m.Xb(5,"nb-card-body"),m.Xb(6,"ng2-smart-table",4),m.fc("custom",(function(t){m.wc(n);var a=e.$implicit;return m.hc().changeKolicina(t,a)})),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.hc();m.Eb(4),m.Fc(null==a?null:a.naziv),m.Eb(2),m.nc("settings",i.settings)("source",null==a?null:a.neopasniOtpad)}}function _t(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",5),m.Xb(1,"form",6,7),m.fc("ngSubmit",(function(){return m.wc(n),m.hc().dodajOtpad()})),m.Xb(3,"div",8),m.Xb(4,"label",9),m.Ec(5,"Dodaj: "),m.Wb(),m.Xb(6,"input",10,11),m.fc("ngModelChange",(function(t){return m.wc(n),m.hc().otpadKolicina=t})),m.Wb(),m.Wb(),m.Xb(8,"div",12),m.Xb(9,"p"),m.Ec(10),m.Wb(),m.Wb(),m.Xb(11,"button",13),m.Ec(12,"Dodaj"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.uc(7),i=m.hc();m.Eb(6),m.nc("ngModel",i.otpadKolicina),m.Eb(4),m.Gc("Trenutna kolicina otpada na skladistu: ",i.otpad.kolicina,""),m.Eb(1),m.nc("disabled",a.value<1||a.value===i.NaN)}}var It,Pt=((It=function(){function t(e,n,a){_classCallCheck(this,t),this.skladisteService=e,this.windowService=n,this.notpadService=a,this.settings=P}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var t=this;this.skladisteService.getSkladisteSkladistenjeFirme().subscribe((function(e){t.skladistaSkladistenje=e,t.mergeOtpads()}))}},{key:"mergeOtpads",value:function(){if(void 0!==this.skladistaSkladistenje){var t,e=_createForOfIteratorHelper(this.skladistaSkladistenje);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.neopasniOtpad=n.neopasniOtpad.concat(n.opasniOtpad)}}catch(a){e.e(a)}finally{e.f()}}}},{key:"dodajOtpad",value:function(){var t=this;this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe((function(e){t.updateSkladiste()}))}},{key:"changeKolicina",value:function(t,e){this.currSkladiste=e;var n=t.data;this.otpad=n,this.windowService.open(this.dodajKolicinu,{title:"Dodaj proizvedenu kolicinu: "+n.naziv})}}]),t}()).\u0275fac=function(t){return new(t||It)(m.Rb(E.a),m.Rb(l.Nb),m.Rb(w.a))},It.\u0275cmp=m.Lb({type:It,selectors:[["ngx-skladiste-skladistenje"]],viewQuery:function(t,e){var n;1&t&&m.Lc(zt,!0,m.N),2&t&&m.tc(n=m.gc())&&(e.dodajKolicinu=n.first)},decls:4,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["dodajKolicinu",""],[1,"text-center"],[3,"settings","source","custom"],[1,"p-4"],[3,"ngSubmit"],["dodajForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Cc(1,wt,7,3,"div",1),m.Wb(),m.Cc(2,_t,13,3,"ng-template",null,2,m.Dc)),2&t&&(m.Eb(1),m.nc("ngForOf",e.skladistaSkladistenje))},directives:[O.m,l.w,l.y,l.v,d.b,c.w,c.l,c.m,l.O,c.p,c.b,c.k,c.n],styles:[""]}),It);function Ft(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"ngx-skladiste-proizvodnja",2),m.fc("updateStorageEvent",(function(){return m.wc(n),m.hc().updateStorage()})),m.Wb(),m.Wb()}if(2&t){var a=m.hc();m.Eb(1),m.nc("storage",a.storageProduction)}}function Dt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"ngx-skladiste-tretman",3),m.fc("updateStorageEvent",(function(){return m.wc(n),m.hc().updateStorage()})),m.Wb(),m.Wb()}if(2&t){var a=m.hc();m.Eb(1),m.nc("storageTreatment",a.storageTreatment)("storage",a.storageProduction)}}function xt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"ngx-skladiste-deponija",4),m.fc("updateStorageEvent",(function(){return m.wc(n),m.hc().updateStorage()})),m.Wb(),m.Wb()}if(2&t){var a=m.hc();m.Eb(1),m.nc("storageDisposal",a.storageDisposal)("storage",a.storageProduction)}}function Bt(t,e){1&t&&(m.Xb(0,"div"),m.Sb(1,"ngx-skladiste-skladistenje"),m.Wb())}var Nt,Rt,At,Lt,Kt=[{path:"",component:S,children:[{path:"dashboard",component:C},{path:"profile",loadChildren:function(){return n.e(11).then(n.bind(null,"723k")).then((function(t){return t.ProfileModule}))}},{path:"skladiste",component:(Nt=function(){function t(e,n){_classCallCheck(this,t),this.roleService=e,this.skladisteService=n,this.allStorage=[],this.storageProduction=[],this.storageTreatment=[],this.storageDisposal=[],this.storageCache=[],this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.roleService.getOperations().subscribe((function(e){t.operations=e})),this.updateStorage()}},{key:"updateStorage",value:function(){var t=this;this.loading=!0,this.allStorage=[],this.storageDisposal=[],this.storageProduction=[],this.storageTreatment=[],this.storageCache=[],this.skladisteService.getAllSkladistaFirme().subscribe((function(e){t.allStorage=e;var n,a=_createForOfIteratorHelper(t.allStorage);try{for(a.s();!(n=a.n()).done;){var i=n.value;void 0===i.__t&&void 0===i.skladistenje?t.storageProduction.push(i):"SkladisteTretman"===i.__t?t.storageTreatment.push(i):"SkladisteDeponija"===i.__t?t.storageDisposal.push(i):i.skladistenje&&t.storageCache.push(i)}}catch(o){a.e(o)}finally{a.f()}t.loading=!1}))}}]),t}(),Nt.\u0275fac=function(t){return new(t||Nt)(m.Rb(f.a),m.Rb(E.a))},Nt.\u0275cmp=m.Lb({type:Nt,selectors:[["ngx-skladiste"]],decls:5,vars:4,consts:[[1,"container-fluid"],[4,"ngIf"],[3,"storage","updateStorageEvent"],[3,"storageTreatment","storage","updateStorageEvent"],[3,"storageDisposal","storage","updateStorageEvent"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Cc(1,Ft,2,1,"div",1),m.Cc(2,Dt,2,2,"div",1),m.Cc(3,xt,2,2,"div",1),m.Cc(4,Bt,2,0,"div",1),m.Wb()),2&t&&(m.Eb(1),m.nc("ngIf",e.operations.production&&!e.loading),m.Eb(1),m.nc("ngIf",e.operations.treatment&&!e.loading),m.Eb(1),m.nc("ngIf",e.operations.disposal&&!e.loading),m.Eb(1),m.nc("ngIf",e.operations.cache&&!e.loading))},directives:[O.n,H,kt,Ot,Pt],styles:[""]}),Nt)},{path:"notpad",loadChildren:function(){return Promise.resolve().then(n.bind(null,"o/8v")).then((function(t){return t.NotpadModule}))}},{path:"ootpad",loadChildren:function(){return Promise.resolve().then(n.bind(null,"rDBk")).then((function(t){return t.OotpadModule}))}},{path:"ptotpad",loadChildren:function(){return Promise.resolve().then(n.bind(null,"9pL+")).then((function(t){return t.PtotpadModule}))}},{path:"aotpad",loadChildren:function(){return Promise.resolve().then(n.bind(null,"E+HJ")).then((function(t){return t.AotpadModule}))}},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",component:y}]}],Ut=((Rt=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:Rt}),Rt.\u0275inj=m.Ob({factory:function(t){return new(t||Rt)},imports:[[j.g.forChild(Kt)],j.g]}),Rt),$t=n("9pL+"),Gt=((Lt=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:Lt}),Lt.\u0275inj=m.Ob({factory:function(t){return new(t||Lt)},providers:[E.a,f.a,at.a,J],imports:[[v.a,l.z,d.c,c.e,l.P,l.gb,l.X,l.pb,l.s,l.u,l.ib,l.C,l.N,l.W,l.Jb,l.k]]}),Lt),Yt=((At=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:At}),At.\u0275inj=m.Ob({factory:function(t){return new(t||At)},providers:[p.a,f.a,l.Hb,u.a,b.a,h.a],imports:[[Ut,v.a,l.ab,l.u,k,W.NotpadModule,X.OotpadModule,$t.PtotpadModule,g.AotpadModule,Gt,l.z,l.Db,l.N,c.e,l.K,l.P,l.ib,l.gb,d.c]]}),At)},"o/8v":function(t,e,n){"use strict";n.r(e),n.d(e,"NotpadModule",(function(){return J}));var a=n("O97o"),i=n("vTDv"),o=n("tyNb"),s=n("RS3s"),r=n("El76"),c=n("pVkk"),l={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}},d=n("fXoL"),b=n("aceb"),u=n("3Pt+"),p=n("ofXK");function h(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-option",37),d.fc("selectionChange",(function(){d.wc(n);var t=e.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var a=e.$implicit;d.nc("value",null==a?null:a.skladistaDeponija),d.Eb(1),d.Fc(null==a?null:a.skladistaDeponija.naziv)}}function f(t,e){if(1&t&&(d.Xb(0,"nb-option",26),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function v(t,e){if(1&t&&(d.Xb(0,"nb-option",26),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function g(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.sifraIspitivanja)}}function m(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",40),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",41),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",42,43),d.Wb(),d.Wb()}if(2&t){var a=d.uc(6),i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.datumIspitivanja)("nbDatepicker",a),d.Eb(1),d.nc("max",i.today())}}var k,W=function(){return{standalone:!0}},X=((k=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.dozvolaService=e,this.otpadService=n,this.router=a,this.toastrService=i,this.skladisteService=o,this.settings=l,this.katalog=new s.a,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.dOznake=[],this.dozvola=[],this.skladistaDeponija=[],this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:NaN,dOznaka:""},this.storageAmmountUnit="KG";for(var r=1;r<=13;r++)this.dOznake.push("D"+r)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.skladisteService.getSkladisteDeponijaFirme().subscribe((function(e){t.skladistaDeponija=e})),this.dozvolaService.getDozvolaFirme("dump").subscribe((function(e){t.dozvola=e,t.updateKatalog(t.dozvola[0])}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,e){return t.replace(/\s+/g,"").includes(e.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.skladiste=this.skladistaDeponija.find((function(e){return e._id===t.skladistaDeponija._id}));var e=this.skladiste.neopasniOtpad.concat(this.skladiste.opasniOtpad),n=Array.from(e,(function(t){return t.indeksniBroj})),a=t.listaOtpada;a=a.filter((function(t){return!n.includes(t.indeksniBroj)})),this.katalog.load(a)}},{key:"chooseOtpad",value:function(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,"T"===this.storageAmmountUnit&&(this.notpad.kolicina*=1e3),delete this.notpad._id,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(d.Rb(a.a),d.Rb(r.a),d.Rb(o.c),d.Rb(b.Hb),d.Rb(c.a))},k.\u0275cmp=d.Lb({type:k,selectors:[["ngx-dodaj-deponija"]],decls:74,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-3","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["fullWidth","",3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","rOznaka",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return e.skladiste=t})),d.Cc(16,h,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(n);var t=d.uc(19);return t.value.length>=1&&e.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return e.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return e.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return e.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return e.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return e.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"nb-select",25),d.fc("ngModelChange",(function(t){return e.storageAmmountUnit=t})),d.Xb(47,"nb-option",26),d.Ec(48,"KG"),d.Wb(),d.Xb(49,"nb-option",26),d.Ec(50,"T"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",14),d.Xb(52,"label",27),d.Ec(53,"Fizicko stanje otpada: "),d.Wb(),d.Xb(54,"div",13),d.Xb(55,"nb-select",28),d.fc("ngModelChange",(function(t){return e.notpad.fizickoStanje=t})),d.Cc(56,f,2,2,"nb-option",29),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",14),d.Xb(58,"label",30),d.Ec(59,"Odaberite D oznaku (mo\u017eete promentiti u svakom trenutku): "),d.Wb(),d.Xb(60,"div",13),d.Xb(61,"nb-select",31),d.fc("ngModelChange",(function(t){return e.notpad.dOznaka=t})),d.Cc(62,v,2,2,"nb-option",29),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(63,"div",13),d.Sb(64,"div",14),d.Xb(65,"nb-toggle",32,33),d.Ec(67,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(68,g,5,1,"div",34),d.Cc(69,m,7,3,"div",34),d.Wb(),d.Wb(),d.Xb(70,"div",35),d.Xb(71,"div",2),d.Xb(72,"button",36),d.Ec(73,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.uc(22),i=d.uc(66);d.Eb(15),d.nc("ngModel",e.skladiste),d.Eb(1),d.nc("ngForOf",e.dozvola),d.Eb(4),d.nc("source",e.katalog)("settings",e.settings),d.Eb(9),d.nc("placeholder",e.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",e.notpad.naziv),d.Eb(5),d.nc("ngModel",e.notpad.opis),d.Eb(5),d.nc("ngModel",e.notpad.kolicina),d.Eb(2),d.nc("ngModelOptions",d.qc(20,W))("selected","KG")("ngModel",e.storageAmmountUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(6),d.nc("ngModel",e.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",e.fizickaStanja),d.Eb(5),d.nc("ngModel",e.notpad.dOznaka),d.Eb(1),d.nc("ngForOf",e.dOznake),d.Eb(6),d.nc("ngIf",i.checked),d.Eb(1),d.nc("ngIf",i.checked),d.Eb(3),d.nc("disabled",!a.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,s.b,u.w,u.l,u.m,u.b,u.p,b.db,u.s,b.Ib,p.n,b.t,b.H,b.G],styles:[""]}),k),j=n("O8xV"),C=n("McNs");function y(t,e){if(1&t&&(d.Xb(0,"nb-option",22),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function T(t,e){if(1&t&&(d.Xb(0,"nb-option",22),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n.naziv)}}function M(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",10),d.Xb(1,"label",33),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",9),d.Xb(4,"input",34),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.sifraIspitivanja)}}function S(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",10),d.Xb(1,"label",35),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",9),d.Xb(4,"input",36),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",37,38),d.Wb(),d.Wb()}if(2&t){var a=d.uc(6),i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.datumIspitivanja)("nbDatepicker",a),d.Eb(1),d.nc("max",i.today())}}var E,O=function(){return{standalone:!0}},z=((E=function(){function t(e,n,a,i,o,r){_classCallCheck(this,t),this.katalogService=e,this.otpadService=n,this.router=a,this.authService=i,this.skladisteService=o,this.toastrService=r,this.settings=l,this.katalog=new s.a,this.storageAmmountUnit="KG",this.skladista=[],this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.notpad={indeksniBroj:"",naziv:"",opis:"",fizickoStanje:"",kolicina:NaN}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getNeopasanKatalog().subscribe((function(e){t.katalog.load(e)})),this.skladisteService.getSkladisteFirme().subscribe((function(e){t.skladista=e}))}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,e){return t.replace(/\s+/g,"").includes(e.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}},{key:"today",value:function(){return new Date}},{key:"addTrash",value:function(){"T"===this.storageAmmountUnit&&(this.notpad.kolicina*=1e3),delete this.notpad._id,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||E)(d.Rb(j.a),d.Rb(r.a),d.Rb(o.c),d.Rb(C.g),d.Rb(c.a),d.Rb(b.Hb))},E.\u0275cmp=d.Lb({type:E,selectors:[["ngx-dodaj-otpad"]],decls:65,vars:19,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-3","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["fullWidth","",3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"label",3),d.Ec(8,"Pretra\u017ei po indeksnom broju ili nazivu:"),d.Wb(),d.Xb(9,"input",4,5),d.fc("input",(function(){d.wc(n);var t=d.uc(10);return t.value.length>=1&&e.onSearch(t.value)})),d.Wb(),d.Xb(11,"ng2-smart-table",6),d.fc("custom",(function(t){return e.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"form",7,8),d.fc("ngSubmit",(function(){return e.addTrash()})),d.Xb(14,"div",1),d.Xb(15,"div",9),d.Xb(16,"div",10),d.Xb(17,"label",11),d.Ec(18,"Indeksni broj:"),d.Wb(),d.Xb(19,"div",9),d.Sb(20,"input",12),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"label",13),d.Ec(23,"Naziv: "),d.Wb(),d.Xb(24,"div",9),d.Xb(25,"input",14),d.fc("ngModelChange",(function(t){return e.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",10),d.Xb(27,"label",15),d.Ec(28,"Opis: "),d.Wb(),d.Xb(29,"div",9),d.Xb(30,"input",16),d.fc("ngModelChange",(function(t){return e.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",10),d.Xb(32,"label",17),d.Ec(33,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(34,"div",18),d.Xb(35,"input",19),d.fc("ngModelChange",(function(t){return e.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(36,"div",20),d.Xb(37,"nb-select",21),d.fc("ngModelChange",(function(t){return e.storageAmmountUnit=t})),d.Xb(38,"nb-option",22),d.Ec(39,"KG"),d.Wb(),d.Xb(40,"nb-option",22),d.Ec(41,"T"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(42,"div",10),d.Xb(43,"label",23),d.Ec(44,"Fizicko stanje otpada: "),d.Wb(),d.Xb(45,"div",9),d.Xb(46,"nb-select",24),d.fc("ngModelChange",(function(t){return e.notpad.fizickoStanje=t})),d.Cc(47,y,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",10),d.Xb(49,"label",26),d.Ec(50,"Odaberite skladi\u0161te za otpad: "),d.Wb(),d.Xb(51,"div",9),d.Xb(52,"nb-select",27),d.fc("ngModelChange",(function(t){return e.skladiste=t})),d.Cc(53,T,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",9),d.Sb(55,"div",10),d.Xb(56,"nb-toggle",28,29),d.Ec(58,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(59,M,5,1,"div",30),d.Cc(60,S,7,3,"div",30),d.Wb(),d.Wb(),d.Xb(61,"div",31),d.Xb(62,"div",2),d.Xb(63,"button",32),d.Ec(64,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.uc(13),i=d.uc(57);d.Eb(11),d.nc("source",e.katalog)("settings",e.settings),d.Eb(9),d.nc("placeholder",e.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",e.notpad.naziv),d.Eb(5),d.nc("ngModel",e.notpad.opis),d.Eb(5),d.nc("ngModel",e.notpad.kolicina),d.Eb(2),d.nc("ngModelOptions",d.qc(18,O))("selected","KG")("ngModel",e.storageAmmountUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(6),d.nc("ngModel",e.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",e.fizickaStanja),d.Eb(5),d.nc("ngModel",e.skladiste),d.Eb(1),d.nc("ngForOf",e.skladista),d.Eb(6),d.nc("ngIf",i.checked),d.Eb(1),d.nc("ngIf",i.checked),d.Eb(3),d.nc("disabled",!a.valid)}},directives:[b.w,b.y,b.v,b.O,s.b,u.w,u.l,u.m,u.b,u.k,u.n,u.p,b.nb,b.db,p.m,u.s,b.Ib,p.n,b.t,b.H,b.G],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),E);function w(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-option",35),d.fc("selectionChange",(function(){d.wc(n);var t=e.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var a=e.$implicit;d.nc("value",null==a?null:a.skladistaSkladistenje),d.Eb(1),d.Fc(null==a?null:a.skladistaSkladistenje.naziv)}}function _(t,e){if(1&t&&(d.Xb(0,"nb-option",26),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function I(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",36),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",37),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.sifraIspitivanja)}}function P(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",40,41),d.Wb(),d.Wb()}if(2&t){var a=d.uc(6),i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.datumIspitivanja)("nbDatepicker",a),d.Eb(1),d.nc("max",i.today())}}var F,D=function(){return{standalone:!0}},x=((F=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.dozvolaService=e,this.otpadService=n,this.router=a,this.toastrService=i,this.skladisteService=o,this.settings=l,this.katalog=new s.a,this.dozvola=[],this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.skladisteSkladistenje=[],this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0},this.storageAmmountUnit="KG"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.skladisteService.getSkladisteSkladistenjeFirme().subscribe((function(e){t.skladisteSkladistenje=e})),this.dozvolaService.getDozvolaFirme("storage").subscribe((function(e){t.dozvola=e,t.updateKatalog(t.dozvola[0])}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,e){return t.replace(/\s+/g,"").includes(e.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.skladiste=this.skladisteSkladistenje.find((function(e){return e._id===t.skladistaSkladistenje._id}));var e=this.skladiste.neopasniOtpad.concat(this.skladiste.opasniOtpad),n=Array.from(e,(function(t){return t.indeksniBroj})),a=t.listaOtpada;a=a.filter((function(t){return!n.includes(t.indeksniBroj)})),this.katalog.load(a)}},{key:"chooseOtpad",value:function(t){var e=t.data;this.notpad=e,this.notpad.opis=this.notpad.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,"T"===this.storageAmmountUnit&&(this.notpad.kolicina*=1e3),delete this.notpad._id,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe((function(t){})),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||F)(d.Rb(a.a),d.Rb(r.a),d.Rb(o.c),d.Rb(b.Hb),d.Rb(c.a))},F.\u0275cmp=d.Lb({type:F,selectors:[["ngx-dodaj-skladistenje"]],decls:68,vars:19,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-3","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["fullWidth","",3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return e.skladiste=t})),d.Cc(16,w,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(n);var t=d.uc(19);return t.value.length>=1&&e.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return e.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return e.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return e.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return e.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return e.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"nb-select",25),d.fc("ngModelChange",(function(t){return e.storageAmmountUnit=t})),d.Xb(47,"nb-option",26),d.Ec(48,"KG"),d.Wb(),d.Xb(49,"nb-option",26),d.Ec(50,"T"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",14),d.Xb(52,"label",27),d.Ec(53,"Fizicko stanje otpada: "),d.Wb(),d.Xb(54,"div",13),d.Xb(55,"nb-select",28),d.fc("ngModelChange",(function(t){return e.notpad.fizickoStanje=t})),d.Cc(56,_,2,2,"nb-option",29),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",13),d.Sb(58,"div",14),d.Xb(59,"nb-toggle",30,31),d.Ec(61,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(62,I,5,1,"div",32),d.Cc(63,P,7,3,"div",32),d.Wb(),d.Wb(),d.Xb(64,"div",33),d.Xb(65,"div",2),d.Xb(66,"button",34),d.Ec(67,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.uc(22),i=d.uc(60);d.Eb(15),d.nc("ngModel",e.skladiste),d.Eb(1),d.nc("ngForOf",e.dozvola),d.Eb(4),d.nc("source",e.katalog)("settings",e.settings),d.Eb(9),d.nc("placeholder",e.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",e.notpad.naziv),d.Eb(5),d.nc("ngModel",e.notpad.opis),d.Eb(5),d.nc("ngModel",e.notpad.kolicina),d.Eb(2),d.nc("ngModelOptions",d.qc(18,D))("selected","KG")("ngModel",e.storageAmmountUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(6),d.nc("ngModel",e.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",e.fizickaStanja),d.Eb(6),d.nc("ngIf",i.checked),d.Eb(1),d.nc("ngIf",i.checked),d.Eb(3),d.nc("disabled",!a.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,s.b,u.w,u.l,u.m,u.b,u.p,b.db,b.Ib,p.n,b.t,u.s,b.H,b.G],styles:[""]}),F);function B(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-option",37),d.fc("selectionChange",(function(){d.wc(n);var t=e.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var a=e.$implicit;d.nc("value",null==a?null:a.skladistaTretman),d.Eb(1),d.Fc(null==a?null:a.skladistaTretman.naziv)}}function N(t,e){if(1&t&&(d.Xb(0,"nb-option",26),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function R(t,e){if(1&t&&(d.Xb(0,"nb-option",26),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function A(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.sifraIspitivanja)}}function L(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",40),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",41),d.fc("ngModelChange",(function(t){return d.wc(n),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",42,43),d.Wb(),d.Wb()}if(2&t){var a=d.uc(6),i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.datumIspitivanja)("nbDatepicker",a),d.Eb(1),d.nc("max",i.today())}}var K,U,$,G,Y=function(){return{standalone:!0}},H=((K=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.dozvolaService=e,this.otpadService=n,this.router=a,this.skladisteService=i,this.toastrService=o,this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0,tretman:!0},this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.katalog=new s.a,this.settings=l,this.rOznake=[],this.storageAmmountUnit="KG";for(var r=1;r<=13;r++)this.rOznake.push("R"+r)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.skladisteService.getSkladisteTretmanFirme().subscribe((function(e){t.skladistaTretman=e})),this.dozvolaService.getDozvolaFirme("treatment").subscribe((function(e){t.dozvola=e,t.updateKatalog(t.dozvola[0])}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,e){return t.replace(/\s+/g,"").includes(e.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.skladiste=this.skladistaTretman.find((function(e){return e._id===t.skladistaTretman._id}));var e=this.skladiste.neopasniOtpad.concat(this.skladiste.opasniOtpad),n=Array.from(e,(function(t){return t.indeksniBroj})),a=t.listaOtpada;a=a.filter((function(t){return!n.includes(t.indeksniBroj)})),this.katalog.load(a)}},{key:"chooseOtpad",value:function(t){var e=t.data;this.notpad=e,this.notpad.opis=this.notpad.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,"T"===this.storageAmmountUnit&&(this.notpad.kolicina*=1e3),delete this.notpad._id,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe((function(t){})),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}()).\u0275fac=function(t){return new(t||K)(d.Rb(a.a),d.Rb(r.a),d.Rb(o.c),d.Rb(c.a),d.Rb(b.Hb))},K.\u0275cmp=d.Lb({type:K,selectors:[["ngx-dodaj-tretman"]],decls:74,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-3","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["fullWidth","",3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","rOznaka",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return e.skladiste=t})),d.Cc(16,B,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(n);var t=d.uc(19);return t.value.length>=1&&e.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return e.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return e.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return e.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return e.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return e.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"nb-select",25),d.fc("ngModelChange",(function(t){return e.storageAmmountUnit=t})),d.Xb(47,"nb-option",26),d.Ec(48,"KG"),d.Wb(),d.Xb(49,"nb-option",26),d.Ec(50,"T"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",14),d.Xb(52,"label",27),d.Ec(53,"Fizicko stanje otpada: "),d.Wb(),d.Xb(54,"div",13),d.Xb(55,"nb-select",28),d.fc("ngModelChange",(function(t){return e.notpad.fizickoStanje=t})),d.Cc(56,N,2,2,"nb-option",29),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",14),d.Xb(58,"label",30),d.Ec(59,"Odaberite R oznaku (mo\u017eete promentiti u svakom trenutku): "),d.Wb(),d.Xb(60,"div",13),d.Xb(61,"nb-select",31),d.fc("ngModelChange",(function(t){return e.notpad.rOznaka=t})),d.Cc(62,R,2,2,"nb-option",29),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(63,"div",13),d.Sb(64,"div",14),d.Xb(65,"nb-toggle",32,33),d.Ec(67,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(68,A,5,1,"div",34),d.Cc(69,L,7,3,"div",34),d.Wb(),d.Wb(),d.Xb(70,"div",35),d.Xb(71,"div",2),d.Xb(72,"button",36),d.Ec(73,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.uc(22),i=d.uc(66);d.Eb(15),d.nc("ngModel",e.skladiste),d.Eb(1),d.nc("ngForOf",e.dozvola),d.Eb(4),d.nc("source",e.katalog)("settings",e.settings),d.Eb(9),d.nc("placeholder",e.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",e.notpad.naziv),d.Eb(5),d.nc("ngModel",e.notpad.opis),d.Eb(5),d.nc("ngModel",e.notpad.kolicina),d.Eb(2),d.nc("ngModelOptions",d.qc(20,Y))("selected","KG")("ngModel",e.storageAmmountUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(6),d.nc("ngModel",e.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",e.fizickaStanja),d.Eb(5),d.nc("ngModel",e.notpad.rOznaka),d.Eb(1),d.nc("ngForOf",e.rOznake),d.Eb(6),d.nc("ngIf",i.checked),d.Eb(1),d.nc("ngIf",i.checked),d.Eb(3),d.nc("disabled",!a.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,s.b,u.w,u.l,u.m,u.b,u.p,b.db,u.s,b.Ib,p.n,b.t,b.H,b.G],styles:[""]}),K),q=[{path:"",component:(U=function t(){_classCallCheck(this,t)},U.\u0275fac=function(t){return new(t||U)},U.\u0275cmp=d.Lb({type:U,selectors:[["ngx-notpad"]],decls:1,vars:0,template:function(t,e){1&t&&d.Sb(0,"router-outlet")},directives:[o.h],encapsulation:2}),U),children:[{path:"dodaj-proizvodnja",component:z},{path:"dodaj-tretman",component:H},{path:"dodaj-deponija",component:X},{path:"dodaj-skladistenje",component:x}]}],V=((G=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:G}),G.\u0275inj=d.Ob({factory:function(t){return new(t||G)},imports:[[o.g.forChild(q)],o.g]}),G),J=(($=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:$}),$.\u0275inj=d.Ob({factory:function(t){return new(t||$)},providers:[j.a,r.a,a.a],imports:[[i.a,V,b.z,b.P,b.pb,b.C,s.c,b.u,u.e,b.I,b.Jb]]}),$)},rDBk:function(t,e,n){"use strict";n.r(e),n.d(e,"OotpadModule",(function(){return w}));var a,i,o,s,r=n("pVkk"),c=n("vTDv"),l=n("tyNb"),d=n("fXoL"),b=((s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=d.Lb({type:s,selectors:[["ngx-dodaj-deponija"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-deponija works!"),d.Wb())},styles:[""]}),s),u=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=d.Lb({type:o,selectors:[["ngx-dodaj-skladistenje"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-skladistenje works!"),d.Wb())},styles:[""]}),o),p=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Lb({type:i,selectors:[["ngx-dodaj-tretman"]],decls:2,vars:0,template:function(t,e){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-tretman works!"),d.Wb())},styles:[""]}),i),h=((a=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=d.Lb({type:a,selectors:[["ngx-ootpad"]],decls:1,vars:0,template:function(t,e){1&t&&d.Sb(0,"router-outlet")},directives:[l.h],encapsulation:2}),a),f=n("O8xV"),v=n("RS3s"),g=n("8FOb"),m={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}},k=n("aceb"),W=n("3Pt+"),X=n("ofXK");function j(t,e){if(1&t&&(d.Xb(0,"nb-option",46),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n)}}function C(t,e){if(1&t){var n=d.Yb();d.Xb(0,"div",32),d.Ec(1),d.Xb(2,"div",10),d.Xb(3,"label",38),d.Ec(4,"CAS: "),d.Wb(),d.Xb(5,"div",12),d.Xb(6,"input",48),d.fc("ngModelChange",(function(t){return d.wc(n),e.$implicit.cas=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"div",10),d.Xb(8,"label",38),d.Ec(9,"Hemijski naziv: "),d.Wb(),d.Xb(10,"div",12),d.Xb(11,"input",49),d.fc("ngModelChange",(function(t){return d.wc(n),e.$implicit.hemijskiNaziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",10),d.Xb(13,"label",38),d.Ec(14,"Kilograma opasne materije po kilogram otpada: "),d.Wb(),d.Xb(15,"div",19),d.Xb(16,"input",50),d.fc("ngModelChange",(function(t){return d.wc(n),e.$implicit.kgMaterije=t})),d.Wb(),d.Wb(),d.Xb(17,"div",21),d.Xb(18,"button",51),d.Ec(19,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=e.$implicit,i=e.index;d.Eb(1),d.Gc(" Komponenta #",i+1," "),d.Eb(5),d.nc("ngModel",a.cas),d.Eb(5),d.nc("ngModel",a.hemijskiNaziv),d.Eb(5),d.nc("ngModel",a.kgMaterije)}}function y(t,e){if(1&t&&(d.Xb(0,"div",10),d.Cc(1,C,20,4,"div",47),d.Wb()),2&t){var n=d.hc();d.Eb(1),d.nc("ngForOf",n.ootpad.opasnaKomponenta)}}function T(t,e){if(1&t&&(d.Xb(0,"nb-option",46),d.Ec(1),d.Wb()),2&t){var n=e.$implicit;d.nc("value",n),d.Eb(1),d.Fc(n.naziv)}}var M,S,E,O=[{path:"",component:h,children:[{path:"dodaj-proizvodnja",component:(M=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.katalogService=e,this.opasniOtpadService=n,this.skladisteService=a,this.router=i,this.toastrService=o,this.katalog=new v.a,this.settings=m,this.brojKomponenti=1,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.ootpad={cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,opasnaKomponenta:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getOpasanKatalog().subscribe((function(e){t.katalog.load(e)})),this.skladisteService.getSkladisteFirme().subscribe((function(e){t.skladista=e})),this.updateCAS()}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,e){return t.replace(/\s+/g,"").includes(e.replace(/\s+/g,""))}}],!0)}},{key:"updateCAS",value:function(){this.ootpad.opasnaKomponenta=new Array(this.brojKomponenti);for(var t=0;t<this.brojKomponenti;t++)this.ootpad.opasnaKomponenta[t]={kgMaterije:0,cas:"",hemijskiNaziv:""}}},{key:"chooseOtpad",value:function(t){this.ootpad.indeksniBroj=t.data.indeksniBroj,this.ootpad.naziv=t.data.naziv,this.ootpad.opis=t.data.naziv}},{key:"today",value:function(){return new Date}},{key:"addTrash",value:function(){this.opasniOtpadService.dodajOOtpad(this.ootpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,e,n){this.toastrService.show(e,t,{status:n})}}]),t}(),M.\u0275fac=function(t){return new(t||M)(d.Rb(f.a),d.Rb(g.a),d.Rb(r.a),d.Rb(l.c),d.Rb(k.Hb))},M.\u0275cmp=d.Lb({type:M,selectors:[["ngx-dodaj-otpad"]],decls:90,vars:20,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-4"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],[1,"col-8"],["nbInput","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-6","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""],[1,"col-6"],[1,"col-4","label"],[1,"col-4","mb-2"],["fullWidth","","name","Hlista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","YLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","CLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],[1,"col-12","label"],["fullWidth","","min","1","name","brojKomponeti","nbInput","","type","number",3,"ngModel","ngModelChange"],[1,"col-3"],["fullWidth","","nbButton","","type","button",3,"click"],["class","row mb-2",4,"ngIf"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value"],["class","col-6",4,"ngFor","ngForOf"],["nbInput","","type","text","required","","name","CAS",3,"ngModel","ngModelChange"],["nbInput","","type","text","required","","name","Hemijski naziv",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Kg opasne materije",3,"ngModel","ngModelChange"],["nbButton","","disabled",""]],template:function(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar opasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"label",3),d.Ec(8,"Pretra\u017ei po indeksnom broju:"),d.Wb(),d.Xb(9,"input",4,5),d.fc("input",(function(){d.wc(n);var t=d.uc(10);return e.onSearch(t.value)})),d.Wb(),d.Xb(11,"ng2-smart-table",6),d.fc("custom",(function(t){return e.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"form",7,8),d.fc("ngSubmit",(function(){return e.addTrash()})),d.Xb(14,"div",1),d.Xb(15,"div",9),d.Xb(16,"div",10),d.Xb(17,"label",11),d.Ec(18,"Indeksni broj:"),d.Wb(),d.Xb(19,"div",12),d.Sb(20,"input",13),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"label",14),d.Ec(23,"Naziv: "),d.Wb(),d.Xb(24,"div",12),d.Xb(25,"input",15),d.fc("ngModelChange",(function(t){return e.ootpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",10),d.Xb(27,"label",16),d.Ec(28,"Opis: "),d.Wb(),d.Xb(29,"div",12),d.Xb(30,"input",17),d.fc("ngModelChange",(function(t){return e.ootpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",10),d.Xb(32,"label",18),d.Ec(33,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(34,"div",19),d.Xb(35,"input",20),d.fc("ngModelChange",(function(t){return e.ootpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(36,"div",21),d.Xb(37,"button",22),d.Ec(38,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(39,"div",10),d.Xb(40,"label",23),d.Ec(41,"Fizicko stanje otpada: "),d.Wb(),d.Xb(42,"div",12),d.Xb(43,"nb-select",24),d.fc("ngModelChange",(function(t){return e.ootpad.fizickoStanje=t})),d.Cc(44,j,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Xb(45,"div",10),d.Xb(46,"label",26),d.Ec(47,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(48,"div",12),d.Xb(49,"input",27),d.fc("ngModelChange",(function(t){return e.ootpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(50,"div",10),d.Xb(51,"label",28),d.Ec(52,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(53,"div",12),d.Xb(54,"input",29),d.fc("ngModelChange",(function(t){return e.ootpad.datumIspitivanja=t})),d.Wb(),d.Sb(55,"nb-datepicker",30,31),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",32),d.Xb(58,"div",10),d.Xb(59,"label",33),d.Ec(60,"H-Lista: "),d.Wb(),d.Xb(61,"label",33),d.Ec(62,"Y-Lista: "),d.Wb(),d.Xb(63,"label",33),d.Ec(64,"C-Lista: "),d.Wb(),d.Xb(65,"div",34),d.Xb(66,"input",35),d.fc("ngModelChange",(function(t){return e.ootpad.hLista=t})),d.Wb(),d.Wb(),d.Xb(67,"div",34),d.Xb(68,"input",36),d.fc("ngModelChange",(function(t){return e.ootpad.yLista=t})),d.Wb(),d.Wb(),d.Xb(69,"div",9),d.Xb(70,"input",37),d.fc("ngModelChange",(function(t){return e.ootpad.cLista=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(71,"div",10),d.Xb(72,"label",38),d.Ec(73,"Broj opasnih komponenta u otpadu: "),d.Wb(),d.Xb(74,"div",32),d.Xb(75,"input",39),d.fc("ngModelChange",(function(t){return e.brojKomponenti=t})),d.Wb(),d.Wb(),d.Xb(76,"div",40),d.Xb(77,"button",41),d.fc("click",(function(){return e.updateCAS()})),d.Ec(78,"Odaberi"),d.Wb(),d.Wb(),d.Wb(),d.Cc(79,y,2,1,"div",42),d.Xb(80,"div",10),d.Xb(81,"label",38),d.Ec(82,"Odaberite skladi\u0161te za otpad: "),d.Wb(),d.Xb(83,"div",32),d.Xb(84,"nb-select",43),d.fc("ngModelChange",(function(t){return e.skladiste=t})),d.Cc(85,T,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(86,"div",44),d.Xb(87,"div",2),d.Xb(88,"button",45),d.Ec(89,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var a=d.uc(13),i=d.uc(56);d.Eb(11),d.nc("source",e.katalog)("settings",e.settings),d.Eb(9),d.nc("placeholder",e.ootpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",e.ootpad.naziv),d.Eb(5),d.nc("ngModel",e.ootpad.opis),d.Eb(5),d.nc("ngModel",e.ootpad.kolicina),d.Eb(8),d.nc("ngModel",e.ootpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",e.fizickaStanja),d.Eb(5),d.nc("ngModel",e.ootpad.sifraIspitivanja),d.Eb(5),d.nc("ngModel",e.ootpad.datumIspitivanja)("nbDatepicker",i),d.Eb(1),d.nc("max",e.today()),d.Eb(11),d.nc("ngModel",e.ootpad.hLista),d.Eb(2),d.nc("ngModel",e.ootpad.yLista),d.Eb(2),d.nc("ngModel",e.ootpad.cLista),d.Eb(5),d.nc("ngModel",e.brojKomponenti),d.Eb(4),d.nc("ngIf",e.brojKomponenti>0),d.Eb(5),d.nc("ngModel",e.skladiste),d.Eb(1),d.nc("ngForOf",e.skladista),d.Eb(3),d.nc("disabled",!a.valid)}},directives:[k.w,k.y,k.v,k.O,v.b,W.w,W.l,W.m,W.b,W.k,W.n,W.p,k.t,k.nb,X.m,W.s,k.H,k.G,X.n,k.db],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),M)},{path:"dodaj-tretman",component:p},{path:"dodaj-deponija",component:b},{path:"dodaj-skladistenje",component:u}]}],z=((E=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:E}),E.\u0275inj=d.Ob({factory:function(t){return new(t||E)},imports:[[l.g.forChild(O)],l.g]}),E),w=((S=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:S}),S.\u0275inj=d.Ob({factory:function(t){return new(t||S)},providers:[f.a,g.a,r.a],imports:[[c.a,z,k.z,k.P,k.pb,k.C,v.c,k.u,W.e,k.I]]}),S)}}]);