function _createForOfIteratorHelper(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==e.return||e.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_setPrototypeOf(t,n)}function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _createSuper(t){var n=_isNativeReflectConstruct();return function(){var e,i=_getPrototypeOf(t);if(n){var a=_getPrototypeOf(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(t):n}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7IaX":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var i={hideSubHeader:!0,pager:{perPage:4},actions:{columnTitle:"Odaberi",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",width:"15%"},naziv:{title:"Naziv",width:"75%"}}}},"8FOb":function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var i,a=e("AytR"),o=e("fXoL"),c=e("tk/3"),s=((i=function(t){_inherits(e,t);var n=_createSuper(e);function e(t){var i;return _classCallCheck(this,e),(i=n.call(this)).http=t,i.apiUrl=a.a.apiUrl,i}return _createClass(e,[{key:"getOOtpad",value:function(){return this.http.get(this.apiUrl+"/api/opasniotpad")}},{key:"dodajOOtpad",value:function(t,n){return this.http.post(this.apiUrl+"/api/opasniotpad",{otpad:t,skladiste:n})}},{key:"updateOOtpad",value:function(t,n){return this.http.patch(this.apiUrl+"/api/opasniotpad/"+t._id,{otpad:t,skladiste:n})}},{key:"deleteOOtpad",value:function(t,n){return this.http.delete(this.apiUrl+"/api/opasniotpad/"+t._id+"/"+n)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(o.bc(c.b))},i.\u0275prov=o.Nb({token:i,factory:i.\u0275fac}),i)},"8sB5":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i,a=e("AytR"),o=e("fXoL"),c=e("tk/3"),s=e("McNs"),r=((i=function(t){_inherits(e,t);var n=_createSuper(e);function e(t,i){var o;return _classCallCheck(this,e),(o=n.call(this)).http=t,o.authService=i,o.apiUrl=a.a.apiUrl,o}return _createClass(e,[{key:"getPrevoznoSredstvo",value:function(){}},{key:"updatePrevoznoSredstvo",value:function(t){return this.http.patch(this.apiUrl+"/api/prevoznosredstvo/"+t._id,t)}},{key:"getPrevoznoSredstvoFirme",value:function(){var t="";return this.authService.getToken().subscribe((function(n){t=n.getPayload().data.firma._id})),this.http.get(this.apiUrl+"/api/prevoznosredstvo/firma/"+t)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(o.bc(c.b),o.bc(s.g))},i.\u0275prov=o.Nb({token:i,factory:i.\u0275fac}),i)},"9pL+":function(t,n,e){"use strict";e.r(n),e.d(n,"PtotpadModule",(function(){return X}));var i,a,o,c,s,r=e("vTDv"),l=e("aceb"),d=e("RS3s"),b=e("O8xV"),u=e("3Pt+"),p=e("tyNb"),h=e("fXoL"),f=((i=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=h.Lb({type:i,selectors:[["ngx-ptotpad"]],decls:1,vars:0,template:function(t,n){1&t&&h.Sb(0,"router-outlet")},directives:[p.h],encapsulation:2}),i),v=e("AytR"),g=e("tk/3"),k=((a=function(t){_inherits(e,t);var n=_createSuper(e);function e(t){var i;return _classCallCheck(this,e),(i=n.call(this)).http=t,i.apiUrl=v.a.apiUrl,i}return _createClass(e,[{key:"getPTOtpad",value:function(){return this.http.get(this.apiUrl+"/api/posebnitokoviotpada")}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||a)(h.bc(g.b))},a.\u0275prov=h.Nb({token:a,factory:a.\u0275fac}),a),m=e("ofXK"),W=[{path:"",component:f,children:[{path:"dodaj-otpad",component:(o=function(){function t(n,e){_classCallCheck(this,t),this.katalogService=n,this.ptotpadService=e,this.katalog=new d.a,this.settings={actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.ptotpad={_id:"",cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,masa:0,jedinicaMere:"",opasnaKomponenta:[{kgMaterije:0,cas:"",hemijskiNaziv:""}]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(n){t.katalog.load(n)}))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.ptotpad.indeksniBroj=t.data.indeksniBroj,this.ptotpad.naziv=t.data.naziv,this.ptotpad.opis=t.data.naziv}}]),t}(),o.\u0275fac=function(t){return new(t||o)(h.Rb(b.a),h.Rb(k))},o.\u0275cmp=h.Lb({type:o,selectors:[["ngx-dodaj-otpad"]],decls:59,vars:15,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],["nbInput","","name","Jedinica mere",1,"col","ml-3",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Masa",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,n){if(1&t){var e=h.Yb();h.Xb(0,"div"),h.Xb(1,"nb-card",0),h.Xb(2,"nb-card-header"),h.Ec(3," Dodajte novi inventar otpada "),h.Wb(),h.Xb(4,"nb-card-body"),h.Xb(5,"div",1),h.Xb(6,"div",2),h.Xb(7,"div",3),h.Xb(8,"form"),h.Xb(9,"div",4),h.Xb(10,"label",5),h.Ec(11),h.Wb(),h.Wb(),h.Xb(12,"div",4),h.Xb(13,"label",5),h.Ec(14,"Naziv: "),h.Wb(),h.Xb(15,"input",6),h.fc("ngModelChange",(function(t){return n.ptotpad.naziv=t})),h.Wb(),h.Wb(),h.Xb(16,"div",4),h.Xb(17,"label",5),h.Ec(18,"Opis: "),h.Wb(),h.Xb(19,"input",7),h.fc("ngModelChange",(function(t){return n.ptotpad.opis=t})),h.Wb(),h.Wb(),h.Xb(20,"div",4),h.Xb(21,"label",5),h.Ec(22,"Trenutna kolicina na skladistu: "),h.Wb(),h.Xb(23,"input",8),h.fc("ngModelChange",(function(t){return n.ptotpad.kolicina=t})),h.Wb(),h.Xb(24,"button",9),h.Ec(25,"kg"),h.Wb(),h.Wb(),h.Xb(26,"div",4),h.Xb(27,"label",5),h.Ec(28,"Fizicko stanje otpada: "),h.Wb(),h.Xb(29,"nb-select",10),h.fc("ngModelChange",(function(t){return n.ptotpad.fizickoStanje=t})),h.Xb(30,"nb-option",11),h.Ec(31,"Cvrsto"),h.Wb(),h.Xb(32,"nb-option",12),h.Ec(33,"Tecno"),h.Wb(),h.Xb(34,"nb-option",13),h.Ec(35,"Gasovito"),h.Wb(),h.Xb(36,"nb-option",14),h.Ec(37,"Prah"),h.Wb(),h.Wb(),h.Wb(),h.Xb(38,"div",4),h.Xb(39,"label",5),h.Ec(40,"Jedinica mere: "),h.Wb(),h.Xb(41,"input",15),h.fc("ngModelChange",(function(t){return n.ptotpad.jedinicaMere=t})),h.Wb(),h.Wb(),h.Xb(42,"div",4),h.Xb(43,"label",5),h.Ec(44,"Masa jedinicnog proizvoda: "),h.Wb(),h.Xb(45,"input",16),h.fc("ngModelChange",(function(t){return n.ptotpad.masa=t})),h.Wb(),h.Xb(46,"button",9),h.Ec(47),h.Wb(),h.Wb(),h.Xb(48,"div",4),h.Xb(49,"button",17),h.Ec(50,"Dodaj"),h.Wb(),h.Wb(),h.Wb(),h.Ec(51),h.ic(52,"json"),h.Wb(),h.Xb(53,"div",18),h.Xb(54,"label",19),h.Ec(55,"Pretrazi po indeksnom broju:"),h.Wb(),h.Xb(56,"input",20,21),h.fc("input",(function(){h.wc(e);var t=h.uc(57);return t.value.length>=1&&n.onSearch(t.value)})),h.Wb(),h.Xb(58,"ng2-smart-table",22),h.fc("custom",(function(t){return n.chooseOtpad(t)})),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb()}2&t&&(h.Eb(11),h.Gc("Indeksni broj: ",n.ptotpad.indeksniBroj,""),h.Eb(4),h.nc("placeholder",n.ptotpad.naziv)("ngModel",n.ptotpad.naziv),h.Eb(4),h.nc("placeholder",n.ptotpad.opis)("ngModel",n.ptotpad.opis),h.Eb(4),h.nc("ngModel",n.ptotpad.kolicina),h.Eb(6),h.nc("ngModel",n.ptotpad.fizickoStanje),h.Eb(12),h.nc("ngModel",n.ptotpad.jedinicaMere),h.Eb(4),h.nc("ngModel",n.ptotpad.masa),h.Eb(2),h.Fc(n.ptotpad.jedinicaMere),h.Eb(4),h.Gc(" ",h.jc(52,13,n.ptotpad)," "),h.Eb(7),h.nc("source",n.katalog)("settings",n.settings))},directives:[l.w,l.y,l.v,u.w,u.l,u.m,l.O,u.b,u.k,u.n,u.p,l.t,l.nb,l.db,d.b],pipes:[m.h],styles:[""]}),o)}]}],j=((s=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:s}),s.\u0275inj=h.Ob({factory:function(t){return new(t||s)},imports:[[p.g.forChild(W)],p.g]}),s),X=((c=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:c}),c.\u0275inj=h.Ob({factory:function(t){return new(t||c)},providers:[b.a,k],imports:[[r.a,l.z,l.P,l.pb,l.C,d.c,l.u,u.e,j]]}),c)},"E+HJ":function(t,n,e){"use strict";e.r(n),e.d(n,"AotpadModule",(function(){return O}));var i,a,o,c,s=e("vTDv"),r=e("tyNb"),l=e("O8xV"),d=e("RS3s"),b=e("fXoL"),u=e("tk/3"),p=((i=function(t){_inherits(e,t);var n=_createSuper(e);function e(t){var i;return _classCallCheck(this,e),(i=n.call(this)).http=t,i}return _createClass(e,[{key:"getAOtpad",value:function(){return this.http.get("api/ambalazniotpad")}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(b.bc(u.b))},i.\u0275prov=b.Nb({token:i,factory:i.\u0275fac}),i),h=e("aceb"),f=e("3Pt+"),v=e("ofXK"),g=((o=function(){function t(n,e){_classCallCheck(this,t),this.katalogService=n,this.aotpadService=e,this.katalog=new d.a,this.settings={hideSubHeader:!0,actions:{add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1},naziv:{title:"Naziv",filter:!1}}},this.aotpad={_id:"",fizickoStanje:"",indeksniBroj:"",naziv:"",opis:"",kolicina:0,komunalan:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(n){t.katalog.load(n)}))}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.aotpad.indeksniBroj=t.data.indeksniBroj,this.aotpad.naziv=t.data.naziv,this.aotpad.opis=t.data.naziv}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Rb(l.a),b.Rb(p))},o.\u0275cmp=b.Lb({type:o,selectors:[["ngx-dodaj-otpad"]],decls:55,vars:13,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],["selected","Cvrsto","name","stanje",1,"col",3,"ngModel","ngModelChange"],["value","Cvrsto"],["value","Tecno"],["value","Gasovito"],["value","Prah"],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","komunalan",3,"valueChange"],["checked","","name","nekomunalan",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[1,"col-6"],[1,"col-7"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",1,"col-3",3,"input"],["search",""],[3,"source","settings","custom"]],template:function(t,n){if(1&t){var e=b.Yb();b.Xb(0,"div"),b.Xb(1,"nb-card",0),b.Xb(2,"nb-card-header"),b.Ec(3," Dodajte novi inventar otpada "),b.Wb(),b.Xb(4,"nb-card-body"),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"div",3),b.Xb(8,"form"),b.Xb(9,"div",4),b.Xb(10,"label",5),b.Ec(11),b.Wb(),b.Wb(),b.Xb(12,"div",4),b.Xb(13,"label",5),b.Ec(14,"Naziv: "),b.Wb(),b.Xb(15,"input",6),b.fc("ngModelChange",(function(t){return n.aotpad.naziv=t})),b.Wb(),b.Wb(),b.Xb(16,"div",4),b.Xb(17,"label",5),b.Ec(18,"Opis: "),b.Wb(),b.Xb(19,"input",7),b.fc("ngModelChange",(function(t){return n.aotpad.opis=t})),b.Wb(),b.Wb(),b.Xb(20,"div",4),b.Xb(21,"label",5),b.Ec(22,"Trenutna kolicina na skladistu: "),b.Wb(),b.Xb(23,"input",8),b.fc("ngModelChange",(function(t){return n.aotpad.kolicina=t})),b.Wb(),b.Xb(24,"button",9),b.Ec(25,"kg"),b.Wb(),b.Wb(),b.Xb(26,"div",4),b.Xb(27,"label",5),b.Ec(28,"Fizicko stanje otpada: "),b.Wb(),b.Xb(29,"nb-select",10),b.fc("ngModelChange",(function(t){return n.aotpad.fizickoStanje=t})),b.Xb(30,"nb-option",11),b.Ec(31,"Cvrsto"),b.Wb(),b.Xb(32,"nb-option",12),b.Ec(33,"Tecno"),b.Wb(),b.Xb(34,"nb-option",13),b.Ec(35,"Gasovito"),b.Wb(),b.Xb(36,"nb-option",14),b.Ec(37,"Prah"),b.Wb(),b.Wb(),b.Wb(),b.Xb(38,"div",15),b.Xb(39,"nb-radio-group",16),b.fc("ngModelChange",(function(t){return n.aotpad.komunalan=t})),b.Xb(40,"nb-radio",17),b.fc("valueChange",(function(){return n.aotpad.komunalan=!0})),b.Ec(41,"Komunalan"),b.Wb(),b.Xb(42,"nb-radio",18),b.fc("valueChange",(function(){return n.aotpad.komunalan=!1})),b.Ec(43,"Nekomunalan"),b.Wb(),b.Wb(),b.Wb(),b.Xb(44,"div",4),b.Xb(45,"button",19),b.Ec(46,"Dodaj"),b.Wb(),b.Wb(),b.Wb(),b.Ec(47),b.ic(48,"json"),b.Wb(),b.Xb(49,"div",20),b.Xb(50,"label",21),b.Ec(51,"Pretrazi po indeksnom broju:"),b.Wb(),b.Xb(52,"input",22,23),b.fc("input",(function(){b.wc(e);var t=b.uc(53);return t.value.length>=1&&n.onSearch(t.value)})),b.Wb(),b.Xb(54,"ng2-smart-table",24),b.fc("custom",(function(t){return n.chooseOtpad(t)})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()}2&t&&(b.Eb(11),b.Gc("Indeksni broj: ",n.aotpad.indeksniBroj,""),b.Eb(4),b.nc("placeholder",n.aotpad.naziv)("ngModel",n.aotpad.naziv),b.Eb(4),b.nc("placeholder",n.aotpad.opis)("ngModel",n.aotpad.opis),b.Eb(4),b.nc("ngModel",n.aotpad.kolicina),b.Eb(6),b.nc("ngModel",n.aotpad.fizickoStanje),b.Eb(10),b.nc("ngModel",n.aotpad.komunalan),b.Eb(8),b.Gc(" ",b.jc(48,11,n.aotpad)," "),b.Eb(7),b.nc("source",n.katalog)("settings",n.settings))},directives:[h.w,h.y,h.v,f.w,f.l,f.m,h.O,f.b,f.k,f.n,f.p,h.t,h.nb,h.db,h.kb,h.jb,d.b],pipes:[v.h],styles:[""]}),o),k=((a=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=b.Lb({type:a,selectors:[["ngx-aotpad"]],decls:1,vars:0,template:function(t,n){1&t&&b.Sb(0,"router-outlet")},directives:[r.h],encapsulation:2}),a),m=e("LRne"),W=((c=function(t){_inherits(e,t);var n=_createSuper(e);function e(t){var i;return _classCallCheck(this,e),(i=n.call(this)).http=t,i}return _createClass(e,[{key:"getAmbalaza",value:function(){return this.http.get("api/ambalaza")}},{key:"getVrsteAmbalaza",value:function(){return Object(m.a)(["PET","Staklo","Druga vrsta plastike","Gvo\u017e\u0111e","Aluminijum","Palete","Ostalo Drvo","Tekstil","Keramika","Druge vrste ambala\u017ee"])}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||c)(b.bc(u.b))},c.\u0275prov=b.Nb({token:c,factory:c.\u0275fac}),c);function j(t,n){if(1&t&&(b.Xb(0,"nb-option",17),b.Ec(1),b.Wb()),2&t){var e=n.$implicit;b.nc("value",e),b.Eb(1),b.Fc(e)}}var X,y,C,E=[{path:"",component:k,children:[{path:"dodaj-otpad",component:g},{path:"dodaj-ambalazu",component:(X=function(){function t(n,e){_classCallCheck(this,t),this.katalogService=n,this.ambalazaService=e,this.ambalaza={_id:"",naziv:"",opis:"",kolicina:0,povratna:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.ambalazaService.getVrsteAmbalaza().subscribe((function(n){t.vrste=n}))}}]),t}(),X.\u0275fac=function(t){return new(t||X)(b.Rb(l.a),b.Rb(W))},X.\u0275cmp=b.Lb({type:X,selectors:[["ngx-dodaj-ambalazu"]],decls:37,vars:12,consts:[[1,"container-fluid"],[1,"flex-fill","px-4"],[1,"row"],[1,"col-6","flex-fill"],[1,"row","my-3"],["name","naziv",1,"col-8",3,"selected","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["nbInput","","name","naziv",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["nbInput","","name","opis",1,"col","ml-3",3,"placeholder","ngModel","ngModelChange"],["fullWidth","","pattern","[0-9]*","min","0","type","number","nbInput","","placeholder","0.0","name","kolicina",1,"col-2","ml-3",3,"ngModel","ngModelChange"],["nbButton","","disabled",""],[1,"row","my-3","ml-3"],[3,"ngModel","ngModelChange"],["name","povratna",3,"valueChange"],["checked","","name","nepovratna",3,"valueChange"],["nbButton","","type","submit","status","primary",1,"ml-3"],[3,"value"]],template:function(t,n){1&t&&(b.Xb(0,"div"),b.Xb(1,"nb-card",0),b.Xb(2,"nb-card-header"),b.Ec(3," Dodajte novi inventar ambalaze "),b.Wb(),b.Xb(4,"nb-card-body"),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"div",3),b.Xb(8,"form"),b.Xb(9,"div",4),b.Xb(10,"nb-select",5),b.fc("ngModelChange",(function(t){return n.ambalaza.naziv=t})),b.Cc(11,j,2,2,"nb-option",6),b.Wb(),b.Wb(),b.Xb(12,"div",4),b.Xb(13,"label",7),b.Ec(14,"Naziv: "),b.Wb(),b.Xb(15,"input",8),b.fc("ngModelChange",(function(t){return n.ambalaza.naziv=t})),b.Wb(),b.Wb(),b.Xb(16,"div",4),b.Xb(17,"label",7),b.Ec(18,"Opis: "),b.Wb(),b.Xb(19,"input",9),b.fc("ngModelChange",(function(t){return n.ambalaza.opis=t})),b.Wb(),b.Wb(),b.Xb(20,"div",4),b.Xb(21,"label",7),b.Ec(22,"Trenutna kolicina na skladistu: "),b.Wb(),b.Xb(23,"input",10),b.fc("ngModelChange",(function(t){return n.ambalaza.kolicina=t})),b.Wb(),b.Xb(24,"button",11),b.Ec(25,"kg"),b.Wb(),b.Wb(),b.Xb(26,"div",12),b.Xb(27,"nb-radio-group",13),b.fc("ngModelChange",(function(t){return n.ambalaza.povratna=t})),b.Xb(28,"nb-radio",14),b.fc("valueChange",(function(){return n.ambalaza.povratna=!0})),b.Ec(29,"Povratna"),b.Wb(),b.Xb(30,"nb-radio",15),b.fc("valueChange",(function(){return n.ambalaza.povratna=!1})),b.Ec(31,"Nepovratna"),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"div",4),b.Xb(33,"button",16),b.Ec(34,"Dodaj"),b.Wb(),b.Wb(),b.Wb(),b.Ec(35),b.ic(36,"json"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(10),b.nc("selected",n.vrste[0])("ngModel",n.ambalaza.naziv),b.Eb(1),b.nc("ngForOf",n.vrste),b.Eb(4),b.nc("placeholder",n.ambalaza.naziv)("ngModel",n.ambalaza.naziv),b.Eb(4),b.nc("placeholder",n.ambalaza.opis)("ngModel",n.ambalaza.opis),b.Eb(4),b.nc("ngModel",n.ambalaza.kolicina),b.Eb(4),b.nc("ngModel",n.ambalaza.povratna),b.Eb(8),b.Gc(" ",b.jc(36,10,n.ambalaza)," "))},directives:[h.w,h.y,h.v,f.w,f.l,f.m,h.nb,f.k,f.n,v.m,h.O,f.b,f.p,f.q,h.t,h.kb,h.jb,h.db],pipes:[v.h],styles:[""]}),X)}]}],M=((C=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:C}),C.\u0275inj=b.Ob({factory:function(t){return new(t||C)},imports:[[r.g.forChild(E)],r.g]}),C),O=((y=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:y}),y.\u0275inj=b.Ob({factory:function(t){return new(t||y)},providers:[l.a,p,W],imports:[[s.a,M,h.z,h.P,h.pb,h.C,d.c,h.u,f.e,h.lb]]}),y)},O97o:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i,a=e("AytR"),o=e("fXoL"),c=e("tk/3"),s=e("McNs"),r=((i=function(t){_inherits(e,t);var n=_createSuper(e);function e(t,i){var o;return _classCallCheck(this,e),(o=n.call(this)).http=t,o.authService=i,o.apiUrl=a.a.apiUrl,o}return _createClass(e,[{key:"getDozvola",value:function(){return this.http.get(this.apiUrl+"/api/dozvola")}},{key:"updateDozvola",value:function(t){return this.http.patch(this.apiUrl+"/api/dozvola/"+t._id,t)}},{key:"getDozvolaFirme",value:function(t){var n="";return this.authService.getToken().subscribe((function(t){n=t.getPayload().data.firma._id})),this.http.get(this.apiUrl+"/api/dozvola/firma/"+n+"/"+t)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(o.bc(c.b),o.bc(s.g))},i.\u0275prov=o.Nb({token:i,factory:i.\u0275fac}),i)},dgmN:function(t,n,e){"use strict";e.r(n),e.d(n,"PagesModule",(function(){return Kt}));var i,a,o,c,s,r=e("3Pt+"),l=e("aceb"),d=e("RS3s"),b=e("O97o"),u=e("g6/h"),p=e("v7Ib"),h=e("8sB5"),f=e("ud2R"),v=e("vTDv"),g=e("E+HJ"),k=e("fXoL"),m=((i=function t(){_classCallCheck(this,t)}).\u0275mod=k.Pb({type:i}),i.\u0275inj=k.Ob({factory:function(t){return new(t||i)},imports:[[r.e,v.a,l.z,l.Lb,l.u,l.n,l.N,l.u]]}),i),W=e("o/8v"),j=e("rDBk"),X=e("tyNb"),y=((o=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=k.Lb({type:o,selectors:[["ngx-dashboard"]],decls:2,vars:0,consts:[[1,"row"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Ec(1," Glavni panel!\n"),k.Wb())},styles:[".nb-theme-default   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}"]}),o),C=((a=function(){function t(n){_classCallCheck(this,t),this.menuService=n}return _createClass(t,[{key:"goToHome",value:function(){this.menuService.navigateHome()}}]),t}()).\u0275fac=function(t){return new(t||a)(k.Rb(l.bb))},a.\u0275cmp=k.Lb({type:a,selectors:[["ngx-not-found"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-centered","col-xl-4","col-lg-6","col-md-8","col-sm-12"],[1,"title"],[1,"sub-title"],["nbButton","","fullWidth","","type","button",1,"home-button",3,"click"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Xb(1,"div",1),k.Xb(2,"nb-card"),k.Xb(3,"nb-card-body"),k.Xb(4,"div",2),k.Xb(5,"h2",3),k.Ec(6,"404 Ne postoji"),k.Wb(),k.Xb(7,"small",4),k.Ec(8,"Stranica koju ste tra\u017eili ne postoji"),k.Wb(),k.Xb(9,"button",5),k.fc("click",(function(){return n.goToHome()})),k.Ec(10," Vrati me na po\u010detnu "),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb())},directives:[l.w,l.v,l.t],styles:[".flex-centered[_ngcontent-%COMP%]{margin:auto}nb-card-body[_ngcontent-%COMP%]{display:flex}.sub-title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{text-align:center}.sub-title[_ngcontent-%COMP%]{display:block;margin-bottom:3rem}.home-button[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),a),E=e("McNs"),M=e("mgFL"),O=((c=function(){function t(n,e,i){var a=this;_classCallCheck(this,t),this.roleService=n,this.authService=e,this.router=i,this.menu=[],this.authService.getToken().subscribe((function(t){"admin"===t.getPayload().data.korisnik.uloga&&a.router.navigate(["admin"])}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getToken().subscribe((function(n){var e=n.getPayload().data.firma.radFirme;t.roleService.findOperationsMenu(e).subscribe((function(n){t.menu=n}))}))}},{key:"ngOnDestroy",value:function(){this.menu=[]}}]),t}()).\u0275fac=function(t){return new(t||c)(k.Rb(f.a),k.Rb(E.g),k.Rb(X.c))},c.\u0275cmp=k.Lb({type:c,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,n){1&t&&(k.Xb(0,"ngx-one-column-layout"),k.Sb(1,"nb-menu",0),k.Sb(2,"router-outlet"),k.Wb()),2&t&&(k.Eb(1),k.nc("items",n.menu))},directives:[M.a,l.Z,X.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),c),z=e("SxV6"),S=e("pVkk"),w=e("ofXK"),I=e("LRne"),_=e("El76"),F=e("8FOb"),P={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)",editable:!1}}},T={hideSubHeader:!0,actions:{columnTitle:"Dodaj na skladi\u0161te",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}},N=((s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"calculateStatus",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100<33?"success":this.storage.kolicina/this.storage.maxKolicina*100<66?"warning":"danger"}},{key:"calculateValue",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100}}]),t}()).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=k.Lb({type:s,selectors:[["storage-meter"]],inputs:{storage:"storage"},decls:6,vars:4,consts:[[1,"row"],[1,"col-12","text-center","progress-bar-text"],[1,"badge","badge-light"],[1,"col-12"],["size","large",3,"value","status"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Xb(1,"div",1),k.Xb(2,"span",2),k.Ec(3),k.Wb(),k.Wb(),k.Xb(4,"div",3),k.Sb(5,"nb-progress-bar",4),k.Wb(),k.Wb()),2&t&&(k.Eb(3),k.Hc("",n.storage.kolicina,"/",n.storage.maxKolicina,""),k.Eb(2),k.nc("value",n.calculateValue())("status",n.calculateStatus()))},directives:[l.hb],styles:[".progress-bar-text[_ngcontent-%COMP%]{font-size:1.3rem;z-index:1;position:relative;transform:translateY(101%)}"]}),s),K=["addTrash"];function D(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div"),k.Sb(1,"storage-meter",3),k.Xb(2,"nb-card"),k.Xb(3,"nb-card-header"),k.Xb(4,"div",4),k.Xb(5,"div",5),k.Xb(6,"h2",6),k.Ec(7),k.Wb(),k.Wb(),k.Xb(8,"div",7),k.Xb(9,"nb-icon",8),k.fc("click",(function(){return k.wc(e),k.hc().edit()})),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(10,"nb-card-body"),k.Xb(11,"div"),k.Xb(12,"ng2-smart-table",9),k.fc("custom",(function(t){k.wc(e);var i=n.$implicit;return k.hc().changeKolicina(t,i)}))("editConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().updateTrash(t,i)}))("deleteConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().deleteTrash(t,i)})),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=n.$implicit,a=k.hc();k.Eb(1),k.nc("storage",i),k.Eb(6),k.Fc(null==i?null:i.naziv),k.Eb(2),k.nc("icon",a.editIcon),k.Eb(3),k.nc("settings",a.currSettings)("source",null==i?null:i.neopasniOtpad)}}function x(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",10),k.Xb(1,"form",11,12),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().dodajOtpad()})),k.Xb(3,"div",13),k.Xb(4,"label",14),k.Ec(5,"Dodaj: "),k.Wb(),k.Xb(6,"input",15,16),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Wb(),k.Xb(8,"div",17),k.Xb(9,"p"),k.Ec(10),k.Wb(),k.Wb(),k.Xb(11,"button",18),k.Ec(12," Dodaj "),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=k.uc(7),a=k.hc();k.Eb(6),k.nc("ngModel",a.otpadKolicina),k.Eb(4),k.Gc("Trenutna kolicina otpada na skladistu: ",a.otpad.kolicina,""),k.Eb(1),k.nc("disabled",i.value<1||i.value===a.NaN)}}var B,R=((B=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.skladisteService=n,this.windowService=e,this.notpadService=i,this.ootpadService=a,this.toastrService=o,this.skladista=[],this.settings=T,this.currSettings=this.settings,this.editSettings=P,this.editIcon="edit"}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var t=this;this.skladisteService.getSkladisteFirme().pipe(Object(z.a)()).subscribe((function(n){t.skladista=n,t.skladista$=Object(I.a)(n),t.mergeOtpads()}))}},{key:"mergeOtpads",value:function(){if(void 0!==this.skladista){var t,n=_createForOfIteratorHelper(this.skladista);try{for(n.s();!(t=n.n()).done;){var e=t.value;e.neopasniOtpad=e.neopasniOtpad.concat(e.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"dodajOtpad",value:function(){var t=this;this.otpad.kolicina+=this.otpadKolicina,this.otpad.indeksniBroj.endsWith("*")?this.ootpadService.updateOOtpad(this.otpad,this.currSkladiste._id).subscribe((function(n){t.updateSkladiste()})):this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe((function(n){t.updateSkladiste()})),this.showToast("Uspeh","Uspe\u0161no ste dodali "+this.otpadKolicina+" (kg) "+this.otpad.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),this.otpadKolicina=NaN}},{key:"changeKolicina",value:function(t,n){this.currSkladiste=n;var e=t.data;this.otpad=e,this.windowRef=this.windowService.open(this.addTrash,{title:"Dodaj proizvedenu kolicinu: "+e.naziv})}},{key:"edit",value:function(){this.currSettings!==this.editSettings?(this.currSettings=this.editSettings,this.editIcon="close"):(this.currSettings=this.settings,this.editIcon="edit")}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}},{key:"updateTrash",value:function(t,n){var e=this,i=t.newData,a=t.confirm;try{this.notpadService.updateNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,n){var e=this,i=t.data,a=t.confirm;try{this.notpadService.deleteNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}}]),t}()).\u0275fac=function(t){return new(t||B)(k.Rb(S.a),k.Rb(l.Nb),k.Rb(_.a),k.Rb(F.a),k.Rb(l.Hb))},B.\u0275cmp=k.Lb({type:B,selectors:[["ngx-skladiste-proizvodnja"]],viewQuery:function(t,n){var e;1&t&&k.Kc(K,!0,k.N),2&t&&k.tc(e=k.gc())&&(n.addTrash=e.first)},decls:5,vars:3,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["addTrash",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[1,"order-table",3,"settings","source","custom","editConfirm","deleteConfirm"],[1,"p-4"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Cc(1,D,13,5,"div",1),k.ic(2,"async"),k.Wb(),k.Cc(3,x,13,3,"ng-template",null,2,k.Dc)),2&t&&(k.Eb(1),k.nc("ngForOf",k.jc(2,1,n.skladista$)))},directives:[w.m,N,l.w,l.y,l.L,l.v,d.b,r.w,r.l,r.m,l.O,r.p,r.b,r.k,r.n],pipes:[w.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),B),L=e("O8xV"),U=e("7IaX"),$={hideSubHeader:!0,actions:{columnTitle:"Obradi otpad/Dodaj na skladi\u0161te",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"obradi",title:'<i class="fa fa-trash-restore"></i>'},{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}},A=["treatTrashTemplate"],H=["addTrashTemplate"];function Y(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div"),k.Sb(1,"storage-meter",4),k.Xb(2,"nb-card"),k.Xb(3,"nb-card-header"),k.Xb(4,"div",5),k.Xb(5,"div",6),k.Xb(6,"h2",7),k.Ec(7),k.Wb(),k.Wb(),k.Xb(8,"div",8),k.Xb(9,"nb-icon",9),k.fc("click",(function(){return k.wc(e),k.hc().edit()})),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(10,"nb-card-body"),k.Xb(11,"ng2-smart-table",10),k.fc("custom",(function(t){k.wc(e);var i=n.$implicit;return k.hc().chooseAction(t,i)}))("editConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().updateTrash(t,i)}))("deleteConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().deleteTrash(t,i)})),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=n.$implicit,a=k.hc();k.Eb(1),k.nc("storage",i),k.Eb(6),k.Fc(null==i?null:i.naziv),k.Eb(2),k.nc("icon",a.editIcon),k.Eb(2),k.nc("settings",a.currSettings)("source",null==i?null:i.neopasniOtpad)}}function G(t,n){if(1&t){var e=k.Yb();k.Xb(0,"button",27),k.fc("click",(function(){k.wc(e);var t=k.hc().$implicit;return k.hc(2).chooseOtpad(t)})),k.Ec(1),k.Wb()}if(2&t){var i=k.hc().$implicit;k.nc("nbPopover",null==i?null:i.naziv),k.Eb(1),k.Gc(" ",null==i?null:i.indeksniBroj," ")}}function q(t,n){if(1&t&&(k.Xb(0,"div",25),k.Cc(1,G,2,2,"button",26),k.Wb()),2&t){var e=n.$implicit;k.Eb(1),k.nc("ngIf",e)}}function V(t,n){if(1&t&&(k.Xb(0,"nb-option",28),k.Ec(1),k.Wb()),2&t){var e=n.$implicit;k.nc("value",e),k.Eb(1),k.Fc(e.naziv)}}function J(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",29),k.Xb(1,"button",30),k.fc("click",(function(){return k.wc(e),k.hc(2).odaberiNoviOtpad()})),k.Ec(2,"Odaberi novi otpad koji nastaje"),k.Wb(),k.Wb()}}function Q(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",29),k.Xb(1,"label",31),k.Ec(2,"Pretrazi po indeksnom broju:"),k.Wb(),k.Xb(3,"input",32,33),k.fc("input",(function(){k.wc(e);var t=k.uc(4),n=k.hc(2);return t.value.length>=1&&n.onSearch(t.value)})),k.Wb(),k.Xb(5,"ng2-smart-table",34),k.fc("custom",(function(t){return k.wc(e),k.hc(2).chooseOtpad(t)})),k.Wb(),k.Wb()}if(2&t){var i=k.hc(2);k.Eb(5),k.nc("source",i.katalog)("settings",i.settingsKatalog)}}var Z=function(){return{standalone:!0}};function tt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",5),k.Xb(1,"div",11),k.Xb(2,"p"),k.Ec(3,"Lista otpada koji nastaju:"),k.Wb(),k.Xb(4,"div",5),k.Cc(5,q,2,1,"div",12),k.Wb(),k.Wb(),k.Xb(6,"div",13),k.Xb(7,"label",14),k.Ec(8,"Odaberite skladiste za otpad koji nastane:"),k.Wb(),k.Xb(9,"nb-select",15),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().currSkladisteOstatak=t})),k.Cc(10,V,2,2,"nb-option",16),k.Wb(),k.Wb(),k.Xb(11,"div",17),k.Xb(12,"form",18,19),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().obradiOtpad()})),k.Xb(14,"label",14),k.Ec(15,"Odaberi koli\u010dinu za preradu:"),k.Wb(),k.Xb(16,"input",20,21),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Xb(18,"button",22),k.Ec(19," Obradi "),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(20,"div",23),k.Cc(21,J,3,0,"div",24),k.Cc(22,Q,6,2,"div",24),k.Wb()}if(2&t){var i=k.uc(17),a=k.hc();k.Eb(5),k.nc("ngForOf",a.otpadKojiNastaje),k.Eb(4),k.nc("ngModel",a.currSkladisteOstatak),k.Eb(1),k.nc("ngForOf",a.skladista),k.Eb(6),k.nc("ngModelOptions",k.qc(8,Z))("ngModel",a.otpadKolicina),k.Eb(2),k.nc("disabled",i.value<1||i.value===a.NaN),k.Eb(3),k.nc("ngIf",a.otpadKojiNastaje&&!a.noviOtpad),k.Eb(1),k.nc("ngIf",!a.otpadKojiNastaje||a.noviOtpad)}}function nt(t,n){if(1&t&&(k.Xb(0,"nb-option-group",54),k.Xb(1,"nb-option",28),k.Ec(2),k.Wb(),k.Wb()),2&t){var e=n.$implicit,i=n.index;k.nc("title","R"+(i+1)),k.Eb(1),k.nc("value","R"+(i+1)),k.Eb(1),k.Fc(e)}}function et(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",35),k.Xb(1,"form",18,36),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().dodajOtpad()})),k.Xb(3,"div",37),k.Xb(4,"label",38),k.Ec(5,"Naziv preduze\u0107a od kojeg je preuzet otpad: "),k.Wb(),k.Xb(6,"input",39,40),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().nazivFirme=t})),k.Wb(),k.Wb(),k.Xb(8,"div",37),k.Xb(9,"label",41),k.Ec(10,"Broj dokumenta o kretanju otpada: "),k.Wb(),k.Xb(11,"input",42,43),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().brDokumenta=t})),k.Wb(),k.Wb(),k.Xb(13,"div",37),k.Xb(14,"label",44),k.Ec(15,"Koli\u010dina: "),k.Wb(),k.Xb(16,"input",45,46),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Wb(),k.Xb(18,"div",37),k.Xb(19,"label",47),k.Ec(20,"R Oznaka: "),k.Wb(),k.Xb(21,"div",48),k.Xb(22,"nb-select",49),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpad.rOznaka=t})),k.Cc(23,nt,3,3,"nb-option-group",50),k.Wb(),k.Wb(),k.Xb(24,"div",51),k.Xb(25,"nb-checkbox",null,52),k.Ec(27,"Promeni R oznaku otpada"),k.Wb(),k.Wb(),k.Wb(),k.Xb(28,"div",53),k.Xb(29,"p"),k.Ec(30),k.Wb(),k.Wb(),k.Xb(31,"button",22),k.Ec(32," Dodaj "),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=k.uc(2),a=k.uc(26),o=k.hc();k.Eb(6),k.nc("ngModel",o.nazivFirme),k.Eb(5),k.nc("ngModel",o.brDokumenta),k.Eb(5),k.nc("ngModel",o.otpadKolicina),k.Eb(6),k.nc("ngModel",o.otpad.rOznaka)("disabled",!a.checked),k.Eb(1),k.nc("ngForOf",o.rOznake),k.Eb(7),k.Gc("Trenutna kolicina otpada na skladistu: ",o.otpad.kolicina,""),k.Eb(1),k.nc("disabled",!i.valid)}}var it,at=((it=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.skladisteService=n,this.windowService=e,this.notpadService=i,this.katalogService=a,this.toastrService=o,this.skladistaTretman=[],this.nazivFirme="",this.brDokumenta="",this.skladista=[],this.otpadKojiNastaje=[],this.noviOtpad=!1,this.settings=$,this.currSettings=this.settings,this.editSettings=P,this.editIcon="edit",this.settingsProduction=T,this.settingsKatalog=U.a,this.katalog=new d.a,this.katalogArray=[],this.rOznake=["Kori\u0161\u0107enje otpada prvenstveno ka goriva ili drugog sredstva za proizvodnju energine","Regeneracija/prerada rastvara\u010da","Recikliranje/prerada organskih materija koji se ne koriste kao rastvara\u010di (uklju\u010duju\u0107i kompostiranje i ostale procese biolo\u0161ke transformacije)","Recikliranje/prerada metala i jedinjenja metala","Recikliranje/prerada drugih neorganskih materijala","Regeneracija kiselina ili baza","Obnavljanje komponenata koje se koriste za smanjenje zaga\u0111enja","Obnavljanje komponenata katalizatora","Re-rafinacija ili drugi na\u010din ponovnog iskori\u0161\u0107enja otpadnog ulja","Izlaganje otpada procesima u zemlji\u0161tu koji imaju korist za poljoprivredu il iekolo\u0161ki napredak","Promene radi podvrgavanja otpada bilo kojoj od operacija od R1 do R11","Skladi\u0161tenje otpada namenjenih za bilo koju operaciju od R1 do R12 (isklju\u010duju\u0107i privremeno skladi\u0161tenje otpada na lokaciji njegovog nastanka) "]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(n){t.katalogArray=n,t.katalog.load(n)})),this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var t=this;this.skladisteService.getSkladisteTretmanFirme().pipe(Object(z.a)()).subscribe((function(n){t.skladistaTretman=n,t.organizeTrash()})),this.skladisteService.getSkladisteFirme().pipe(Object(z.a)()).subscribe((function(n){t.skladista=n}))}},{key:"organizeTrash",value:function(){if(void 0!==this.skladistaTretman){var t,n=_createForOfIteratorHelper(this.skladistaTretman);try{for(n.s();!(t=n.n()).done;){var e=t.value;e.neopasniOtpad=e.neopasniOtpad.concat(e.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"obradiOtpad",value:function(){var t=this;this.otpad.kolicina-=this.otpadKolicina,this.otpad.otpadKojiNastaje=[],this.otpadKojiNastaje.forEach((function(n){delete n._id,t.otpad.otpadKojiNastaje.push(n.indeksniBroj),n.opis=n.naziv,n.kolicina=0,t.notpadService.dodajNOtpad(n,t.currSkladisteOstatak._id).subscribe((function(t){}))})),this.notpadService.updateNOtpad(this.otpad,this.currStorage._id).subscribe((function(t){})),this.updateSkladiste(),this.showToast("Uspeh","Uspe\u0161no ste obradili "+this.otpadKolicina+" (kg) "+this.otpad.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),this.otpadKolicina=NaN}},{key:"dodajOtpad",value:function(){this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currStorage._id,this.nazivFirme,this.brDokumenta).subscribe((function(t){})),this.updateSkladiste(),this.showToast("Uspeh","Uspe\u0161no ste dodali "+this.otpadKolicina+" (kg) "+this.otpad.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),this.otpadKolicina=NaN}},{key:"chooseOtpad",value:function(t){if(this.noviOtpad){var n=t;void 0!==t.data&&(n=t.data),this.otpadKojiNastaje.some((function(t){return t._id===n._id}))?this.removeOtpad(n):this.otpadKojiNastaje.push(n)}}},{key:"removeOtpad",value:function(t){var n=this.otpadKojiNastaje.filter((function(n){return n._id===t._id}))[0];if(n){var e=this.otpadKojiNastaje.indexOf(n,0);e>-1&&this.otpadKojiNastaje.splice(e,1)}}},{key:"chooseAction",value:function(t,n){"obradi"===t.action?this.treatTrash(t.data,n):"dodaj"===t.action&&this.addTrash(t.data,n)}},{key:"treatTrash",value:function(t,n){this.currStorage=n,this.otpad=t,this.otpad.otpadKojiNastaje&&this.updateOtpadKojiNastaje(),this.windowRef=this.windowService.open(this.treatTrashTemplate,{title:"Preradi odre\u0111enu koli\u010dinu: "+this.otpad.naziv})}},{key:"odaberiNoviOtpad",value:function(){this.noviOtpad=!0}},{key:"updateOtpadKojiNastaje",value:function(){var t=this;this.otpadKojiNastaje=new Array,this.otpad.otpadKojiNastaje.forEach((function(n){var e=t.katalogArray.filter((function(t){return t.indeksniBroj===n}))[0];e.opis=e.naziv,e.kolicina=0,t.otpadKojiNastaje.push(e)}))}},{key:"addTrash",value:function(t,n){this.currStorage=n,this.otpad=t,this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj odre\u0111enu koli\u010dinu: "+this.otpad.naziv})}},{key:"edit",value:function(){this.currSettings!==this.editSettings?(this.currSettings=this.editSettings,this.editIcon="close"):(this.currSettings=this.settings,this.editIcon="edit")}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}},{key:"updateTrash",value:function(t,n){var e=this,i=t.newData,a=t.confirm;try{this.notpadService.updateNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,n){var e=this,i=t.data,a=t.confirm;try{this.notpadService.deleteNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}}]),t}()).\u0275fac=function(t){return new(t||it)(k.Rb(S.a),k.Rb(l.Nb),k.Rb(_.a),k.Rb(L.a),k.Rb(l.Hb))},it.\u0275cmp=k.Lb({type:it,selectors:[["ngx-skladiste-tretman"]],viewQuery:function(t,n){var e;1&t&&(k.Kc(A,!0,k.N),k.Kc(H,!0,k.N)),2&t&&(k.tc(e=k.gc())&&(n.treatTrashTemplate=e.first),k.tc(e=k.gc())&&(n.addTrashTemplate=e.first))},decls:6,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["treatTrashTemplate",""],["addTrashTemplate",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[3,"settings","source","custom","editConfirm","deleteConfirm"],[1,"col-5"],["class","col-4 py-1",4,"ngFor","ngForOf"],[1,"col-4"],[1,"label","col-12"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],[3,"ngSubmit"],["obradiForm","ngForm"],["nbInput","","name","kolicinaOtpada","fullWidth","","type","number","onkeypress","return /[0-9]/i.test(event.key)","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["kolicina",""],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"row","mt-2"],["class","col-12",4,"ngIf"],[1,"col-4","py-1"],["nbButton","","status","info","size","small","fullWidth","","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngIf"],["nbButton","","status","info","size","small","fullWidth","","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click"],[3,"value"],[1,"col-12"],["nbButton","","type","button","status","success",3,"click"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],[1,"p-4",2,"width","50vw"],["addForm","ngForm"],[1,"form-group","mt-0"],["for","input-nazivFirme",1,"mb-2"],["required","","fullWidth","","id","input-nazivFirme","name","nazivFirme","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["nazivFirme1","ngModel"],["for","input-brDokumenta",1,"mb-2"],["required","","fullWidth","","id","input-brDokumenta","name","brDokumenta","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["brDokumenta1","ngModel"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","required","","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],["for","input-dOznaka",1,"col-12","mb-2","pl-0"],[1,"col-12","px-0",2,"max-width","50vw"],["fullWidth","","name","ROznaka","id","input-dOznaka",1,"pr-2",3,"ngModel","disabled","ngModelChange"],[3,"title",4,"ngFor","ngForOf"],[1,"mt-2"],["checkBox",""],[1,"form-group"],[3,"title"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Cc(1,Y,12,5,"div",1),k.Wb(),k.Cc(2,tt,23,9,"ng-template",null,2,k.Dc),k.Cc(4,et,33,8,"ng-template",null,3,k.Dc)),2&t&&(k.Eb(1),k.nc("ngForOf",n.skladistaTretman))},directives:[w.m,N,l.w,l.y,l.L,l.v,d.b,l.nb,r.k,r.n,r.w,r.l,r.m,l.O,r.p,r.b,w.n,l.t,l.fb,l.db,r.s,l.B,l.eb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:60px;text-align:center}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),it),ot={hideSubHeader:!0,actions:{columnTitle:"Odlo\u017ei otpad/Dodaj otpad",position:"right",edit:!1,add:!1,delete:!1,custom:[{name:"Odlo\u017ei",title:'<i class="fa fa-trash-alt"></i>'},{name:"dodaj",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Kolicina"}}},ct=["dumpWindow"],st=["addTrashTemplate"];function rt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div"),k.Sb(1,"storage-meter",4),k.Xb(2,"nb-card"),k.Xb(3,"nb-card-header"),k.Xb(4,"div",5),k.Xb(5,"div",6),k.Xb(6,"h2",7),k.Ec(7),k.Wb(),k.Wb(),k.Xb(8,"div",8),k.Xb(9,"nb-icon",9),k.fc("click",(function(){return k.wc(e),k.hc().edit()})),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(10,"nb-card-body"),k.Xb(11,"ng2-smart-table",10),k.fc("custom",(function(t){k.wc(e);var i=n.$implicit;return k.hc().chooseAction(t,i)}))("editConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().updateTrash(t,i)}))("deleteConfirm",(function(t){k.wc(e);var i=n.$implicit;return k.hc().deleteTrash(t,i)})),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=n.$implicit,a=k.hc();k.Eb(1),k.nc("storage",i),k.Eb(6),k.Fc(null==i?null:i.naziv),k.Eb(2),k.nc("icon",a.editIcon),k.Eb(2),k.nc("settings",a.currSettings)("source",null==i?null:i.neopasniOtpad)}}function lt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"button",27),k.fc("click",(function(){k.wc(e);var t=k.hc().$implicit;return k.hc(2).chooseOtpad(t)})),k.Ec(1),k.Wb()}if(2&t){var i=k.hc().$implicit;k.nc("nbPopover",null==i?null:i.naziv),k.Eb(1),k.Gc(" ",null==i?null:i.indeksniBroj," ")}}function dt(t,n){if(1&t&&(k.Xb(0,"div",25),k.Cc(1,lt,2,2,"button",26),k.Wb()),2&t){var e=n.$implicit;k.Eb(1),k.nc("ngIf",e)}}function bt(t,n){if(1&t&&(k.Xb(0,"nb-option",28),k.Ec(1),k.Wb()),2&t){var e=n.$implicit;k.nc("value",e),k.Eb(1),k.Fc(e.naziv)}}function ut(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",29),k.Xb(1,"button",30),k.fc("click",(function(){return k.wc(e),k.hc(2).odaberiNoviOtpad()})),k.Ec(2,"Odaberi novi otpad koji nastaje"),k.Wb(),k.Wb()}}function pt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",29),k.Xb(1,"label",31),k.Ec(2,"Pretrazi po indeksnom broju:"),k.Wb(),k.Xb(3,"input",32,33),k.fc("input",(function(){k.wc(e);var t=k.uc(4),n=k.hc(2);return t.value.length>=1&&n.onSearch(t.value)})),k.Wb(),k.Xb(5,"ng2-smart-table",34),k.fc("custom",(function(t){return k.wc(e),k.hc(2).chooseOtpad(t)})),k.Wb(),k.Wb()}if(2&t){var i=k.hc(2);k.Eb(5),k.nc("source",i.katalog)("settings",i.settingsKatalog)}}var ht=function(){return{standalone:!0}};function ft(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",5),k.Xb(1,"div",11),k.Xb(2,"p"),k.Ec(3,"Lista otpada koji nastaju:"),k.Wb(),k.Xb(4,"div",5),k.Cc(5,dt,2,1,"div",12),k.Wb(),k.Wb(),k.Xb(6,"div",13),k.Xb(7,"label",14),k.Ec(8,"Odaberite skladiste za otpad koji nastane:"),k.Wb(),k.Xb(9,"nb-select",15),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().currSkladisteOstatak=t})),k.Cc(10,bt,2,2,"nb-option",16),k.Wb(),k.Wb(),k.Xb(11,"div",17),k.Xb(12,"form",18,19),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().odloziOtpad()})),k.Xb(14,"label",14),k.Ec(15,"Odaberi koli\u010dinu za preradu:"),k.Wb(),k.Xb(16,"input",20,21),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Xb(18,"button",22),k.Ec(19," Obradi "),k.Wb(),k.Wb(),k.Wb(),k.Wb(),k.Xb(20,"div",23),k.Cc(21,ut,3,0,"div",24),k.Cc(22,pt,6,2,"div",24),k.Wb()}if(2&t){var i=k.uc(17),a=k.hc();k.Eb(5),k.nc("ngForOf",a.otpadKojiNastaje),k.Eb(4),k.nc("ngModel",a.currSkladisteOstatak),k.Eb(1),k.nc("ngForOf",a.skladista),k.Eb(6),k.nc("ngModelOptions",k.qc(8,ht))("ngModel",a.otpadKolicina),k.Eb(2),k.nc("disabled",i.value<1||i.value===a.NaN),k.Eb(3),k.nc("ngIf",a.otpadKojiNastaje&&!a.noviOtpad),k.Eb(1),k.nc("ngIf",!a.otpadKojiNastaje||a.noviOtpad)}}function vt(t,n){if(1&t&&(k.Xb(0,"nb-option-group",54),k.Xb(1,"nb-option",28),k.Ec(2),k.Wb(),k.Wb()),2&t){var e=n.$implicit,i=n.index;k.nc("title","D"+(i+1)),k.Eb(1),k.nc("value","D"+(i+1)),k.Eb(1),k.Fc(e)}}function gt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",35),k.Xb(1,"form",18,36),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().dodajOtpad()})),k.Xb(3,"div",37),k.Xb(4,"label",38),k.Ec(5,"Naziv preduze\u0107a od kojeg je preuzet otpad: "),k.Wb(),k.Xb(6,"input",39,40),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().nazivFirme=t})),k.Wb(),k.Wb(),k.Xb(8,"div",37),k.Xb(9,"label",41),k.Ec(10,"Broj dokumenta o kretanju otpada: "),k.Wb(),k.Xb(11,"input",42,43),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().brDokumenta=t})),k.Wb(),k.Wb(),k.Xb(13,"div",37),k.Xb(14,"label",44),k.Ec(15,"Koli\u010dina: "),k.Wb(),k.Xb(16,"input",45,46),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Wb(),k.Xb(18,"div",37),k.Xb(19,"label",47),k.Ec(20,"D Oznaka: "),k.Wb(),k.Xb(21,"div",48),k.Xb(22,"nb-select",49),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpad.dOznaka=t})),k.Cc(23,vt,3,3,"nb-option-group",50),k.Wb(),k.Wb(),k.Xb(24,"div",51),k.Xb(25,"nb-checkbox",null,52),k.Ec(27,"Promeni D oznaku otpada"),k.Wb(),k.Wb(),k.Wb(),k.Xb(28,"div",53),k.Xb(29,"p"),k.Ec(30),k.Wb(),k.Wb(),k.Xb(31,"button",22),k.Ec(32," Dodaj "),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=k.uc(2),a=k.uc(26),o=k.hc();k.Eb(6),k.nc("ngModel",o.nazivFirme),k.Eb(5),k.nc("ngModel",o.brDokumenta),k.Eb(5),k.nc("ngModel",o.otpadKolicina),k.Eb(6),k.nc("ngModel",o.otpad.dOznaka)("disabled",!a.checked),k.Eb(1),k.nc("ngForOf",o.dOznake),k.Eb(7),k.Gc("Trenutna kolicina otpada na skladistu: ",o.otpad.kolicina,""),k.Eb(1),k.nc("disabled",!i.valid)}}var kt,mt=((kt=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.skladisteService=n,this.windowService=e,this.notpadService=i,this.toastrService=a,this.katalogService=o,this.skladista=[],this.otpadKojiNastaje=[],this.noviOtpad=!1,this.katalog=new d.a,this.katalogArray=[],this.settingsKatalog=U.a,this.dOznake=["Deponovanje otpada u zemlji\u0161te ili na zemlji\u0161te","Izlaganje otpada procesima u zemlji\u0161tu","Duboko ubrizgavanje","Povr\u0161insko deponovanje ","Odlaganje otpada u posebno projektovane deponije","Ispu\u0161tanje u vode, osim u mora, odnosno okeane","Ispu\u0161tanje u mora, odnosno okeane, uklju\u010duju\u0107i utiskivanje u morsko dno","Biolo\u0161ki tretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Fizi\u010dko-hemijsk itretmani koji nisu nazna\u010deni na drugom mestu u ovoj listi, a \u010diji su kona\u010dni proizvodi jedinjenja ili sme\u0161e koje se odbacuju u bilo kojoj od operacija od D1 do D12","Spaljivanje (insineracija) na tlu","Spaljivanje (insineracija) na moru","Trajno skladi\u0161tenje","Me\u0161anje otpada pre podvrgavanja bilo kojoj od operacija od D1 do D12","Prepakovanje otpada pre podvrgavanja bil okojoj od operacija od D1 do D13","Skladi\u0161tenje otpada koje prethodi bilo kojoj od operacija od D1 do D14"],this.settings=ot,this.currSettings=this.settings,this.editSettings=P,this.editIcon="edit"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getKatalog().subscribe((function(n){t.katalogArray=n,t.katalog.load(n)})),this.updateSkladiste()}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t}],!1)}},{key:"updateSkladiste",value:function(){var t=this;this.skladisteService.getSkladisteDeponijaFirme().subscribe((function(n){t.skladisteDeponija=n,t.mergeOtpads()})),this.skladisteService.getSkladisteFirme().pipe(Object(z.a)()).subscribe((function(n){t.skladista=n}))}},{key:"mergeOtpads",value:function(){if(void 0!==this.skladisteDeponija){var t,n=_createForOfIteratorHelper(this.skladisteDeponija);try{for(n.s();!(t=n.n()).done;){var e=t.value;e.neopasniOtpad=e.neopasniOtpad.concat(e.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"dodajOtpad",value:function(){this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id,this.nazivFirme,this.brDokumenta).subscribe((function(t){})),this.updateSkladiste(),this.showToast("Uspeh","Uspe\u0161no ste dodali "+this.otpadKolicina+" (kg) "+this.otpad.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),this.otpadKolicina=NaN}},{key:"chooseOtpad",value:function(t){if(this.noviOtpad){var n=t;void 0!==t.data&&(n=t.data),this.otpadKojiNastaje.some((function(t){return t._id===n._id}))?this.removeOtpad(n):this.otpadKojiNastaje.push(n)}}},{key:"removeOtpad",value:function(t){var n=this.otpadKojiNastaje.filter((function(n){return n._id===t._id}))[0];if(n){var e=this.otpadKojiNastaje.indexOf(n,0);e>-1&&this.otpadKojiNastaje.splice(e,1)}}},{key:"chooseAction",value:function(t,n){"Odlo\u017ei"===t.action?this.dumpTrash(t.data,n):"dodaj"===t.action&&this.addTrash(t.data,n)}},{key:"odaberiNoviOtpad",value:function(){this.noviOtpad=!0}},{key:"updateOtpadKojiNastaje",value:function(){var t=this;this.otpadKojiNastaje=new Array,this.otpad.otpadKojiNastaje.forEach((function(n){var e=t.katalogArray.filter((function(t){return t.indeksniBroj===n}))[0];e.opis=e.naziv,e.kolicina=0,t.otpadKojiNastaje.push(e)}))}},{key:"addTrash",value:function(t,n){this.currSkladiste=n,this.otpad=t,this.windowRef=this.windowService.open(this.addTrashTemplate,{title:"Dodaj odre\u0111enu koli\u010dinu: "+this.otpad.naziv})}},{key:"dumpTrash",value:function(t,n){this.currSkladiste=n,this.otpad=t,this.otpad.otpadKojiNastaje&&this.updateOtpadKojiNastaje(),this.windowRef=this.windowService.open(this.dumpWindow,{title:"Odlo\u017ei koli\u010dinu: "+t.naziv})}},{key:"odloziOtpad",value:function(){var t=this;this.otpad.kolicina-=this.otpadKolicina,this.otpad.otpadKojiNastaje=[],this.otpadKojiNastaje.forEach((function(n){delete n._id,t.otpad.otpadKojiNastaje.push(n.indeksniBroj),n.opis=n.naziv,n.kolicina=0,t.notpadService.dodajNOtpad(n,t.currSkladisteOstatak._id).subscribe((function(t){}))})),this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe((function(t){})),this.updateSkladiste(),this.showToast("Uspeh","Uspe\u0161no ste obradili "+this.otpadKolicina+" (kg) "+this.otpad.naziv+" na skladi\u0161te.","success"),this.windowRef.close(),this.otpadKolicina=NaN}},{key:"edit",value:function(){this.currSettings!==this.editSettings?(this.currSettings=this.editSettings,this.editIcon="close"):(this.currSettings=this.settings,this.editIcon="edit")}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}},{key:"updateTrash",value:function(t,n){var e=this,i=t.newData,a=t.confirm;try{this.notpadService.updateNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(t,n){var e=this,i=t.data,a=t.confirm;try{this.notpadService.deleteNOtpad(i,n._id).subscribe((function(t){e.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}}]),t}()).\u0275fac=function(t){return new(t||kt)(k.Rb(S.a),k.Rb(l.Nb),k.Rb(_.a),k.Rb(l.Hb),k.Rb(L.a))},kt.\u0275cmp=k.Lb({type:kt,selectors:[["ngx-skladiste-deponija"]],viewQuery:function(t,n){var e;1&t&&(k.Kc(ct,!0,k.N),k.Kc(st,!0,k.N)),2&t&&(k.tc(e=k.gc())&&(n.dumpWindow=e.first),k.tc(e=k.gc())&&(n.addTrashTemplate=e.first))},decls:6,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["dumpWindow",""],["addTrashTemplate",""],[3,"storage"],[1,"row"],[1,"col-11"],[1,"text-left"],[1,"col-1","d-flex","justify-content-center","align-items-center"],[1,"edit-button",3,"icon","click"],[1,"order-table",3,"settings","source","custom","editConfirm","deleteConfirm"],[1,"col-5"],["class","col-4 py-1",4,"ngFor","ngForOf"],[1,"col-4"],[1,"label","col-12"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],[3,"ngSubmit"],["obradiForm","ngForm"],["nbInput","","name","kolicinaOtpada","fullWidth","","type","number","onkeypress","return /[0-9]/i.test(event.key)","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["kolicina",""],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"row","mt-2"],["class","col-12",4,"ngIf"],[1,"col-4","py-1"],["nbButton","","status","info","size","small","fullWidth","","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngIf"],["nbButton","","status","info","size","small","fullWidth","","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click"],[3,"value"],[1,"col-12"],["nbButton","","type","button","status","success",3,"click"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],[1,"p-4",2,"width","50vw"],["addForm","ngForm"],[1,"form-group","mt-0"],["for","input-nazivFirme",1,"mb-2"],["required","","fullWidth","","id","input-nazivFirme","name","nazivFirme","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["nazivFirme1","ngModel"],["for","input-brDokumenta",1,"mb-2"],["required","","fullWidth","","id","input-brDokumenta","name","brDokumenta","nbInput","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["brDokumenta1","ngModel"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","required","","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],["for","input-dOznaka",1,"col-12","mb-2","pl-0"],[1,"col-12","px-0",2,"max-width","50vw"],["fullWidth","","name","dOznaka","id","input-dOznaka",1,"pr-2",3,"ngModel","disabled","ngModelChange"],[3,"title",4,"ngFor","ngForOf"],[1,"mt-2"],["checkBox",""],[1,"form-group"],[3,"title"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Cc(1,rt,12,5,"div",1),k.Wb(),k.Cc(2,ft,23,9,"ng-template",null,2,k.Dc),k.Cc(4,gt,33,8,"ng-template",null,3,k.Dc)),2&t&&(k.Eb(1),k.nc("ngForOf",n.skladisteDeponija))},directives:[w.m,N,l.w,l.y,l.L,l.v,d.b,l.nb,r.k,r.n,r.w,r.l,r.m,l.O,r.p,r.b,w.n,l.t,l.fb,l.db,r.s,l.B,l.eb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:60px;text-align:center}.edit-button[_ngcontent-%COMP%]{font-size:2rem}.edit-button[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),kt),Wt=["dodajKolicinu"];function jt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div"),k.Xb(1,"nb-card"),k.Xb(2,"nb-card-header"),k.Xb(3,"h2",3),k.Ec(4),k.Wb(),k.Wb(),k.Xb(5,"nb-card-body"),k.Xb(6,"ng2-smart-table",4),k.fc("custom",(function(t){k.wc(e);var i=n.$implicit;return k.hc().changeKolicina(t,i)})),k.Wb(),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=n.$implicit,a=k.hc();k.Eb(4),k.Fc(null==i?null:i.naziv),k.Eb(2),k.nc("settings",a.settings)("source",null==i?null:i.neopasniOtpad)}}function Xt(t,n){if(1&t){var e=k.Yb();k.Xb(0,"div",5),k.Xb(1,"form",6,7),k.fc("ngSubmit",(function(){return k.wc(e),k.hc().dodajOtpad()})),k.Xb(3,"div",8),k.Xb(4,"label",9),k.Ec(5,"Dodaj: "),k.Wb(),k.Xb(6,"input",10,11),k.fc("ngModelChange",(function(t){return k.wc(e),k.hc().otpadKolicina=t})),k.Wb(),k.Wb(),k.Xb(8,"div",12),k.Xb(9,"p"),k.Ec(10),k.Wb(),k.Wb(),k.Xb(11,"button",13),k.Ec(12,"Dodaj"),k.Wb(),k.Wb(),k.Wb()}if(2&t){var i=k.uc(7),a=k.hc();k.Eb(6),k.nc("ngModel",a.otpadKolicina),k.Eb(4),k.Gc("Trenutna kolicina otpada na skladistu: ",a.otpad.kolicina,""),k.Eb(1),k.nc("disabled",i.value<1||i.value===a.NaN)}}var yt,Ct=((yt=function(){function t(n,e,i){_classCallCheck(this,t),this.skladisteService=n,this.windowService=e,this.notpadService=i,this.settings=T}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var t=this;this.skladisteService.getSkladisteSkladistenjeFirme().subscribe((function(n){t.skladistaSkladistenje=n,t.mergeOtpads()}))}},{key:"mergeOtpads",value:function(){if(void 0!==this.skladistaSkladistenje){var t,n=_createForOfIteratorHelper(this.skladistaSkladistenje);try{for(n.s();!(t=n.n()).done;){var e=t.value;e.neopasniOtpad=e.neopasniOtpad.concat(e.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"dodajOtpad",value:function(){var t=this;this.otpad.kolicina+=this.otpadKolicina,this.notpadService.updateNOtpad(this.otpad,this.currSkladiste._id).subscribe((function(n){t.updateSkladiste()}))}},{key:"changeKolicina",value:function(t,n){this.currSkladiste=n;var e=t.data;this.otpad=e,this.windowService.open(this.dodajKolicinu,{title:"Dodaj proizvedenu kolicinu: "+e.naziv})}}]),t}()).\u0275fac=function(t){return new(t||yt)(k.Rb(S.a),k.Rb(l.Nb),k.Rb(_.a))},yt.\u0275cmp=k.Lb({type:yt,selectors:[["ngx-skladiste-skladistenje"]],viewQuery:function(t,n){var e;1&t&&k.Kc(Wt,!0,k.N),2&t&&k.tc(e=k.gc())&&(n.dodajKolicinu=e.first)},decls:4,vars:1,consts:[[1,"container-fluid"],[4,"ngFor","ngForOf"],["dodajKolicinu",""],[1,"text-center"],[3,"settings","source","custom"],[1,"p-4"],[3,"ngSubmit"],["dodajForm","ngForm"],[1,"form-group","mt-0"],["for","input-Kolicina",1,"mb-2"],["fullWidth","","id","input-Kolicina","min","1","name","koli\u010dina","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["kolicina","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Cc(1,jt,7,3,"div",1),k.Wb(),k.Cc(2,Xt,13,3,"ng-template",null,2,k.Dc)),2&t&&(k.Eb(1),k.nc("ngForOf",n.skladistaSkladistenje))},directives:[w.m,l.w,l.y,l.v,d.b,r.w,r.l,r.m,l.O,r.p,r.b,r.k,r.n],styles:[""]}),yt);function Et(t,n){1&t&&(k.Xb(0,"div"),k.Sb(1,"ngx-skladiste-proizvodnja"),k.Wb())}function Mt(t,n){1&t&&(k.Xb(0,"div"),k.Sb(1,"ngx-skladiste-tretman"),k.Wb())}function Ot(t,n){1&t&&(k.Xb(0,"div"),k.Sb(1,"ngx-skladiste-deponija"),k.Wb())}function zt(t,n){1&t&&(k.Xb(0,"div"),k.Sb(1,"ngx-skladiste-skladistenje"),k.Wb())}var St,wt,It,_t,Ft=[{path:"",component:O,children:[{path:"dashboard",component:y},{path:"profile",loadChildren:function(){return e.e(11).then(e.bind(null,"723k")).then((function(t){return t.ProfileModule}))}},{path:"skladiste",component:(St=function(){function t(n,e){_classCallCheck(this,t),this.roleService=n,this.skladisteService=e,this.storages=[],this.storageProduction=[],this.storageTreatment=[],this.storageDump=[],this.storageCache=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.roleService.findOperations().subscribe((function(n){t.operations=n})),this.skladisteService.getAllSkladistaFirme().pipe(Object(z.a)()).subscribe((function(n){t.storages=n,t.storages.filter((function(t){}))}))}}]),t}(),St.\u0275fac=function(t){return new(t||St)(k.Rb(f.a),k.Rb(S.a))},St.\u0275cmp=k.Lb({type:St,selectors:[["ngx-skladiste"]],decls:5,vars:4,consts:[[1,"container-fluid"],[4,"ngIf"]],template:function(t,n){1&t&&(k.Xb(0,"div",0),k.Cc(1,Et,2,0,"div",1),k.Cc(2,Mt,2,0,"div",1),k.Cc(3,Ot,2,0,"div",1),k.Cc(4,zt,2,0,"div",1),k.Wb()),2&t&&(k.Eb(1),k.nc("ngIf",n.operations.proizvodnja),k.Eb(1),k.nc("ngIf",n.operations.tretman),k.Eb(1),k.nc("ngIf",n.operations.odlaganje),k.Eb(1),k.nc("ngIf",n.operations.skladistenje))},directives:[w.n,R,at,mt,Ct],styles:[""]}),St)},{path:"notpad",loadChildren:function(){return Promise.resolve().then(e.bind(null,"o/8v")).then((function(t){return t.NotpadModule}))}},{path:"ootpad",loadChildren:function(){return Promise.resolve().then(e.bind(null,"rDBk")).then((function(t){return t.OotpadModule}))}},{path:"ptotpad",loadChildren:function(){return Promise.resolve().then(e.bind(null,"9pL+")).then((function(t){return t.PtotpadModule}))}},{path:"aotpad",loadChildren:function(){return Promise.resolve().then(e.bind(null,"E+HJ")).then((function(t){return t.AotpadModule}))}},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",component:C}]}],Pt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=k.Pb({type:wt}),wt.\u0275inj=k.Ob({factory:function(t){return new(t||wt)},imports:[[X.g.forChild(Ft)],X.g]}),wt),Tt=e("9pL+"),Nt=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=k.Pb({type:_t}),_t.\u0275inj=k.Ob({factory:function(t){return new(t||_t)},providers:[S.a,f.a,L.a],imports:[[v.a,l.z,d.c,r.e,l.P,l.gb,l.X,l.pb,l.s,l.u,l.ib,l.C,l.N]]}),_t),Kt=((It=function t(){_classCallCheck(this,t)}).\u0275mod=k.Pb({type:It}),It.\u0275inj=k.Ob({factory:function(t){return new(t||It)},providers:[p.a,f.a,l.Hb,u.a,b.a,h.a],imports:[[Pt,v.a,l.ab,l.u,m,W.NotpadModule,j.OotpadModule,Tt.PtotpadModule,g.AotpadModule,Nt,l.z,l.Db,l.N,r.e,l.K,l.P,l.ib,l.gb,d.c]]}),It)},"o/8v":function(t,n,e){"use strict";e.r(n),e.d(n,"NotpadModule",(function(){return Y}));var i=e("O97o"),a=e("vTDv"),o=e("tyNb"),c=e("RS3s"),s=e("El76"),r=e("pVkk"),l={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}},d=e("fXoL"),b=e("aceb"),u=e("3Pt+"),p=e("ofXK");function h(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-option",36),d.fc("selectionChange",(function(){d.wc(e);var t=n.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var i=n.$implicit;d.nc("value",null==i?null:i.skladistaDeponija),d.Eb(1),d.Fc(null==i?null:i.skladistaDeponija.naziv)}}function f(t,n){if(1&t&&(d.Xb(0,"nb-option",37),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function v(t,n){if(1&t&&(d.Xb(0,"nb-option",37),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function g(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.sifraIspitivanja)}}function k(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",40),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",41),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",42,43),d.Wb(),d.Wb()}if(2&t){var i=d.uc(6),a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.datumIspitivanja)("nbDatepicker",i),d.Eb(1),d.nc("max",a.today())}}var m,W=((m=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.dozvolaService=n,this.otpadService=e,this.router=i,this.toastrService=a,this.skladisteService=o,this.settings=l,this.katalog=new c.a,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.dOznake=[],this.dozvola=[],this.skladistaDeponija=[],this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:NaN,dOznaka:""};for(var s=1;s<=13;s++)this.dOznake.push("D"+s)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dozvolaService.getDozvolaFirme("dump").subscribe((function(n){t.dozvola=n,t.updateKatalog(t.dozvola[0])})),this.skladisteService.getSkladisteDeponijaFirme().subscribe((function(n){t.skladistaDeponija=n}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.currSkladiste=t.skladistaDeponija;var n=this.currSkladiste.neopasniOtpad.concat(this.currSkladiste.opasniOtpad),e=t.listaOtpada;e=e.filter((function(t){return!n.includes(t._id)})),this.katalog.load(e)}},{key:"chooseOtpad",value:function(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.currSkladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.currSkladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}}]),t}()).\u0275fac=function(t){return new(t||m)(d.Rb(i.a),d.Rb(s.a),d.Rb(o.c),d.Rb(b.Hb),d.Rb(r.a))},m.\u0275cmp=d.Lb({type:m,selectors:[["ngx-dodaj-deponija"]],decls:71,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-4","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","rOznaka",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],[3,"value"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return n.currSkladiste=t})),d.Cc(16,h,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(e);var t=d.uc(19);return t.value.length>=1&&n.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return n.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return n.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return n.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"button",25),d.Ec(47,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",14),d.Xb(49,"label",26),d.Ec(50,"Fizicko stanje otpada: "),d.Wb(),d.Xb(51,"div",13),d.Xb(52,"nb-select",27),d.fc("ngModelChange",(function(t){return n.notpad.fizickoStanje=t})),d.Cc(53,f,2,2,"nb-option",28),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",14),d.Xb(55,"label",29),d.Ec(56,"Odaberite D oznaku (mo\u017eete promentiti u svakom trenutku): "),d.Wb(),d.Xb(57,"div",13),d.Xb(58,"nb-select",30),d.fc("ngModelChange",(function(t){return n.notpad.dOznaka=t})),d.Cc(59,v,2,2,"nb-option",28),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(60,"div",13),d.Sb(61,"div",14),d.Xb(62,"nb-toggle",31,32),d.Ec(64,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(65,g,5,1,"div",33),d.Cc(66,k,7,3,"div",33),d.Wb(),d.Wb(),d.Xb(67,"div",34),d.Xb(68,"div",2),d.Xb(69,"button",35),d.Ec(70,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.uc(22),a=d.uc(63);d.Eb(15),d.nc("ngModel",n.currSkladiste),d.Eb(1),d.nc("ngForOf",n.dozvola),d.Eb(4),d.nc("source",n.katalog)("settings",n.settings),d.Eb(9),d.nc("placeholder",n.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",n.notpad.naziv),d.Eb(5),d.nc("ngModel",n.notpad.opis),d.Eb(5),d.nc("ngModel",n.notpad.kolicina),d.Eb(8),d.nc("ngModel",n.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(5),d.nc("ngModel",n.notpad.dOznaka),d.Eb(1),d.nc("ngForOf",n.dOznake),d.Eb(6),d.nc("ngIf",a.checked),d.Eb(1),d.nc("ngIf",a.checked),d.Eb(3),d.nc("disabled",!i.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,c.b,u.w,u.l,u.m,u.b,u.p,b.t,u.s,b.Ib,p.n,b.db,b.H,b.G],styles:[""]}),m),j=e("O8xV"),X=e("McNs");function y(t,n){if(1&t&&(d.Xb(0,"nb-option",32),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function C(t,n){if(1&t&&(d.Xb(0,"nb-option",32),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e.naziv)}}function E(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",10),d.Xb(1,"label",33),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",9),d.Xb(4,"input",34),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.sifraIspitivanja)}}function M(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",10),d.Xb(1,"label",35),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",9),d.Xb(4,"input",36),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",37,38),d.Wb(),d.Wb()}if(2&t){var i=d.uc(6),a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.datumIspitivanja)("nbDatepicker",i),d.Eb(1),d.nc("max",a.today())}}var O,z=((O=function(){function t(n,e,i,a,o,s){_classCallCheck(this,t),this.katalogService=n,this.otpadService=e,this.router=i,this.authService=a,this.skladisteService=o,this.toastrService=s,this.settings=l,this.katalog=new c.a,this.skladista=[],this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.notpad={indeksniBroj:"",naziv:"",opis:"",fizickoStanje:"",kolicina:NaN}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getNeopasanKatalog().subscribe((function(n){t.katalog.load(n)})),this.skladisteService.getSkladisteFirme().subscribe((function(n){t.skladista=n}))}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"chooseOtpad",value:function(t){this.notpad.indeksniBroj=t.data.indeksniBroj,this.notpad.naziv=t.data.naziv,this.notpad.opis=t.data.naziv}},{key:"today",value:function(){return new Date}},{key:"addTrash",value:function(){this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}}]),t}()).\u0275fac=function(t){return new(t||O)(d.Rb(j.a),d.Rb(s.a),d.Rb(o.c),d.Rb(X.g),d.Rb(r.a),d.Rb(b.Hb))},O.\u0275cmp=d.Lb({type:O,selectors:[["ngx-dodaj-otpad"]],decls:62,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-4","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"label",3),d.Ec(8,"Pretra\u017ei po indeksnom broju ili nazivu:"),d.Wb(),d.Xb(9,"input",4,5),d.fc("input",(function(){d.wc(e);var t=d.uc(10);return t.value.length>=1&&n.onSearch(t.value)})),d.Wb(),d.Xb(11,"ng2-smart-table",6),d.fc("custom",(function(t){return n.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"form",7,8),d.fc("ngSubmit",(function(){return n.addTrash()})),d.Xb(14,"div",1),d.Xb(15,"div",9),d.Xb(16,"div",10),d.Xb(17,"label",11),d.Ec(18,"Indeksni broj:"),d.Wb(),d.Xb(19,"div",9),d.Sb(20,"input",12),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"label",13),d.Ec(23,"Naziv: "),d.Wb(),d.Xb(24,"div",9),d.Xb(25,"input",14),d.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",10),d.Xb(27,"label",15),d.Ec(28,"Opis: "),d.Wb(),d.Xb(29,"div",9),d.Xb(30,"input",16),d.fc("ngModelChange",(function(t){return n.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",10),d.Xb(32,"label",17),d.Ec(33,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(34,"div",18),d.Xb(35,"input",19),d.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(36,"div",20),d.Xb(37,"button",21),d.Ec(38,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(39,"div",10),d.Xb(40,"label",22),d.Ec(41,"Fizicko stanje otpada: "),d.Wb(),d.Xb(42,"div",9),d.Xb(43,"nb-select",23),d.fc("ngModelChange",(function(t){return n.notpad.fizickoStanje=t})),d.Cc(44,y,2,2,"nb-option",24),d.Wb(),d.Wb(),d.Wb(),d.Xb(45,"div",10),d.Xb(46,"label",25),d.Ec(47,"Odaberite skladi\u0161te za otpad: "),d.Wb(),d.Xb(48,"div",9),d.Xb(49,"nb-select",26),d.fc("ngModelChange",(function(t){return n.skladiste=t})),d.Cc(50,C,2,2,"nb-option",24),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(51,"div",9),d.Sb(52,"div",10),d.Xb(53,"nb-toggle",27,28),d.Ec(55,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(56,E,5,1,"div",29),d.Cc(57,M,7,3,"div",29),d.Wb(),d.Wb(),d.Xb(58,"div",30),d.Xb(59,"div",2),d.Xb(60,"button",31),d.Ec(61,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.uc(13),a=d.uc(54);d.Eb(11),d.nc("source",n.katalog)("settings",n.settings),d.Eb(9),d.nc("placeholder",n.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",n.notpad.naziv),d.Eb(5),d.nc("ngModel",n.notpad.opis),d.Eb(5),d.nc("ngModel",n.notpad.kolicina),d.Eb(8),d.nc("ngModel",n.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(5),d.nc("ngModel",n.skladiste),d.Eb(1),d.nc("ngForOf",n.skladista),d.Eb(6),d.nc("ngIf",a.checked),d.Eb(1),d.nc("ngIf",a.checked),d.Eb(3),d.nc("disabled",!i.valid)}},directives:[b.w,b.y,b.v,b.O,c.b,u.w,u.l,u.m,u.b,u.k,u.n,u.p,b.t,b.nb,p.m,u.s,b.Ib,p.n,b.db,b.H,b.G],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),O);function S(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-option",34),d.fc("selectionChange",(function(){d.wc(e);var t=n.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var i=n.$implicit;d.nc("value",null==i?null:i.skladistaSkladistenje),d.Eb(1),d.Fc(null==i?null:i.skladistaSkladistenje.naziv)}}function w(t,n){if(1&t&&(d.Xb(0,"nb-option",35),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function I(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",36),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",37),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.sifraIspitivanja)}}function _(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",40,41),d.Wb(),d.Wb()}if(2&t){var i=d.uc(6),a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.datumIspitivanja)("nbDatepicker",i),d.Eb(1),d.nc("max",a.today())}}var F,P=((F=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.dozvolaService=n,this.otpadService=e,this.router=i,this.toastrService=a,this.skladisteService=o,this.settings=l,this.katalog=new c.a,this.dozvola=[],this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.skladisteSkladistenje=[],this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dozvolaService.getDozvolaFirme("storage").subscribe((function(n){t.dozvola=n,t.updateKatalog(t.dozvola[0])})),this.skladisteService.getSkladisteSkladistenjeFirme().subscribe((function(n){t.skladisteSkladistenje=n}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.skladiste=t.skladistaSkladistenje;var n=this.skladiste.neopasniOtpad.concat(this.skladiste.opasniOtpad),e=t.listaOtpada;e=e.filter((function(t){return!n.includes(t._id)})),this.katalog.load(e)}},{key:"chooseOtpad",value:function(t){var n=t.data;this.notpad=n,this.notpad.opis=this.notpad.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe((function(t){})),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}}]),t}()).\u0275fac=function(t){return new(t||F)(d.Rb(i.a),d.Rb(s.a),d.Rb(o.c),d.Rb(b.Hb),d.Rb(r.a))},F.\u0275cmp=d.Lb({type:F,selectors:[["ngx-dodaj-skladistenje"]],decls:65,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-4","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],[3,"value"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return n.skladiste=t})),d.Cc(16,S,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(e);var t=d.uc(19);return t.value.length>=1&&n.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return n.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return n.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return n.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"button",25),d.Ec(47,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",14),d.Xb(49,"label",26),d.Ec(50,"Fizicko stanje otpada: "),d.Wb(),d.Xb(51,"div",13),d.Xb(52,"nb-select",27),d.fc("ngModelChange",(function(t){return n.notpad.fizickoStanje=t})),d.Cc(53,w,2,2,"nb-option",28),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",13),d.Sb(55,"div",14),d.Xb(56,"nb-toggle",29,30),d.Ec(58,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(59,I,5,1,"div",31),d.Cc(60,_,7,3,"div",31),d.Wb(),d.Wb(),d.Xb(61,"div",32),d.Xb(62,"div",2),d.Xb(63,"button",33),d.Ec(64,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.uc(22),a=d.uc(57);d.Eb(15),d.nc("ngModel",n.skladiste),d.Eb(1),d.nc("ngForOf",n.dozvola),d.Eb(4),d.nc("source",n.katalog)("settings",n.settings),d.Eb(9),d.nc("placeholder",n.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",n.notpad.naziv),d.Eb(5),d.nc("ngModel",n.notpad.opis),d.Eb(5),d.nc("ngModel",n.notpad.kolicina),d.Eb(8),d.nc("ngModel",n.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(6),d.nc("ngIf",a.checked),d.Eb(1),d.nc("ngIf",a.checked),d.Eb(3),d.nc("disabled",!i.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,c.b,u.w,u.l,u.m,u.b,u.p,b.t,b.Ib,p.n,b.db,u.s,b.H,b.G],styles:[""]}),F);function T(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-option",36),d.fc("selectionChange",(function(){d.wc(e);var t=n.$implicit;return d.hc().updateKatalog(t)})),d.Ec(1),d.Wb()}if(2&t){var i=n.$implicit;d.nc("value",null==i?null:i.skladistaTretman),d.Eb(1),d.Fc(null==i?null:i.skladistaTretman.naziv)}}function N(t,n){if(1&t&&(d.Xb(0,"nb-option",37),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function K(t,n){if(1&t&&(d.Xb(0,"nb-option",37),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function D(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",38),d.Ec(2,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",39),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.hc();d.Eb(4),d.nc("ngModel",i.notpad.sifraIspitivanja)}}function x(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",14),d.Xb(1,"label",40),d.Ec(2,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(3,"div",13),d.Xb(4,"input",41),d.fc("ngModelChange",(function(t){return d.wc(e),d.hc().notpad.datumIspitivanja=t})),d.Wb(),d.Sb(5,"nb-datepicker",42,43),d.Wb(),d.Wb()}if(2&t){var i=d.uc(6),a=d.hc();d.Eb(4),d.nc("ngModel",a.notpad.datumIspitivanja)("nbDatepicker",i),d.Eb(1),d.nc("max",a.today())}}var B,R,L,U,$=((B=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.dozvolaService=n,this.otpadService=e,this.router=i,this.skladisteService=a,this.toastrService=o,this.notpad={indeksniBroj:"",naziv:"",opis:"",kolicina:0,tretman:!0},this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.katalog=new c.a,this.settings=l,this.rOznake=[];for(var s=1;s<=13;s++)this.rOznake.push("R"+s)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dozvolaService.getDozvolaFirme("treatment").subscribe((function(n){t.dozvola=n,t.updateKatalog(t.dozvola[0])})),this.skladisteService.getSkladisteTretmanFirme().subscribe((function(n){t.skladistaTretman=n}))}},{key:"today",value:function(){return new Date}},{key:"onSearch",value:function(t){""===t&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"naziv",search:t}],!1)}},{key:"updateKatalog",value:function(t){this.skladiste=t.skladistaTretman;var n=this.skladiste.neopasniOtpad.concat(this.skladiste.opasniOtpad),e=t.listaOtpada;e=e.filter((function(t){return!n.includes(t._id)})),this.katalog.load(e)}},{key:"chooseOtpad",value:function(t){var n=t.data;this.notpad=n,this.notpad.opis=this.notpad.naziv}},{key:"addTrash",value:function(){this.notpad.tretman=!0,this.otpadService.dodajNOtpad(this.notpad,this.skladiste._id).subscribe((function(t){})),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}}]),t}()).\u0275fac=function(t){return new(t||B)(d.Rb(i.a),d.Rb(s.a),d.Rb(o.c),d.Rb(r.a),d.Rb(b.Hb))},B.\u0275cmp=d.Lb({type:B,selectors:[["ngx-dodaj-tretman"]],decls:71,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"label"],[1,"col-8"],["fullWidth","",3,"ngModel","ngModelChange"],[3,"value","selectionChange",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-6"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],["nbInput","","fullWidth","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-4","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","label"],["fullWidth","","required","","name","rOznaka",3,"ngModel","ngModelChange"],["status","basic"],["ispitivanje",""],["class","row mb-2",4,"ngIf"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value","selectionChange"],[3,"value"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""]],template:function(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar neopasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"div",1),d.Xb(8,"div",3),d.Xb(9,"label",4),d.Ec(10,"Odaberite skladi\u0161te:"),d.Wb(),d.Wb(),d.Xb(11,"div",5),d.Xb(12,"label",4),d.Ec(13,"Pretrazi po indeksnom broju ili nazivu:"),d.Wb(),d.Wb(),d.Xb(14,"div",3),d.Xb(15,"nb-select",6),d.fc("ngModelChange",(function(t){return n.skladiste=t})),d.Cc(16,T,2,2,"nb-option",7),d.Wb(),d.Wb(),d.Xb(17,"div",5),d.Xb(18,"input",8,9),d.fc("input",(function(){d.wc(e);var t=d.uc(19);return t.value.length>=1&&n.onSearch(t.value)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"ng2-smart-table",10),d.fc("custom",(function(t){return n.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(21,"form",11,12),d.fc("ngSubmit",(function(){return n.addTrash()})),d.Xb(23,"div",1),d.Xb(24,"div",13),d.Xb(25,"div",14),d.Xb(26,"label",15),d.Ec(27,"Indeksni broj:"),d.Wb(),d.Xb(28,"div",13),d.Sb(29,"input",16),d.Wb(),d.Wb(),d.Xb(30,"div",14),d.Xb(31,"label",17),d.Ec(32,"Naziv: "),d.Wb(),d.Xb(33,"div",13),d.Xb(34,"input",18),d.fc("ngModelChange",(function(t){return n.notpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",14),d.Xb(36,"label",19),d.Ec(37,"Opis: "),d.Wb(),d.Xb(38,"div",13),d.Xb(39,"input",20),d.fc("ngModelChange",(function(t){return n.notpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"label",21),d.Ec(42,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(43,"div",22),d.Xb(44,"input",23),d.fc("ngModelChange",(function(t){return n.notpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(45,"div",24),d.Xb(46,"button",25),d.Ec(47,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",14),d.Xb(49,"label",26),d.Ec(50,"Fizicko stanje otpada: "),d.Wb(),d.Xb(51,"div",13),d.Xb(52,"nb-select",27),d.fc("ngModelChange",(function(t){return n.notpad.fizickoStanje=t})),d.Cc(53,N,2,2,"nb-option",28),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",14),d.Xb(55,"label",29),d.Ec(56,"Odaberite R oznaku (mo\u017eete promentiti u svakom trenutku): "),d.Wb(),d.Xb(57,"div",13),d.Xb(58,"nb-select",30),d.fc("ngModelChange",(function(t){return n.notpad.rOznaka=t})),d.Cc(59,K,2,2,"nb-option",28),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(60,"div",13),d.Sb(61,"div",14),d.Xb(62,"nb-toggle",31,32),d.Ec(64,"Imam dokumenat o ispitivanju otpada"),d.Wb(),d.Cc(65,D,5,1,"div",33),d.Cc(66,x,7,3,"div",33),d.Wb(),d.Wb(),d.Xb(67,"div",34),d.Xb(68,"div",2),d.Xb(69,"button",35),d.Ec(70,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.uc(22),a=d.uc(63);d.Eb(15),d.nc("ngModel",n.skladiste),d.Eb(1),d.nc("ngForOf",n.dozvola),d.Eb(4),d.nc("source",n.katalog)("settings",n.settings),d.Eb(9),d.nc("placeholder",n.notpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",n.notpad.naziv),d.Eb(5),d.nc("ngModel",n.notpad.opis),d.Eb(5),d.nc("ngModel",n.notpad.kolicina),d.Eb(8),d.nc("ngModel",n.notpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(5),d.nc("ngModel",n.notpad.rOznaka),d.Eb(1),d.nc("ngForOf",n.rOznake),d.Eb(6),d.nc("ngIf",a.checked),d.Eb(1),d.nc("ngIf",a.checked),d.Eb(3),d.nc("disabled",!i.valid)}},directives:[b.w,b.y,b.v,b.nb,u.k,u.n,p.m,b.O,c.b,u.w,u.l,u.m,u.b,u.p,b.t,u.s,b.Ib,p.n,b.db,b.H,b.G],styles:[""]}),B),A=[{path:"",component:(R=function t(){_classCallCheck(this,t)},R.\u0275fac=function(t){return new(t||R)},R.\u0275cmp=d.Lb({type:R,selectors:[["ngx-notpad"]],decls:1,vars:0,template:function(t,n){1&t&&d.Sb(0,"router-outlet")},directives:[o.h],encapsulation:2}),R),children:[{path:"dodaj-proizvodnja",component:z},{path:"dodaj-tretman",component:$},{path:"dodaj-deponija",component:W},{path:"dodaj-skladistenje",component:P}]}],H=((U=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:U}),U.\u0275inj=d.Ob({factory:function(t){return new(t||U)},imports:[[o.g.forChild(A)],o.g]}),U),Y=((L=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:L}),L.\u0275inj=d.Ob({factory:function(t){return new(t||L)},providers:[j.a,s.a,i.a],imports:[[a.a,H,b.z,b.P,b.pb,b.C,c.c,b.u,u.e,b.I,b.Jb]]}),L)},rDBk:function(t,n,e){"use strict";e.r(n),e.d(n,"OotpadModule",(function(){return I}));var i,a,o,c,s=e("pVkk"),r=e("vTDv"),l=e("tyNb"),d=e("fXoL"),b=((c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=d.Lb({type:c,selectors:[["ngx-dodaj-deponija"]],decls:2,vars:0,template:function(t,n){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-deponija works!"),d.Wb())},styles:[""]}),c),u=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=d.Lb({type:o,selectors:[["ngx-dodaj-skladistenje"]],decls:2,vars:0,template:function(t,n){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-skladistenje works!"),d.Wb())},styles:[""]}),o),p=((a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=d.Lb({type:a,selectors:[["ngx-dodaj-tretman"]],decls:2,vars:0,template:function(t,n){1&t&&(d.Xb(0,"p"),d.Ec(1,"dodaj-tretman works!"),d.Wb())},styles:[""]}),a),h=((i=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=d.Lb({type:i,selectors:[["ngx-ootpad"]],decls:1,vars:0,template:function(t,n){1&t&&d.Sb(0,"router-outlet")},directives:[l.h],encapsulation:2}),i),f=e("O8xV"),v=e("RS3s"),g=e("8FOb"),k={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"dodaj",title:'<i class="fa fa-plus-square"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"}}},m=e("aceb"),W=e("3Pt+"),j=e("ofXK");function X(t,n){if(1&t&&(d.Xb(0,"nb-option",46),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e)}}function y(t,n){if(1&t){var e=d.Yb();d.Xb(0,"div",32),d.Ec(1),d.Xb(2,"div",10),d.Xb(3,"label",38),d.Ec(4,"CAS: "),d.Wb(),d.Xb(5,"div",12),d.Xb(6,"input",48),d.fc("ngModelChange",(function(t){return d.wc(e),n.$implicit.cas=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"div",10),d.Xb(8,"label",38),d.Ec(9,"Hemijski naziv: "),d.Wb(),d.Xb(10,"div",12),d.Xb(11,"input",49),d.fc("ngModelChange",(function(t){return d.wc(e),n.$implicit.hemijskiNaziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",10),d.Xb(13,"label",38),d.Ec(14,"Kilograma opasne materije po kilogram otpada: "),d.Wb(),d.Xb(15,"div",19),d.Xb(16,"input",50),d.fc("ngModelChange",(function(t){return d.wc(e),n.$implicit.kgMaterije=t})),d.Wb(),d.Wb(),d.Xb(17,"div",21),d.Xb(18,"button",51),d.Ec(19,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=n.$implicit,a=n.index;d.Eb(1),d.Gc(" Komponenta #",a+1," "),d.Eb(5),d.nc("ngModel",i.cas),d.Eb(5),d.nc("ngModel",i.hemijskiNaziv),d.Eb(5),d.nc("ngModel",i.kgMaterije)}}function C(t,n){if(1&t&&(d.Xb(0,"div",10),d.Cc(1,y,20,4,"div",47),d.Wb()),2&t){var e=d.hc();d.Eb(1),d.nc("ngForOf",e.ootpad.opasnaKomponenta)}}function E(t,n){if(1&t&&(d.Xb(0,"nb-option",46),d.Ec(1),d.Wb()),2&t){var e=n.$implicit;d.nc("value",e),d.Eb(1),d.Fc(e.naziv)}}var M,O,z,S=[{path:"",component:h,children:[{path:"dodaj-proizvodnja",component:(M=function(){function t(n,e,i,a,o){_classCallCheck(this,t),this.katalogService=n,this.opasniOtpadService=e,this.skladisteService=i,this.router=a,this.toastrService=o,this.katalog=new v.a,this.settings=k,this.brojKomponenti=1,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"],this.ootpad={cLista:"",fizickoStanje:"",hLista:"",yLista:"",naziv:"",opis:"",indeksniBroj:"",kolicina:0,opasnaKomponenta:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katalogService.getOpasanKatalog().subscribe((function(n){t.katalog.load(n)})),this.skladisteService.getSkladisteFirme().subscribe((function(n){t.skladista=n})),this.updateCAS()}},{key:"onSearch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.katalog.setFilter([{field:"indeksniBroj",search:t,filter:function(t,n){return t.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}}],!0)}},{key:"updateCAS",value:function(){this.ootpad.opasnaKomponenta=new Array(this.brojKomponenti);for(var t=0;t<this.brojKomponenti;t++)this.ootpad.opasnaKomponenta[t]={kgMaterije:0,cas:"",hemijskiNaziv:""}}},{key:"chooseOtpad",value:function(t){this.ootpad.indeksniBroj=t.data.indeksniBroj,this.ootpad.naziv=t.data.naziv,this.ootpad.opis=t.data.naziv}},{key:"today",value:function(){return new Date}},{key:"addTrash",value:function(){this.opasniOtpadService.dodajOOtpad(this.ootpad,this.skladiste._id).subscribe(),this.showToast("Uspeh","Uspe\u0161no ste dodali otpad na skladi\u0161te "+this.skladiste.naziv,"success"),this.router.navigate(["pages","skladiste"])}},{key:"showToast",value:function(t,n,e){this.toastrService.show(n,t,{status:e})}}]),t}(),M.\u0275fac=function(t){return new(t||M)(d.Rb(f.a),d.Rb(g.a),d.Rb(s.a),d.Rb(l.c),d.Rb(m.Hb))},M.\u0275cmp=d.Lb({type:M,selectors:[["ngx-dodaj-otpad"]],decls:90,vars:20,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","pl-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretra\u017ei",1,"col-12",3,"input"],["search",""],[3,"source","settings","custom"],[3,"ngSubmit"],["addForm","ngForm"],[1,"col-4"],[1,"row","mb-2"],["for","input-indeksniBroj",1,"col-12","label"],[1,"col-8"],["nbInput","","disabled","","id","input-indeksniBroj",3,"placeholder"],["for","input-naziv",1,"col-12","label"],["placeholder","Naziv","fullWidth","","name","naziv","id","input-naziv","nbInput","",3,"ngModel","ngModelChange"],["for","input-opis",1,"col-12","label"],["placeholder","Opis","fullWidth","","name","opis","id","input-opis","nbInput","",3,"ngModel","ngModelChange"],["id","input-kolicina",1,"col-12","label"],[1,"col-6","pr-0"],["decimals","1","fullWidth","","min","0","name","kolicina","nbInput","","placeholder","0.0","step","0.1","type","number",3,"ngModel","ngModelChange"],[1,"col-2","pl-0"],["nbButton","","fullWidth","","disabled",""],["for","input-fizickoStanje",1,"col-12","label"],["placeholder","Fizi\u010dko stanje","fullWidth","","name","stanje","id","input-fizickoStanje","selected","Cvrsto",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","input-sifraIspitivanja",1,"col-12","label"],["fullWidth","","id","input-sifraIspitivanja","name","sifra","nbInput","","placeholder","\u0160ifra","required","","type","text",3,"ngModel","ngModelChange"],["for","input-datumIspitivanja",1,"col-12","label"],["fullWidth","","placeholder","Datum","id","input-datumIspitivanja","name","datum","nbInput","","required","",3,"ngModel","nbDatepicker","ngModelChange"],[3,"max"],["datumInput",""],[1,"col-6"],[1,"col-4","label"],[1,"col-4","mb-2"],["fullWidth","","name","Hlista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","YLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],["fullWidth","","name","CLista","nbInput","","type","text","required","",3,"ngModel","ngModelChange"],[1,"col-12","label"],["fullWidth","","min","1","name","brojKomponeti","nbInput","","type","number",3,"ngModel","ngModelChange"],[1,"col-3"],["fullWidth","","nbButton","","type","button",3,"click"],["class","row mb-2",4,"ngIf"],["fullWidth","","required","","name","skladiste",3,"ngModel","ngModelChange"],[1,"row","my-2"],["nbButton","","fullWidth","","status","primary","type","submit",3,"disabled"],[3,"value"],["class","col-6",4,"ngFor","ngForOf"],["nbInput","","type","text","required","","name","CAS",3,"ngModel","ngModelChange"],["nbInput","","type","text","required","","name","Hemijski naziv",3,"ngModel","ngModelChange"],["fullWidth","","decimals","1","step","0.1","min","0","type","number","nbInput","","placeholder","0.0","name","Kg opasne materije",3,"ngModel","ngModelChange"],["nbButton","","disabled",""]],template:function(t,n){if(1&t){var e=d.Yb();d.Xb(0,"nb-card",0),d.Xb(1,"nb-card-header"),d.Xb(2,"h5"),d.Ec(3,"Dodajte novi inventar opasnog otpada"),d.Wb(),d.Wb(),d.Xb(4,"nb-card-body"),d.Xb(5,"div",1),d.Xb(6,"div",2),d.Xb(7,"label",3),d.Ec(8,"Pretra\u017ei po indeksnom broju:"),d.Wb(),d.Xb(9,"input",4,5),d.fc("input",(function(){d.wc(e);var t=d.uc(10);return n.onSearch(t.value)})),d.Wb(),d.Xb(11,"ng2-smart-table",6),d.fc("custom",(function(t){return n.chooseOtpad(t)})),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"form",7,8),d.fc("ngSubmit",(function(){return n.addTrash()})),d.Xb(14,"div",1),d.Xb(15,"div",9),d.Xb(16,"div",10),d.Xb(17,"label",11),d.Ec(18,"Indeksni broj:"),d.Wb(),d.Xb(19,"div",12),d.Sb(20,"input",13),d.Wb(),d.Wb(),d.Xb(21,"div",10),d.Xb(22,"label",14),d.Ec(23,"Naziv: "),d.Wb(),d.Xb(24,"div",12),d.Xb(25,"input",15),d.fc("ngModelChange",(function(t){return n.ootpad.naziv=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"div",10),d.Xb(27,"label",16),d.Ec(28,"Opis: "),d.Wb(),d.Xb(29,"div",12),d.Xb(30,"input",17),d.fc("ngModelChange",(function(t){return n.ootpad.opis=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",10),d.Xb(32,"label",18),d.Ec(33,"Trenutna koli\u010dina na skladistu: "),d.Wb(),d.Xb(34,"div",19),d.Xb(35,"input",20),d.fc("ngModelChange",(function(t){return n.ootpad.kolicina=t})),d.Wb(),d.Wb(),d.Xb(36,"div",21),d.Xb(37,"button",22),d.Ec(38,"kg"),d.Wb(),d.Wb(),d.Wb(),d.Xb(39,"div",10),d.Xb(40,"label",23),d.Ec(41,"Fizicko stanje otpada: "),d.Wb(),d.Xb(42,"div",12),d.Xb(43,"nb-select",24),d.fc("ngModelChange",(function(t){return n.ootpad.fizickoStanje=t})),d.Cc(44,X,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Xb(45,"div",10),d.Xb(46,"label",26),d.Ec(47,"\u0160ifra ispitivanja otpada: "),d.Wb(),d.Xb(48,"div",12),d.Xb(49,"input",27),d.fc("ngModelChange",(function(t){return n.ootpad.sifraIspitivanja=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(50,"div",10),d.Xb(51,"label",28),d.Ec(52,"Datum ispitivanja otpada: "),d.Wb(),d.Xb(53,"div",12),d.Xb(54,"input",29),d.fc("ngModelChange",(function(t){return n.ootpad.datumIspitivanja=t})),d.Wb(),d.Sb(55,"nb-datepicker",30,31),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div",32),d.Xb(58,"div",10),d.Xb(59,"label",33),d.Ec(60,"H-Lista: "),d.Wb(),d.Xb(61,"label",33),d.Ec(62,"Y-Lista: "),d.Wb(),d.Xb(63,"label",33),d.Ec(64,"C-Lista: "),d.Wb(),d.Xb(65,"div",34),d.Xb(66,"input",35),d.fc("ngModelChange",(function(t){return n.ootpad.hLista=t})),d.Wb(),d.Wb(),d.Xb(67,"div",34),d.Xb(68,"input",36),d.fc("ngModelChange",(function(t){return n.ootpad.yLista=t})),d.Wb(),d.Wb(),d.Xb(69,"div",9),d.Xb(70,"input",37),d.fc("ngModelChange",(function(t){return n.ootpad.cLista=t})),d.Wb(),d.Wb(),d.Wb(),d.Xb(71,"div",10),d.Xb(72,"label",38),d.Ec(73,"Broj opasnih komponenta u otpadu: "),d.Wb(),d.Xb(74,"div",32),d.Xb(75,"input",39),d.fc("ngModelChange",(function(t){return n.brojKomponenti=t})),d.Wb(),d.Wb(),d.Xb(76,"div",40),d.Xb(77,"button",41),d.fc("click",(function(){return n.updateCAS()})),d.Ec(78,"Odaberi"),d.Wb(),d.Wb(),d.Wb(),d.Cc(79,C,2,1,"div",42),d.Xb(80,"div",10),d.Xb(81,"label",38),d.Ec(82,"Odaberite skladi\u0161te za otpad: "),d.Wb(),d.Xb(83,"div",32),d.Xb(84,"nb-select",43),d.fc("ngModelChange",(function(t){return n.skladiste=t})),d.Cc(85,E,2,2,"nb-option",25),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(86,"div",44),d.Xb(87,"div",2),d.Xb(88,"button",45),d.Ec(89,"Dodaj "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.uc(13),a=d.uc(56);d.Eb(11),d.nc("source",n.katalog)("settings",n.settings),d.Eb(9),d.nc("placeholder",n.ootpad.indeksniBroj||"00 00 00"),d.Eb(5),d.nc("ngModel",n.ootpad.naziv),d.Eb(5),d.nc("ngModel",n.ootpad.opis),d.Eb(5),d.nc("ngModel",n.ootpad.kolicina),d.Eb(8),d.nc("ngModel",n.ootpad.fizickoStanje),d.Eb(1),d.nc("ngForOf",n.fizickaStanja),d.Eb(5),d.nc("ngModel",n.ootpad.sifraIspitivanja),d.Eb(5),d.nc("ngModel",n.ootpad.datumIspitivanja)("nbDatepicker",a),d.Eb(1),d.nc("max",n.today()),d.Eb(11),d.nc("ngModel",n.ootpad.hLista),d.Eb(2),d.nc("ngModel",n.ootpad.yLista),d.Eb(2),d.nc("ngModel",n.ootpad.cLista),d.Eb(5),d.nc("ngModel",n.brojKomponenti),d.Eb(4),d.nc("ngIf",n.brojKomponenti>0),d.Eb(5),d.nc("ngModel",n.skladiste),d.Eb(1),d.nc("ngForOf",n.skladista),d.Eb(3),d.nc("disabled",!i.valid)}},directives:[m.w,m.y,m.v,m.O,v.b,W.w,W.l,W.m,W.b,W.k,W.n,W.p,m.t,m.nb,j.m,W.s,m.H,m.G,j.n,m.db],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),M)},{path:"dodaj-tretman",component:p},{path:"dodaj-deponija",component:b},{path:"dodaj-skladistenje",component:u}]}],w=((z=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:z}),z.\u0275inj=d.Ob({factory:function(t){return new(t||z)},imports:[[l.g.forChild(S)],l.g]}),z),I=((O=function t(){_classCallCheck(this,t)}).\u0275mod=d.Pb({type:O}),O.\u0275inj=d.Ob({factory:function(t){return new(t||O)},providers:[f.a,g.a,s.a],imports:[[r.a,w,m.z,m.P,m.pb,m.C,v.c,m.u,W.e,m.I]]}),O)}}]);