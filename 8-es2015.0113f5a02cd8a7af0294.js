(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(e,t,n){"use strict";n.r(t),n.d(t,"NgxAuthModule",function(){return Vi});var i=n("ofXK"),o=n("3Pt+"),a=n("tyNb"),r=n("jCJ1"),s=n("RS3s"),c=n("wH5/"),l=n("LRne"),b=n("AytR"),d=n("fXoL"),u=n("tk/3");let p=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=b.a.apiUrl}createOccupation(e){}deleteOccupation(e,t){}getOccupation(e="",t="_id"){return this.http.get(this.apiUrl+"/api/occupation/one/"+`${t}/${e}`)}getOccupations(e="all",t="_id"){return this.http.get(this.apiUrl+"/api/occupation/many/"+`${t}/${e}`)}updateOccupation(e,t,n="_id"){return this.http.patch(this.apiUrl+"/api/occupation/one/"+`${n}/${t}`,e)}filter(e,t){const n=e.toLowerCase();if(void 0!==t)return Object(l.a)(t.filter(e=>e.name.toLowerCase().includes(n)||e.code.includes(n)))}}return e.\u0275fac=function(t){return new(t||e)(d.ac(u.b))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var g=n("ibGe");let h=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.townshipsIsLoaded=!1,this.apiUrl=b.a.apiUrl}createLocation(e){}deleteLocation(e,t){}getLocation(e,t="_id"){return this.http.get(this.apiUrl+"/api/location/one/"+`${t}/${e}`)}getLocations(e="all",t="_id"){return this.http.get(this.apiUrl+"/api/location/many/"+`${t}/${e}`)}updateLocation(e,t,n){return this.http.patch(this.apiUrl+"/api/location/one/"+`${n}/${t}`,e)}getDistinctTownships(){return this.townshipsIsLoaded||(this.townshipNames=this.http.get(this.apiUrl+"/api/location/townships"),this.townshipsIsLoaded=!0),this.townshipNames}getPlacesFromTownship(e){return this.http.get(this.apiUrl+"/api/location/place/"+e)}filter(e,t){const n=e.toLowerCase();if(void 0!==t)return Object(l.a)(t.filter(e=>e.toLowerCase().includes(n)))}}return e.\u0275fac=function(t){return new(t||e)(d.ac(u.b))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var m=n("bS1W"),f=n("fo3O"),v=n("H5EB");let V=(()=>{class e{constructor(e,t,n,i){this.userService=e,this.companyService=t,this.permitService=n,this.vehicleService=i,this.clearData(),Object(d.Z)()&&(this.user={email:"serbiansolutions"+(1e3*Math.random()).toFixed(0)+"@gmail.com",firstName:"Filip",username:"random"+(1e3*Math.random()).toFixed(0),lastName:"Balandzic",password:"nikjan00",phone:(1e10*Math.random()).toFixed(0),role:"manager"},this.company={storages:[],address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"},occupation:{code:"",name:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailReception:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),manager:"random",name:"Test",pib:(1e9*Math.random()).toFixed(0),operations:[],telephone:(1e10*Math.random()).toFixed(0),legalRep:{firstName:"Nikola",lastName:"Jankovic"},nriz:{username:"",password:""},wasteManager:{firstName:"",lastName:""}},this.operations=["Transport Neopasnog Otpada"])}clearData(){this.user={email:"",firstName:"",username:"",lastName:"",password:"",phone:"",role:"manager"},this.company={occupation:{code:"",name:""},address:{location:{townshipCode:0,townshipName:"",placeCode:0,placeName:"",zipCode:""},street:""},email:"",emailReception:"",mat:"",manager:"",name:"",pib:"",operations:[],storages:[],permits:[],telephone:"",legalRep:{firstName:"",lastName:""},wasteManager:{firstName:"",lastName:""},nriz:{username:"",password:""}},this.operations=[],this.permitCode=""}sendPermit(e){this.permitCode$=e,e.subscribe(e=>{this.permitCode=e})}getPermit(){return Object(l.a)(this.permitCode)}sendOperations(e){this.operations$=e,e.subscribe(e=>{this.operations=e})}getOperations(){return Object(l.a)(this.operations)}sendUser(e){this.user$=e,e.subscribe(e=>{this.user=e})}getUser(){return void 0!==this.company&&void 0!==this.user&&(this.user.company=this.company),Object(l.a)(this.user)}sendCompany(e){this.company$=e,e.subscribe(e=>{this.company=e})}getCompany(){if(void 0!==this.company)return void 0!==this.operations&&(this.company.operations=this.operations),void 0!==this.user&&(this.company.manager=this.user.username),Object(l.a)(this.company)}checkUser(e){const t=[];return t.push(this.userService.getUser(e.username,"username").toPromise().then(e=>null===e)),t.push(this.userService.getUser(e.phone,"phone").toPromise().then(e=>null===e)),t.push(this.userService.getUser(e.email,"email").toPromise().then(e=>null===e)),t}checkCompany(e){const t=[];return t.push(this.companyService.getCompany(e.pib,"pib").toPromise().then(e=>null===e)),t.push(this.companyService.getCompany(e.mat,"mat").toPromise().then(e=>null===e)),t.push(this.companyService.getCompany(e.email,"email").toPromise().then(e=>null===e)),t.push(this.companyService.getCompany(e.emailReception,"emailReception").toPromise().then(e=>null===e)),t.push(this.companyService.getCompany(e.telephone,"telephone").toPromise().then(e=>null===e)),t.push(""===e.nriz.username||this.companyService.getCompany(e.nriz.username,"nriz.username").toPromise().then(e=>null===e)),t}checkPermits(e){const t=[];for(const n of e)t.push(this.permitService.getPermit(n.code,"code").toPromise().then(e=>null===e).catch(e=>!0));return t}checkVehicles(e){const t=[];for(const n of e)t.push(this.vehicleService.getVehicle(n.licensePlate,"licensePlate").toPromise().then(e=>null===e));return t}}return e.\u0275fac=function(t){return new(t||e)(d.ac(f.a),d.ac(c.a),d.ac(m.a),d.ac(v.a))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();var W=n("vTDv"),y=n("McNs");let k=(()=>{class e{constructor(e){this.router=e}ngOnInit(){setTimeout(()=>{this.router.navigate(["login"])},3e3)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(a.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-email-confirmation"]],decls:5,vars:0,consts:[[1,"text-center"],[1,"text-muted"]],template:function(e,t){1&e&&(d.Wb(0,"div",0),d.Wb(1,"h1"),d.Fc(2,"Uspe\u0161no ste potvrdili va\u0161 Email!"),d.Vb(),d.Wb(3,"h5",1),d.Fc(4,"Automatski \u0107emo vas prebaciti na login stranicu..."),d.Vb(),d.Vb())},styles:[""]}),e})();var C=n("aceb");function I(e,t){1&e&&(d.Wb(0,"p",14),d.Fc(1," Morate upisati email! "),d.Vb())}function F(e,t){1&e&&(d.Wb(0,"p",15),d.Fc(1," Email mora biti validan! "),d.Vb())}function M(e,t){if(1&e&&(d.Ub(0),d.Dc(1,I,2,0,"p",12),d.Dc(2,F,2,0,"p",13),d.Tb()),2&e){d.hc();const e=d.vc(10);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}let E=(()=>{class e extends y.l{constructor(e,t={},n,i){super(e,t,n,i),this.service=e,this.options=t,this.cd=n,this.router=i,this.email="",this.strategy=this.getConfigValue("forms.login.strategy")}ngOnInit(){}sendEmail(e){e.invalid||this.service.requestPassword(this.strategy,{email:this.email}).subscribe(e=>{this.router.navigate(["login"])})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(y.a),d.Qb(d.h),d.Qb(a.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["forgot-password"]],features:[d.Bb],decls:16,vars:6,consts:[[1,"align-self-center","text-center"],[1,"mb-1"],["for","input-email",1,"text-muted"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["tabindex","5","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailInput","ngModel"],[4,"ngIf"],[1,"row","mt-3","d-flex","justify-content-center"],["status","primary","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message text-left mt-1 mb-0",4,"ngIf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","text-left","mt-1","mb-0"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"h1",1),d.Fc(2,"Zaboravljena lozinka:"),d.Vb(),d.Wb(3,"label",2),d.Fc(4,"Upi\u0161ite va\u0161u email adresu i posla\u0107emo Vam link za resetovanje lozinke"),d.Vb(),d.Wb(5,"form",3,4),d.dc("ngSubmit",function(){d.xc(e);const n=d.vc(6);return t.sendEmail(n)}),d.Wb(7,"div",5),d.Wb(8,"div",6),d.Wb(9,"input",7,8),d.dc("ngModelChange",function(e){return t.email=e}),d.Vb(),d.Dc(11,M,3,2,"ng-container",9),d.Vb(),d.Vb(),d.Wb(12,"div",10),d.Wb(13,"div",6),d.Wb(14,"button",11),d.Fc(15,"Po\u0161alji mejl"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(10);d.Eb(9),d.nc("ngModel",t.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(2),d.nc("ngIf",e.invalid&&e.touched)}},directives:[o.w,o.l,o.m,C.T,o.b,o.k,o.n,o.q,o.s,i.n,C.t],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();var w=n("ud2R");function j(e,t){if(1&e&&(d.Wb(0,"li",35),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e)}}function O(e,t){if(1&e&&(d.Wb(0,"nb-alert",31),d.Wb(1,"p",32),d.Wb(2,"b"),d.Fc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),d.Vb(),d.Vb(),d.Wb(4,"ul",33),d.Dc(5,j,2,1,"li",34),d.Vb(),d.Vb()),2&e){const e=d.hc();d.Eb(5),d.nc("ngForOf",e.errors)}}function N(e,t){if(1&e&&(d.Wb(0,"li",35),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e)}}function x(e,t){if(1&e&&(d.Wb(0,"nb-alert",36),d.Wb(1,"p",32),d.Wb(2,"b"),d.Fc(3,"Uspesno ste se ulogovali!"),d.Vb(),d.Vb(),d.Wb(4,"ul",33),d.Dc(5,N,2,1,"li",34),d.Vb(),d.Vb()),2&e){const e=d.hc();d.Eb(5),d.nc("ngForOf",e.messages)}}function P(e,t){1&e&&(d.Wb(0,"p",38),d.Fc(1," Email je obavezan! "),d.Vb())}function T(e,t){if(1&e&&(d.Ub(0),d.Dc(1,P,2,0,"p",37),d.Tb()),2&e){d.hc();const e=d.vc(17);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function z(e,t){1&e&&(d.Wb(0,"p",38),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function D(e,t){if(1&e&&(d.Ub(0),d.Dc(1,z,2,0,"p",37),d.Tb()),2&e){d.hc();const e=d.vc(26);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function q(e,t){if(1&e){const e=d.Xb();d.Wb(0,"nb-checkbox",39),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().user.rememberMe=t}),d.Fc(1,"Zapamti me"),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.user.rememberMe)}}let S=(()=>{class e extends y.h{constructor(e,t={},n,i,o){super(e,t,n,o),this.service=e,this.options=t,this.cd=n,this.roleService=i,this.router=o,this.showPassword="eye",this.redirectDelay=0,this.showMessages={},this.strategy="",this.errors=[],this.messages=[],this.user={email:"",password:"",rememberMe:!1},this.submitted=!1,this.rememberMe=!1,this.redirectDelay=this.getConfigValue("forms.login.redirectDelay"),this.showMessages=this.getConfigValue("forms.login.showMessages"),this.strategy=this.getConfigValue("forms.login.strategy"),this.rememberMe=this.getConfigValue("forms.login.rememberMe")}login(){this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const t=e.getRedirect();t&&(this.roleService.loginUser(),setTimeout(()=>this.router.navigateByUrl(t),this.redirectDelay)),this.cd.detectChanges()})}getConfigValue(e){return Object(y.n)(this.options,e,null)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(y.a),d.Qb(d.h),d.Qb(w.a),d.Qb(a.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-login"]],features:[d.Bb],decls:47,vars:18,consts:[[1,"align-self-center","flex-fill"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],["id","title",1,"title"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"row","d-flex","justify-content-center","mb-3"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-2"],["for","input-password",1,"label"],[1,"col-7","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-4"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-4","justify-content-end","d-flex"],["routerLink","../forgot-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],[1,"row","d-flex","justify-content-center","pb-2"],["aria-label","Registruj se",1,"col-8","text-center"],["routerLink","../register-user",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Rb(2,"img",2),d.Vb(),d.Wb(3,"h1",3),d.Fc(4,"Uloguj se!"),d.Vb(),d.Wb(5,"div",4),d.Wb(6,"div",5),d.Dc(7,O,6,1,"nb-alert",6),d.Dc(8,x,6,1,"nb-alert",7),d.Vb(),d.Vb(),d.Wb(9,"form",8,9),d.dc("ngSubmit",function(){return t.login()}),d.Wb(11,"div",10),d.Wb(12,"div",5),d.Wb(13,"label",11),d.Fc(14,"Email/Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(15,"div",5),d.Wb(16,"input",12,13),d.dc("ngModelChange",function(e){return t.user.email=e}),d.Vb(),d.Vb(),d.Wb(18,"div",5),d.Dc(19,T,2,1,"ng-container",14),d.Vb(),d.Vb(),d.Wb(20,"div",15),d.Wb(21,"div",5),d.Wb(22,"label",16),d.Fc(23,"\u0160ifra:"),d.Vb(),d.Vb(),d.Wb(24,"div",17),d.Wb(25,"input",18,19),d.dc("ngModelChange",function(e){return t.user.password=e}),d.Vb(),d.Vb(),d.Wb(27,"div",20),d.Wb(28,"button",21),d.dc("click",function(){return t.showPassword="eye"===t.showPassword?"eye-off":"eye"}),d.Rb(29,"nb-icon",22),d.Vb(),d.Vb(),d.Wb(30,"div",5),d.Dc(31,D,2,1,"ng-container",14),d.Vb(),d.Vb(),d.Wb(32,"div",15),d.Wb(33,"div",23),d.Dc(34,q,2,1,"nb-checkbox",24),d.Vb(),d.Wb(35,"div",25),d.Wb(36,"a",26),d.Fc(37,"Zaboravili ste \u0161ifru?"),d.Vb(),d.Vb(),d.Vb(),d.Wb(38,"div",15),d.Wb(39,"div",5),d.Wb(40,"button",27),d.Fc(41," Uloguj se "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(42,"div",28),d.Wb(43,"div",29),d.Fc(44," Nemate nalog? "),d.Wb(45,"a",30),d.Fc(46,"Registruj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.vc(17),n=d.vc(26);d.Eb(7),d.nc("ngIf",t.showMessages.error&&(null==t.errors?null:t.errors.length)&&!t.submitted),d.Eb(1),d.nc("ngIf",t.showMessages.success&&(null==t.messages?null:t.messages.length)&&!t.submitted),d.Eb(8),d.nc("ngModel",t.user.email)("required",t.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.touched),d.Eb(6),d.nc("ngModel",t.user.password)("required",t.getConfigValue("forms.validation.password.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(4),d.nc("icon",t.showPassword),d.Eb(2),d.nc("ngIf",n.touched),d.Eb(3),d.nc("ngIf",t.rememberMe),d.Eb(6),d.Ib("btn-pulse",t.submitted),d.nc("disabled",t.submitted)}},directives:[i.n,o.w,o.l,o.m,C.T,o.b,o.k,o.n,o.s,C.t,C.Q,a.f,C.o,i.m,C.G],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();var R=n("BHmg");let L=(()=>{class e extends y.i{constructor(e,t,n={},i,o){super(e,n,i),this.service=e,this.widgetService=t,this.options=n,this.router=i,this.roleService=o,this.redirectDelay=0,this.strategy="",this.redirectDelay=this.getConfigValue("forms.logout.redirectDelay"),this.strategy=this.getConfigValue("forms.logout.strategy")}logout(e){this.service.logout(e).subscribe(e=>{const t=e.getRedirect();this.roleService.ngOnDestroy(),this.widgetService.ngOnDestroy(),t&&setTimeout(()=>this.router.navigateByUrl(t),this.redirectDelay)})}getConfigValue(e){return Object(y.n)(this.options,e,null)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(R.a),d.Qb(y.a),d.Qb(a.c),d.Qb(w.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-logout"]],features:[d.Bb],decls:2,vars:0,template:function(e,t){1&e&&(d.Wb(0,"div"),d.Fc(1,"Odjavljivanje u toku..."),d.Vb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),e})(),$=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){this.authService.isAuthenticated().subscribe(e=>{e||this.router.navigate(["auth","login"])}),this.authService.getToken().subscribe(e=>{const t=e.getPayload().data.user;this.router.navigate("admin"===t.role?["admin"]:["pages","dashboard"])})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(a.c))},e.\u0275cmp=d.Kb({type:e,selectors:[["auth-redirect"]],decls:2,vars:0,template:function(e,t){1&e&&(d.Wb(0,"p"),d.Fc(1,"redirect works!"),d.Vb())},styles:[""]}),e})();var U=n("SxV6");const Q={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},name:{title:"Naziv",filter:!1}}};function A(e,t){if(1&e){const e=d.Xb();d.Wb(0,"button",16),d.dc("click",function(){d.xc(e);const n=t.$implicit;return d.hc().addTrash(n)}),d.Fc(1),d.Vb()}if(2&e){const e=t.$implicit;d.nc("nbPopover",e.name),d.Eb(1),d.Hc(" ",e.indexNumber," ")}}const B=function(e){return["..","register-informations",e]};let G=(()=>{class e{constructor(e={},t,n){this.options=e,this.registerService=t,this.catalogService=n,this.catalog=new s.a,this.settings=Q,this.permitType=""}getConfigValue(e){return Object(y.n)(this.options,e,null)}ngOnInit(){this.registerService.getPermit().subscribe(e=>{this.permitCode=e}),this.registerService.getCompany().subscribe(e=>{void 0!==e&&(this.company=e,this.permit=this.company.permits.filter(e=>e.code===this.permitCode)[0],this.permitType=this.permit.type,this.trashList=this.permit.trashList)}),this.registerService.sendCompany(Object(l.a)(this.company));let e=!1,t=!1;this.registerService.getOperations().subscribe(n=>{n.forEach(n=>{n.includes("Neopasnog")&&(e=!0),n.includes("Opasnog")&&(t=!0)}),e&&!t?this.catalogService.getSafeTrash().pipe(Object(U.a)()).subscribe(e=>{e.sort((e,t)=>e.indexNumber.localeCompare(t.indexNumber)),this.catalog.load(e)}):t&&!e?this.catalogService.getUnsafeTrash().pipe(Object(U.a)()).subscribe(e=>{e.sort((e,t)=>e.indexNumber.localeCompare(t.indexNumber)),this.catalog.load(e)}):t&&e&&this.catalogService.getCatalogs().pipe(Object(U.a)()).subscribe(e=>{e.sort((e,t)=>e.indexNumber.localeCompare(t.indexNumber)),this.catalog.load(e)})})}onSearch(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,t){return e.replace(/\s+/g,"").includes(t.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}addTrash(e){this.trashList.some(t=>t._id===e._id)?this.removeTrash(e):this.permit.trashList.push(e),this.company.permits.filter(e=>e.code===this.permitCode)[0]=this.permit}removeTrash(e){const t=this.trashList.filter(t=>t._id===e._id)[0];if(t){const e=this.trashList.indexOf(t,0);e>-1&&this.trashList.splice(e,1)}}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(V),d.Qb(g.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-permit"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Rb(6,"nb-step",4),d.Wb(7,"nb-step",5),d.Wb(8,"div",6),d.Wb(9,"div",7),d.Wb(10,"h5"),d.Fc(11,"Lista otpada dozvole:"),d.Vb(),d.Dc(12,A,2,2,"button",8),d.Vb(),d.Wb(13,"div",9),d.Wb(14,"label",10),d.Fc(15,"Pretrazi po indeksnom broju ili nazivu:"),d.Vb(),d.Wb(16,"input",11,12),d.dc("input",function(){d.xc(e);const n=d.vc(17);return n.value.length>=1&&t.onSearch(n.value)}),d.Vb(),d.Wb(18,"ng2-smart-table",13),d.dc("custom",function(e){return t.addTrash(e.data)}),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"button",14),d.Fc(20," Zavr\u0161i "),d.Vb(),d.Vb(),d.Rb(21,"nb-step",15),d.Vb()}2&e&&(d.Eb(12),d.nc("ngForOf",t.trashList),d.Eb(6),d.nc("source",t.catalog)("settings",t.settings),d.Eb(1),d.nc("routerLink",d.rc(5,B,t.permitType))("disabled",0===(null==t.trashList?null:t.trashList.length)))},directives:[C.Bb,C.Ab,i.m,C.T,s.b,C.t,a.d,C.kb],styles:["[_nghost-%COMP%]   ng2-st-tbody-custom[_ngcontent-%COMP%]   a.ng2-smart-action.ng2-smart-action-custom-custom[_ngcontent-%COMP%]:hover{color:#1e90ff}"]}),e})();var _=n("mrSG"),K=n("7wOV");function X(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Naziv firme je obavezan! "),d.Vb())}function Z(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Naziv firme mora biti du\u017ei od ",e.getConfigValue("forms.validation.companyName.minLength")," slova! ")}}function H(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Naziv firme mora biti kra\u0107i od ",e.getConfigValue("forms.validation.companyName.maxLength")," slova! ")}}function J(e,t){if(1&e&&(d.Ub(0),d.Dc(1,X,2,0,"p",84),d.Dc(2,Z,2,1,"p",84),d.Dc(3,H,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(19);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.maxlength)}}function Y(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," PIB je obavezan! "),d.Vb())}function ee(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," PIB mora da bude validan! "),d.Vb())}function te(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Y,2,0,"p",84),d.Dc(2,ee,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(30);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function ne(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mati\u010dni broj je obavezan! "),d.Vb())}function ie(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mati\u010dni broj mora da bude validan! "),d.Vb())}function oe(e,t){if(1&e&&(d.Ub(0),d.Dc(1,ne,2,0,"p",84),d.Dc(2,ie,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(40),t=d.vc(30);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==t.errors?null:t.errors.minlength)}}function ae(e,t){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function re(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Op\u0161tina je obavezna! "),d.Vb())}function se(e,t){if(1&e&&(d.Ub(0),d.Dc(1,re,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(57);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function ce(e,t){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function le(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Mesto je obavezno! "),d.Vb())}function be(e,t){if(1&e&&(d.Ub(0),d.Dc(1,le,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(71);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function de(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Po\u0161tanski broj je obavezan "),d.Vb())}function ue(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Po\u0161tanski broj mora biti validan "),d.Vb())}function pe(e,t){if(1&e&&(d.Ub(0),d.Dc(1,de,2,0,"p",84),d.Dc(2,ue,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(86);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ge(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ulica je obavezna! "),d.Vb())}function he(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ulica mora biti validna! "),d.Vb())}function me(e,t){if(1&e&&(d.Ub(0),d.Dc(1,ge,2,0,"p",84),d.Dc(2,he,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(96);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function fe(e,t){if(1&e&&(d.Wb(0,"nb-option",58),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e.name),d.Eb(1),d.Ic("[",e.code," ] ",e.name,"")}}function ve(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," \u0160ifra delatnosti je obavezna! "),d.Vb())}function Ve(e,t){if(1&e&&(d.Ub(0),d.Dc(1,ve,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(107);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function We(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function ye(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function ke(e,t){if(1&e&&(d.Ub(0),d.Dc(1,We,2,0,"p",84),d.Dc(2,ye,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(122);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Ce(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Telefon firme je obavezan! "),d.Vb())}function Ie(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Telefon firme mora biti validan! "),d.Vb())}function Fe(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Ce,2,0,"p",84),d.Dc(2,Ie,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(132);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Me(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function Ee(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function we(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Me,2,0,"p",84),d.Dc(2,Ee,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(151);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function je(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email je obavezan! "),d.Vb())}function Oe(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Email mora biti validan! "),d.Vb())}function Ne(e,t){if(1&e&&(d.Ub(0),d.Dc(1,je,2,0,"p",84),d.Dc(2,Oe,2,0,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(7);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function xe(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",13),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"label",86),d.Fc(4,"Unesite va\u0161 email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"input",87,88),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().tmpEmail=t})("ngModelChange",function(){return d.xc(e),d.hc().setCompanyEmail()}),d.Vb(),d.Vb(),d.Wb(8,"div",2),d.Dc(9,Ne,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(7),t=d.hc();d.Eb(6),d.nc("ngModel",t.tmpEmail)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||t.checkIssues)}}function Pe(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function Te(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.username.minLength")," slova! ")}}function ze(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Pe,2,0,"p",84),d.Dc(2,Te,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(8);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function De(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function qe(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" \u0160ifra mora biti du\u017ee od ",e.getConfigValue("forms.validation.password.minLength")," slova! ")}}function Se(e,t){if(1&e&&(d.Ub(0),d.Dc(1,De,2,0,"p",84),d.Dc(2,qe,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(18);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Re(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",8),d.Wb(1,"div",13),d.Wb(2,"div",1),d.Wb(3,"div",2),d.Wb(4,"label",89),d.Fc(5,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(6,"div",2),d.Wb(7,"input",90,91),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().company.nriz.username=t}),d.Vb(),d.Vb(),d.Wb(9,"div",2),d.Dc(10,ze,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(11,"div",13),d.Wb(12,"div",1),d.Wb(13,"div",2),d.Wb(14,"label",92),d.Fc(15,"\u0160ifra:"),d.Vb(),d.Vb(),d.Wb(16,"div",93),d.Wb(17,"input",94,95),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().company.nriz.password=t}),d.Vb(),d.Vb(),d.Wb(19,"div",96),d.Wb(20,"button",97),d.dc("click",function(){d.xc(e);const t=d.hc();return t.showPassword="eye"===t.showPassword?"eye-off":"eye"}),d.Rb(21,"nb-icon",98),d.Vb(),d.Vb(),d.Wb(22,"div",2),d.Dc(23,Se,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(8),t=d.vc(18),n=d.hc(),i=d.vc(171);d.Eb(7),d.nc("ngModel",n.company.nriz.username)("maxlength",n.getConfigValue("forms.validation.username.maxLength"))("minlength",n.getConfigValue("forms.validation.username.minLength"))("required",n.getConfigValue("forms.validation.username.required")&&i.checked)("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues),d.Eb(7),d.nc("ngModel",n.company.nriz.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required")&&i.checked)("status",t.dirty?t.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(4),d.nc("icon",n.showPassword),d.Eb(2),d.nc("ngIf",t.invalid&&t.touched||n.checkIssues)}}function Le(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function $e(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function Ue(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Le,2,0,"p",84),d.Dc(2,$e,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(187);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Qe(e,t){1&e&&(d.Wb(0,"p",85),d.Fc(1," Prezime zakonskog zastupnika je obavezno! "),d.Vb())}function Ae(e,t){if(1&e&&(d.Wb(0,"p",85),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function Be(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Qe,2,0,"p",84),d.Dc(2,Ae,2,1,"p",84),d.Tb()),2&e){d.hc();const e=d.vc(197);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let Ge=(()=>{class e{constructor(e={},t,n,i,o,a){this.options=e,this.locationService=t,this.occupationService=n,this.registerService=i,this.router=o,this.toastrService=a,this.showPassword="eye",this.checkIssues=!1,this.tmpEmail=""}ngOnInit(){this.registerService.getCompany().pipe(Object(U.a)()).subscribe(e=>{this.company=e}),this.registerService.getUser().pipe(Object(U.a)()).subscribe(e=>{void 0!==e&&(this.user=e)}),this.registerService.sendCompany(Object(l.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(U.a)()).subscribe(e=>{this.townships=e,this.townships$=Object(l.a)(e)}),this.occupationService.getOccupations().pipe(Object(U.a)()).subscribe(e=>{this.occupations=e,this.occupations$=Object(l.a)(e)})}getConfigValue(e){return Object(y.n)(this.options,e,null)}checkAddress(){return this.townships.includes(this.company.address.location.townshipName)&&this.places.includes(this.company.address.location.placeName)}checkOccupation(){return this.occupations.map(e=>e.name).includes(this.company.occupation.name)}validateCompany(e){return Object(_.a)(this,void 0,void 0,function*(){if(e.invalid)return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1;if(!this.checkAddress())return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite adresu (odaberite sa liste op\u0161tinu odnosno mesto) da bi ste nastavili.","warning",5e3),!1;if(!this.checkOccupation())return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite zanimanje (odaberite sa liste zanimanja) da bi ste nastavili.","warning",5e3),!1;let t="";if(!(yield Promise.all(this.registerService.checkCompany(this.company)).then(e=>(t=e[0]?t:"taj pib",t=e[1]?t:"taj mati\u010dni broj",t=e[2]?t:"taj email",t=e[3]?t:"taj email za prijem",t=e[4]?t:"taj telefon",t=e[5]?t:"to korisni\u010dko ime za NRIZ",e[0]&&e[1]&&e[2]&&e[3]&&e[4]&&e[5]))))return this.checkIssues=!0,void this.toastrService.showToast(`Ve\u0107 postoji ${t}!`,`Promenite ${t} da biste nastavili.`,"danger");e.valid&&""===this.tmpEmail&&""!==this.company.emailReception?this.router.navigate(["auth/register-operations"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))})}getPlaces(e){void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(U.a)()).subscribe(e=>{this.places=e,this.places$=Object(l.a)(e)})}chooseTownship(e){""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(e=>{this.getPlaces(e[0])})):this.townships$=Object(l.a)(this.townships)}findPlaces(e){this.places$=this.locationService.filter(e,this.places)}findOccupations(e){this.occupations$=this.occupationService.filter(e,this.occupations)}clearTmpEmail(){this.tmpEmail=""}setCompanyEmail(){this.company.emailReception=this.tmpEmail}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(h),d.Qb(p),d.Qb(V),d.Qb(a.c),d.Qb(K.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-company"]],decls:215,vars:105,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","my-1"],["for","input-companyName",1,"label"],["autofocus","","fullWidth","","id","input-companyName","name","companyName","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-townshipName",1,"label"],["autocomplete","off","fullWidth","","id","input-townshipName","name","townshipName","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["townshipName","ngModel"],["AutoCompleteTownships",""],[3,"value",4,"ngFor","ngForOf"],["for","input-placeName",1,"label"],["autocomplete","off","fullWidth","","id","input-placeName","name","placeName","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["placeName","ngModel"],["autoCompletePlaces",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-zipCode",1,"label"],["fullWidth","","id","input-zipCode","name","zipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zipCode","ngModel"],[1,"col-9"],["for","input-street",1,"label"],["fullWidth","","id","input-street","name","street","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["street","ngModel"],["for","input-occupation",1,"label"],["autocomplete","off","fullWidth","","id","input-occupation","name","occupation","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["occupation","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-companyEmail",1,"label"],["fullWidth","","id","input-companyEmail","name","companyEmail","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["companyEmail","ngModel"],["for","input-companyTelephone",1,"label"],["fullWidth","","id","input-companyTelephone","name","companyTelephone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyTelephone","ngModel"],["for","input-companyFax",1,"label"],["fullWidth","","id","input-companyFax","name","companyFax","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["companyFax","ngModel"],["for","input-companyEmailReception",1,"label"],["fullWidth","","id","input-companyEmailReception","name","companyEmailReception","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["companyEmailReception","ngModel"],[3,"value","selectionChange"],[3,"value"],["otherEmail",""],["class","col-6",4,"ngIf"],["for","toggle-nriz",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["id","toggle-nriz"],["nrizToggle",""],["class","row my-1",4,"ngIf"],[1,"label"],[1,"row","ml-2"],["for","input-fNameLegalRep",1,"label"],["fullWidth","","id","input-fNameLegalRep","name","fNameLegalRep","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameLegalRepo","ngModel"],["for","input-lNameLegalRep",1,"label"],["fullWidth","","id","input-lNameLegalRep","name","lNameLegalRep","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameLegalRepo","ngModel"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","type","button","routerLink","../register-user"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-companyEmailReception2",1,"label"],["fullWidth","","id","input-companyEmailReception2","name","companyEmailReception2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["companyEmailReception2","ngModel"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"h1",3),d.Fc(4,"Registruj se!"),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"nb-stepper",4),d.Rb(7,"nb-step",5),d.Wb(8,"nb-step",6),d.Wb(9,"form",null,7),d.Wb(11,"div",8),d.Wb(12,"div",2),d.Wb(13,"div",1),d.Wb(14,"div",2),d.Wb(15,"label",9),d.Fc(16,"Naziv Firme:"),d.Vb(),d.Vb(),d.Wb(17,"div",2),d.Wb(18,"input",10,11),d.dc("ngModelChange",function(e){return t.company.name=e}),d.Vb(),d.Vb(),d.Wb(20,"div",2),d.Dc(21,J,4,3,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",8),d.Wb(23,"div",13),d.Wb(24,"div",1),d.Wb(25,"div",2),d.Wb(26,"label",14),d.Fc(27,"Poreski identifikacioni broj (PIB):"),d.Vb(),d.Vb(),d.Wb(28,"div",2),d.Wb(29,"input",15,16),d.dc("ngModelChange",function(e){return t.company.pib=e}),d.Vb(),d.Vb(),d.Wb(31,"div",2),d.Dc(32,te,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(33,"div",13),d.Wb(34,"div",1),d.Wb(35,"div",2),d.Wb(36,"label",17),d.Fc(37,"Mati\u010dni broj:"),d.Vb(),d.Vb(),d.Wb(38,"div",2),d.Wb(39,"input",18,19),d.dc("ngModelChange",function(e){return t.company.mat=e}),d.Vb(),d.Vb(),d.Wb(41,"div",2),d.Dc(42,oe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(43,"div",8),d.Wb(44,"div",2),d.Wb(45,"div",1),d.Wb(46,"div",2),d.Wb(47,"label",20),d.Fc(48,"Adresa:"),d.Vb(),d.Vb(),d.Vb(),d.Wb(49,"div",21),d.Wb(50,"div",13),d.Wb(51,"div",1),d.Wb(52,"div",2),d.Wb(53,"label",22),d.Fc(54,"Op\u0161tina:"),d.Vb(),d.Vb(),d.Wb(55,"div",2),d.Wb(56,"input",23,24),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(57);return t.chooseTownship(n.value)})("ngModelChange",function(e){return t.company.address.location.townshipName=e}),d.Vb(),d.Wb(58,"nb-autocomplete",null,25),d.Dc(60,ae,2,2,"nb-option",26),d.ic(61,"async"),d.Vb(),d.Vb(),d.Wb(62,"div",2),d.Dc(63,se,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(64,"div",13),d.Wb(65,"div",1),d.Wb(66,"div",2),d.Wb(67,"label",27),d.Fc(68,"Mesto:"),d.Vb(),d.Vb(),d.Wb(69,"div",2),d.Wb(70,"input",28,29),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(71);return t.findPlaces(n.value)})("ngModelChange",function(e){return t.company.address.location.placeName=e}),d.Vb(),d.Wb(72,"nb-autocomplete",null,30),d.Dc(74,ce,2,2,"nb-option",26),d.ic(75,"async"),d.Vb(),d.Vb(),d.Wb(76,"div",2),d.Dc(77,be,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(78,"div",31),d.Wb(79,"div",32),d.Wb(80,"div",1),d.Wb(81,"div",2),d.Wb(82,"label",33),d.Fc(83,"Po\u0161tanski broj:"),d.Vb(),d.Vb(),d.Wb(84,"div",2),d.Wb(85,"input",34,35),d.dc("ngModelChange",function(e){return t.company.address.location.zipCode=e}),d.Vb(),d.Vb(),d.Wb(87,"div",2),d.Dc(88,pe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",36),d.Wb(90,"div",1),d.Wb(91,"div",2),d.Wb(92,"label",37),d.Fc(93,"Ulica i broj:"),d.Vb(),d.Vb(),d.Wb(94,"div",2),d.Wb(95,"input",38,39),d.dc("ngModelChange",function(e){return t.company.address.street=e}),d.Vb(),d.Vb(),d.Wb(97,"div",2),d.Dc(98,me,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(99,"div",8),d.Wb(100,"div",2),d.Wb(101,"div",1),d.Wb(102,"div",2),d.Wb(103,"label",40),d.Fc(104,"\u0160ifra delatnosti:"),d.Vb(),d.Vb(),d.Wb(105,"div",2),d.Wb(106,"input",41,42),d.dc("ngModelChange",function(){d.xc(e);const n=d.vc(107);return t.findOccupations(n.value)})("ngModelChange",function(e){return t.company.occupation.name=e}),d.Vb(),d.Wb(108,"nb-autocomplete",null,43),d.Dc(110,fe,2,3,"nb-option",26),d.ic(111,"async"),d.Vb(),d.Vb(),d.Wb(112,"div",2),d.Dc(113,Ve,2,1,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(114,"div",8),d.Wb(115,"div",44),d.Wb(116,"div",1),d.Wb(117,"div",2),d.Wb(118,"label",45),d.Fc(119,"Email firme:"),d.Vb(),d.Vb(),d.Wb(120,"div",2),d.Wb(121,"input",46,47),d.dc("ngModelChange",function(e){return t.company.email=e}),d.Vb(),d.Vb(),d.Wb(123,"div",2),d.Dc(124,ke,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(125,"div",44),d.Wb(126,"div",1),d.Wb(127,"div",2),d.Wb(128,"label",48),d.Fc(129,"Telefon firme:"),d.Vb(),d.Vb(),d.Wb(130,"div",2),d.Wb(131,"input",49,50),d.dc("ngModelChange",function(e){return t.company.telephone=e}),d.Vb(),d.Vb(),d.Wb(133,"div",2),d.Dc(134,Fe,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(135,"div",44),d.Wb(136,"div",1),d.Wb(137,"div",2),d.Wb(138,"label",51),d.Fc(139,"Faks firme:"),d.Vb(),d.Vb(),d.Wb(140,"div",2),d.Wb(141,"input",52,53),d.dc("ngModelChange",function(e){return t.company.fax=e}),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(143,"div",8),d.Wb(144,"div",13),d.Wb(145,"div",1),d.Wb(146,"div",2),d.Wb(147,"label",54),d.Fc(148,"Birajte email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(149,"div",2),d.Wb(150,"nb-select",55,56),d.dc("ngModelChange",function(e){return t.company.emailReception=e}),d.Wb(152,"nb-option",57),d.dc("selectionChange",function(){return t.clearTmpEmail()}),d.Fc(153),d.Vb(),d.Wb(154,"nb-option",57),d.dc("selectionChange",function(){return t.clearTmpEmail()}),d.Fc(155),d.Vb(),d.Wb(156,"nb-option",58,59),d.Fc(158,"Drugi email"),d.Vb(),d.Vb(),d.Vb(),d.Wb(159,"div",2),d.Dc(160,we,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Dc(161,xe,10,6,"div",60),d.Vb(),d.Wb(162,"div",8),d.Wb(163,"div",2),d.Wb(164,"div",1),d.Wb(165,"div",2),d.Wb(166,"label",61),d.Fc(167,"Da li imate nalog na NRIZ (Nacionalni registar izvora zaga\u0111ivanja)? "),d.Rb(168,"i",62),d.Vb(),d.Vb(),d.Wb(169,"div",2),d.Rb(170,"nb-toggle",63,64),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(172,Re,24,16,"div",65),d.Wb(173,"div",8),d.Wb(174,"div",2),d.Wb(175,"div",1),d.Wb(176,"div",2),d.Wb(177,"label",66),d.Fc(178,"Puno ime zakonskog zastupnika firme:"),d.Vb(),d.Vb(),d.Vb(),d.Wb(179,"div",67),d.Wb(180,"div",13),d.Wb(181,"div",1),d.Wb(182,"div",2),d.Wb(183,"label",68),d.Fc(184,"Ime:"),d.Vb(),d.Vb(),d.Wb(185,"div",2),d.Wb(186,"input",69,70),d.dc("ngModelChange",function(e){return t.company.legalRep.firstName=e}),d.Vb(),d.Vb(),d.Wb(188,"div",2),d.Dc(189,Ue,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Wb(190,"div",13),d.Wb(191,"div",1),d.Wb(192,"div",2),d.Wb(193,"label",71),d.Fc(194,"Prezime:"),d.Vb(),d.Vb(),d.Wb(195,"div",2),d.Wb(196,"input",72,73),d.dc("ngModelChange",function(e){return t.company.legalRep.lastName=e}),d.Vb(),d.Vb(),d.Wb(198,"div",2),d.Dc(199,Be,3,2,"ng-container",12),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(200,"div",74),d.Wb(201,"div",75),d.Wb(202,"button",76),d.Fc(203," Nazad "),d.Vb(),d.Vb(),d.Wb(204,"div",77),d.Wb(205,"button",78),d.dc("click",function(){d.xc(e);const n=d.vc(10);return t.validateCompany(n)}),d.Fc(206," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(207,"nb-step",79),d.Rb(208,"nb-step",80),d.Rb(209,"nb-step",81),d.Vb(),d.Vb(),d.Wb(210,"div",2),d.Wb(211,"section",82),d.Fc(212," Ve\u0107 imate nalog? "),d.Wb(213,"a",83),d.Fc(214,"Uloguj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(19),n=d.vc(30),i=d.vc(40),o=d.vc(57),a=d.vc(59),r=d.vc(71),s=d.vc(73),c=d.vc(86),l=d.vc(96),b=d.vc(107),u=d.vc(109),p=d.vc(122),g=d.vc(132),h=d.vc(142),m=d.vc(151),f=d.vc(157),v=d.vc(171),V=d.vc(187),W=d.vc(197);d.Eb(18),d.nc("ngModel",t.company.name)("maxlength",t.getConfigValue("forms.validation.companyName.maxLength"))("minlength",t.getConfigValue("forms.validation.companyName.minLength"))("required",t.getConfigValue("forms.validation.companyName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||t.checkIssues),d.Eb(8),d.nc("ngModel",t.company.pib)("maxlength",t.getConfigValue("forms.validation.pib.maxLength"))("minlength",t.getConfigValue("forms.validation.pib.minLength"))("pattern",t.getConfigValue("forms.validation.pib.pattern"))("required",t.getConfigValue("forms.validation.pib.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.mat)("maxlength",t.getConfigValue("forms.validation.mat.maxLength"))("minlength",t.getConfigValue("forms.validation.mat.minLength"))("pattern",t.getConfigValue("forms.validation.mat.pattern"))("required",t.getConfigValue("forms.validation.mat.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||t.checkIssues),d.Eb(14),d.nc("ngModel",t.company.address.location.townshipName)("nbAutocomplete",a)("required",t.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(61,99,t.townships$)),d.Eb(3),d.nc("ngIf",o.invalid&&o.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.address.location.placeName)("nbAutocomplete",s)("required",t.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(75,101,t.places$)),d.Eb(3),d.nc("ngIf",t.checkIssues),d.Eb(8),d.nc("ngModel",t.company.address.location.zipCode)("maxlength",t.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",t.getConfigValue("forms.validation.zipCode.minLength"))("required",t.getConfigValue("forms.validation.zipCode.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(3),d.nc("ngIf",c.invalid&&c.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.address.street)("minlength",t.getConfigValue("forms.validation.street.minLength"))("required",t.getConfigValue("forms.validation.street.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(3),d.nc("ngIf",l.invalid&&l.touched||t.checkIssues),d.Eb(8),d.nc("ngModel",t.company.occupation.name)("nbAutocomplete",u)("required",t.getConfigValue("forms.validation.occupation.required")),d.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(111,103,t.occupations$)),d.Eb(3),d.nc("ngIf",b.invalid&&b.touched||t.checkIssues),d.Eb(8),d.nc("ngModel",t.company.email)("required",t.getConfigValue("forms.validation.email.required"))("pattern",t.getConfigValue("forms.validation.email.pattern"))("status",p.dirty?p.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),d.Eb(3),d.nc("ngIf",p.invalid&&p.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.telephone)("maxlength",t.getConfigValue("forms.validation.telephone.maxLength"))("minlength",t.getConfigValue("forms.validation.telephone.minLength"))("required",t.getConfigValue("forms.validation.telephone.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),d.Eb(3),d.nc("ngIf",g.invalid&&g.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.fax)("maxlength",t.getConfigValue("forms.validation.telephone.maxLength"))("minlength",t.getConfigValue("forms.validation.telephone.minLength")),d.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),d.Eb(9),d.nc("ngModel",t.company.emailReception)("required",t.getConfigValue("forms.validation.email.required"))("selected",t.company.email)("status",m.dirty?m.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),d.Eb(2),d.nc("value",t.company.email),d.Eb(1),d.Gc(t.company.email),d.Eb(1),d.nc("value",null==t.user?null:t.user.email),d.Eb(1),d.Gc(null==t.user?null:t.user.email),d.Eb(1),d.nc("value",t.company.emailReception),d.Eb(4),d.nc("ngIf",m.invalid&&m.touched||t.checkIssues),d.Eb(1),d.nc("ngIf",f.selected),d.Eb(7),d.nc("nbTooltip","Ukoliko posedujete nalog na NRIZ unesite korisno\u010dko ime i \u0161ifru za pristup na NRIZ ukoliko \u017eelite da nam poverite odgovornost i obavljanje poslova izve\u0161tavanja umesto vas."),d.Eb(4),d.nc("ngIf",v.checked),d.Eb(14),d.nc("ngModel",t.company.legalRep.firstName)("maxlength",t.getConfigValue("forms.validation.firstName.maxLength"))("minlength",t.getConfigValue("forms.validation.firstName.minLength"))("required",t.getConfigValue("forms.validation.firstName.required"))("status",V.dirty?V.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!V.invalid||!V.touched)||null),d.Eb(3),d.nc("ngIf",V.invalid&&V.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.company.legalRep.lastName)("maxlength",t.getConfigValue("forms.validation.lastName.maxLength"))("minlength",t.getConfigValue("forms.validation.lastName.minLength"))("required",t.getConfigValue("forms.validation.lastName.required"))("status",W.dirty?W.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!W.invalid||!W.touched)||null),d.Eb(3),d.nc("ngIf",W.invalid&&W.touched||t.checkIssues)}},directives:[C.Bb,C.Ab,o.w,o.l,o.m,C.T,o.b,o.k,o.n,o.f,o.g,o.s,i.n,o.q,C.r,C.q,i.m,C.tb,C.ib,C.Pb,C.Nb,C.t,a.d,a.f,C.Q],pipes:[i.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),e})();const _e=function(){return{standalone:!0}};function Ke(e,t){if(1&e){const e=d.Xb();d.Wb(0,"input",9),d.dc("ngModelChange",function(t){return d.xc(e),d.hc(2).storageNo=t}),d.Vb()}if(2&e){const e=d.hc(2);d.nc("ngModel",e.storageNo)("ngModelOptions",d.qc(2,_e))}}function Xe(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",2),d.Wb(1,"div",3),d.Wb(2,"form",null,4),d.Wb(4,"div",5),d.Wb(5,"div",3),d.Wb(6,"label",6),d.Fc(7,"Broj dozvola:"),d.Vb(),d.Vb(),d.Wb(8,"div",3),d.Wb(9,"nb-button-group"),d.Wb(10,"button",7),d.dc("pressedChange",function(t){return d.xc(e),d.hc().updatePermits(1,void 0,t)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",7),d.dc("pressedChange",function(t){return d.xc(e),d.hc().updatePermits(2,void 0,t)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",7),d.dc("pressedChange",function(t){return d.xc(e),d.hc().updatePermits(3,void 0,t)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",7),d.dc("pressedChange",function(t){return d.xc(e),d.hc().updatePermits(4,void 0,t)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",7),d.dc("pressedChange",function(t){return d.xc(e),d.hc().updatePermits(5,void 0,t)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",7),d.dc("pressedChange",function(){d.xc(e);const t=d.hc();return t.showPermitsInput=!t.showPermitsInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,Ke,1,3,"input",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.hc();d.Eb(22),d.nc("ngIf",e.showPermitsInput)}}function Ze(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Naziv dozvole je obavezna! "),d.Vb())}function He(e,t){if(1&e&&(d.Wb(0,"p",34),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function Je(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Ze,2,0,"p",33),d.Dc(2,He,2,1,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function Ye(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," \u0160ifra dozvole je obavezna! "),d.Vb())}function et(e,t){if(1&e&&(d.Wb(0,"p",34),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.permitCode.minLength")," slova! ")}}function tt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Ye,2,0,"p",33),d.Dc(2,et,2,1,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(24);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function nt(e,t){if(1&e&&(d.Wb(0,"nb-option",40),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e.name)}}function it(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Postrojenje za koje je vezana dozvola je obavezno! "),d.Vb())}function ot(e,t){if(1&e&&(d.Ub(0),d.Dc(1,it,2,0,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(7);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function at(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",35),d.Wb(1,"div",5),d.Wb(2,"div",3),d.Wb(3,"label",36),d.Fc(4,"Odaberi postrojenje:"),d.Vb(),d.Vb(),d.Wb(5,"div",3),d.Wb(6,"nb-select",37,38),d.dc("ngModelChange",function(){d.xc(e);const t=d.hc().$implicit;return d.hc(2).setAddress(t,t.storage)})("ngModelChange",function(t){return d.xc(e),d.hc().$implicit.storage=t}),d.Dc(8,nt,2,2,"nb-option",39),d.ic(9,"async"),d.Vb(),d.Vb(),d.Wb(10,"div",3),d.Dc(11,ot,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(7),t=d.hc().$implicit,n=d.hc(2);d.Eb(6),d.nc("ngModel",t.storage)("ngModelOptions",d.qc(7,_e))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Eb(2),d.nc("ngForOf",d.jc(9,5,n.storages$)),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues)}}function rt(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum nastanka dozvole je obavezan! "),d.Vb())}function st(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),d.Vb())}function ct(e,t){if(1&e&&(d.Ub(0),d.Dc(1,rt,2,0,"p",33),d.Dc(2,st,2,0,"p",33),d.Tb()),2&e){const e=d.hc().$implicit,t=d.vc(36),n=d.hc(2);d.Eb(1),d.nc("ngIf",null==t.errors?null:t.errors.required),d.Eb(1),d.nc("ngIf",!n.dateValid(e))}}function lt(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Datum isteka dozvole je obavezan! "),d.Vb())}function bt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,lt,2,0,"p",33),d.Tb()),2&e){d.hc();const e=d.vc(48);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function dt(e,t){1&e&&(d.Wb(0,"p",34),d.Fc(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),d.Vb())}function ut(e,t){if(1&e&&(d.Ub(0),d.Dc(1,dt,2,0,"p",33),d.Tb()),2&e){const e=d.hc().$implicit;d.Eb(1),d.nc("ngIf",e.trashList.length<1)}}function pt(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",3),d.Wb(1,"form",null,12),d.Wb(3,"nb-card",13),d.Wb(4,"nb-card-body"),d.Wb(5,"div",2),d.Wb(6,"div",3),d.Wb(7,"div",5),d.Wb(8,"div",3),d.Wb(9,"label",14),d.Fc(10,"Naziv Dozvole:"),d.Vb(),d.Vb(),d.Wb(11,"div",3),d.Wb(12,"input",15,16),d.dc("ngModelChange",function(e){return t.$implicit.name=e}),d.Vb(),d.Vb(),d.Wb(14,"div",3),d.Dc(15,Je,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"div",2),d.Wb(17,"div",18),d.Wb(18,"div",5),d.Wb(19,"div",3),d.Wb(20,"label",19),d.Fc(21,"\u0160ifra Dozvole:"),d.Vb(),d.Vb(),d.Wb(22,"div",3),d.Wb(23,"input",20,21),d.dc("ngModelChange",function(e){return t.$implicit.code=e}),d.Vb(),d.Vb(),d.Wb(25,"div",3),d.Dc(26,tt,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Dc(27,at,12,8,"div",22),d.Vb(),d.Wb(28,"div",2),d.Wb(29,"div",18),d.Wb(30,"div",5),d.Wb(31,"div",3),d.Wb(32,"label",23),d.Fc(33,"Datum izdavanja dozvole:"),d.Vb(),d.Vb(),d.Wb(34,"div",3),d.Wb(35,"input",24,25),d.dc("ngModelChange",function(e){return t.$implicit.dateCreation=e}),d.Vb(),d.Rb(37,"nb-datepicker",null,26),d.Vb(),d.Wb(39,"div",3),d.Dc(40,ct,3,2,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Wb(41,"div",18),d.Wb(42,"div",5),d.Wb(43,"div",3),d.Wb(44,"label",27),d.Fc(45,"Datum isteka dozvole:"),d.Vb(),d.Vb(),d.Wb(46,"div",3),d.Wb(47,"input",28,29),d.dc("ngModelChange",function(e){return t.$implicit.dateExpiration=e}),d.Vb(),d.Rb(49,"nb-datepicker",null,30),d.Vb(),d.Wb(51,"div",3),d.Dc(52,bt,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(53,"div",31),d.Wb(54,"div",18),d.Wb(55,"div",5),d.Wb(56,"div",3),d.Wb(57,"button",32),d.dc("click",function(){d.xc(e);const n=t.$implicit;return d.hc(2).choosePermit(n)}),d.Fc(58,"Odaberi otpade "),d.Vb(),d.Vb(),d.Wb(59,"div",3),d.Dc(60,ut,2,1,"ng-container",17),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=d.vc(13),o=d.vc(24),a=d.vc(36),r=d.vc(38),s=d.vc(48),c=d.vc(50),l=d.hc(2);d.Eb(12),d.pc("placeholder","Dozvola #",n+1,""),d.nc("ngModel",e.name)("maxlength",l.getConfigValue("forms.validation.permitName.maxLength"))("minLength",l.getConfigValue("forms.validation.permitName.minLength"))("ngModelOptions",d.qc(32,_e))("required",l.getConfigValue("forms.validation.permitName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||l.checkIssues),d.Eb(8),d.nc("ngModel",e.code)("ngModelOptions",d.qc(33,_e))("required",l.getConfigValue("forms.validation.permitCode.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(3),d.nc("ngIf",o.invalid&&o.touched||l.checkIssues),d.Eb(1),d.nc("ngIf","transport"!==l.permitType&&"collector"!==l.permitType),d.Eb(8),d.nc("ngModel",e.dateCreation)("nbDatepicker",r)("ngModelOptions",d.qc(34,_e))("required",l.getConfigValue("forms.validation.date.required"))("status",l.dateValid(e)?"success":"danger"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(5),d.nc("ngIf",!l.dateValid(e)||l.checkIssues),d.Eb(7),d.nc("ngModel",e.dateExpiration)("nbDatepicker",c)("ngModelOptions",d.qc(35,_e))("required",l.getConfigValue("forms.validation.date.required"))("status",l.dateValid(e)?"success":"danger"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(5),d.nc("ngIf",s.invalid&&s.touched||l.checkIssues),d.Eb(5),d.nc("disabled",""===e.code),d.Eb(3),d.nc("ngIf",l.checkIssues)}}function gt(e,t){if(1&e&&(d.Wb(0,"div",10),d.Dc(1,pt,61,36,"div",11),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.permits$))}}let ht=(()=>{class e{constructor(e={},t,n,i){this.options=e,this.router=t,this.registerService=n,this.toastrService=i,this.storages=[],this.permitsNo=0,this.checkIssues=!1,this.valid=!1,this.showPermitsInput=!1}ngOnInit(){this.registerService.getCompany().pipe(Object(U.a)()).subscribe(e=>{void 0!==e&&(this.company=e,void 0!==e.permits&&(this.permits=this.company.permits.filter(e=>e.type===this.permitType),this.permitsNo=this.permits.length,this.permits$=Object(l.a)(this.permits)))}),"transport"!==this.permitType&&"collector"!==this.permitType&&(this.permitsNo=this.storageNo,this.storages$=Object(l.a)(this.storages)),this.validatePermits(),this.registerService.sendCompany(Object(l.a)(this.company))}getConfigValue(e){return Object(y.n)(this.options,e,null)}checkValid(){return Object(_.a)(this,void 0,void 0,function*(){if(this.validatePermits(),!this.valid)return this.checkIssues=!0,!1;let e="";return(yield Promise.all(this.registerService.checkPermits(this.permits)).then(t=>{for(const n of t)if(e=n?e:"ta \u0161ifra",n)return n;return!1}))?!!this.valid||(this.checkIssues=!0,!1):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka",`Ve\u0107 postoji ${e} dozvole!`,"danger"),!1)})}validatePermits(){if(this.permits){this.valid=this.permits.length>0;for(const e of this.permits){if(""===e.name||e.name.length<3){this.valid=!1;break}if(""===e.code){this.valid=!1;break}if(void 0===e.dateCreation||void 0===e.dateExpiration){this.valid=!1;break}if(void 0===e.storage&&"transport"!==this.permitType&&"collector"!==this.permitType){this.valid=!1;break}if(e.trashList.length<1){this.valid=!1;break}}}}updatePermits(e,t,n){if(void 0===n||!1!==n){void 0!==e&&(this.permitsNo=e),void 0!==t&&(this.storages$=t),this.company.permits?"transport"===this.permitType?this.company.permits=this.company.permits.filter(e=>"transport"!==e.type):"collector"===this.permitType&&(this.company.permits=this.company.permits.filter(e=>"collector"!==e.type)):this.company.permits=[],this.permits=new Array(this.permitsNo);for(let e=0;e<this.permitsNo;e++)this.permits[e]={address:{location:void 0,street:""},code:"",dateCreation:new Date,dateExpiration:new Date,name:"",storage:{name:"",maxAmount:0,address:{location:{placeCode:0,placeName:"",townshipCode:0,townshipName:"",zipCode:""},street:""},amount:0},trashList:[],type:this.permitType},"transport"!==this.permitType&&"collector"!==this.permitType||(delete this.permits[e].storage,delete this.permits[e].address);this.permits$=Object(l.a)(this.permits),this.permits.forEach(e=>this.company.permits.push(e)),this.validatePermits()}}choosePermit(e){this.registerService.sendPermit(Object(l.a)(e.code)),this.router.navigate(["/auth/register-permit"])}dateValid(e){return e.dateCreation<=e.dateExpiration}setAddress(e,t){e.address=t.address}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(a.c),d.Qb(V),d.Qb(K.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-permit"]],inputs:{permitType:"permitType",storageNo:"storageNo",storages:"storages"},decls:2,vars:2,consts:[["class","row my-1",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","my-1"],[1,"col-12"],["updatePermitForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],["for","input-permitName",1,"label"],["autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","",3,"ngModel","maxlength","minLength","ngModelOptions","required","status","placeholder","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],["class","col-6 my-1",4,"ngIf"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"row","my-2"],["nbButton","","status","success","type","button",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[1,"col-6","my-1"],["for","input-permitsStorage",1,"label"],["fullWidth","","id","input-permitsStorage","name","permitsStorage","required","",3,"ngModel","ngModelOptions","status","ngModelChange"],["permitsStorage","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(d.Dc(0,Xe,23,1,"div",0),d.Dc(1,gt,3,3,"div",1)),2&e&&(d.nc("ngIf","transport"===t.permitType||"collector"===t.permitType),d.Eb(1),d.nc("ngIf",t.permitsNo>0))},directives:[i.n,o.w,o.l,o.m,C.u,C.x,C.T,o.p,o.b,o.k,o.n,i.m,C.A,C.z,o.f,o.s,C.M,C.L,C.t,C.tb,C.ib],pipes:[i.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();const mt=["permitRef"],ft=function(){return{standalone:!0}};function vt(e,t){if(1&e){const e=d.Xb();d.Wb(0,"input",9),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().storageNo=t}),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.storageNo)("ngModelOptions",d.qc(2,ft))}}function Vt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Naziv skladi\u0161ta je obavezan! "),d.Vb())}function Wt(e,t){if(1&e&&(d.Wb(0,"p",53),d.Fc(1),d.Vb()),2&e){const e=d.hc(4);d.Eb(1),d.Hc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.storageName.minLength")," slova! ")}}function yt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Vt,2,0,"p",52),d.Dc(2,Wt,2,1,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function kt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Vrsta skladi\u0161ta je obavezna! "),d.Vb())}function Ct(e,t){if(1&e&&(d.Ub(0),d.Dc(1,kt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(8);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function It(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",3),d.Wb(3,"div",1),d.Wb(4,"label",54),d.Fc(5,"Vrsta Deponije:"),d.Vb(),d.Vb(),d.Wb(6,"div",1),d.Wb(7,"nb-select",55,56),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().$implicit.dumpType=t}),d.Wb(9,"nb-option",51),d.Fc(10,"Neopasan otpad"),d.Vb(),d.Wb(11,"nb-option",51),d.Fc(12,"Opasan otpad"),d.Vb(),d.Wb(13,"nb-option",51),d.Fc(14,"Inertan otpad"),d.Vb(),d.Vb(),d.Vb(),d.Wb(15,"div",1),d.Dc(16,Ct,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(8),t=d.hc().$implicit,n=d.hc(2);d.Eb(7),d.nc("ngModel",t.dumpType)("ngModelOptions",d.qc(9,ft))("required",n.getConfigValue("forms.validation.dumpType.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(2),d.nc("value","Neopasan"),d.Eb(2),d.nc("value","Opasan"),d.Eb(2),d.nc("value","Inertan"),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues)}}function Ft(e,t){if(1&e&&(d.Wb(0,"nb-option",51),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function Mt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Op\u0161tina je obavezna! "),d.Vb())}function Et(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Mt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(29);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function wt(e,t){if(1&e&&(d.Wb(0,"nb-option",51),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.nc("value",e),d.Eb(1),d.Gc(e)}}function jt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Mesto je obavezno! "),d.Vb())}function Ot(e,t){if(1&e&&(d.Ub(0),d.Dc(1,jt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(43);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function Nt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Po\u0161tanski broj je obavezan! "),d.Vb())}function xt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Po\u0161tanski broj mora biti validan! "),d.Vb())}function Pt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Nt,2,0,"p",52),d.Dc(2,xt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(58);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Tt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Ulica je obavezna! "),d.Vb())}function zt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Tt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(68);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required)}}function Dt(e,t){1&e&&(d.Wb(0,"button",61),d.Fc(1,"\xb0"),d.Vb())}function qt(e,t){1&e&&(d.Wb(0,"button",62),d.Fc(1,"'"),d.Vb())}function St(e,t){1&e&&(d.Wb(0,"button",62),d.Fc(1,'"'),d.Vb())}function Rt(e,t){if(1&e){const e=d.Xb();d.Wb(0,"span",57),d.Wb(1,"input",58),d.dc("ngModelChange",function(n){d.xc(e);const i=t.$implicit;return d.hc().$implicit.geolocationNorth[i]=n}),d.Vb(),d.Dc(2,Dt,2,0,"button",59),d.Dc(3,qt,2,0,"button",60),d.Dc(4,St,2,0,"button",60),d.Vb()}if(2&e){const e=t.$implicit,n=d.hc().$implicit;d.Eb(1),d.nc("ngModel",n.geolocationNorth[e])("ngModelOptions",d.qc(5,ft)),d.Eb(1),d.nc("ngIf",1===e),d.Eb(1),d.nc("ngIf",3===e),d.Eb(1),d.nc("ngIf",6===e)}}function Lt(e,t){1&e&&(d.Wb(0,"button",61),d.Fc(1,"\xb0"),d.Vb())}function $t(e,t){1&e&&(d.Wb(0,"button",62),d.Fc(1,"'"),d.Vb())}function Ut(e,t){1&e&&(d.Wb(0,"button",62),d.Fc(1,'"'),d.Vb())}function Qt(e,t){if(1&e){const e=d.Xb();d.Wb(0,"span",63),d.Wb(1,"input",58),d.dc("ngModelChange",function(n){d.xc(e);const i=t.$implicit;return d.hc().$implicit.geolocationEast[i]=n}),d.Vb(),d.Dc(2,Lt,2,0,"button",59),d.Dc(3,$t,2,0,"button",60),d.Dc(4,Ut,2,0,"button",60),d.Vb()}if(2&e){const e=t.$implicit,n=d.hc().$implicit;d.Eb(1),d.nc("ngModel",n.geolocationEast[e])("ngModelOptions",d.qc(5,ft)),d.Eb(1),d.nc("ngIf",1===e),d.Eb(1),d.nc("ngIf",3===e),d.Eb(1),d.nc("ngIf",6===e)}}function At(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Veli\u010dina skladi\u0161ta je obavezna! "),d.Vb())}function Bt(e,t){1&e&&(d.Wb(0,"p",53),d.Fc(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),d.Vb())}function Gt(e,t){if(1&e&&(d.Ub(0),d.Dc(1,At,2,0,"p",52),d.Dc(2,Bt,2,0,"p",52),d.Tb()),2&e){d.hc();const e=d.vc(99),t=d.hc(2);d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.required)||t.isNaN(e.value)),d.Eb(1),d.nc("ngIf",e<1)}}function _t(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",1),d.Wb(1,"form",null,12),d.Wb(3,"nb-card",13),d.Wb(4,"nb-card-body"),d.Wb(5,"div",0),d.Wb(6,"div",1),d.Wb(7,"div",3),d.Wb(8,"div",1),d.Wb(9,"label",14),d.Fc(10,"Naziv Skladi\u0161ta:"),d.Vb(),d.Vb(),d.Wb(11,"div",1),d.Wb(12,"input",15,16),d.dc("ngModelChange",function(e){return t.$implicit.name=e}),d.Vb(),d.Vb(),d.Wb(14,"div",1),d.Dc(15,yt,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(16,It,17,10,"div",17),d.Wb(17,"div",0),d.Wb(18,"div",1),d.Wb(19,"label",18),d.Fc(20,"Adresa:"),d.Vb(),d.Wb(21,"div",19),d.Wb(22,"div",20),d.Wb(23,"div",3),d.Wb(24,"div",1),d.Wb(25,"label",21),d.Fc(26,"Op\u0161tina:"),d.Vb(),d.Vb(),d.Wb(27,"div",1),d.Wb(28,"input",22,23),d.dc("ngModelChange",function(){d.xc(e);const t=d.vc(29);return d.hc(2).chooseTownship(t.value)})("ngModelChange",function(e){return t.$implicit.address.location.townshipName=e}),d.Vb(),d.Wb(30,"nb-autocomplete",null,24),d.Dc(32,Ft,2,2,"nb-option",25),d.ic(33,"async"),d.Vb(),d.Vb(),d.Wb(34,"div",1),d.Dc(35,Et,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Wb(36,"div",20),d.Wb(37,"div",3),d.Wb(38,"div",1),d.Wb(39,"label",26),d.Fc(40,"Mesto:"),d.Vb(),d.Vb(),d.Wb(41,"div",1),d.Wb(42,"input",27,28),d.dc("ngModelChange",function(t){return d.xc(e),d.hc(2).findPlaces(t)})("ngModelChange",function(e){return t.$implicit.address.location.placeName=e}),d.Vb(),d.Wb(44,"nb-autocomplete",null,29),d.Dc(46,wt,2,2,"nb-option",25),d.ic(47,"async"),d.Vb(),d.Vb(),d.Wb(48,"div",1),d.Dc(49,Ot,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(50,"div",0),d.Wb(51,"div",30),d.Wb(52,"div",3),d.Wb(53,"div",1),d.Wb(54,"label",31),d.Fc(55,"Po\u0161tanski broj:"),d.Vb(),d.Vb(),d.Wb(56,"div",1),d.Wb(57,"input",32,33),d.dc("ngModelChange",function(e){return t.$implicit.address.location.zipCode=e}),d.Vb(),d.Vb(),d.Wb(59,"div",1),d.Dc(60,Pt,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Wb(61,"div",34),d.Wb(62,"div",3),d.Wb(63,"div",1),d.Wb(64,"label",35),d.Fc(65,"Ulica i broj:"),d.Vb(),d.Vb(),d.Wb(66,"div",1),d.Wb(67,"input",36,37),d.dc("ngModelChange",function(e){return t.$implicit.address.street=e}),d.Vb(),d.Vb(),d.Wb(69,"div",1),d.Dc(70,zt,2,1,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(71,"div",0),d.Wb(72,"div",1),d.Wb(73,"div",3),d.Wb(74,"div",1),d.Wb(75,"label",38),d.Fc(76,"Geolokacija Sever (N):"),d.Vb(),d.Vb(),d.Wb(77,"div",1),d.Dc(78,Rt,5,6,"span",39),d.Vb(),d.Wb(79,"div",1),d.Sb(80),d.Vb(),d.Vb(),d.Vb(),d.Wb(81,"div",40),d.Wb(82,"div",3),d.Wb(83,"div",1),d.Wb(84,"label",41),d.Fc(85,"Geolokacija Istok (E0):"),d.Vb(),d.Vb(),d.Wb(86,"div",1),d.Dc(87,Qt,5,6,"span",42),d.Vb(),d.Wb(88,"div",1),d.Sb(89),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(90,"div",43),d.Wb(91,"div",1),d.Wb(92,"div",3),d.Wb(93,"div",1),d.Wb(94,"label",44),d.Fc(95,"Veli\u010dina skladi\u0161ta: "),d.Rb(96,"i",45),d.Vb(),d.Vb(),d.Wb(97,"div",46),d.Wb(98,"input",47,48),d.dc("ngModelChange",function(e){return t.$implicit.maxAmount=e}),d.Vb(),d.Vb(),d.Wb(100,"div",49),d.Wb(101,"nb-select",50),d.dc("ngModelChange",function(e){return t.$implicit.storageUnit=e}),d.Wb(102,"nb-option",51),d.Fc(103,"KG"),d.Vb(),d.Wb(104,"nb-option",51),d.Fc(105,"T"),d.Vb(),d.Vb(),d.Vb(),d.Wb(106,"div",1),d.Dc(107,Gt,3,2,"ng-container",8),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=d.vc(13),o=d.vc(29),a=d.vc(31),r=d.vc(43),s=d.vc(45),c=d.vc(58),l=d.vc(68),b=d.vc(99),u=d.hc(2);d.Eb(12),d.nc("ngModel",e.name)("maxlength",u.getConfigValue("forms.validation.storageName.maxLength"))("minlength",u.getConfigValue("forms.validation.storageName.minLength"))("ngModelOptions",d.qc(57,ft))("placeholder","Skladi\u0161te #"+(n+1))("required",u.getConfigValue("forms.validation.storageName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||u.checkIssues),d.Eb(1),d.nc("ngIf","dump"===u.storageType),d.Eb(12),d.nc("ngModel",e.address.location.townshipName)("nbAutocomplete",a)("ngModelOptions",d.qc(58,ft))("required",u.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(33,53,u.townships$)),d.Eb(3),d.nc("ngIf",o.invalid&&o.touched||u.checkIssues),d.Eb(7),d.nc("ngModel",e.address.location.placeName)("nbAutocomplete",s)("ngModelOptions",d.qc(59,ft))("required",u.getConfigValue("forms.validation.address.required")),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("ngForOf",d.jc(47,55,u.places$)),d.Eb(3),d.nc("ngIf",r.invalid&&r.touched||u.checkIssues),d.Eb(8),d.nc("ngModel",e.address.location.zipCode)("maxlength",u.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",u.getConfigValue("forms.validation.zipCode.minLength"))("ngModelOptions",d.qc(60,ft))("required",u.getConfigValue("forms.validation.zipCode.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),d.Eb(3),d.nc("ngIf",c.invalid&&c.touched||u.checkIssues),d.Eb(7),d.nc("ngModel",e.address.street)("maxlength",u.getConfigValue("forms.validation.street.maxLength"))("minlength",u.getConfigValue("forms.validation.street.minLength"))("ngModelOptions",d.qc(61,ft))("required",u.getConfigValue("forms.validation.street.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),d.Eb(3),d.nc("ngIf",l.invalid&&l.touched||u.checkIssues),d.Eb(8),d.nc("ngForOf",u.numbers),d.Eb(9),d.nc("ngForOf",u.numbers),d.Eb(9),d.nc("nbTooltip","Unesite veli\u010dinu privremenog skladi\u0161ta koju posedujete u okviru pravnog subjekta u jedinicama mere. Na\u010din odre\u0111ivanja veli\u010dine privremenog skladi\u0161ta merenje/prora\u010dun/procena."),d.Eb(2),d.nc("ngModel",e.maxAmount)("min",u.getConfigValue("forms.validation.storageSize.min"))("ngModelOptions",d.qc(62,ft))("required",u.getConfigValue("forms.validation.storageSize.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),d.Eb(3),d.nc("ngModelOptions",d.qc(63,ft))("ngModel",e.storageUnit),d.Eb(1),d.nc("value","KG"),d.Eb(2),d.nc("value","T"),d.Eb(3),d.nc("ngIf",b.invalid&&b.touched||u.checkIssues)}}function Kt(e,t){if(1&e&&(d.Wb(0,"div",10),d.Dc(1,_t,108,64,"div",11),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.storages$))}}function Xt(e,t){if(1&e&&(d.Wb(0,"div"),d.Rb(1,"register-trash-permit",64,65),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("storageNo",e.storageNo)("storages",e.storages)("permitType",e.storageType)}}let Zt=(()=>{class e{constructor(e={},t,n){this.options=e,this.registerService=t,this.locationService=n,this.townships=[],this.places=[],this.showStorageInput=!1,this.checkIssues=!1,this.valid=!1,this.numbers=[...Array(7).keys()]}ngOnInit(){this.registerService.getCompany().pipe(Object(U.a)()).subscribe(e=>{if(void 0!==e&&(this.company=e,void 0!==e.storages)){let e=[];"treatment"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.treatment)):"dump"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.dumpType)):"cache"===this.storageType?(e=this.company.storages,this.storages=e.filter(e=>void 0!==e.cache)):(e=this.company.storages,this.storages=e.filter(e=>void 0===e.cache&&void 0===e.dumpType&&void 0===e.treatment)),this.storageNo=this.storages.length,this.storages$=Object(l.a)(this.storages)}}),this.registerService.sendCompany(Object(l.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(U.a)()).subscribe(e=>{this.townships=e,this.townships$=Object(l.a)(e)}),this.validateStorage()}getConfigValue(e){return Object(y.n)(this.options,e,null)}checkValid(){return this.validateStorage(),!(void 0!==this.permitRef&&!this.permitRef.checkValid()||!this.valid&&(this.checkIssues=!0,1))}validateStorage(){if(void 0!==this.storages){this.valid=this.storages.length>0;for(const e of this.storages){if(""===e.name||e.name.length<3){this.valid=!1;break}if(e.maxAmount<1||isNaN(e.maxAmount)){this.valid=!1;break}if(""===e.address.location.placeName||""===e.address.location.townshipName){this.valid=!1;break}if(""===e.address.street){this.valid=!1;break}if("dump"===this.storageType&&""===e.dumpType){this.valid=!1;break}}}}updateStorages(e,t){if(!t)return;this.storageNo=e;let n=new Array;"treatment"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.treatment)):"dump"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.dumpType)):"cache"===this.storageType?(n=this.company.storages,this.company.storages=n.filter(e=>void 0===e.cache)):(n=this.company.storages,this.company.storages=n.filter(e=>e.treatment||e.dumpType||e.cache)),this.storages=new Array(this.storageNo);for(let i=0;i<this.storageNo;i++)this.storages[i]={address:{location:{placeName:"",placeCode:0,townshipName:"",townshipCode:0,zipCode:""},street:""},amount:0,storageUnit:"KG",geolocationEast:["0","0","0","0","0","0","0"],geolocationNorth:["0","0","0","0","0","0","0"],maxAmount:NaN,name:"",packages:[],trashes:[]},"cache"===this.storageType&&(this.storages[i].cache="cache"),"treatment"===this.storageType&&(this.storages[i].treatment="treatment"),"dump"===this.storageType&&(this.storages[i].dumpType="");this.storages$=Object(l.a)(this.storages),this.storages.forEach(e=>this.company.storages.push(e)),this.validateStorage(),void 0!==this.permitRef&&this.permitRef.updatePermits(this.storageNo,this.storages$)}getPlaces(e){void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(U.a)()).subscribe(e=>{this.places=e,this.places$=Object(l.a)(e)})}chooseTownship(e){""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(e=>this.getPlaces(e[0]))):this.townships$=Object(l.a)(this.townships)}findPlaces(e){this.places$=this.locationService.filter(e,this.places)}isNaN(e){return isNaN(e)||void 0===e}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(V),d.Qb(h))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-storage"]],viewQuery:function(e,t){if(1&e&&d.Lc(mt,1),2&e){let e;d.uc(e=d.ec())&&(t.permitRef=e.first)}},inputs:{storageType:"storageType",trashType:"trashType"},decls:25,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateStorageForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row mt-3",4,"ngIf"],[4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],["for","input-storageName",1,"label"],["autofocus","","fullWidth","","id","input-storageName","name","storageName","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["storageName","ngModel"],["class","row my-1",4,"ngIf"],["for","input-address",1,"label"],["id","input-address",1,"row","ml-2"],[1,"col-6"],["for","input-storageTownship",1,"label"],["autocomplete","off","fullWidth","","id","input-storageTownship","name","storageTownship","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storageTownship","ngModel"],["autoCompleteTownship",""],[3,"value",4,"ngFor","ngForOf"],["for","input-storagePlace",1,"label"],["autocomplete","off","fullWidth","","id","input-storagePlace","name","storagePlace","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storagePlace","ngModel"],["autoCompletePlace",""],[1,"col-3"],["for","input-storageZipCode",1,"label"],["fullWidth","","id","input-storageZipCode","name","storageZipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageZipCode","ngModel"],[1,"col-9"],["for","input-storageStreet",1,"label"],["fullWidth","","id","input-storageStreet","name","storageStreet","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageStreet","ngModel"],["for","input-geolocationN",1,"label"],["id","input-geolocationN",4,"ngFor","ngForOf"],[1,"col-12","mt-1"],["for","input-geolocationE",1,"label"],["id","input-geolocationE",4,"ngFor","ngForOf"],[1,"row","mb-2"],["for","input-storageSize",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],[1,"col-10","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","placeholder","0","onkeypress","return /[0-9.]/i.test(event.key)","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-dumpType",1,"label"],["fullWidth","","id","input-dumpType","name","dumpType","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["dumpType","ngModel"],["id","input-geolocationN"],["fullWidth","","maxlength","1","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","type","text",1,"col-1",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","class","col-1 mb-1 geolocation-sign","disabled","",4,"ngIf"],["nbButton","","disabled","","style","max-width: 2vw; font-size: 1.5rem","class","col-1 mb-1",4,"ngIf"],["nbButton","","disabled","",1,"col-1","mb-1","geolocation-sign"],["nbButton","","disabled","",1,"col-1","mb-1",2,"max-width","2vw","font-size","1.5rem"],["id","input-geolocationE"],[3,"storageNo","storages","permitType"],["permitRef",""]],template:function(e,t){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"form",null,2),d.Wb(4,"div",3),d.Wb(5,"div",1),d.Wb(6,"label",4),d.Fc(7,"Broj skladi\u0161ta:"),d.Vb(),d.Vb(),d.Wb(8,"div",1),d.Wb(9,"nb-button-group"),d.Wb(10,"button",5),d.dc("pressedChange",function(e){return t.updateStorages(1,e)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",5),d.dc("pressedChange",function(e){return t.updateStorages(2,e)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",5),d.dc("pressedChange",function(e){return t.updateStorages(3,e)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",5),d.dc("pressedChange",function(e){return t.updateStorages(4,e)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",5),d.dc("pressedChange",function(e){return t.updateStorages(5,e)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",5),d.dc("pressedChange",function(){return t.showStorageInput=!t.showStorageInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,vt,1,3,"input",6),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(23,Kt,3,3,"div",7),d.Dc(24,Xt,3,3,"div",8)),2&e&&(d.Eb(22),d.nc("ngIf",t.showStorageInput),d.Eb(1),d.nc("ngIf",t.storageNo>0),d.Eb(1),d.nc("ngIf","production"!==t.storageType))},directives:[o.w,o.l,o.m,C.u,C.x,i.n,C.T,o.p,o.b,o.k,o.n,i.m,C.A,C.z,o.f,o.g,o.s,C.r,C.q,C.Pb,C.tb,C.ib,C.t,ht],pipes:[i.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}.geolocation-sign[_ngcontent-%COMP%]{max-width:2vw;font-size:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:unset}"]}),e})();const Ht=["permitRef"],Jt=function(){return{standalone:!0}};function Yt(e,t){if(1&e){const e=d.Xb();d.Wb(0,"input",10),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().vehiclesNo=t}),d.Vb()}if(2&e){const e=d.hc();d.nc("ngModel",e.vehiclesNo)("ngModelOptions",d.qc(2,Jt))}}function en(e,t){1&e&&(d.Wb(0,"p",25),d.Fc(1," Registarski broj tablica je obavezan! "),d.Vb())}function tn(e,t){1&e&&(d.Wb(0,"p",25),d.Fc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),d.Vb())}function nn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,en,2,0,"p",24),d.Dc(2,tn,2,0,"p",24),d.Tb()),2&e){d.hc();const e=d.vc(13);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.pattern)||(null==e.errors?null:e.errors.minLength))}}function on(e,t){1&e&&(d.Wb(0,"p",25),d.Fc(1," Vrsta vozila je obavezna! "),d.Vb())}function an(e,t){if(1&e&&(d.Ub(0),d.Dc(1,on,2,0,"p",24),d.Tb()),2&e){d.hc();const e=d.vc(24);d.Eb(1),d.nc("ngIf",!e.value)}}function rn(e,t){if(1&e&&(d.Wb(0,"div",13),d.Wb(1,"form",null,14),d.Wb(3,"nb-card",15),d.Wb(4,"nb-card-body"),d.Wb(5,"div",0),d.Wb(6,"div",1),d.Wb(7,"div",3),d.Wb(8,"div",1),d.Wb(9,"label",16),d.Fc(10,"Registarski broj tablice:"),d.Vb(),d.Vb(),d.Wb(11,"div",1),d.Wb(12,"input",17,18),d.dc("ngModelChange",function(e){return t.$implicit.licensePlate=e}),d.Vb(),d.Vb(),d.Wb(14,"div",1),d.Dc(15,nn,3,2,"ng-container",19),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"div",0),d.Wb(17,"div",1),d.Wb(18,"div",3),d.Wb(19,"div",1),d.Wb(20,"label",20),d.Fc(21,"Vrsta vozila:"),d.Vb(),d.Vb(),d.Wb(22,"div",1),d.Wb(23,"nb-select",21,22),d.dc("ngModelChange",function(e){return t.$implicit.type=e}),d.Wb(25,"nb-option",23),d.Fc(26,"Kamion"),d.Vb(),d.Wb(27,"nb-option",23),d.Fc(28,"Kombi"),d.Vb(),d.Wb(29,"nb-option",23),d.Fc(30,"Automobil"),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",1),d.Dc(32,an,2,1,"ng-container",19),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=t.$implicit,n=d.vc(13),i=d.vc(24),o=d.hc(2);d.Eb(12),d.nc("ngModel",e.licensePlate)("maxlength",o.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",o.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",d.qc(18,Jt))("pattern",o.getConfigValue("forms.validation.licensePlate.pattern"))("required",o.getConfigValue("forms.validation.licensePlate.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||o.checkIssues),d.Eb(8),d.nc("ngModel",e.type)("ngModelOptions",d.qc(19,Jt))("required",o.getConfigValue("forms.validation.vehicleType.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(2),d.nc("value","kamion"),d.Eb(2),d.nc("value","kombi"),d.Eb(2),d.nc("value","automobil"),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||o.checkIssues)}}function sn(e,t){if(1&e&&(d.Wb(0,"div",11),d.Dc(1,rn,33,20,"div",12),d.ic(2,"async"),d.Vb()),2&e){const e=d.hc();d.Eb(1),d.nc("ngForOf",d.jc(2,1,e.vehicles$))}}let cn=(()=>{class e{constructor(e={},t,n){this.options=e,this.registerService=t,this.toastrService=n,this.vehiclesNo=0,this.valid=!1,this.checkIssues=!1,this.showVehicleInput=!1}ngOnInit(){this.registerService.getCompany().pipe(Object(U.a)()).subscribe(e=>{void 0!==e&&(this.company=e,void 0!==e.vehicles&&(this.vehiclesNo=this.company.vehicles.length,this.vehicles=this.company.vehicles,this.vehicles$=Object(l.a)(this.vehicles)))}),this.registerService.sendCompany(Object(l.a)(this.company)),this.validateVehicles()}getConfigValue(e){return Object(y.n)(this.options,e,null)}checkValid(){return Object(_.a)(this,void 0,void 0,function*(){if(this.validateVehicles(),!this.valid)return this.checkIssues=!0,!1;let e="";return(yield Promise.all(this.registerService.checkVehicles(this.vehicles)).then(t=>{for(const n of t)if(e=n?e:"ta registarska tablica",n)return n;return!1}))?!(void 0!==this.permitRef&&!(yield this.permitRef.checkValid())||!this.valid&&(this.checkIssues=!0,1)):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka",`Ve\u0107 postoji ${e}!`,"danger"),!1)})}validateVehicles(){if(void 0!==this.vehicles){this.valid=this.vehicles.length>0;for(const e of this.vehicles){if(""===e.licensePlate||e.licensePlate.length<9){this.valid=!1;break}if(""===e.type){this.valid=!1;break}}}}updateVehicles(e,t){if(t){this.vehiclesNo=e,this.vehicles=new Array(this.vehiclesNo);for(let e=0;e<this.vehiclesNo;e++)this.vehicles[e]={licensePlate:"",type:""};this.company.vehicles=this.vehicles,this.vehicles$=Object(l.a)(this.vehicles),this.validateVehicles()}}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(V),d.Qb(K.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-trash-transport"]],viewQuery:function(e,t){if(1&e&&d.Lc(Ht,1),2&e){let e;d.uc(e=d.ec())&&(t.permitRef=e.first)}},decls:26,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateVehicleForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row pt-4",4,"ngIf"],[3,"permitType"],["permitRef",""],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],["transportForm","ngForm"],["accent","danger"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"form",null,2),d.Wb(4,"div",3),d.Wb(5,"div",1),d.Wb(6,"label",4),d.Fc(7,"Broj vozila:"),d.Vb(),d.Vb(),d.Wb(8,"div",1),d.Wb(9,"nb-button-group"),d.Wb(10,"button",5),d.dc("pressedChange",function(e){return t.updateVehicles(1,e)}),d.Fc(11,"1"),d.Vb(),d.Wb(12,"button",5),d.dc("pressedChange",function(e){return t.updateVehicles(2,e)}),d.Fc(13,"2"),d.Vb(),d.Wb(14,"button",5),d.dc("pressedChange",function(e){return t.updateVehicles(3,e)}),d.Fc(15,"3"),d.Vb(),d.Wb(16,"button",5),d.dc("pressedChange",function(e){return t.updateVehicles(4,e)}),d.Fc(17,"4"),d.Vb(),d.Wb(18,"button",5),d.dc("pressedChange",function(e){return t.updateVehicles(5,e)}),d.Fc(19,"5"),d.Vb(),d.Wb(20,"button",5),d.dc("pressedChange",function(){return t.showVehicleInput=!t.showVehicleInput}),d.Fc(21,"Vi\u0161e..."),d.Vb(),d.Dc(22,Yt,1,3,"input",6),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(23,sn,3,3,"div",7),d.Rb(24,"register-trash-permit",8,9)),2&e&&(d.Eb(22),d.nc("ngIf",t.showVehicleInput),d.Eb(1),d.nc("ngIf",t.vehiclesNo>0),d.Eb(1),d.nc("permitType","transport"))},directives:[o.w,o.l,o.m,C.u,C.x,i.n,ht,C.T,o.p,o.b,o.k,o.n,i.m,C.A,C.z,o.f,o.q,o.s,C.tb,C.ib],pipes:[i.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),e})();const ln=["productionRef"],bn=["transportRef"],dn=["collectorRef"],un=["treatmentRef"],pn=["dumpRef"],gn=["cacheRef"];function hn(e,t){1&e&&(d.Wb(0,"nb-card",16),d.Wb(1,"nb-card-body"),d.Wb(2,"p",17),d.Fc(3,"Nema potrebe za dodavanje dodatnih informacija za posebne tokove otpada! =)"),d.Vb(),d.Vb(),d.Vb())}function mn(e,t){1&e&&d.Rb(0,"register-trash-storage",22,23),2&e&&d.nc("storageType","production")}function fn(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,19),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Proizvodnja \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,mn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","production"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("production").status)("icon",t.checkCompletion("production").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function vn(e,t){1&e&&d.Rb(0,"register-trash-transport",null,26)}function Vn(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,24),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Transport \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,vn,2,0,"register-trash-transport",25),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","transport"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("transport").status)("icon",t.checkCompletion("transport").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function Wn(e,t){1&e&&d.Rb(0,"register-trash-permit",29,30),2&e&&d.nc("permitType","collector")}function yn(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,27),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Sakuplja\u010d \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,Wn,2,1,"register-trash-permit",28),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","collector"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("collector").status)("icon",t.checkCompletion("collector").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function kn(e,t){1&e&&d.Rb(0,"register-trash-storage",22,32),2&e&&d.nc("storageType","treatment")}function Cn(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,31),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Tretman \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,kn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","treatment"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("treatment").status)("icon",t.checkCompletion("treatment").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function In(e,t){1&e&&d.Rb(0,"register-trash-storage",22,34),2&e&&d.nc("storageType","dump")}function Fn(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,33),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Odlaganje \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,In,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","disposal"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("dump").status)("icon",t.checkCompletion("dump").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}function Mn(e,t){1&e&&d.Rb(0,"register-trash-storage",22,36),2&e&&d.nc("storageType","cache")}function En(e,t){if(1&e&&(d.Wb(0,"nb-accordion-item",18,35),d.Wb(2,"nb-accordion-item-header"),d.Fc(3,"Skladi\u0161tenje \xa0 "),d.Rb(4,"nb-icon",20),d.Vb(),d.Wb(5,"nb-accordion-item-body"),d.Dc(6,Mn,2,1,"register-trash-storage",21),d.Vb(),d.Vb()),2&e){const e=d.vc(1),t=d.hc();d.nc("collapsed","cache"!==t.activeTab),d.Eb(4),d.nc("status",t.checkCompletion("cache").status)("icon",t.checkCompletion("cache").icon),d.Eb(2),d.nc("ngIf",!e.collapsed)}}let wn=(()=>{class e{constructor(e,t,n,i,o){this.registerService=e,this.router=t,this.toastrService=n,this.roleService=i,this.route=o,this.valid=!1,this.loading=!1,this.activeTab="",this.activeTab=this.route.snapshot.paramMap.get("tab")}ngOnInit(){this.registerService.getOperations().pipe(Object(U.a)()).subscribe(e=>{this.roleService.getOperations(e,!0).pipe(Object(U.a)()).subscribe(e=>{this.operations=e})})}checkCompletion(e){return"production"===e&&void 0!==this.productionRef&&this.operations.production&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operations.transport&&this.transportRef.valid||"collector"===e&&void 0!==this.collectorRef&&this.operations.collector&&this.collectorRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operations.treatment&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operations.disposal&&this.dumpRef.valid||"cache"===e&&void 0!==this.cacheRef&&this.operations.cache&&this.cacheRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}validateInformation(e){return Object(_.a)(this,void 0,void 0,function*(){this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout(()=>Object(_.a)(this,void 0,void 0,function*(){this.valid=!0,void 0!==this.productionRef&&this.operations.production&&(this.productionRef.checkValid()||(this.valid=!1)),void 0!==this.transportRef&&this.operations.transport&&(this.valid=yield this.transportRef.checkValid()),void 0!==this.collectorRef&&this.operations.collector&&(this.valid=yield this.collectorRef.checkValid()),void 0!==this.treatmentRef&&this.operations.treatment&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.operations.disposal&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.cacheRef&&this.operations.cache&&(this.cacheRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-confirmation"]):(e.closeAll(),e.multi=!1,this.loading=!1,this.toastrService.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"))}),1e3)})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(V),d.Qb(a.c),d.Qb(K.a),d.Qb(w.a),d.Qb(a.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-informations"]],viewQuery:function(e,t){if(1&e&&(d.Lc(ln,1),d.Lc(bn,1),d.Lc(dn,1),d.Lc(un,1),d.Lc(pn,1),d.Lc(gn,1)),2&e){let e;d.uc(e=d.ec())&&(t.productionRef=e.first),d.uc(e=d.ec())&&(t.transportRef=e.first),d.uc(e=d.ec())&&(t.collectorRef=e.first),d.uc(e=d.ec())&&(t.treatmentRef=e.first),d.uc(e=d.ec())&&(t.dumpRef=e.first),d.uc(e=d.ec())&&(t.cacheRef=e.first)}},decls:24,vars:8,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["class","bg-light",4,"ngIf"],["size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operations"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Potvrda"],[1,"bg-light"],[1,"justify-content-center","d-flex"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[3,"storageType",4,"ngIf"],[3,"storageType"],["productionRef",""],["accordionTransport",""],[4,"ngIf"],["transportRef",""],["accordionCollector",""],[3,"permitType",4,"ngIf"],[3,"permitType"],["collectorRef",""],["accordionTreatment",""],["treatmentRef",""],["accordionDump",""],["dumpRef",""],["accordionCache",""],["cacheRef",""]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Rb(3,"nb-step",2),d.Rb(4,"nb-step",3),d.Rb(5,"nb-step",4),d.Wb(6,"nb-step",5),d.Dc(7,hn,4,0,"nb-card",6),d.Wb(8,"nb-accordion",7,8),d.Dc(10,fn,7,4,"nb-accordion-item",9),d.Dc(11,Vn,7,4,"nb-accordion-item",9),d.Dc(12,yn,7,4,"nb-accordion-item",9),d.Dc(13,Cn,7,4,"nb-accordion-item",9),d.Dc(14,Fn,7,4,"nb-accordion-item",9),d.Dc(15,En,7,4,"nb-accordion-item",9),d.Vb(),d.Wb(16,"div",10),d.Wb(17,"div",11),d.Wb(18,"button",12),d.Fc(19," Nazad "),d.Vb(),d.Vb(),d.Wb(20,"div",13),d.Wb(21,"button",14),d.dc("click",function(){d.xc(e);const n=d.vc(9);return t.validateInformation(n)}),d.Fc(22," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(23,"nb-step",15),d.Vb()}2&e&&(d.Eb(7),d.nc("ngIf",t.operations.specialWaste),d.Eb(1),d.nc("nbSpinner",t.loading),d.Eb(2),d.nc("ngIf",t.operations.production),d.Eb(1),d.nc("ngIf",t.operations.transport),d.Eb(1),d.nc("ngIf",t.operations.collector),d.Eb(1),d.nc("ngIf",t.operations.treatment),d.Eb(1),d.nc("ngIf",t.operations.disposal),d.Eb(1),d.nc("ngIf",t.operations.cache))},directives:[C.Bb,C.Ab,i.n,C.g,C.yb,C.t,a.d,C.A,C.z,C.i,C.j,C.Q,C.h,Zt,cn,ht],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),e})();function jn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ime je obavezno! "),d.Vb())}function On(e,t){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," ")}}function Nn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ime mora biti validno! "),d.Vb())}function xn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,jn,2,0,"p",45),d.Dc(2,On,2,1,"p",45),d.Dc(3,Nn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(18);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Pn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Prezime je obavezno! "),d.Vb())}function Tn(e,t){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," ")}}function zn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Prezime mora biti validno! "),d.Vb())}function Dn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Pn,2,0,"p",45),d.Dc(2,Tn,2,1,"p",45),d.Dc(3,zn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(28);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.minlength),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function qn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Korisni\u010dko ime je obavezno! "),d.Vb())}function Sn(e,t){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.username.minLength"),"! ")}}function Rn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Korisni\u010dko ime mora biti validno! Ne sme imati razmaka ili karaktere '@!?'. "),d.Vb())}function Ln(e,t){if(1&e&&(d.Ub(0),d.Dc(1,qn,2,0,"p",45),d.Dc(2,Sn,2,1,"p",45),d.Dc(3,Rn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(39);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function $n(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Telefon je obavezan! "),d.Vb())}function Un(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Telefon mora biti validan! "),d.Vb())}function Qn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,$n,2,0,"p",45),d.Dc(2,Un,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(49);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function An(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Email je obavezan! "),d.Vb())}function Bn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Email mora biti validan! "),d.Vb())}function Gn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,An,2,0,"p",45),d.Dc(2,Bn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(61);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function _n(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function Kn(e,t){if(1&e&&(d.Wb(0,"p",46),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function Xn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra mora biti validna! Ne sme imati razmake! "),d.Vb())}function Zn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,_n,2,0,"p",45),d.Dc(2,Kn,2,1,"p",45),d.Dc(3,Xn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(73);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Hn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," Ponovna \u0161ifra je obavezna! "),d.Vb())}function Jn(e,t){1&e&&(d.Wb(0,"p",46),d.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),d.Vb())}function Yn(e,t){if(1&e&&(d.Ub(0),d.Dc(1,Hn,2,0,"p",45),d.Dc(2,Jn,2,0,"p",45),d.Tb()),2&e){d.hc();const e=d.vc(86),t=d.vc(73);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",t.value!==e.value)}}const ei=["wasteManagerForm"];function ti(e,t){if(1&e&&(d.Wb(0,"nb-card",31),d.Wb(1,"nb-card-body",32),d.Fc(2),d.Vb(),d.Vb()),2&e){d.hc();const e=d.vc(28),t=d.vc(54);d.Eb(2),d.Hc(" Ako se bavite ",e.checked||t.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function ni(e,t){1&e&&(d.Wb(0,"p",44),d.Fc(1," Ime zakonskog zastupnika je obavezno! "),d.Vb())}function ii(e,t){if(1&e&&(d.Wb(0,"p",44),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function oi(e,t){if(1&e&&(d.Ub(0),d.Dc(1,ni,2,0,"p",43),d.Dc(2,ii,2,1,"p",43),d.Tb()),2&e){d.hc();const e=d.vc(17);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ai(e,t){1&e&&(d.Wb(0,"p",44),d.Fc(1," Prezime zakonskog zastupnika je obavezno! "),d.Vb())}function ri(e,t){if(1&e&&(d.Wb(0,"p",44),d.Fc(1),d.Vb()),2&e){const e=d.hc(3);d.Eb(1),d.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function si(e,t){if(1&e&&(d.Ub(0),d.Dc(1,ai,2,0,"p",43),d.Dc(2,ri,2,1,"p",43),d.Tb()),2&e){d.hc();const e=d.vc(27);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ci(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",33),d.Wb(1,"nb-card",9),d.Wb(2,"nb-card-header"),d.Wb(3,"div",5),d.Fc(4," Lice odgovorno za upravljanje otpadom: "),d.Rb(5,"i",34),d.Vb(),d.Wb(6,"p",35),d.Fc(7," Ako se bavite otpadom/posebnim tokovima otpada morate imati odre\u0111eno lice za upravaljanje otpadom, ako \u017eelite da odaberete da mi to radimo ostavite sebe pa kasnije u aplikaciji mo\u0107i \u0107ete da promenite. "),d.Vb(),d.Vb(),d.Wb(8,"nb-card-body"),d.Wb(9,"div",5),d.Wb(10,"div",8),d.Wb(11,"div",5),d.Wb(12,"div",9),d.Wb(13,"label",36),d.Fc(14,"Ime:"),d.Vb(),d.Vb(),d.Wb(15,"div",9),d.Wb(16,"input",37,38),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().company.wasteManager.firstName=t}),d.Vb(),d.Vb(),d.Wb(18,"div",9),d.Dc(19,oi,3,2,"ng-container",39),d.Vb(),d.Vb(),d.Vb(),d.Wb(20,"div",8),d.Wb(21,"div",5),d.Wb(22,"div",9),d.Wb(23,"label",40),d.Fc(24,"Prezime:"),d.Vb(),d.Vb(),d.Wb(25,"div",9),d.Wb(26,"input",41,42),d.dc("ngModelChange",function(t){return d.xc(e),d.hc().company.wasteManager.lastName=t}),d.Vb(),d.Vb(),d.Wb(28,"div",9),d.Dc(29,si,3,2,"ng-container",39),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(17),t=d.vc(27),n=d.hc();d.Eb(5),d.nc("nbTooltip","Na osnovu Zakona o upravljanju otadom obaveza pravnog subjekta je da imenuje lice odgovorno za upravljanje otpadom, s tim u vezi proverite unete podatke ili ih promenite ako je potrebno."),d.Eb(11),d.nc("ngModel",n.company.wasteManager.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||n.checkIssues),d.Eb(7),d.nc("ngModel",n.company.wasteManager.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),d.Eb(3),d.nc("ngIf",t.invalid&&t.touched||n.checkIssues)}}const li=["reCaptcha"];function bi(e,t){if(1&e&&(d.Wb(0,"button",31),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e)}}function di(e,t){1&e&&(d.Wb(0,"p",23),d.Fc(1," \u0160ifra je obavezna! "),d.Vb())}function ui(e,t){if(1&e&&(d.Wb(0,"p",23),d.Fc(1),d.Vb()),2&e){const e=d.hc(2);d.Eb(1),d.Hc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function pi(e,t){if(1&e&&(d.Ub(0),d.Dc(1,di,2,0,"p",22),d.Dc(2,ui,2,1,"p",22),d.Tb()),2&e){d.hc();const e=d.vc(12);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function gi(e,t){1&e&&(d.Wb(0,"p",23),d.Fc(1," Ponovna \u0161ifra je obavezna! "),d.Vb())}function hi(e,t){1&e&&(d.Wb(0,"p",23),d.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),d.Vb())}function mi(e,t){if(1&e&&(d.Ub(0),d.Dc(1,gi,2,0,"p",22),d.Dc(2,hi,2,0,"p",22),d.Tb()),2&e){d.hc();const e=d.vc(23),t=d.vc(12);d.Eb(1),d.nc("ngIf",null==e.errors?null:e.errors.required),d.Eb(1),d.nc("ngIf",t.value!==e.value)}}const fi=[{path:"",component:y.c,children:[{path:"login",component:S},{path:"register-user",component:(()=>{class e{constructor(e={},t,n,i){this.options=e,this.registerService=t,this.router=n,this.toastrService=i,this.checkIssues=!1,this.showPassword="eye",this.retypePassword=""}ngOnInit(){this.registerService.getUser().pipe(Object(U.a)()).subscribe(e=>{this.user=e}),this.registerService.sendUser(Object(l.a)(this.user))}getConfigValue(e){return Object(y.n)(this.options,e,null)}validateUser(e){return Object(_.a)(this,void 0,void 0,function*(){if(e.invalid)return this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1;let t="";if(!(yield Promise.all(this.registerService.checkUser(this.user)).then(e=>(t=e[0]?t:"to korisni\u010dko ime",t=e[1]?t:"taj telefon",t=e[2]?t:"taj email",e[0]&&e[1]&&e[2]))))return this.checkIssues=!0,void this.toastrService.showToast(`Ve\u0107 postoji ${t}!`,`Promenite ${t} da biste nastavili.`,"danger");e.valid&&this.retypePassword===this.user.password?yield this.router.navigate(["auth/register-company"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"))})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(V),d.Qb(a.c),d.Qb(K.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-user"]],decls:102,vars:58,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["tabindex","-1"],["userForm","ngForm"],[1,"row","my-1"],[1,"col-6"],["for","input-firstName",1,"label"],["autofocus","","fullWidth","","id","input-firstName","name","firstName","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime","tabindex","1",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["firstName","ngModel"],[4,"ngIf"],["for","input-lastName",1,"label"],["fullWidth","","id","input-lastName","name","lastName","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime","tabindex","2",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["lastName","ngModel"],["for","input-username",1,"label"],["fullWidth","","id","input-username","name","username","nbInput","","placeholder","Korisni\u010dko ime","tabindex","3",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["username","ngModel"],["for","input-telephone",1,"label"],["fullWidth","","id","input-telephone","name","phone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon","tabindex","4",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telephone","ngModel"],["for","input-email",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["tabindex","5","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","6",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","7",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3"],["nbButton","","fullWidth","","status","success","tabindex","8","type","submit",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Wb(3,"h1",3),d.Fc(4,"Registruj se!"),d.Vb(),d.Vb(),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"nb-stepper",4),d.Wb(7,"nb-step",5),d.Wb(8,"form",6,7),d.Wb(10,"div",8),d.Wb(11,"div",9),d.Wb(12,"div",1),d.Wb(13,"div",2),d.Wb(14,"label",10),d.Fc(15,"Ime:"),d.Vb(),d.Vb(),d.Wb(16,"div",2),d.Wb(17,"input",11,12),d.dc("ngModelChange",function(e){return t.user.firstName=e}),d.Vb(),d.Vb(),d.Wb(19,"div",2),d.Dc(20,xn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(21,"div",9),d.Wb(22,"div",1),d.Wb(23,"div",2),d.Wb(24,"label",14),d.Fc(25,"Prezime:"),d.Vb(),d.Vb(),d.Wb(26,"div",2),d.Wb(27,"input",15,16),d.dc("ngModelChange",function(e){return t.user.lastName=e}),d.Vb(),d.Vb(),d.Wb(29,"div",2),d.Dc(30,Dn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",8),d.Wb(32,"div",9),d.Wb(33,"div",1),d.Wb(34,"div",2),d.Wb(35,"label",17),d.Fc(36,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(37,"div",2),d.Wb(38,"input",18,19),d.dc("ngModelChange",function(e){return t.user.username=e}),d.Vb(),d.Vb(),d.Wb(40,"div",2),d.Dc(41,Ln,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(42,"div",9),d.Wb(43,"div",1),d.Wb(44,"div",2),d.Wb(45,"label",20),d.Fc(46,"Telefon:"),d.Vb(),d.Vb(),d.Wb(47,"div",2),d.Wb(48,"input",21,22),d.dc("ngModelChange",function(e){return t.user.phone=e}),d.Vb(),d.Vb(),d.Wb(50,"div",2),d.Dc(51,Qn,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(52,"div",8),d.Wb(53,"div",2),d.Wb(54,"div",1),d.Wb(55,"div",2),d.Wb(56,"label",23),d.Fc(57,"Email: "),d.Rb(58,"i",24),d.Vb(),d.Vb(),d.Wb(59,"div",2),d.Wb(60,"input",25,26),d.dc("ngModelChange",function(e){return t.user.email=e}),d.Vb(),d.Vb(),d.Wb(62,"div",2),d.Dc(63,Gn,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(64,"div",8),d.Wb(65,"div",9),d.Wb(66,"div",1),d.Wb(67,"div",2),d.Wb(68,"label",27),d.Fc(69,"\u0160ifra: "),d.Rb(70,"i",24),d.Vb(),d.Vb(),d.Wb(71,"div",28),d.Wb(72,"input",29,30),d.dc("ngModelChange",function(e){return t.user.password=e}),d.Vb(),d.Vb(),d.Wb(74,"div",31),d.Wb(75,"button",32),d.dc("click",function(){return t.showPassword="eye"===t.showPassword?"eye-off":"eye"}),d.Rb(76,"nb-icon",33),d.Vb(),d.Vb(),d.Wb(77,"div",2),d.Dc(78,Zn,4,3,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Wb(79,"div",9),d.Wb(80,"div",1),d.Wb(81,"div",2),d.Wb(82,"label",34),d.Fc(83,"Ponovi \u0161ifru:"),d.Vb(),d.Vb(),d.Wb(84,"div",2),d.Wb(85,"input",35,36),d.dc("ngModelChange",function(e){return t.retypePassword=e}),d.Vb(),d.Vb(),d.Wb(87,"div",2),d.Dc(88,Yn,3,2,"ng-container",13),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",37),d.Wb(90,"div",2),d.Wb(91,"button",38),d.dc("click",function(){d.xc(e);const n=d.vc(9);return t.validateUser(n)}),d.Fc(92," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(93,"nb-step",39),d.Rb(94,"nb-step",40),d.Rb(95,"nb-step",41),d.Rb(96,"nb-step",42),d.Vb(),d.Vb(),d.Wb(97,"div",2),d.Wb(98,"section",43),d.Fc(99," Ve\u0107 imate nalog? "),d.Wb(100,"a",44),d.Fc(101,"Uloguj se"),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(18),n=d.vc(28),i=d.vc(39),o=d.vc(49),a=d.vc(61),r=d.vc(73),s=d.vc(86);d.Eb(17),d.nc("ngModel",t.user.firstName)("maxlength",t.getConfigValue("forms.validation.firstName.maxLength"))("minlength",t.getConfigValue("forms.validation.firstName.minLength"))("pattern",t.getConfigValue("forms.validation.firstName.pattern"))("required",t.getConfigValue("forms.validation.firstName.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(3),d.nc("ngIf",e.invalid&&e.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.user.lastName)("maxlength",t.getConfigValue("forms.validation.lastName.maxLength"))("minlength",t.getConfigValue("forms.validation.lastName.minLength"))("pattern",t.getConfigValue("forms.validation.lastName.pattern"))("required",t.getConfigValue("forms.validation.lastName.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&n.touched||t.checkIssues),d.Eb(8),d.nc("ngModel",t.user.username)("maxlength",t.getConfigValue("forms.validation.username.maxLength"))("minlength",t.getConfigValue("forms.validation.username.minLength"))("pattern",t.getConfigValue("forms.validation.username.pattern"))("required",t.getConfigValue("forms.validation.username.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),d.Eb(3),d.nc("ngIf",i.invalid&&i.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.user.phone)("maxlength",t.getConfigValue("forms.validation.telephone.maxLength"))("minlength",t.getConfigValue("forms.validation.telephone.minLength"))("required",t.getConfigValue("forms.validation.telephone.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),d.Eb(3),d.nc("ngIf",o.invalid&&o.touched||t.checkIssues),d.Eb(7),d.nc("nbTooltip","Email ne delimo, on slu\u017ei za lak\u0161u komunikaciju sa nama."),d.Eb(2),d.nc("ngModel",t.user.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),d.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),d.Eb(3),d.nc("ngIf",a.invalid&&a.touched||t.checkIssues),d.Eb(7),d.nc("nbTooltip","Unesite minimum 6 karaktera za kreiranje lozinke. Preporuka je da Va\u0161a lozinka ima vi\u0161e od 8 karaktera da bi bila \u0161to bezbednija, koristite znakove kao \u0161to su !,@,$..."),d.Eb(2),d.nc("ngModel",t.user.password)("maxlength",t.getConfigValue("forms.validation.password.maxLength"))("minlength",t.getConfigValue("forms.validation.password.minLength"))("pattern",t.getConfigValue("forms.validation.password.pattern"))("required",t.getConfigValue("forms.validation.password.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),d.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),d.Eb(4),d.nc("icon",t.showPassword),d.Eb(2),d.nc("ngIf",r.invalid&&r.touched||t.checkIssues),d.Eb(7),d.nc("ngModel",t.retypePassword)("maxlength",t.getConfigValue("forms.validation.password.maxLength"))("minlength",t.getConfigValue("forms.validation.password.minLength"))("pattern",t.getConfigValue("forms.validation.password.pattern"))("required",t.getConfigValue("forms.validation.password.required"))("status",s.dirty?s.invalid||r.value!==s.value?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),d.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),d.Eb(3),d.nc("ngIf",s.invalid&&r.touched||s.touched||t.checkIssues)}},directives:[C.Bb,C.Ab,o.w,o.l,o.m,C.T,o.b,o.k,o.n,o.f,o.g,o.q,o.s,i.n,C.Pb,C.t,C.Q,a.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),e})()},{path:"register-company",component:Ge},{path:"register-operations",component:(()=>{class e{constructor(e={},t,n,i){this.options=e,this.router=t,this.registerService=n,this.toastrService=i,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.trashOperationsNo=0,this.specialWasteNo=0,this.packageOperationsNo=0,this.waterOperationsNo=0,this.airOperationsNo=0,this.operations=[],this.checkIssues=!1}ngOnInit(){this.registerService.getOperations().pipe(Object(U.a)()).subscribe(e=>{void 0!==e&&(this.operations=e,this.updateOperations())}),this.registerService.getCompany().pipe(Object(U.a)()).subscribe(e=>{this.company=e}),this.registerService.getUser().pipe(Object(U.a)()).subscribe(e=>{this.company.wasteManager.firstName=e.firstName,this.company.wasteManager.lastName=e.lastName}),this.registerService.sendCompany(Object(l.a)(this.company)),this.registerService.sendOperations(Object(l.a)(this.operations))}getConfigValue(e){return Object(y.n)(this.options,e,null)}validateOperations(){if(this.form.invalid)return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning");this.trashOperationNumber(!0)+this.specialWasteOperationNumber(!0)===0&&(this.company.wasteManager.firstName="",this.company.wasteManager.lastName=""),this.operations.length>0?(this.clearRemovedOperationsData(),this.router.navigate(["auth/register-informations"])):this.toastrService.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}clearRemovedOperationsData(){this.company.vehicles=[],this.company.storages=[],this.company.permits=[],this.company.specialWastes=[],this.registerService.sendCompany(Object(l.a)(this.company)),this.registerService.sendOperations(Object(l.a)(this.operations))}trashOperationNumber(e=!1){return e?this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length:this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length+""}specialWasteOperationNumber(e=!1){return e?this.operations.filter(e=>e.toLowerCase().includes("tokova")).length:this.operations.filter(e=>e.toLowerCase().includes("tokova")).length+""}updateOperations(){this.trashOperationsNo=this.operations.filter(e=>e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")).length,this.specialWasteNo=this.operations.filter(e=>e.toLowerCase().includes("tokova")).length}addProcessOperation(e,t,n){this.addOperation(e,t),n.checked||(n.checked=!0),n.disabled||n.setDisabledState(!0),e.includes("Neopasnog")?this.addOperation("Proizvodnja Neopasnog Otpada",t,!1):this.addOperation("Proizvodnja Opasnog Otpada",t,!1)}addOperation(e,t,n=!0){t?this.operations.includes(e)||this.operations.push(e):n&&this.operations.splice(this.operations.findIndex(t=>t===e),1)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.a),d.Qb(a.c),d.Qb(V),d.Qb(K.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-operations"]],viewQuery:function(e,t){if(1&e&&d.Lc(ei,1),2&e){let e;d.uc(e=d.ec())&&(t.form=e.first)}},decls:91,vars:26,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["SakupljacNeopasnogOtpada",""],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["SakupljacOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["badgeStatus","primary","responsive","true","tabTitle","Posebni tokovi otpada",3,"badgeText","tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["wasteManagerForm","ngForm"],["class","row flex-fill ml-3","style","max-width: 54.5vw;",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-company",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"],[1,"row","flex-fill","ml-3",2,"max-width","54.5vw"],[1,"pl-1","my-auto","fa","fa-info-circle",3,"nbTooltip"],[1,"card-subtitle","text-secondary","mt-1"],["for","input-fNameManager",1,"label"],["fullWidth","","id","input-fNameManager","name","fNameManager","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameManager","ngModel"],[4,"ngIf"],["for","input-lNameManager",1,"label"],["fullWidth","","id","input-lNameManager","name","lNameManager","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameManager","ngModel"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Wb(6,"nb-step",4),d.Wb(7,"div",5),d.Wb(8,"nb-tabset"),d.Wb(9,"nb-tab",6),d.Wb(10,"div",7),d.Wb(11,"nb-card",8),d.Wb(12,"nb-card-header"),d.Fc(13,"Neopasan otpad"),d.Vb(),d.Wb(14,"nb-card-body"),d.Wb(15,"div",9),d.Wb(16,"nb-toggle",10,11),d.dc("checkedChange",function(e){return t.addOperation("Proizvodnja Neopasnog Otpada",e)}),d.Fc(18,"Proizvodnja "),d.Vb(),d.Vb(),d.Wb(19,"div",9),d.Wb(20,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Transport Neopasnog Otpada",e)}),d.Fc(21,"Transport "),d.Vb(),d.Vb(),d.Wb(22,"div",9),d.Wb(23,"nb-toggle",12,13),d.dc("checkedChange",function(e){return t.addOperation("Sakupljac Neopasnog Otpada",e)}),d.Fc(25," Sakuplja\u010d "),d.Vb(),d.Vb(),d.Wb(26,"div",9),d.Wb(27,"nb-toggle",12,14),d.dc("checkedChange",function(n){d.xc(e);const i=d.vc(17);return t.addProcessOperation("Tretman Neopasnog Otpada",n,i)}),d.Fc(29,"Tretman "),d.Vb(),d.Vb(),d.Wb(30,"div",9),d.Wb(31,"nb-toggle",12,15),d.dc("checkedChange",function(n){d.xc(e);const i=d.vc(17);return t.addProcessOperation("Odlaganje Neopasnog Otpada",n,i)}),d.Fc(33,"Odlaganje "),d.Vb(),d.Vb(),d.Wb(34,"div",9),d.Wb(35,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Skladi\u0161tenje Neopasnog Otpada",e)}),d.Fc(36," Skladi\u0161tenje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(37,"nb-card",8),d.Wb(38,"nb-card-header"),d.Fc(39,"Opasan otpad"),d.Vb(),d.Wb(40,"nb-card-body"),d.Wb(41,"div",9),d.Wb(42,"nb-toggle",10,16),d.dc("checkedChange",function(e){return t.addOperation("Proizvodnja Opasnog Otpada",e)}),d.Fc(44," Proizvodnja "),d.Vb(),d.Vb(),d.Wb(45,"div",9),d.Wb(46,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Transport Opasnog Otpada",e)}),d.Fc(47,"Transport "),d.Vb(),d.Vb(),d.Wb(48,"div",9),d.Wb(49,"nb-toggle",12,17),d.dc("checkedChange",function(e){return t.addOperation("Sakupljac Opasnog Otpada",e)}),d.Fc(51," Sakuplja\u010d "),d.Vb(),d.Vb(),d.Wb(52,"div",9),d.Wb(53,"nb-toggle",12,18),d.dc("checkedChange",function(n){d.xc(e);const i=d.vc(43);return t.addProcessOperation("Tretman Opasnog Otpada",n,i)}),d.Fc(55,"Tretman "),d.Vb(),d.Vb(),d.Wb(56,"div",9),d.Wb(57,"nb-toggle",12,19),d.dc("checkedChange",function(n){d.xc(e);const i=d.vc(43);return t.addProcessOperation("Odlaganje Opasnog Otpada",n,i)}),d.Fc(59,"Odlaganje "),d.Vb(),d.Vb(),d.Wb(60,"div",9),d.Wb(61,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Skladi\u0161tenje Opasnog Otpada",e)}),d.Fc(62," Skladi\u0161tenje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Dc(63,ti,3,1,"nb-card",20),d.Vb(),d.Wb(64,"nb-tab",21),d.Wb(65,"div",7),d.Wb(66,"nb-card",9),d.Wb(67,"nb-card-header"),d.Fc(68,"Posebni tokovi otpada"),d.Vb(),d.Wb(69,"nb-card-body"),d.Wb(70,"div",9),d.Wb(71,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Proizvodnja Posebnih Tokova Otpada",e)}),d.Fc(72,"Proizvodnja "),d.Vb(),d.Vb(),d.Wb(73,"div",9),d.Wb(74,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Uvoz Posebnih Tokova Otpada",e)}),d.Fc(75,"Uvoz "),d.Vb(),d.Vb(),d.Wb(76,"div",9),d.Wb(77,"nb-toggle",12),d.dc("checkedChange",function(e){return t.addOperation("Izvoz Posebnih Tokova Otpada",e)}),d.Fc(78,"Izvoz "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(79,"nb-tab",22),d.Rb(80,"nb-tab",23),d.Rb(81,"nb-tab",24),d.Vb(),d.Wb(82,"form",null,25),d.Dc(84,ci,30,15,"div",26),d.Wb(85,"button",27),d.Fc(86," Nazad "),d.Vb(),d.Wb(87,"button",28),d.dc("click",function(){return t.validateOperations()}),d.Fc(88," Dalje "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(89,"nb-step",29),d.Rb(90,"nb-step",30),d.Vb()}if(2&e){const e=d.vc(17),n=d.vc(28),i=d.vc(32),o=d.vc(43),a=d.vc(54),r=d.vc(58);d.Eb(9),d.nc("badgeText",t.trashOperationNumber())("tabIcon",t.trashIco),d.Eb(7),d.nc("checked",t.operations.includes("Proizvodnja Neopasnog Otpada"))("disabled",n.checked||i.checked),d.Eb(4),d.nc("checked",t.operations.includes("Transport Neopasnog Otpada")),d.Eb(3),d.nc("checked",t.operations.includes("Sakupljac Neopasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Tretman Neopasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Odlaganje Neopasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Skladi\u0161tenje Neopasnog Otpada")),d.Eb(7),d.nc("checked",t.operations.includes("Proizvodnja Opasnog Otpada"))("disabled",a.checked||r.checked),d.Eb(4),d.nc("checked",t.operations.includes("Transport Opasnog Otpada")),d.Eb(3),d.nc("checked",t.operations.includes("Sakupljac Opasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Tretman Opasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Odlaganje Opasnog Otpada")),d.Eb(4),d.nc("checked",t.operations.includes("Skladi\u0161tenje Opasnog Otpada")),d.Eb(2),d.nc("ngIf",o.disabled||e.disabled),d.Eb(1),d.nc("badgeText",t.specialWasteOperationNumber())("tabIcon",t.carBatteryIco),d.Eb(7),d.nc("checked",t.operations.includes("Proizvodnja Posebnih Tokova Otpada")),d.Eb(3),d.nc("checked",t.operations.includes("Uvoz Posebnih Tokova Otpada")),d.Eb(3),d.nc("checked",t.operations.includes("Izvoz Posebnih Tokova Otpada")),d.Eb(2),d.nc("tabIcon",t.recyleIco),d.Eb(1),d.nc("tabIcon",t.waterIco),d.Eb(1),d.nc("tabIcon",t.airIco),d.Eb(3),d.nc("ngIf",t.trashOperationNumber(!0)+0+(t.specialWasteOperationNumber(!0)+0)>0)}},directives:[C.Bb,C.Ab,C.Hb,C.Gb,C.A,C.D,C.z,C.Nb,i.n,o.w,o.l,o.m,C.t,a.d,C.Pb,C.T,o.b,o.k,o.n,o.f,o.g,o.s],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})()},{path:"register-informations/:tab",component:wn,pathMatch:"full"},{path:"register-informations",component:wn,pathMatch:"full"},{path:"register-permit",component:G},{path:"register-confirmation",component:(()=>{class e extends y.k{constructor(e,t={},n,i,o){super(e,t,n,i),this.service=e,this.options=t,this.cd=n,this.router=i,this.registerService=o,this.redirectDelay=0,this.showMessages=[],this.strategy="",this.submitted=!1,this.errors=[],this.messages=[],this.redirectDelay=this.getConfigValue("forms.register.redirectDelay"),this.showMessages=this.getConfigValue("forms.register.showMessages"),this.strategy=this.getConfigValue("forms.register.strategy")}getConfigValue(e){return Object(y.n)(this.options,e,null)}ngAfterViewInit(){this.operations$=this.registerService.getOperations(),this.company$=this.registerService.getCompany(),this.user$=this.registerService.getUser()}resolved(e){}register(){let e;this.errors=this.messages=[],this.submitted=!0,this.reCaptcha.execute(),this.user$.subscribe(t=>{e=t}),this.service.register(this.strategy,e).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const t=e.getRedirect();t&&setTimeout(()=>(this.registerService.clearData(),this.router.navigateByUrl(t)),this.redirectDelay),this.cd.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(y.a),d.Qb(d.h),d.Qb(a.c),d.Qb(V))},e.\u0275cmp=d.Kb({type:e,selectors:[["register-confirmation"]],viewQuery:function(e,t){if(1&e&&d.Lc(li,1),2&e){let e;d.uc(e=d.ec())&&(t.reCaptcha=e.first)}},features:[d.Bb],decls:170,vars:64,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informations",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],["size","invisible",3,"siteKey","resolved"],["reCaptcha","reCaptcha"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,t){if(1&e&&(d.Wb(0,"h1",0),d.Fc(1,"Registruj se!"),d.Vb(),d.Wb(2,"nb-stepper",1),d.Wb(3,"nb-step",2),d.Fc(4,"Test"),d.Vb(),d.Rb(5,"nb-step",3),d.Rb(6,"nb-step",4),d.Rb(7,"nb-step",5),d.Wb(8,"nb-step",6),d.Wb(9,"div",7),d.Wb(10,"div",8),d.Wb(11,"div",9),d.Wb(12,"h5"),d.Fc(13,"User:"),d.Vb(),d.Vb(),d.Wb(14,"div",9),d.Wb(15,"div",10),d.Wb(16,"label",11),d.Fc(17,"Ime:"),d.Vb(),d.Vb(),d.Wb(18,"div",10),d.Wb(19,"button",12),d.Fc(20),d.ic(21,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",9),d.Wb(23,"div",10),d.Wb(24,"label",11),d.Fc(25,"Prezime:"),d.Vb(),d.Vb(),d.Wb(26,"div",10),d.Wb(27,"button",12),d.Fc(28),d.ic(29,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(30,"div",9),d.Wb(31,"div",10),d.Wb(32,"label",11),d.Fc(33,"Telefon:"),d.Vb(),d.Vb(),d.Wb(34,"div",10),d.Wb(35,"button",12),d.Fc(36),d.ic(37,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(38,"div",9),d.Wb(39,"div",10),d.Wb(40,"label",11),d.Fc(41,"Email:"),d.Vb(),d.Vb(),d.Wb(42,"div",10),d.Wb(43,"button",12),d.Fc(44),d.ic(45,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(46,"div",9),d.Wb(47,"div",10),d.Wb(48,"label",11),d.Fc(49,"Korisni\u010dko ime:"),d.Vb(),d.Vb(),d.Wb(50,"div",10),d.Wb(51,"button",12),d.Fc(52),d.ic(53,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(54,"div",9),d.Wb(55,"h5"),d.Fc(56,"Rad firme:"),d.Vb(),d.Vb(),d.Wb(57,"div",9),d.Wb(58,"div",10),d.Dc(59,bi,2,1,"button",13),d.ic(60,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(61,"div",14),d.Wb(62,"div",10),d.Wb(63,"div",9),d.Wb(64,"h5"),d.Fc(65,"Firma:"),d.Vb(),d.Vb(),d.Wb(66,"div",9),d.Wb(67,"div",10),d.Wb(68,"label",11),d.Fc(69,"Naziv:"),d.Vb(),d.Vb(),d.Wb(70,"div",10),d.Wb(71,"button",15),d.Fc(72),d.ic(73,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(74,"div",9),d.Wb(75,"div",16),d.Wb(76,"label",11),d.Fc(77,"PIB:"),d.Vb(),d.Vb(),d.Wb(78,"div",16),d.Wb(79,"label",11),d.Fc(80,"Mati\u010dni broj:"),d.Vb(),d.Vb(),d.Wb(81,"div",16),d.Wb(82,"button",15),d.Fc(83),d.ic(84,"async"),d.Vb(),d.Vb(),d.Wb(85,"div",16),d.Wb(86,"button",15),d.Fc(87),d.ic(88,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(89,"div",9),d.Wb(90,"div",10),d.Wb(91,"label",11),d.Fc(92,"Adresa:"),d.Vb(),d.Wb(93,"button",15),d.Fc(94),d.ic(95,"async"),d.ic(96,"async"),d.ic(97,"async"),d.ic(98,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(99,"div",9),d.Wb(100,"div",10),d.Wb(101,"label",11),d.Fc(102,"Delatnost:"),d.Vb(),d.Vb(),d.Wb(103,"div",10),d.Wb(104,"button",15),d.Fc(105),d.ic(106,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(107,"div",9),d.Wb(108,"div",16),d.Wb(109,"label",11),d.Fc(110,"Email:"),d.Vb(),d.Vb(),d.Wb(111,"div",16),d.Wb(112,"label",11),d.Fc(113,"Telefon:"),d.Vb(),d.Vb(),d.Wb(114,"div",17),d.Wb(115,"button",15),d.Wb(116,"p",18),d.Fc(117),d.ic(118,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(119,"div",17),d.Wb(120,"button",15),d.Fc(121),d.ic(122,"async"),d.Vb(),d.Vb(),d.Wb(123,"div",16),d.Wb(124,"label",11),d.Fc(125,"Email za prijem dokumenata:"),d.Vb(),d.Vb(),d.Wb(126,"div",16),d.Wb(127,"label",11),d.Fc(128,"Faks:"),d.Vb(),d.Vb(),d.Wb(129,"div",16),d.Wb(130,"button",15),d.Wb(131,"p",18),d.Fc(132),d.ic(133,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(134,"div",16),d.Wb(135,"button",15),d.Fc(136),d.ic(137,"async"),d.ic(138,"async"),d.Vb(),d.Vb(),d.Vb(),d.Wb(139,"div",9),d.Wb(140,"div",10),d.Wb(141,"label",11),d.Fc(142,"Zakonski zastupnik firme:"),d.Vb(),d.Vb(),d.Wb(143,"div",16),d.Wb(144,"button",15),d.Fc(145),d.ic(146,"async"),d.Vb(),d.Vb(),d.Wb(147,"div",16),d.Wb(148,"button",15),d.Fc(149),d.ic(150,"async"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(151,"form",19),d.dc("ngSubmit",function(){return t.register()}),d.Wb(152,"button",20),d.Fc(153," Nazad "),d.Vb(),d.Wb(154,"button",21),d.Fc(155," Zavr\u0161i "),d.Vb(),d.Wb(156,"re-captcha",22,23),d.dc("resolved",function(e){return t.resolved(e)}),d.Vb(),d.Vb(),d.Wb(158,"div",24),d.Wb(159,"div",25),d.Wb(160,"nb-checkbox",26,27),d.Fc(162," Sla\u017eem se sa "),d.Wb(163,"a",28),d.Wb(164,"strong"),d.Fc(165,"Uslovima Kori\u0161\u0107enjima"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(166,"div",25),d.Wb(167,"nb-checkbox",29,30),d.Fc(169,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.vc(161),n=d.vc(168);let i=null,o=null,a=null,r=null,s=null,c=null,l=null,b=null,u=null,p=null,g=null,h=null,m=null,f=null,v=null,V=null;d.Eb(20),d.Gc(null==(i=d.jc(21,22,t.user$))?null:i.firstName),d.Eb(8),d.Gc(null==(o=d.jc(29,24,t.user$))?null:o.lastName),d.Eb(8),d.Gc(null==(a=d.jc(37,26,t.user$))?null:a.phone),d.Eb(8),d.Gc(null==(r=d.jc(45,28,t.user$))?null:r.email),d.Eb(8),d.Gc(null==(s=d.jc(53,30,t.user$))?null:s.username),d.Eb(7),d.nc("ngForOf",d.jc(60,32,t.operations$)),d.Eb(13),d.Gc(null==(c=d.jc(73,34,t.company$))?null:c.name),d.Eb(11),d.Gc(null==(l=d.jc(84,36,t.company$))?null:l.pib),d.Eb(4),d.Gc(null==(b=d.jc(88,38,t.company$))?null:b.mat),d.Eb(7),d.Kc(" ",null==(u=d.jc(95,40,t.company$))?null:u.address.location.townshipName," , ",null==(u=d.jc(96,42,t.company$))?null:u.address.location.placeName,", ",null==(u=d.jc(97,44,t.company$))?null:u.address.street," ",null==(u=d.jc(98,46,t.company$))?null:u.address.location.zipCode,""),d.Eb(11),d.Gc(null==(p=d.jc(106,48,t.company$))?null:p.occupation.name),d.Eb(12),d.Gc(null==(g=d.jc(118,50,t.company$))?null:g.email),d.Eb(4),d.Gc(null==(h=d.jc(122,52,t.company$))?null:h.telephone),d.Eb(11),d.Gc(null==(m=d.jc(133,54,t.company$))?null:m.emailReception),d.Eb(4),d.Gc(""===(null==(f=d.jc(137,56,t.company$))?null:f.fax)?"/":null==(f=d.jc(138,58,t.company$))?null:f.fax),d.Eb(9),d.Gc(null==(v=d.jc(146,60,t.company$))?null:v.legalRep.firstName),d.Eb(4),d.Gc(null==(V=d.jc(150,62,t.company$))?null:V.legalRep.lastName),d.Eb(5),d.nc("disabled",!(e.checked&&n.checked)),d.Eb(2),d.nc("siteKey","6LfLNHsaAAAAAIhkWmF3F-DXvLPWdGQU2EpE-KvW")}},directives:[C.Bb,C.Ab,C.t,i.m,o.w,o.l,o.m,a.d,r.b,C.G],pipes:[i.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),e})()},{path:"logout",component:L},{path:"email-confirm",component:k},{path:"forgot-password",component:E},{path:"reset-password",component:(()=>{class e extends y.m{constructor(e,t={},n,i,o){super(e,t,n,i),this.service=e,this.options=t,this.cd=n,this.router=i,this.activatedRoute=o,this.showPassword="eye",this.password="",this.retypePassword="",this.token="",this.strategy=this.getConfigValue("forms.login.strategy")}ngOnInit(){this.token=this.activatedRoute.snapshot.params.token}resetPassword(e){e.invalid||this.service.resetPassword(this.strategy,{password:this.password,token:this.token}).subscribe(e=>{this.router.navigate(["login"])})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(y.g),d.Qb(y.a),d.Qb(d.h),d.Qb(a.c),d.Qb(a.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["reset-password"]],features:[d.Bb],decls:30,vars:15,consts:[[1,"align-self-center"],[1,"mb-1","text-center"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],[1,"row","mb-2"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordModel","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],[1,"col-12"],[4,"ngIf"],[1,"row"],["for","input-rePassword",1,"label","col-12"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru",3,"ngModel","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3","d-flex","justify-content-center"],["status","success","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",0),d.Wb(1,"h1",1),d.Fc(2,"Zaboravljena lozinka:"),d.Vb(),d.Wb(3,"form",2,3),d.dc("ngSubmit",function(){d.xc(e);const n=d.vc(4);return t.resetPassword(n)}),d.Wb(5,"div",4),d.Wb(6,"div",5),d.Wb(7,"div",6),d.Wb(8,"label",7),d.Fc(9,"\u0160ifra:"),d.Vb(),d.Wb(10,"div",8),d.Wb(11,"input",9,10),d.dc("ngModelChange",function(e){return t.password=e}),d.Vb(),d.Vb(),d.Wb(13,"div",11),d.Wb(14,"button",12),d.dc("click",function(){return t.showPassword="eye"===t.showPassword?"eye-off":"eye"}),d.Rb(15,"nb-icon",13),d.Vb(),d.Vb(),d.Wb(16,"div",14),d.Dc(17,pi,3,2,"ng-container",15),d.Vb(),d.Vb(),d.Wb(18,"div",16),d.Wb(19,"label",17),d.Fc(20,"Ponovi \u0161ifru:"),d.Vb(),d.Wb(21,"div",14),d.Wb(22,"input",18,19),d.dc("ngModelChange",function(e){return t.retypePassword=e}),d.Vb(),d.Vb(),d.Wb(24,"div",14),d.Dc(25,mi,3,2,"ng-container",15),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(26,"div",20),d.Wb(27,"div",5),d.Wb(28,"button",21),d.Fc(29,"Promeni lozinku"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.vc(12),n=d.vc(23);d.Eb(11),d.nc("ngModel",t.password)("maxlength",t.getConfigValue("forms.validation.password.maxLength"))("minlength",t.getConfigValue("forms.validation.password.minLength"))("required",t.getConfigValue("forms.validation.password.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),d.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),d.Eb(4),d.nc("icon",t.showPassword),d.Eb(2),d.nc("ngIf",e.invalid&&e.touched),d.Eb(5),d.nc("ngModel",t.retypePassword)("required",t.getConfigValue("forms.validation.password.required"))("status",n.dirty?n.invalid||e.value!==n.value?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),d.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),d.Eb(3),d.nc("ngIf",n.invalid&&e.touched)}},directives:[o.w,o.l,o.m,C.T,o.b,o.k,o.n,o.f,o.g,o.s,C.t,C.Q,i.n],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})()}]},{path:"redirect",component:$},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}];let vi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({imports:[[a.g.forChild(fi)],a.g]}),e})(),Vi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({providers:[h,p,V,c.a,m.a,v.a,g.a],imports:[[W.a,i.c,a.g,C.p,C.U,C.w,C.H,vi,C.ub,o.e,C.Ob,C.k,C.Ib,C.s,C.Cb,C.E,s.c,C.lb,C.N,C.S,C.zb,r.d,C.Qb,C.v]]}),e})()},bS1W:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=i.a.apiUrl}createPermit(e,t){return this.http.post(this.apiUrl+"/api/permit",{permit:e,companyID:t})}deletePermit(e,t="_id"){return this.http.delete(this.apiUrl+"/api/permit/one/"+`${t}/${e}`)}getPermit(e,t="_id"){return this.http.get(this.apiUrl+"/api/permit/one/"+`${t}/${e}`)}getPermits(e="all",t){return this.http.get(this.apiUrl+"/api/permit/many/"+`${t}/${e}`)}updatePermit(e,t,n="_id"){return this.http.patch(this.apiUrl+"/api/permit/one/"+`${n}/${t}`,e)}getCompaniesPermits(e,t="all"){return this.http.get(this.apiUrl+"/api/company/permits/"+e+"/"+t)}sendPermitRequest(e,t="",n,i,o,a){return this.http.post(this.apiUrl+"/api/mail/permit-request",{permitID:i,trashType:o,permitType:a,email:e,message:t,requestType:n})}}return e.\u0275fac=function(t){return new(t||e)(o.ac(a.b))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e})()},"wH5/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=i.a.apiUrl}createCompany(e){return this.http.post(this.apiUrl+"/api/company",e)}deleteCompany(e,t="_id"){return this.http.delete(this.apiUrl+"/api/company/one/"+`${t}/${e}`)}getCompany(e,t="_id"){return this.http.get(this.apiUrl+"/api/company/one/"+`${t}/${e}`)}getCompanys(e="all",t){return this.http.get(this.apiUrl+"/api/company/many/"+`${t}/${e}`)}updateCompany(e,t,n="_id"){return this.http.patch(this.apiUrl+"/api/company/one/"+`${n}/${t}`,e)}}return e.\u0275fac=function(t){return new(t||e)(o.ac(a.b))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac}),e})()}}]);