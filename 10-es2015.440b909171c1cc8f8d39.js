(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Yj9t:function(e,i,n){"use strict";n.r(i),n.d(i,"NgxAuthModule",(function(){return za}));var t=n("ofXK"),a=n("3Pt+"),o=n("tyNb"),l=n("RS3s"),r=n("LRne"),s=n("AytR"),c=n("fXoL"),d=n("tk/3");let b=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=s.a.apiUrl}getDelatnost(){return this.http.get(this.apiUrl+"/api/delatnost")}filter(e,i){const n=e.toLowerCase();if(void 0!==i)return Object(r.a)(i.filter(e=>e.naziv.toLowerCase().includes(n)||e.sifra.includes(n)))}}return e.\u0275fac=function(i){return new(i||e)(c.bc(d.b))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})();var u=n("O8xV");let g=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.firstGetForNames=!0,this.apiUrl=s.a.apiUrl}filter(e,i){const n=e.toLowerCase();if(void 0!==i)return Object(r.a)(i.filter(e=>e.toLowerCase().includes(n)))}getMesto(){return this.http.get(this.apiUrl+"/api/mesto")}getOpstine(){return this.firstGetForNames&&(this.opstineNames=this.http.get(this.apiUrl+"/api/mesto/opstine"),this.firstGetForNames=!1),this.opstineNames}getNazivMesta(e){return this.http.get(this.apiUrl+"/api/mesto/mesta/"+e)}}return e.\u0275fac=function(i){return new(i||e)(c.bc(d.b))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e{constructor(){Object(c.Y)()&&(this.korisnik={_id:"",email:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",ime:"test",korisnickoIme:"random"+(1e3*Math.random()).toFixed(0),prezime:"test",sifra:"nikjan00",telefon:(1e10*Math.random()).toFixed(0),uloga:"menadzer"},this.firma={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"Arnajevo",opstinaSifra:0,opstinaNaziv:"Beograd",postanskiBroj:"31210"},ulica:"Nikola tesla 2"},delatnost:{_id:"",sifra:"",naziv:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailPrijem:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),menadzer:"random",naziv:"Test",pib:(1e9*Math.random()).toFixed(0),radFirme:["Proizvodnja Neopasnog Otpada"],telefon:(1e10*Math.random()).toFixed(0),zakonskiZastupnik:"Nikola Jankovic"},this.operacije=["Transport Neopasnog Otpada"])}clearData(){this.korisnik={email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.firma={adresa:{mesto:{opstinaSifra:0,opstinaNaziv:"",mestoSifra:0,mestoNaziv:"",postanskiBroj:""},ulica:""},email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.operacije=[],this.sifraDozvole=""}sendDozvola(e){this.sifraDozvole$=e,e.subscribe(e=>{this.sifraDozvole=e})}getDozvola(){return Object(r.a)(this.sifraDozvole)}sendOperacije(e){this.operacije$=e,e.subscribe(e=>{this.operacije=e})}getOperacije(){return Object(r.a)(this.operacije)}sendKorisnik(e){this.korisnik$=e,e.subscribe(e=>{this.korisnik=e})}getKorisnik(){return void 0!==this.firma&&void 0!==this.korisnik&&(this.korisnik.firma=this.firma),Object(r.a)(this.korisnik)}sendFirma(e){this.firma$=e,e.subscribe(e=>{this.firma=e})}getFirma(){return void 0!==this.firma&&(void 0!==this.operacije&&(this.firma.radFirme=this.operacije),void 0!==this.korisnik&&(this.firma.menadzer=this.korisnik.korisnickoIme)),Object(r.a)(this.firma)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e})();var m=n("ud2R"),p=n("vTDv"),h=n("McNs"),v=n("aceb");function k(e,i){if(1&e&&(c.Xb(0,"li",29),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.Eb(1),c.Fc(e)}}function j(e,i){if(1&e&&(c.Xb(0,"nb-alert",25),c.Xb(1,"p",26),c.Xb(2,"b"),c.Ec(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),c.Wb(),c.Wb(),c.Xb(4,"ul",27),c.Cc(5,k,2,1,"li",28),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(5),c.nc("ngForOf",e.errors)}}function W(e,i){if(1&e&&(c.Xb(0,"li",29),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.Eb(1),c.Fc(e)}}function E(e,i){if(1&e&&(c.Xb(0,"nb-alert",30),c.Xb(1,"p",26),c.Xb(2,"b"),c.Ec(3,"Uspesno ste se ulogovali!"),c.Wb(),c.Wb(),c.Xb(4,"ul",27),c.Cc(5,W,2,1,"li",28),c.Wb(),c.Wb()),2&e){const e=c.hc();c.Eb(5),c.nc("ngForOf",e.messages)}}function X(e,i){1&e&&(c.Xb(0,"p",32),c.Ec(1," Email je obavezan! "),c.Wb())}function z(e,i){if(1&e&&(c.Vb(0),c.Cc(1,X,2,0,"p",31),c.Ub()),2&e){c.hc();const e=c.uc(11);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function C(e,i){1&e&&(c.Xb(0,"p",32),c.Ec(1," \u0160ifra je obavezna! "),c.Wb())}function M(e,i){if(1&e&&(c.Vb(0),c.Cc(1,C,2,0,"p",31),c.Ub()),2&e){c.hc();const e=c.uc(18);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function I(e,i){if(1&e){const e=c.Yb();c.Xb(0,"nb-checkbox",33),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc().user.rememberMe=i})),c.Ec(1,"Zapamti me"),c.Wb()}if(2&e){const e=c.hc();c.nc("ngModel",e.user.rememberMe)}}let O=(()=>{class e extends h.h{constructor(e,i={},n,t){super(e,i,n,t),this.service=e,this.options=i,this.cd=n,this.router=t,this.showPassword="eye",this.redirectDelay=0,this.showMessages={},this.strategy="",this.errors=[],this.messages=[],this.user={},this.submitted=!1,this.rememberMe=!1,this.redirectDelay=this.getConfigValue("forms.login.redirectDelay"),this.showMessages=this.getConfigValue("forms.login.showMessages"),this.strategy=this.getConfigValue("forms.login.strategy"),this.rememberMe=this.getConfigValue("forms.login.rememberMe")}login(){this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const i=e.getRedirect();i&&setTimeout(()=>this.router.navigateByUrl(i),this.redirectDelay),this.cd.detectChanges()})}getConfigValue(e){return Object(h.n)(this.options,e,null)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.g),c.Rb(h.a),c.Rb(c.h),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-login"]],features:[c.Bb],decls:33,vars:18,consts:[[1,"align-self-center"],["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"form-control-group","accept-group"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],["routerLink","../request-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],["aria-label","Registruj se",1,"another-action"],["routerLink","../register-korisnik",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1",4,"ngIf"],[1,"error-message","mt-1"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e&&(c.Xb(0,"div",0),c.Xb(1,"h1",1),c.Ec(2,"Uloguj se!"),c.Wb(),c.Cc(3,j,6,1,"nb-alert",2),c.Cc(4,E,6,1,"nb-alert",3),c.Xb(5,"form",4,5),c.fc("ngSubmit",(function(){return i.login()})),c.Xb(7,"div",6),c.Xb(8,"label",7),c.Ec(9,"Email/Korisni\u010dko ime:"),c.Wb(),c.Xb(10,"input",8,9),c.fc("ngModelChange",(function(e){return i.user.email=e})),c.Wb(),c.Cc(12,z,2,1,"ng-container",10),c.Wb(),c.Xb(13,"div",11),c.Xb(14,"label",12),c.Ec(15,"\u0160ifra:"),c.Wb(),c.Xb(16,"div",13),c.Xb(17,"input",14,15),c.fc("ngModelChange",(function(e){return i.user.password=e})),c.Wb(),c.Wb(),c.Xb(19,"div",16),c.Xb(20,"button",17),c.fc("click",(function(){return i.showPassword="eye"===i.showPassword?"eye-off":"eye"})),c.Sb(21,"nb-icon",18),c.Wb(),c.Wb(),c.Cc(22,M,2,1,"ng-container",10),c.Wb(),c.Xb(23,"div",19),c.Cc(24,I,2,1,"nb-checkbox",20),c.Xb(25,"a",21),c.Ec(26,"Zaboravili ste \u0161ifru?"),c.Wb(),c.Wb(),c.Xb(27,"button",22),c.Ec(28," Uloguj se "),c.Wb(),c.Wb(),c.Xb(29,"section",23),c.Ec(30," Nemate nalog? "),c.Xb(31,"a",24),c.Ec(32,"Registruj se"),c.Wb(),c.Wb(),c.Wb()),2&e){const e=c.uc(11),n=c.uc(18);c.Eb(3),c.nc("ngIf",i.showMessages.error&&(null==i.errors?null:i.errors.length)&&!i.submitted),c.Eb(1),c.nc("ngIf",i.showMessages.success&&(null==i.messages?null:i.messages.length)&&!i.submitted),c.Eb(6),c.nc("ngModel",i.user.email)("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.touched),c.Eb(5),c.nc("ngModel",i.user.password)("required",i.getConfigValue("forms.validation.password.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),c.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),c.Eb(4),c.nc("icon",i.showPassword),c.Eb(1),c.nc("ngIf",n.touched),c.Eb(2),c.nc("ngIf",i.rememberMe),c.Eb(3),c.Ib("btn-pulse",i.submitted),c.nc("disabled",i.submitted)}},directives:[t.n,a.w,a.l,a.m,v.O,a.b,a.k,a.n,a.s,v.t,v.L,o.f,v.o,t.m,v.B],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})(),S=(()=>{class e extends h.i{constructor(e,i={},n,t){super(e,i,n),this.service=e,this.options=i,this.router=n,this.roleService=t,this.redirectDelay=0,this.strategy="",this.redirectDelay=this.getConfigValue("forms.logout.redirectDelay"),this.strategy=this.getConfigValue("forms.logout.strategy")}logout(e){this.service.logout(e).subscribe(e=>{const i=e.getRedirect();this.roleService.clearOperations(),i&&setTimeout(()=>this.router.navigateByUrl(i),this.redirectDelay)})}getConfigValue(e){return Object(h.n)(this.options,e,null)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.g),c.Rb(h.a),c.Rb(o.c),c.Rb(m.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-logout"]],features:[c.Bb],decls:2,vars:0,template:function(e,i){1&e&&(c.Xb(0,"div"),c.Ec(1,"Odjavljivanje u toku..."),c.Wb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),e})();var q=n("SxV6");const V={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},naziv:{title:"Naziv",filter:!1}}};function w(e,i){if(1&e){const e=c.Yb();c.Xb(0,"button",16),c.fc("click",(function(){c.wc(e);const n=i.$implicit;return c.hc().chooseOtpad(n)})),c.Ec(1),c.Wb()}if(2&e){const e=i.$implicit;c.nc("nbPopover",e.naziv),c.Eb(1),c.Gc(" ",e.indeksniBroj," ")}}const y=function(e){return["..","register-informacije",e]};let x=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.katalogService=n,this.katalog=new l.a,this.settings=V,this.permitType=""}getConfigValue(e){return Object(h.n)(this.options,e,null)}ngOnInit(){this.registerService.getDozvola().subscribe(e=>{this.sifraDozvole=e}),this.registerService.getFirma().subscribe(e=>{void 0!==e&&(this.firma=e,this.dozvol\u0430=this.firma.dozvola.filter(e=>e.sifra===this.sifraDozvole)[0],this.permitType=this.dozvol\u0430.vrstaDozvole,this.listaOtpada=this.dozvol\u0430.listaOtpada)}),this.registerService.sendFirma(Object(r.a)(this.firma));let e=!1,i=!1;this.registerService.getOperacije().subscribe(n=>{n.forEach(n=>{n.includes("Neopasnog")&&(e=!0),n.includes("Opasnog")&&(i=!0)}),e&&!i?this.katalogService.getNeopasanKatalog().pipe(Object(q.a)()).subscribe(e=>{e.sort((e,i)=>e.indeksniBroj.localeCompare(i.indeksniBroj)),this.katalog.load(e)}):i&&!e?this.katalogService.getOpasanKatalog().pipe(Object(q.a)()).subscribe(e=>{e.sort((e,i)=>e.indeksniBroj.localeCompare(i.indeksniBroj)),this.katalog.load(e)}):i&&e&&this.katalogService.getKatalog().pipe(Object(q.a)()).subscribe(e=>{e.sort((e,i)=>e.indeksniBroj.localeCompare(i.indeksniBroj)),this.katalog.load(e)})})}onSearch(e){""===e&&this.katalog.setFilter([]),this.katalog.setFilter([{field:"indeksniBroj",search:e,filter:function(e,i){return e.replace(/\s+/g,"").includes(i.replace(/\s+/g,""))}},{field:"naziv",search:e}],!1)}chooseOtpad(e){let i=e;void 0!==e.data&&(i=e.data),this.listaOtpada.some(e=>e._id===i._id)?this.removeOtpad(i):this.dozvol\u0430.listaOtpada.push(i),this.firma.dozvola.filter(e=>e.sifra===this.sifraDozvole)[0]=this.dozvol\u0430}removeOtpad(e){const i=this.listaOtpada.filter(i=>i._id===e._id)[0];if(i){const e=this.listaOtpada.indexOf(i,0);e>-1&&this.listaOtpada.splice(e,1)}}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(u.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-dozvola"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,i){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Ec(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Sb(6,"nb-step",4),c.Xb(7,"nb-step",5),c.Xb(8,"div",6),c.Xb(9,"div",7),c.Xb(10,"h5"),c.Ec(11,"Lista otpada dozvole:"),c.Wb(),c.Cc(12,w,2,2,"button",8),c.Wb(),c.Xb(13,"div",9),c.Xb(14,"label",10),c.Ec(15,"Pretrazi po indeksnom broju ili nazivu:"),c.Wb(),c.Xb(16,"input",11,12),c.fc("input",(function(){c.wc(e);const n=c.uc(17);return n.value.length>=1&&i.onSearch(n.value)})),c.Wb(),c.Xb(18,"ng2-smart-table",13),c.fc("custom",(function(e){return i.chooseOtpad(e)})),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"button",14),c.Ec(20," Zavr\u0161i "),c.Wb(),c.Wb(),c.Sb(21,"nb-step",15),c.Wb()}2&e&&(c.Eb(12),c.nc("ngForOf",i.listaOtpada),c.Eb(6),c.nc("source",i.katalog)("settings",i.settings),c.Eb(1),c.nc("routerLink",c.rc(5,y,i.permitType))("disabled",0===(null==i.listaOtpada?null:i.listaOtpada.length)))},directives:[v.wb,v.vb,t.m,v.O,l.b,v.t,o.d,v.fb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),e})();function F(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Naziv firme je obavezan! "),c.Wb())}function D(e,i){if(1&e&&(c.Xb(0,"p",72),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Naziv firme mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function N(e,i){if(1&e&&(c.Xb(0,"p",72),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Naziv firme mora biti kra\u0107i od ",e.getConfigValue("forms.validation.nazivFirme.maxLength")," slova! ")}}function $(e,i){if(1&e&&(c.Vb(0),c.Cc(1,F,2,0,"p",71),c.Cc(2,D,2,1,"p",71),c.Cc(3,N,2,1,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(12);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.minlength),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.maxlength)}}function T(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," PIB je obavezan! "),c.Wb())}function L(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," PIB mora da bude validan! "),c.Wb())}function P(e,i){if(1&e&&(c.Vb(0),c.Cc(1,T,2,0,"p",71),c.Cc(2,L,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(19);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.minlength)}}function U(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Mati\u010dni broj je obavezan! "),c.Wb())}function B(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Mati\u010dni broj mora da bude validan! "),c.Wb())}function R(e,i){if(1&e&&(c.Vb(0),c.Cc(1,U,2,0,"p",71),c.Cc(2,B,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(25),i=c.uc(19);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function A(e,i){if(1&e&&(c.Xb(0,"nb-option",55),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function G(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Op\u0161tina je obavezna! "),c.Wb())}function K(e,i){if(1&e&&(c.Vb(0),c.Cc(1,G,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(36);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Z(e,i){if(1&e&&(c.Xb(0,"nb-option",55),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function _(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Mesto je obavezno! "),c.Wb())}function Y(e,i){if(1&e&&(c.Vb(0),c.Cc(1,_,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(46);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function H(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Po\u0161tanski broj je obavezan "),c.Wb())}function J(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Po\u0161tanski broj mora biti validan "),c.Wb())}function Q(e,i){if(1&e&&(c.Vb(0),c.Cc(1,H,2,0,"p",71),c.Cc(2,J,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(57);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ee(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Ulica je obavezna! "),c.Wb())}function ie(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Ulica mora biti validna "),c.Wb())}function ne(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ee,2,0,"p",71),c.Cc(2,ie,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(63),i=c.uc(57);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function te(e,i){if(1&e&&(c.Xb(0,"nb-option",55),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e.naziv),c.Eb(1),c.Hc("[",e.sifra,"] ",e.naziv,"")}}function ae(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," \u0160ifra delatnosti je obavezna! "),c.Wb())}function oe(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ae,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(70);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function le(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Email je obavezan! "),c.Wb())}function re(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Email mora biti validan! "),c.Wb())}function se(e,i){if(1&e&&(c.Vb(0),c.Cc(1,le,2,0,"p",71),c.Cc(2,re,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(81);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function ce(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Telefon firme je obavezan! "),c.Wb())}function de(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Telefon firme mora biti validan! "),c.Wb())}function be(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ce,2,0,"p",71),c.Cc(2,de,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(87);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ue(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Email je obavezan! "),c.Wb())}function ge(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ue,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(99);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function fe(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Email je obavezan! "),c.Wb())}function me(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Email mora biti validan! "),c.Wb())}function pe(e,i){if(1&e&&(c.Vb(0),c.Cc(1,fe,2,0,"p",71),c.Cc(2,me,2,0,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(4);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function he(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",11),c.Xb(1,"label",73),c.Ec(2,"Unesite va\u0161 email za prijem dokumenata:"),c.Wb(),c.Xb(3,"input",74,75),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc().tmpEmail=i}))("ngModelChange",(function(){return c.wc(e),c.hc().setCompanyEmail()})),c.Wb(),c.Cc(5,pe,3,2,"ng-container",10),c.Wb()}if(2&e){const e=c.uc(4),i=c.hc();c.Eb(3),c.nc("ngModel",i.tmpEmail)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.invalid&&e.touched||i.checkIssues)}}function ve(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Ime zakonskog zastupnika je obavezno! "),c.Wb())}function ke(e,i){if(1&e&&(c.Xb(0,"p",72),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Ime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function je(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ve,2,0,"p",71),c.Cc(2,ke,2,1,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(118);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function We(e,i){1&e&&(c.Xb(0,"p",72),c.Ec(1," Prezime zakonskog zastupnika je obavezno! "),c.Wb())}function Ee(e,i){if(1&e&&(c.Xb(0,"p",72),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",e.getConfigValue("forms.validation.nazivFirme.minLength")," slova! ")}}function Xe(e,i){if(1&e&&(c.Vb(0),c.Cc(1,We,2,0,"p",71),c.Cc(2,Ee,2,1,"p",71),c.Ub()),2&e){c.hc();const e=c.uc(124);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let ze=(()=>{class e{constructor(e={},i,n,t,a,o){this.options=e,this.mestoService=i,this.delatnostService=n,this.registerService=t,this.router=a,this.toastrService=o,this.checkIssues=!1,this.tmpEmail="",this.imeZakonskogZastupinka="",this.prezimeZakonskogZastupinka="",this.firma={_id:"",menadzer:"",radFirme:[],naziv:"",pib:"",mat:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},delatnost:{_id:"",sifra:"",naziv:""},email:"",emailPrijem:"",faks:"",telefon:"",zakonskiZastupnik:""}}ngOnInit(){this.mestoService.getOpstine().pipe(Object(q.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(r.a)(e)}),this.delatnostService.getDelatnost().pipe(Object(q.a)()).subscribe(e=>{this.delatnosti=e,this.delatnosti$=Object(r.a)(e)}),this.registerService.getKorisnik().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.korisnik=e)}),this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,this.imeZakonskogZastupinka=this.firma.zakonskiZastupnik.split(" ")[0],this.prezimeZakonskogZastupinka=this.firma.zakonskiZastupnik.split(" ")[1])}),this.registerService.sendFirma(Object(r.a)(this.firma))}getConfigValue(e){return Object(h.n)(this.options,e,null)}validateCompany(e){e.valid||""===this.tmpEmail&&""!==this.firma.emailPrijem?this.router.navigate(["auth/register-operacije"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}showToast(e,i,n){this.toastrService.show(i,e,{status:n})}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(q.a)()).subscribe(e=>{this.mesta=e,this.mesta$=Object(r.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(r.a)(e),this.getMesta(e[0])}):this.opstine$=Object(r.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}findDelatnost(e){this.delatnosti$=this.delatnostService.filter(e,this.delatnosti)}spojIme(e){this.imeZakonskogZastupinka=e,e+=" ";const i=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(i),this.firma.zakonskiZastupnik=e+this.firma.zakonskiZastupnik}spojPrezime(e){this.prezimeZakonskogZastupinka=e,e=" "+e;const i=this.firma.zakonskiZastupnik.indexOf(" ");this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik.slice(0,i),this.firma.zakonskiZastupnik=this.firma.zakonskiZastupnik+e}clearTmpEmail(){this.tmpEmail=""}setCompanyEmail(){this.firma.emailPrijem=this.tmpEmail}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(g),c.Rb(b),c.Rb(f),c.Rb(o.c),c.Rb(v.Hb))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-firma"]],decls:133,vars:103,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["autofocus","","fullWidth","","id","input-naziv","name","naziv","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["nazivFirme","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-opstinaFirma",1,"label"],["autocomplete","off","fullWidth","","id","input-opstinaFirma","name","opstinaFirma","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["opstinaFirma","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoFirma",1,"label"],["autocomplete","off","fullWidth","","id","input-mestoFirma","name","mestoFirma","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["mestoFirma","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBroj",1,"label"],["fullWidth","","id","input-postanskiBroj","name","postanskiBrojFirme","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaFirme",1,"label"],["fullWidth","","id","input-ulicaFirme","name","ulicaFirme","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["ulica","ngModel"],["for","input-delatnost",1,"label"],["autocomplete","off","fullWidth","","id","input-delatnost","name","delatnost","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["delatnost","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-emailFirme",1,"label"],["fullWidth","","id","input-emailFirme","name","email","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["emailFirma","ngModel"],["for","input-telefonFirme",1,"label"],["fullWidth","","id","input-telefonFirme","name","telefon","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefonFirme","ngModel"],["for","input-faksFirma",1,"label"],["fullWidth","","id","input-faksFirma","name","faksFirma","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["faksFirma","ngModel"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["emailPrijem","ngModel"],[3,"value","selectionChange"],[3,"value"],["drugiEmail",""],["class","col-6",4,"ngIf"],[1,"label","pl-0","col-12"],[1,"row","ml-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["ime","ngModel"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["prezime","ngModel"],["nbButton","","fullWidth","","status","danger","routerLink","../register-korisnik",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-emailPrijem2",1,"label"],["fullWidth","","id","input-emailPrijem2","name","emailPrijem2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem2","ngModel"]],template:function(e,i){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Sb(3,"nb-step",2),c.Xb(4,"nb-step",3),c.Xb(5,"form",null,4),c.Xb(7,"div",5),c.Xb(8,"div",6),c.Xb(9,"label",7),c.Ec(10,"Naziv Firme:"),c.Wb(),c.Xb(11,"input",8,9),c.fc("ngModelChange",(function(e){return i.firma.naziv=e})),c.Wb(),c.Cc(13,$,4,3,"ng-container",10),c.Wb(),c.Wb(),c.Xb(14,"div",5),c.Xb(15,"div",11),c.Xb(16,"label",12),c.Ec(17,"Poreski identifikacioni broj (PIB):"),c.Wb(),c.Xb(18,"input",13,14),c.fc("ngModelChange",(function(e){return i.firma.pib=e})),c.Wb(),c.Cc(20,P,3,2,"ng-container",10),c.Wb(),c.Xb(21,"div",11),c.Xb(22,"label",12),c.Ec(23,"Mati\u010dni broj:"),c.Wb(),c.Xb(24,"input",15,16),c.fc("ngModelChange",(function(e){return i.firma.mat=e})),c.Wb(),c.Cc(26,R,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Xb(27,"div",5),c.Xb(28,"div",6),c.Xb(29,"label",17),c.Ec(30,"Adresa:"),c.Wb(),c.Xb(31,"div",18),c.Xb(32,"div",11),c.Xb(33,"nb-select-label",19),c.Ec(34,"Op\u0161tina:"),c.Wb(),c.Xb(35,"input",20,21),c.fc("ngModelChange",(function(){c.wc(e);const n=c.uc(36);return i.findOpstina(n.value)}))("ngModelChange",(function(e){return i.firma.adresa.mesto.opstinaNaziv=e})),c.Wb(),c.Xb(37,"nb-autocomplete",null,22),c.Cc(39,A,2,2,"nb-option",23),c.ic(40,"async"),c.Wb(),c.Cc(41,K,2,1,"ng-container",10),c.Wb(),c.Xb(42,"div",11),c.Xb(43,"nb-select-label",24),c.Ec(44,"Mesto:"),c.Wb(),c.Xb(45,"input",25,26),c.fc("ngModelChange",(function(){c.wc(e);const n=c.uc(46);return i.findMesta(n.value)}))("ngModelChange",(function(e){return i.firma.adresa.mesto.mestoNaziv=e})),c.Wb(),c.Xb(47,"nb-autocomplete",null,27),c.Cc(49,Z,2,2,"nb-option",23),c.ic(50,"async"),c.Wb(),c.Cc(51,Y,2,1,"ng-container",10),c.Wb(),c.Wb(),c.Xb(52,"div",28),c.Xb(53,"div",29),c.Xb(54,"label",30),c.Ec(55,"Po\u0161tanski broj:"),c.Wb(),c.Xb(56,"input",31,32),c.fc("ngModelChange",(function(e){return i.firma.adresa.mesto.postanskiBroj=e})),c.Wb(),c.Cc(58,Q,3,2,"ng-container",10),c.Wb(),c.Xb(59,"div",33),c.Xb(60,"label",34),c.Ec(61,"Ulica i broj:"),c.Wb(),c.Xb(62,"input",35,36),c.fc("ngModelChange",(function(e){return i.firma.adresa.ulica=e})),c.Wb(),c.Cc(64,ne,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(65,"div",5),c.Xb(66,"div",6),c.Xb(67,"nb-select-label",37),c.Ec(68,"\u0160ifra delatnosti:"),c.Wb(),c.Xb(69,"input",38,39),c.fc("ngModelChange",(function(){c.wc(e);const n=c.uc(70);return i.findDelatnost(n.value)}))("ngModelChange",(function(e){return i.firma.delatnost.naziv=e})),c.Wb(),c.Xb(71,"nb-autocomplete",null,40),c.Cc(73,te,2,3,"nb-option",23),c.ic(74,"async"),c.Wb(),c.Cc(75,oe,2,1,"ng-container",10),c.Wb(),c.Wb(),c.Xb(76,"div",5),c.Xb(77,"div",41),c.Xb(78,"label",42),c.Ec(79,"Email firme:"),c.Wb(),c.Xb(80,"input",43,44),c.fc("ngModelChange",(function(e){return i.firma.email=e})),c.Wb(),c.Cc(82,se,3,2,"ng-container",10),c.Wb(),c.Xb(83,"div",41),c.Xb(84,"label",45),c.Ec(85,"Telefon firme:"),c.Wb(),c.Xb(86,"input",46,47),c.fc("ngModelChange",(function(e){return i.firma.telefon=e})),c.Wb(),c.Cc(88,be,3,2,"ng-container",10),c.Wb(),c.Xb(89,"div",41),c.Xb(90,"label",48),c.Ec(91,"Faks firme:"),c.Wb(),c.Xb(92,"input",49,50),c.fc("ngModelChange",(function(e){return i.firma.faks=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(94,"div",5),c.Xb(95,"div",11),c.Xb(96,"nb-select-label",51),c.Ec(97,"Birajte email za prijem dokumenata: "),c.Wb(),c.Xb(98,"nb-select",52,53),c.fc("ngModelChange",(function(e){return i.firma.emailPrijem=e})),c.Xb(100,"nb-option",54),c.fc("selectionChange",(function(){return i.clearTmpEmail()})),c.Ec(101),c.Wb(),c.Xb(102,"nb-option",54),c.fc("selectionChange",(function(){return i.clearTmpEmail()})),c.Ec(103),c.Wb(),c.Xb(104,"nb-option",55,56),c.Ec(106,"Drugi email"),c.Wb(),c.Wb(),c.Cc(107,ge,2,1,"ng-container",10),c.Wb(),c.Cc(108,he,6,6,"div",57),c.Wb(),c.Xb(109,"div",5),c.Xb(110,"div",6),c.Xb(111,"label",58),c.Ec(112,"Puno ime zakonskog zastupnika firme:"),c.Wb(),c.Xb(113,"div",59),c.Xb(114,"div",11),c.Xb(115,"label",60),c.Ec(116,"Ime:"),c.Wb(),c.Xb(117,"input",61,62),c.fc("ngModelChange",(function(e){return i.spojIme(e)}))("ngModelChange",(function(e){return i.imeZakonskogZastupinka=e})),c.Wb(),c.Cc(119,je,3,2,"ng-container",10),c.Wb(),c.Xb(120,"div",11),c.Xb(121,"label",63),c.Ec(122,"Prezime:"),c.Wb(),c.Xb(123,"input",64,65),c.fc("ngModelChange",(function(e){return i.spojPrezime(e)}))("ngModelChange",(function(e){return i.prezimeZakonskogZastupinka=e})),c.Wb(),c.Cc(125,Xe,3,2,"ng-container",10),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(126,"button",66),c.Ec(127," Nazad "),c.Wb(),c.Xb(128,"button",67),c.fc("click",(function(){c.wc(e);const n=c.uc(6);return i.validateCompany(n)})),c.Ec(129," Dalje "),c.Wb(),c.Wb(),c.Wb(),c.Sb(130,"nb-step",68),c.Sb(131,"nb-step",69),c.Sb(132,"nb-step",70),c.Wb()}if(2&e){const e=c.uc(12),n=c.uc(19),t=c.uc(25),a=c.uc(36),o=c.uc(38),l=c.uc(46),r=c.uc(48),s=c.uc(57),d=c.uc(63),b=c.uc(70),u=c.uc(72),g=c.uc(81),f=c.uc(87),m=c.uc(93),p=c.uc(99),h=c.uc(105),v=c.uc(118),k=c.uc(124);c.Eb(11),c.nc("ngModel",i.firma.naziv)("maxlength",i.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",i.getConfigValue("forms.validation.nazivFirme.minLength"))("required",i.getConfigValue("forms.validation.nazivFirme.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.invalid&&e.touched||i.checkIssues),c.Eb(5),c.nc("ngModel",i.firma.pib)("maxlength",i.getConfigValue("forms.validation.pib.maxLength"))("minlength",i.getConfigValue("forms.validation.pib.minLength"))("pattern",i.getConfigValue("forms.validation.pib.pattern"))("required",i.getConfigValue("forms.validation.pib.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),c.Eb(2),c.nc("ngIf",n.invalid&&n.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.firma.mat)("maxlength",i.getConfigValue("forms.validation.mat.maxLength"))("minlength",i.getConfigValue("forms.validation.mat.minLength"))("pattern",i.getConfigValue("forms.validation.mat.pattern"))("required",i.getConfigValue("forms.validation.mat.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||i.checkIssues),c.Eb(9),c.nc("ngModel",i.firma.adresa.mesto.opstinaNaziv)("nbAutocomplete",o)("required",i.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(40,97,i.opstine$)),c.Eb(2),c.nc("ngIf",i.checkIssues),c.Eb(4),c.nc("ngModel",i.firma.adresa.mesto.mestoNaziv)("nbAutocomplete",r)("required",i.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(50,99,i.mesta$)),c.Eb(2),c.nc("ngIf",i.checkIssues),c.Eb(5),c.nc("ngModel",i.firma.adresa.mesto.postanskiBroj)("maxlength",i.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",i.getConfigValue("forms.validation.postanskiBroj.minLength"))("required",i.getConfigValue("forms.validation.postanskiBroj.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.firma.adresa.ulica)("minlength",i.getConfigValue("forms.validation.ulica.minLength"))("required",i.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched||i.checkIssues),c.Eb(5),c.nc("ngModel",i.firma.delatnost.naziv)("nbAutocomplete",u)("required",i.getConfigValue("forms.validation.delatnost.required")),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(74,101,i.delatnosti$)),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched||i.checkIssues),c.Eb(5),c.nc("ngModel",i.firma.email)("required",i.getConfigValue("forms.validation.email.required"))("pattern",i.getConfigValue("forms.validation.email.pattern"))("status",g.dirty?g.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),c.Eb(2),c.nc("ngIf",g.invalid&&g.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.firma.telefon)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("required",i.getConfigValue("forms.validation.telefon.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!f.invalid||!f.touched)||null),c.Eb(2),c.nc("ngIf",f.invalid&&f.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.firma.faks)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength")),c.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),c.Eb(6),c.nc("ngModel",i.firma.emailPrijem)("required",i.getConfigValue("forms.validation.email.required"))("selected",i.firma.email)("status",p.dirty?p.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!p.invalid||!p.touched)||null),c.Eb(2),c.nc("value",i.firma.email),c.Eb(1),c.Fc(i.firma.email),c.Eb(1),c.nc("value",null==i.korisnik?null:i.korisnik.email),c.Eb(1),c.Fc(null==i.korisnik?null:i.korisnik.email),c.Eb(1),c.nc("value",i.firma.emailPrijem),c.Eb(3),c.nc("ngIf",p.invalid&&p.touched||i.checkIssues),c.Eb(1),c.nc("ngIf",h.selected),c.Eb(9),c.nc("ngModel",i.imeZakonskogZastupinka)("maxlength",i.getConfigValue("forms.validation.ime.maxLength"))("minlength",i.getConfigValue("forms.validation.ime.minLength"))("required",i.getConfigValue("forms.validation.ime.required"))("status",v.dirty?v.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),c.Eb(2),c.nc("ngIf",v.invalid&&v.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.prezimeZakonskogZastupinka)("maxlength",i.getConfigValue("forms.validation.prezime.maxLength"))("minlength",i.getConfigValue("forms.validation.prezime.minLength"))("required",i.getConfigValue("forms.validation.prezime.required"))("status",k.dirty?k.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!k.invalid||!k.touched)||null),c.Eb(2),c.nc("ngIf",k.invalid&&k.touched||i.checkIssues)}},directives:[v.wb,v.vb,a.w,a.l,a.m,v.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,a.q,v.ob,v.r,v.q,t.m,v.nb,v.db,v.t,o.d],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function Ce(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Me(e,i){if(1&e&&(c.Xb(0,"p",60),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function Ie(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ce,2,0,"p",59),c.Cc(2,Me,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Oe(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Vrsta skladi\u0161ta je obavezna! "),c.Wb())}function Se(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Oe,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(17);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function qe(e,i){if(1&e&&(c.Xb(0,"nb-option",58),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function Ve(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Op\u0161tina je obavezna! "),c.Wb())}function we(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ve,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(34);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ye(e,i){if(1&e&&(c.Xb(0,"nb-option",58),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function xe(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Mesto je obavezno! "),c.Wb())}function Fe(e,i){if(1&e&&(c.Vb(0),c.Cc(1,xe,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(44);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function De(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Po\u0161tanski broj je obavezan! "),c.Wb())}function Ne(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Po\u0161tanski broj mora biti validan! "),c.Wb())}function $e(e,i){if(1&e&&(c.Vb(0),c.Cc(1,De,2,0,"p",59),c.Cc(2,Ne,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(55);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Te(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Ulica je obavezna! "),c.Wb())}function Le(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Te,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(61);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Pe(e,i){if(1&e&&(c.Xb(0,"p",60),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function Ue(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Pe,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(68);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Be(e,i){if(1&e&&(c.Xb(0,"p",60),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function Re(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Be,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(74);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ae(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),c.Wb())}function Ge(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),c.Wb())}function Ke(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ae,2,0,"p",59),c.Cc(2,Ge,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(83),i=c.hc(2);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.required)||i.isNaN(e.value)),c.Eb(1),c.nc("ngIf",e<1)}}const Ze=function(){return{standalone:!0}};function _e(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",null,11),c.Xb(3,"nb-card",12),c.Xb(4,"nb-card-body"),c.Xb(5,"div",13),c.Xb(6,"div",5),c.Xb(7,"label",14),c.Ec(8,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(9,"input",15,16),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,Ie,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Xb(12,"div",13),c.Xb(13,"div",5),c.Xb(14,"nb-select-label",18),c.Ec(15,"Vrsta Deponije:"),c.Wb(),c.Xb(16,"nb-select",19,20),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.vrstaDeponije=n})),c.Xb(18,"nb-option",21),c.Ec(19,"Neopasan otpad"),c.Wb(),c.Xb(20,"nb-option",22),c.Ec(21,"Opasan otpad"),c.Wb(),c.Xb(22,"nb-option",23),c.Ec(23,"Inertan otpad"),c.Wb(),c.Wb(),c.Cc(24,Se,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(25,"div",24),c.Xb(26,"div",5),c.Xb(27,"label",25),c.Ec(28,"Adresa:"),c.Wb(),c.Xb(29,"div",26),c.Xb(30,"div",27),c.Xb(31,"nb-select-label",28),c.Ec(32,"Op\u0161tina:"),c.Wb(),c.Xb(33,"input",29,30),c.fc("ngModelChange",(function(){c.wc(e);const i=c.uc(34);return c.hc(2).findOpstina(i.value)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.opstinaNaziv=n})),c.Wb(),c.Xb(35,"nb-autocomplete",null,31),c.Cc(37,qe,2,2,"nb-option",32),c.ic(38,"async"),c.Wb(),c.Cc(39,we,2,1,"ng-container",17),c.Wb(),c.Xb(40,"div",27),c.Xb(41,"nb-select-label",33),c.Ec(42,"Mesto:"),c.Wb(),c.Xb(43,"input",34,35),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findMesta(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.mestoNaziv=n})),c.Wb(),c.Xb(45,"nb-autocomplete",null,36),c.Cc(47,ye,2,2,"nb-option",32),c.ic(48,"async"),c.Wb(),c.Cc(49,Fe,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(50,"div",37),c.Xb(51,"div",38),c.Xb(52,"label",39),c.Ec(53,"Po\u0161tanski broj:"),c.Wb(),c.Xb(54,"input",40,41),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.postanskiBroj=n})),c.Wb(),c.Cc(56,$e,3,2,"ng-container",17),c.Wb(),c.Xb(57,"div",42),c.Xb(58,"label",43),c.Ec(59,"Ulica i broj:"),c.Wb(),c.Xb(60,"input",44,45),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.ulica=n})),c.Wb(),c.Cc(62,Le,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(63,"div",24),c.Xb(64,"div",27),c.Xb(65,"label",46),c.Ec(66,"Geolokacija Sever(N):"),c.Wb(),c.Xb(67,"input",47,48),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaN=n})),c.Wb(),c.Cc(69,Ue,2,1,"ng-container",17),c.Wb(),c.Xb(70,"div",27),c.Xb(71,"label",49),c.Ec(72,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(73,"input",50,51),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaE=n})),c.Wb(),c.Cc(75,Re,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(76,"div",24),c.Xb(77,"div",5),c.Xb(78,"label",52),c.Ec(79,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(80,"div",4),c.Xb(81,"div",53),c.Xb(82,"input",54,55),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.maxKolicina=n})),c.Wb(),c.Wb(),c.Xb(84,"div",56),c.Xb(85,"nb-select",57),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).storageAmmountUnit=i})),c.Xb(86,"nb-option",58),c.Ec(87,"KG"),c.Wb(),c.Xb(88,"nb-option",58),c.Ec(89,"T"),c.Wb(),c.Wb(),c.Wb(),c.Cc(90,Ke,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(17),o=c.uc(34),l=c.uc(36),r=c.uc(44),s=c.uc(46),d=c.uc(55),b=c.uc(61),u=c.uc(68),g=c.uc(74),f=c.uc(83),m=c.hc(2);c.Eb(9),c.nc("ngModel",e.naziv)("maxlength",m.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",m.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",c.qc(78,Ze))("placeholder","Skladiste Odlaganje #"+n)("required",m.getConfigValue("forms.validation.nazivSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||m.checkIssues),c.Eb(5),c.nc("ngModel",e.vrstaDeponije)("ngModelOptions",c.qc(79,Ze))("required",m.getConfigValue("forms.validation.vrstaDeponije.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(8),c.nc("ngIf",a.invalid&&a.touched||m.checkIssues),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("nbAutocomplete",l)("ngModelOptions",c.qc(80,Ze))("required",m.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(38,74,m.opstine$)),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched||m.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("nbAutocomplete",s)("ngModelOptions",c.qc(81,Ze))("required",m.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(48,76,m.mesta$)),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched||m.checkIssues),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("maxlength",m.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",m.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",c.qc(82,Ze))("required",m.getConfigValue("forms.validation.postanskiBroj.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched||m.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("maxlength",m.getConfigValue("forms.validation.ulica.maxLength"))("minlength",m.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",c.qc(83,Ze))("required",m.getConfigValue("forms.validation.ulica.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched||m.checkIssues),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("maxlength",m.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",m.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",m.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",c.qc(84,Ze))("required",m.getConfigValue("forms.validation.geolokacija.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("maxlength",m.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",m.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",c.qc(85,Ze))("pattern",m.getConfigValue("forms.validation.geolokacija.pattern"))("required",m.getConfigValue("forms.validation.geolokacija.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),c.Eb(2),c.nc("ngIf",g.invalid&&g.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("min",m.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",c.qc(86,Ze))("required",m.getConfigValue("forms.validation.velicinaSkladista.required"))("status",f.dirty?f.invalid?"danger":"success":"basic"),c.Eb(3),c.nc("ngModelOptions",c.qc(87,Ze))("selected","KG")("ngModel",m.storageAmmountUnit),c.Eb(1),c.nc("value","KG"),c.Eb(2),c.nc("value","T"),c.Eb(2),c.nc("ngIf",f.invalid&&f.touched||m.checkIssues)}}function Ye(e,i){if(1&e&&(c.Xb(0,"div",9),c.Cc(1,_e,91,88,"div",10),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.skladisteDeponija$))}}function He(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Naziv dozvole je obavezna! "),c.Wb())}function Je(e,i){if(1&e&&(c.Xb(0,"p",60),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function Qe(e,i){if(1&e&&(c.Vb(0),c.Cc(1,He,2,0,"p",59),c.Cc(2,Je,2,1,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function ei(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function ii(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ei,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(16);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ni(e,i){if(1&e&&(c.Xb(0,"nb-option",58),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e.naziv)}}function ti(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),c.Wb())}function ai(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ti,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(22);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function oi(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Datum nastanka dozvole je obavezan! "),c.Wb())}function li(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),c.Wb())}function ri(e,i){if(1&e&&(c.Vb(0),c.Cc(1,oi,2,0,"p",59),c.Cc(2,li,2,0,"p",59),c.Ub()),2&e){const e=c.hc().$implicit,i=c.uc(30),n=c.hc(2);c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.required),c.Eb(1),c.nc("ngIf",!n.dateValid(e))}}function si(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Datum isteka dozvole je obavezan! "),c.Wb())}function ci(e,i){if(1&e&&(c.Vb(0),c.Cc(1,si,2,0,"p",59),c.Ub()),2&e){c.hc();const e=c.uc(38);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function di(e,i){1&e&&(c.Xb(0,"p",60),c.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),c.Wb())}function bi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,di,2,0,"p",59),c.Ub()),2&e){const e=c.hc().$implicit;c.Eb(1),c.nc("ngIf",e.listaOtpada.length<1)}}function ui(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",61,62),c.fc("change",(function(i){return c.wc(e),c.hc(2).validateDump(i)})),c.Xb(3,"nb-card",63),c.Xb(4,"nb-card-body"),c.Xb(5,"div",4),c.Xb(6,"div",64),c.Xb(7,"label",65),c.Ec(8,"Naziv Dozvole:"),c.Wb(),c.Xb(9,"input",66,67),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,Qe,3,2,"ng-container",17),c.Wb(),c.Xb(12,"div",68),c.Xb(13,"label",69),c.Ec(14,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(15,"input",70,71),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.sifra=n})),c.Wb(),c.Cc(17,ii,2,1,"ng-container",17),c.Wb(),c.Xb(18,"div",68),c.Xb(19,"label",72),c.Ec(20,"Odaberi postrojenje:"),c.Wb(),c.Xb(21,"nb-select",73,74),c.fc("selectedChange",(function(n){c.wc(e);const t=i.$implicit;return c.hc(2).setAdresa(t,n)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.skladistaDeponija=n})),c.Cc(23,ni,2,2,"nb-option",32),c.ic(24,"async"),c.Wb(),c.Cc(25,ai,2,1,"ng-container",17),c.Wb(),c.Xb(26,"div",27),c.Xb(27,"label",75),c.Ec(28,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(29,"input",76,77),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumNastanka=n})),c.Wb(),c.Sb(31,"nb-datepicker",null,78),c.Cc(33,ri,3,2,"ng-container",17),c.Wb(),c.Xb(34,"div",27),c.Xb(35,"label",79),c.Ec(36,"Datum isteka dozvole:"),c.Wb(),c.Xb(37,"input",80,81),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumTrajanja=n})),c.Wb(),c.Sb(39,"nb-datepicker",null,82),c.Cc(41,ci,2,1,"ng-container",17),c.Wb(),c.Xb(42,"div",83),c.Xb(43,"button",84),c.fc("click",(function(){c.wc(e);const n=i.$implicit;return c.hc(2).chooseDozvola(n)})),c.Ec(44,"Odaberi otpade "),c.Wb(),c.Cc(45,bi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(16),o=c.uc(22),l=c.uc(30),r=c.uc(32),s=c.uc(38),d=c.uc(40),b=c.hc(2);c.Eb(9),c.pc("placeholder","Dozvola Odlaganje #",n,""),c.nc("ngModel",e.naziv)("ngModelOptions",c.qc(38,Ze))("required",b.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",b.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",b.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.qc(39,Ze))("required",b.getConfigValue("forms.validation.sifraDozvole.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.skladistaDeponija)("ngModelOptions",c.qc(40,Ze))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Eb(2),c.nc("ngForOf",c.jc(24,36,b.skladisteDeponija$)),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumNastanka)("nbDatepicker",r)("ngModelOptions",c.qc(41,Ze))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngIf",!b.dateValid(e)||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("nbDatepicker",d)("ngModelOptions",c.qc(42,Ze))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(4),c.nc("ngIf",s.invalid&&s.touched||b.checkIssues),c.Eb(2),c.nc("disabled",""===e.sifra),c.Eb(2),c.nc("ngIf",b.checkIssues)}}function gi(e,i){if(1&e&&(c.Xb(0,"div",9),c.Cc(1,ui,46,43,"div",10),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.dozvole$))}}let fi=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.registerService=i,this.mestoService=n,this.router=t,this.valid=!1,this.checkIssues=!1,this.mesta=[],this.opstine=[],this.brojSkladistaDeponija=0,this.storageAmmountUnit="KG"}ngOnInit(){this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladistaDeponija&&(this.brojSkladistaDeponija=this.firma.skladistaDeponija.length,this.skladisteDeponija=this.firma.skladistaDeponija,this.skladisteDeponija$=Object(r.a)(this.skladisteDeponija)),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola.filter(e=>"odlaganje"===e.vrstaDozvole),this.dozvole$=Object(r.a)(this.dozvole)))}),this.validateDump(),this.registerService.sendFirma(Object(r.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(q.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(r.a)(e)})}getConfigValue(e){return Object(h.n)(this.options,e,null)}checkValid(){return this.validateDump(),!!this.valid||(this.checkIssues=!0,!1)}validateDump(){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladisteDeponija&&(this.valid=this.dozvole.length>0&&this.skladisteDeponija.length>0),void 0!==this.dozvole)for(const e of this.dozvole){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if(""===e.sifra){this.valid=!1;break}if(void 0===e.datumTrajanja||void 0===e.datumNastanka){this.valid=!1;break}if(void 0===e.skladistaDeponija){this.valid=!1;break}if(e.listaOtpada.length<1){this.valid=!1;break}}if(void 0!==this.skladisteDeponija)for(const e of this.skladisteDeponija){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if("T"===this.storageAmmountUnit&&(e.maxKolicina*=1e3),e.maxKolicina<1||isNaN(e.maxKolicina)){this.valid=!1;break}if(""===e.adresa.mesto.mestoNaziv||""===e.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===e.vrstaDeponije){this.valid=!1;break}if(""===e.adresa.ulica){this.valid=!1;break}}}updateDozvolaForm(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter(e=>"odlaganje"!==e.vrstaDozvole)),this.dozvole=new Array(this.brojSkladistaDeponija);for(let e=0;e<this.brojSkladistaDeponija;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"odlaganje"};this.skladisteDeponija=new Array(this.brojSkladistaDeponija);for(let e=0;e<this.brojSkladistaDeponija;e++)this.skladisteDeponija[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:"",vrstaDeponije:""};this.firma.skladistaDeponija=this.skladisteDeponija,this.skladisteDeponija$=Object(r.a)(this.skladisteDeponija),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(r.a)(this.dozvole),this.validateDump()}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(q.a)()).subscribe(e=>{this.mesta=e,this.mesta$=Object(r.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).pipe(Object(q.a)()).subscribe(e=>{this.opstine$=Object(r.a)(e),this.getMesta(e[0])}):this.opstine$=Object(r.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(r.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}setAdresa(e,i){e.adresa=i.adresa}dateValid(e){return e.datumNastanka<=e.datumTrajanja}isNaN(e){return!(!isNaN(e)&&void 0!==e)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(g),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-odlaganje"]],decls:16,vars:6,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladistaDeponije","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["storageDumpForm","ngForm"],["accent","warning",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],["for","input-vrstaSkladista",1,"label"],["fullWidth","","id","input-vrstaDeponije","name","vrstaDeponije","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vrstaDeponije","ngModel"],["value","Neopasan"],["value","Opasan"],["value","Inertan"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"change"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,i){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return i.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Ec(7,"Broj deponija:"),c.Wb(),c.Xb(8,"input",6),c.fc("ngModelChange",(function(e){return i.brojSkladistaDeponija=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",4),c.Xb(10,"div",5),c.Xb(11,"button",7),c.Ec(12,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ec(13),c.Wb(),c.Cc(14,Ye,3,3,"div",8),c.Cc(15,gi,3,3,"div",8)),2&e&&(c.Eb(8),c.nc("ngModel",i.brojSkladistaDeponija)("ngModelOptions",c.qc(5,Ze)),c.Eb(5),c.Gc(" ",i.valid,"\n"),c.Eb(1),c.nc("ngIf",i.brojSkladistaDeponija>0),c.Eb(1),c.nc("ngIf",i.brojSkladistaDeponija>0))},directives:[a.w,a.l,a.m,v.O,a.p,a.b,a.k,a.n,v.t,t.n,t.m,v.w,v.v,a.f,a.g,a.s,v.ob,v.nb,v.db,v.r,v.q,a.q,v.H,v.G],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();function mi(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function pi(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function hi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,mi,2,0,"p",53),c.Cc(2,pi,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function vi(e,i){if(1&e&&(c.Xb(0,"nb-option",52),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function ki(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Op\u0161tina je obavezna! "),c.Wb())}function ji(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ki,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(21);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Wi(e,i){if(1&e&&(c.Xb(0,"nb-option",52),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function Ei(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Mesto je obavezno! "),c.Wb())}function Xi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ei,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(31);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function zi(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Po\u0161tanski broj je obavezan! "),c.Wb())}function Ci(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Po\u0161tanski broj mora biti validan! "),c.Wb())}function Mi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,zi,2,0,"p",53),c.Cc(2,Ci,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(42);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ii(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Ulica je obavezna! "),c.Wb())}function Oi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ii,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(48);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Si(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function qi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Si,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(55);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Vi(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function wi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Vi,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(61);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function yi(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),c.Wb())}function xi(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),c.Wb())}function Fi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,yi,2,0,"p",53),c.Cc(2,xi,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(70),i=c.hc(2);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.required)||i.isNaN(e.value)),c.Eb(1),c.nc("ngIf",e<1)}}const Di=function(){return{standalone:!0}};function Ni(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",null,11),c.Xb(3,"nb-card",12),c.Xb(4,"nb-card-body"),c.Xb(5,"div",13),c.Xb(6,"div",5),c.Xb(7,"label",14),c.Ec(8,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(9,"input",15,16),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,hi,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Xb(12,"div",18),c.Xb(13,"div",5),c.Xb(14,"label",19),c.Ec(15,"Adresa:"),c.Wb(),c.Xb(16,"div",20),c.Xb(17,"div",21),c.Xb(18,"nb-select-label",22),c.Ec(19,"Op\u0161tina:"),c.Wb(),c.Xb(20,"input",23,24),c.fc("ngModelChange",(function(){c.wc(e);const i=c.uc(21);return c.hc(2).findOpstina(i.value)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.opstinaNaziv=n})),c.Wb(),c.Xb(22,"nb-autocomplete",null,25),c.Cc(24,vi,2,2,"nb-option",26),c.ic(25,"async"),c.Wb(),c.Cc(26,ji,2,1,"ng-container",17),c.Wb(),c.Xb(27,"div",21),c.Xb(28,"nb-select-label",27),c.Ec(29,"Mesto:"),c.Wb(),c.Xb(30,"input",28,29),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findMesta(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.mestoNaziv=n})),c.Wb(),c.Xb(32,"nb-autocomplete",null,30),c.Cc(34,Wi,2,2,"nb-option",26),c.ic(35,"async"),c.Wb(),c.Cc(36,Xi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(37,"div",31),c.Xb(38,"div",32),c.Xb(39,"label",33),c.Ec(40,"Po\u0161tanski broj:"),c.Wb(),c.Xb(41,"input",34,35),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.postanskiBroj=n})),c.Wb(),c.Cc(43,Mi,3,2,"ng-container",17),c.Wb(),c.Xb(44,"div",36),c.Xb(45,"label",37),c.Ec(46,"Ulica i broj:"),c.Wb(),c.Xb(47,"input",38,39),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.ulica=n})),c.Wb(),c.Cc(49,Oi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(50,"div",18),c.Xb(51,"div",21),c.Xb(52,"label",40),c.Ec(53,"Geolokacija Sever(N):"),c.Wb(),c.Xb(54,"input",41,42),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaN=n})),c.Wb(),c.Cc(56,qi,2,1,"ng-container",17),c.Wb(),c.Xb(57,"div",21),c.Xb(58,"label",43),c.Ec(59,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(60,"input",44,45),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaE=n})),c.Wb(),c.Cc(62,wi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(63,"div",18),c.Xb(64,"div",5),c.Xb(65,"label",46),c.Ec(66,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(67,"div",4),c.Xb(68,"div",47),c.Xb(69,"input",48,49),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.maxKolicina=n})),c.Wb(),c.Wb(),c.Xb(71,"div",50),c.Xb(72,"nb-select",51),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).storageAmmountUnit=i})),c.Xb(73,"nb-option",52),c.Ec(74,"KG"),c.Wb(),c.Xb(75,"nb-option",52),c.Ec(76,"T"),c.Wb(),c.Wb(),c.Wb(),c.Cc(77,Fi,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(21),o=c.uc(23),l=c.uc(31),r=c.uc(33),s=c.uc(42),d=c.uc(48),b=c.uc(55),u=c.uc(61),g=c.uc(70),f=c.hc(2);c.Eb(9),c.nc("ngModel",e.naziv)("maxlength",f.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",f.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",c.qc(72,Di))("placeholder","Skladiste #"+n)("required",f.getConfigValue("forms.validation.nazivSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||f.checkIssues),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("nbAutocomplete",o)("ngModelOptions",c.qc(73,Di))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(25,68,f.opstine$)),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("nbAutocomplete",r)("ngModelOptions",c.qc(74,Di))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(35,70,f.mesta$)),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("maxlength",f.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",f.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",c.qc(75,Di))("required",f.getConfigValue("forms.validation.postanskiBroj.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("maxlength",f.getConfigValue("forms.validation.ulica.maxLength"))("minlength",f.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",c.qc(76,Di))("required",f.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",c.qc(77,Di))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",c.qc(78,Di))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("min",f.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",c.qc(79,Di))("required",f.getConfigValue("forms.validation.velicinaSkladista.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),c.Eb(3),c.nc("ngModelOptions",c.qc(80,Di))("selected","KG")("ngModel",f.storageAmmountUnit),c.Eb(1),c.nc("value","KG"),c.Eb(2),c.nc("value","T"),c.Eb(2),c.nc("ngIf",g.invalid&&g.touched||f.checkIssues)}}function $i(e,i){if(1&e&&(c.Xb(0,"div",9),c.Cc(1,Ni,78,81,"div",10),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.skladista$))}}let Ti=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.mestoService=n,this.checkIssues=!1,this.valid=!1,this.storageAmmountUnit="KG",this.mesta=[],this.opstine=[],this.brojSkladista=0,this.skladista=[]}ngOnInit(){this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladista&&(this.brojSkladista=this.firma.skladista.length,this.skladista=this.firma.skladista,this.skladista$=Object(r.a)(this.skladista)))}),this.validateProduction(),this.registerService.sendFirma(Object(r.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(q.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(r.a)(e)})}getConfigValue(e){return Object(h.n)(this.options,e,null)}checkValid(){return this.validateProduction(),!!this.valid||(this.checkIssues=!0,!1)}validateProduction(){this.valid=this.skladista.length>0;for(const e of this.skladista){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if("T"===this.storageAmmountUnit&&(e.maxKolicina*=1e3),e.maxKolicina<1||isNaN(e.maxKolicina)){this.valid=!1;break}if(""===e.adresa.mesto.mestoNaziv||""===e.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===e.adresa.ulica){this.valid=!1;break}}}updateSkladisteForm(){this.skladista=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.skladista[e]={_id:"",adresa:{mesto:{mestoSifra:0,mestoNaziv:"",opstinaSifra:0,opstinaNaziv:"",postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:""};this.skladista$=Object(r.a)(this.skladista),this.firma.skladista=this.skladista,this.validateProduction()}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).pipe(Object(q.a)()).subscribe(e=>{this.mesta=e,this.mesta$=Object(r.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).pipe(Object(q.a)()).subscribe(e=>{this.opstine$=Object(r.a)(e),this.getMesta(e[0])}):this.opstine$=Object(r.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}isNaN(e){return!(!isNaN(e)&&void 0!==e)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(g))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-proizvodnja"]],decls:15,vars:5,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladista","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return i.updateSkladisteForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Ec(7,"Broj skladista:"),c.Wb(),c.Xb(8,"input",6),c.fc("ngModelChange",(function(e){return i.brojSkladista=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",4),c.Xb(10,"div",5),c.Xb(11,"button",7),c.Ec(12,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ec(13),c.Wb(),c.Cc(14,$i,3,3,"div",8)),2&e&&(c.Eb(8),c.nc("ngModel",i.brojSkladista)("ngModelOptions",c.qc(4,Di)),c.Eb(5),c.Gc(" ",i.valid,"\n"),c.Eb(1),c.nc("ngIf",i.brojSkladista>0))},directives:[a.w,a.l,a.m,v.O,a.p,a.b,a.k,a.n,v.t,t.n,t.m,v.w,v.v,a.f,a.g,a.s,v.ob,v.r,v.q,a.q,v.nb,v.db],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();function Li(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Pi(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function Ui(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Li,2,0,"p",53),c.Cc(2,Pi,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Bi(e,i){if(1&e&&(c.Xb(0,"nb-option",52),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function Ri(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Op\u0161tina je obavezna! "),c.Wb())}function Ai(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ri,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(21);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Gi(e,i){if(1&e&&(c.Xb(0,"nb-option",52),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function Ki(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Mesto je obavezno! "),c.Wb())}function Zi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ki,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(31);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function _i(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Po\u0161tanski broj je obavezan! "),c.Wb())}function Yi(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Po\u0161tanski broj mora biti validan! "),c.Wb())}function Hi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,_i,2,0,"p",53),c.Cc(2,Yi,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(42);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ji(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Ulica je obavezna! "),c.Wb())}function Qi(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ji,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(48);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function en(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function nn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,en,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(55);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function tn(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function an(e,i){if(1&e&&(c.Vb(0),c.Cc(1,tn,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(61);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function on(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),c.Wb())}function ln(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),c.Wb())}function rn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,on,2,0,"p",53),c.Cc(2,ln,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(70),i=c.hc(2);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.required)||i.isNaN(e.value)),c.Eb(1),c.nc("ngIf",e<1)}}const sn=function(){return{standalone:!0}};function cn(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",null,11),c.Xb(3,"nb-card",12),c.Xb(4,"nb-card-body"),c.Xb(5,"div",13),c.Xb(6,"div",5),c.Xb(7,"label",14),c.Ec(8,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(9,"input",15,16),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,Ui,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Xb(12,"div",18),c.Xb(13,"div",5),c.Xb(14,"label",19),c.Ec(15,"Adresa:"),c.Wb(),c.Xb(16,"div",20),c.Xb(17,"div",21),c.Xb(18,"nb-select-label",22),c.Ec(19,"Op\u0161tina:"),c.Wb(),c.Xb(20,"input",23,24),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findOpstina(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.opstinaNaziv=n})),c.Wb(),c.Xb(22,"nb-autocomplete",null,25),c.Cc(24,Bi,2,2,"nb-option",26),c.ic(25,"async"),c.Wb(),c.Cc(26,Ai,2,1,"ng-container",17),c.Wb(),c.Xb(27,"div",21),c.Xb(28,"nb-select-label",27),c.Ec(29,"Mesto:"),c.Wb(),c.Xb(30,"input",28,29),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findMesta(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.mestoNaziv=n})),c.Wb(),c.Xb(32,"nb-autocomplete",null,30),c.Cc(34,Gi,2,2,"nb-option",26),c.ic(35,"async"),c.Wb(),c.Cc(36,Zi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(37,"div",31),c.Xb(38,"div",32),c.Xb(39,"label",33),c.Ec(40,"Po\u0161tanski broj:"),c.Wb(),c.Xb(41,"input",34,35),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.postanskiBroj=n})),c.Wb(),c.Cc(43,Hi,3,2,"ng-container",17),c.Wb(),c.Xb(44,"div",36),c.Xb(45,"label",37),c.Ec(46,"Ulica i broj:"),c.Wb(),c.Xb(47,"input",38,39),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.ulica=n})),c.Wb(),c.Cc(49,Qi,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(50,"div",18),c.Xb(51,"div",21),c.Xb(52,"label",40),c.Ec(53,"Geolokacija Sever(N):"),c.Wb(),c.Xb(54,"input",41,42),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaN=n})),c.Wb(),c.Cc(56,nn,2,1,"ng-container",17),c.Wb(),c.Xb(57,"div",21),c.Xb(58,"label",43),c.Ec(59,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(60,"input",44,45),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaE=n})),c.Wb(),c.Cc(62,an,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Xb(63,"div",18),c.Xb(64,"div",5),c.Xb(65,"label",46),c.Ec(66,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(67,"div",4),c.Xb(68,"div",47),c.Xb(69,"input",48,49),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.maxKolicina=n})),c.Wb(),c.Wb(),c.Xb(71,"div",50),c.Xb(72,"nb-select",51),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).storageAmmountUnit=i})),c.Xb(73,"nb-option",52),c.Ec(74,"KG"),c.Wb(),c.Xb(75,"nb-option",52),c.Ec(76,"T"),c.Wb(),c.Wb(),c.Wb(),c.Cc(77,rn,3,2,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(21),o=c.uc(23),l=c.uc(31),r=c.uc(33),s=c.uc(42),d=c.uc(48),b=c.uc(55),u=c.uc(61),g=c.uc(70),f=c.hc(2);c.Eb(9),c.nc("ngModel",e.naziv)("maxlength",f.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",f.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",c.qc(72,sn))("placeholder","Skladiste #"+n)("required",f.getConfigValue("forms.validation.nazivSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||f.checkIssues),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("nbAutocomplete",o)("ngModelOptions",c.qc(73,sn))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(25,68,f.opstine$)),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("nbAutocomplete",r)("ngModelOptions",c.qc(74,sn))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(35,70,f.mesta$)),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("maxlength",f.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",f.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",c.qc(75,sn))("required",f.getConfigValue("forms.validation.postanskiBroj.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("maxlength",f.getConfigValue("forms.validation.ulica.maxLength"))("minlength",f.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",c.qc(76,sn))("required",f.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",c.qc(77,sn))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",c.qc(78,sn))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("min",f.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",c.qc(79,sn))("required",f.getConfigValue("forms.validation.velicinaSkladista.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),c.Eb(3),c.nc("ngModelOptions",c.qc(80,sn))("selected","KG")("ngModel",f.storageAmmountUnit),c.Eb(1),c.nc("value","KG"),c.Eb(2),c.nc("value","T"),c.Eb(2),c.nc("ngIf",g.invalid&&g.touched||f.checkIssues)}}function dn(e,i){if(1&e&&(c.Xb(0,"div",9),c.Cc(1,cn,78,81,"div",10),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.skladistaSkladistenje$))}}function bn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Naziv dozvole je obavezna! "),c.Wb())}function un(e,i){if(1&e&&(c.Xb(0,"p",54),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function gn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,bn,2,0,"p",53),c.Cc(2,un,2,1,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function fn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function mn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,fn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(16);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function pn(e,i){if(1&e&&(c.Xb(0,"nb-option",52),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e.naziv)}}function hn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),c.Wb())}function vn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,hn,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(22);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function kn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Datum nastanka dozvole je obavezan! "),c.Wb())}function jn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),c.Wb())}function Wn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,kn,2,0,"p",53),c.Cc(2,jn,2,0,"p",53),c.Ub()),2&e){const e=c.hc().$implicit,i=c.uc(30),n=c.hc(2);c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.required),c.Eb(1),c.nc("ngIf",!n.dateValid(e))}}function En(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Datum isteka dozvole je obavezan! "),c.Wb())}function Xn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,En,2,0,"p",53),c.Ub()),2&e){c.hc();const e=c.uc(38);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function zn(e,i){1&e&&(c.Xb(0,"p",54),c.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),c.Wb())}function Cn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,zn,2,0,"p",53),c.Ub()),2&e){const e=c.hc().$implicit;c.Eb(1),c.nc("ngIf",e.listaOtpada.length<1)}}function Mn(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",55,56),c.fc("change",(function(i){return c.wc(e),c.hc(2).validateCache(i)})),c.Xb(3,"nb-card",57),c.Xb(4,"nb-card-body"),c.Xb(5,"div",4),c.Xb(6,"div",58),c.Xb(7,"label",59),c.Ec(8,"Naziv Dozvole:"),c.Wb(),c.Xb(9,"input",60,61),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,gn,3,2,"ng-container",17),c.Wb(),c.Xb(12,"div",62),c.Xb(13,"label",63),c.Ec(14,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(15,"input",64,65),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.sifra=n})),c.Wb(),c.Cc(17,mn,2,1,"ng-container",17),c.Wb(),c.Xb(18,"div",62),c.Xb(19,"label",66),c.Ec(20,"Odaberi postrojenje:"),c.Wb(),c.Xb(21,"nb-select",67,68),c.fc("selectedChange",(function(n){c.wc(e);const t=i.$implicit;return c.hc(2).setAdresa(t,n)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.skladistaSkladistenje=n})),c.Cc(23,pn,2,2,"nb-option",26),c.ic(24,"async"),c.Wb(),c.Cc(25,vn,2,1,"ng-container",17),c.Wb(),c.Xb(26,"div",21),c.Xb(27,"label",69),c.Ec(28,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(29,"input",70,71),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumNastanka=n})),c.Wb(),c.Sb(31,"nb-datepicker",null,72),c.Cc(33,Wn,3,2,"ng-container",17),c.Wb(),c.Xb(34,"div",21),c.Xb(35,"label",73),c.Ec(36,"Datum isteka dozvole:"),c.Wb(),c.Xb(37,"input",74,75),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumTrajanja=n})),c.Wb(),c.Sb(39,"nb-datepicker",null,76),c.Cc(41,Xn,2,1,"ng-container",17),c.Wb(),c.Xb(42,"div",77),c.Xb(43,"button",78),c.fc("click",(function(){c.wc(e);const n=i.$implicit;return c.hc(2).chooseDozvola(n)})),c.Ec(44,"Odaberi otpade "),c.Wb(),c.Cc(45,Cn,2,1,"ng-container",17),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(16),o=c.uc(22),l=c.uc(30),r=c.uc(32),s=c.uc(38),d=c.uc(40),b=c.hc(2);c.Eb(9),c.pc("placeholder","Dozvola Skladi\u0161tenje #",n,""),c.nc("ngModel",e.naziv)("ngModelOptions",c.qc(38,sn))("required",b.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",b.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",b.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.qc(39,sn))("required",b.getConfigValue("forms.validation.sifraDozvole.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.skladistaSkladistenje)("ngModelOptions",c.qc(40,sn))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Eb(2),c.nc("ngForOf",c.jc(24,36,b.skladistaSkladistenje$)),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumNastanka)("nbDatepicker",r)("ngModelOptions",c.qc(41,sn))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngIf",!b.dateValid(e)||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("nbDatepicker",d)("ngModelOptions",c.qc(42,sn))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(4),c.nc("ngIf",s.invalid&&s.touched||b.checkIssues),c.Eb(2),c.nc("disabled",""===e.sifra),c.Eb(2),c.nc("ngIf",b.checkIssues)}}function In(e,i){if(1&e&&(c.Xb(0,"div",9),c.Cc(1,Mn,46,43,"div",10),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.dozvole$))}}let On=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.registerService=i,this.mestoService=n,this.router=t,this.valid=!1,this.checkIssues=!1,this.brojSkladista=0,this.storageAmmountUnit="KG"}ngOnInit(){this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladistaSkladistenje&&(this.skladistaSkladistenje=this.firma.skladistaSkladistenje,this.skladistaSkladistenje$=Object(r.a)(this.skladistaSkladistenje),this.brojSkladista=this.skladistaSkladistenje.length),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola.filter(e=>"skladistenje"===e.vrstaDozvole),this.dozvole$=Object(r.a)(this.dozvole)))}),this.validateCache(),this.registerService.sendFirma(Object(r.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(q.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(r.a)(e)})}getConfigValue(e){return Object(h.n)(this.options,e,null)}checkValid(){return this.validateCache(),!!this.valid||(this.checkIssues=!0,!1)}validateCache(){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladistaSkladistenje&&(this.valid=this.dozvole.length>0&&this.skladistaSkladistenje.length>0),void 0!==this.dozvole)for(const e of this.dozvole){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if(""===e.sifra){this.valid=!1;break}if(void 0===e.datumTrajanja||void 0===e.datumNastanka){this.valid=!1;break}if(void 0===e.skladistaSkladistenje){this.valid=!1;break}if(e.listaOtpada.length<1){this.valid=!1;break}}if(void 0!==this.skladistaSkladistenje)for(const e of this.skladistaSkladistenje){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if("T"===this.storageAmmountUnit&&(e.maxKolicina*=1e3),e.maxKolicina<1||isNaN(e.maxKolicina)){this.valid=!1;break}if(""===e.adresa.mesto.mestoNaziv||""===e.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===e.adresa.ulica){this.valid=!1;break}}}updateDozvolaForm(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter(e=>"skladistenje"!==e.vrstaDozvole)),this.dozvole=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"skladistenje"};this.skladistaSkladistenje=new Array(this.brojSkladista);for(let e=0;e<this.brojSkladista;e++)this.skladistaSkladistenje[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:NaN,naziv:"",skladistenje:!0};this.firma.skladistaSkladistenje=this.skladistaSkladistenje,this.skladistaSkladistenje$=Object(r.a)(this.skladistaSkladistenje),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(r.a)(this.dozvole),this.validateCache()}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(r.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(r.a)(e),this.getMesta(e[0])}):this.opstine$=Object(r.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(r.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}setAdresa(e,i){e.adresa=i.adresa}dateValid(e){return e.datumNastanka<=e.datumTrajanja}isNaN(e){return!(!isNaN(e)&&void 0!==e)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(g),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-skladistenje"]],decls:16,vars:6,consts:[[1,"row","my-2"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-12"],["fullWidth","","min","1","name","brojSkladistaSkladistenje","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["storageCacheForm","ngForm"],["accent","secondary",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"change"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,i){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return i.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",5),c.Ec(7,"Broj skladi\u0161ta:"),c.Wb(),c.Xb(8,"input",6),c.fc("ngModelChange",(function(e){return i.brojSkladista=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",4),c.Xb(10,"div",5),c.Xb(11,"button",7),c.Ec(12,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ec(13),c.Wb(),c.Cc(14,dn,3,3,"div",8),c.Cc(15,In,3,3,"div",8)),2&e&&(c.Eb(8),c.nc("ngModel",i.brojSkladista)("ngModelOptions",c.qc(5,sn)),c.Eb(5),c.Gc(" ",i.valid,"\n"),c.Eb(1),c.nc("ngIf",i.brojSkladista>0),c.Eb(1),c.nc("ngIf",i.brojSkladista>0))},directives:[a.w,a.l,a.m,v.O,a.p,a.b,a.k,a.n,v.t,t.n,t.m,v.w,v.v,a.f,a.g,a.s,v.ob,v.r,v.q,a.q,v.nb,v.db,v.H,v.G],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();function Sn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Naziv dozvole je obavezna! "),c.Wb())}function qn(e,i){if(1&e&&(c.Xb(0,"p",34),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function Vn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Sn,2,0,"p",33),c.Cc(2,qn,2,1,"p",33),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function wn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function yn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,wn,2,0,"p",33),c.Ub()),2&e){c.hc();const e=c.uc(16);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function xn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Datum nastanka dozvole je obavezan! "),c.Wb())}function Fn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),c.Wb())}function Dn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,xn,2,0,"p",33),c.Cc(2,Fn,2,0,"p",33),c.Ub()),2&e){const e=c.hc().$implicit,i=c.uc(22),n=c.hc(2);c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.required),c.Eb(1),c.nc("ngIf",!n.dateValid(e))}}function Nn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Datum isteka dozvole je obavezan! "),c.Wb())}function $n(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Nn,2,0,"p",33),c.Ub()),2&e){c.hc();const e=c.uc(30);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Tn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),c.Wb())}function Ln(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Tn,2,0,"p",33),c.Ub()),2&e){const e=c.hc().$implicit;c.Eb(1),c.nc("ngIf",e.listaOtpada.length<1)}}const Pn=function(){return{standalone:!0}};function Un(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",null,13),c.Xb(3,"nb-card",14),c.Xb(4,"nb-card-body"),c.Xb(5,"div",4),c.Xb(6,"div",15),c.Xb(7,"label",16),c.Ec(8,"Naziv Dozvole:"),c.Wb(),c.Xb(9,"input",17,18),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,Vn,3,2,"ng-container",19),c.Wb(),c.Xb(12,"div",15),c.Xb(13,"label",20),c.Ec(14,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(15,"input",21,22),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.sifra=n})),c.Wb(),c.Cc(17,yn,2,1,"ng-container",19),c.Wb(),c.Xb(18,"div",5),c.Xb(19,"label",23),c.Ec(20,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(21,"input",24,25),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumNastanka=n})),c.Wb(),c.Sb(23,"nb-datepicker",null,26),c.Cc(25,Dn,3,2,"ng-container",19),c.Wb(),c.Xb(26,"div",5),c.Xb(27,"label",27),c.Ec(28,"Datum isteka dozvole: \xa0\xa0\xa0\xa0\xa0\xa0"),c.Wb(),c.Xb(29,"input",28,29),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumTrajanja=n})),c.Wb(),c.Sb(31,"nb-datepicker",null,30),c.Cc(33,$n,2,1,"ng-container",19),c.Wb(),c.Xb(34,"div",31),c.Xb(35,"button",32),c.fc("click",(function(){c.wc(e);const n=i.$implicit;return c.hc(2).chooseDozvola(n)})),c.Ec(36,"Odaberi otpade "),c.Wb(),c.Cc(37,Ln,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(16),o=c.uc(22),l=c.uc(24),r=c.uc(30),s=c.uc(32),d=c.hc(2);c.Eb(9),c.pc("placeholder","Dozvola Transport #",n,""),c.nc("ngModel",e.naziv)("ngModelOptions",c.qc(31,Pn))("required",d.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",d.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",d.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||d.checkIssues),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.qc(32,Pn))("required",d.getConfigValue("forms.validation.sifraDozvole.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||d.checkIssues),c.Eb(4),c.nc("ngModel",e.datumNastanka)("nbDatepicker",l)("ngModelOptions",c.qc(33,Pn))("required",d.getConfigValue("forms.validation.datum.required"))("status",d.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(4),c.nc("ngIf",!d.dateValid(e)||d.checkIssues),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("nbDatepicker",s)("ngModelOptions",c.qc(34,Pn))("required",d.getConfigValue("forms.validation.datum.required"))("status",d.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(4),c.nc("ngIf",r.invalid&&r.touched||d.checkIssues),c.Eb(2),c.nc("disabled",""===e.sifra),c.Eb(2),c.nc("ngIf",d.checkIssues)}}function Bn(e,i){if(1&e&&(c.Xb(0,"div",11),c.Cc(1,Un,38,35,"div",12),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.dozvole$))}}function Rn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Registarski broj tablica je obavezan! "),c.Wb())}function An(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),c.Wb())}function Gn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Rn,2,0,"p",33),c.Cc(2,An,2,0,"p",33),c.Ub()),2&e){c.hc();const e=c.uc(9);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.pattern)||(null==e.errors?null:e.errors.minLength))}}function Kn(e,i){1&e&&(c.Xb(0,"p",34),c.Ec(1," Vrsta vozila je obavezna! "),c.Wb())}function Zn(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Kn,2,0,"p",33),c.Ub()),2&e){c.hc();const e=c.uc(15);c.Eb(1),c.nc("ngIf",!e.value)}}function _n(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",5),c.Xb(1,"form",35,36),c.fc("change",(function(i){return c.wc(e),c.hc(2).validateTransport(i)})),c.Xb(3,"nb-card",37),c.Xb(4,"nb-card-body"),c.Xb(5,"div",15),c.Xb(6,"label",38),c.Ec(7,"Registarski broj tablice:"),c.Wb(),c.Xb(8,"input",39,40),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.registarskiBroj=n})),c.Wb(),c.Cc(10,Gn,3,2,"ng-container",19),c.Wb(),c.Xb(11,"div",15),c.Xb(12,"label",41),c.Ec(13,"Vrsta vozila:"),c.Wb(),c.Xb(14,"nb-select",42,43),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.vrstaVozila=n}))("ngModelChange",(function(){return c.wc(e),c.hc(2).validateTransport({})})),c.Xb(16,"nb-option",44),c.Ec(17,"Kamion"),c.Wb(),c.Xb(18,"nb-option",45),c.Ec(19,"Kombi"),c.Wb(),c.Xb(20,"nb-option",46),c.Ec(21,"Automobil"),c.Wb(),c.Wb(),c.Cc(22,Zn,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=c.uc(9),t=c.uc(15),a=c.hc(2);c.Eb(8),c.nc("ngModel",e.registarskiBroj)("maxlength",a.getConfigValue("forms.validation.registarskiBroj.maxLength"))("minLength",a.getConfigValue("forms.validation.registarskiBroj.minLength"))("ngModelOptions",c.qc(15,Pn))("pattern",a.getConfigValue("forms.validation.registarskiBroj.pattern"))("required",a.getConfigValue("forms.validation.registarskiBroj.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),c.Eb(2),c.nc("ngIf",n.invalid&&n.touched||a.checkIssues),c.Eb(4),c.nc("ngModel",e.vrstaVozila)("ngModelOptions",c.qc(16,Pn))("required",a.getConfigValue("forms.validation.nazivFirme.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(8),c.nc("ngIf",t.invalid&&t.touched||a.checkIssues)}}function Yn(e,i){if(1&e&&(c.Xb(0,"div",11),c.Cc(1,_n,23,17,"div",12),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.vozila$))}}let Hn=(()=>{class e{constructor(e={},i,n){this.options=e,this.registerService=i,this.router=n,this.valid=!1,this.checkIssues=!1,this.brojDozvola=0,this.brojVozila=0}ngOnInit(){this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.prevoznoSredstvo&&(this.brojVozila=this.firma.prevoznoSredstvo.length,this.vozila=this.firma.prevoznoSredstvo,this.vozila$=Object(r.a)(this.vozila)),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola.filter(e=>"transport"===e.vrstaDozvole),this.dozvole$=Object(r.a)(this.dozvole),this.brojDozvola=this.dozvole.length))}),this.validateTransport(),this.registerService.sendFirma(Object(r.a)(this.firma))}getConfigValue(e){return Object(h.n)(this.options,e,null)}checkValid(){return this.validateTransport(),!!this.valid||(this.checkIssues=!0,!1)}validateTransport(){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.vozila&&(this.valid=this.dozvole.length>0&&this.vozila.length>0),void 0!==this.dozvole)for(const e of this.dozvole){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if(""===e.sifra){this.valid=!1;break}if(void 0===e.datumTrajanja||void 0===e.datumNastanka){this.valid=!1;break}if(e.listaOtpada.length<1){this.valid=!1;break}}if(void 0!==this.vozila)for(const e of this.vozila){if(""===e.registarskiBroj||e.registarskiBroj.length<9){this.valid=!1;break}if(""===e.vrstaVozila){this.valid=!1;break}}}updateDozvolaForm(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter(e=>"transport"!==e.vrstaDozvole)),this.dozvole=new Array(this.brojDozvola);for(let e=0;e<this.brojDozvola;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"transport"};this.vozila=new Array(this.brojVozila);for(let e=0;e<this.brojVozila;e++)this.vozila[e]={_id:"",registarskiBroj:"",vrstaVozila:""};this.firma.prevoznoSredstvo=this.vozila,this.vozila$=Object(r.a)(this.vozila),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(r.a)(this.dozvole),this.validateTransport()}dateValid(e){return e.datumNastanka<=e.datumTrajanja}chooseDozvola(e){this.registerService.sendDozvola(Object(r.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-transport"]],decls:20,vars:9,consts:[[1,"row","my-2"],[1,"col-8"],[3,"ngSubmit"],["updateForm",""],[1,"row"],[1,"col-6"],[1,"col-12"],["fullWidth","","min","1","name","brojDozvola","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["name","brojVozila","fullWidth","","nbInput","","placeholder","0","step","1","type","number","min","1",3,"ngModelOptions","ngModel","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[4,"ngIf"],["for","input-sifraDozvole",1,"label"],["autofocus","","fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",1,"col",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",1,"col",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"change"],["transportForm","ngForm"],["accent","danger"],["for","input-registarskiBroj",1,"label"],["fullWidth","","id","input-registarskiBroj","name","registarskiBroj","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["registarskiBroj","ngModel"],["for","input-vrstaVozila",1,"label"],["fullWidth","","id","input-vrstaVozila","name","vrstaVozila","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vrstaVozila","ngModel"],["value","kamion"],["value","kombi"],["value","automobil"]],template:function(e,i){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return i.updateDozvolaForm()})),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",6),c.Ec(7,"Broj dozvola:"),c.Wb(),c.Xb(8,"input",7),c.fc("ngModelChange",(function(e){return i.brojDozvola=e})),c.Wb(),c.Wb(),c.Xb(9,"div",5),c.Xb(10,"label",6),c.Ec(11,"Broj vozila:"),c.Wb(),c.Xb(12,"input",8),c.fc("ngModelChange",(function(e){return i.brojVozila=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"div",4),c.Xb(14,"div",6),c.Xb(15,"button",9),c.Ec(16,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ec(17),c.Wb(),c.Cc(18,Bn,3,3,"div",10),c.Cc(19,Yn,3,3,"div",10)),2&e&&(c.Eb(8),c.nc("ngModel",i.brojDozvola)("ngModelOptions",c.qc(7,Pn)),c.Eb(4),c.nc("ngModelOptions",c.qc(8,Pn))("ngModel",i.brojVozila),c.Eb(5),c.Gc(" ",i.valid,"\n"),c.Eb(1),c.nc("ngIf",i.brojDozvola>0),c.Eb(1),c.nc("ngIf",i.brojVozila>0))},directives:[a.w,a.l,a.m,v.O,a.p,a.b,a.k,a.n,v.t,t.n,t.m,v.w,v.v,a.s,a.f,v.H,v.G,a.q,v.nb,v.db],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),e})();function Jn(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function Qn(e,i){if(1&e&&(c.Xb(0,"p",53),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv skladi\u0161ta mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivSkladista.minLength")," slova! ")}}function et(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Jn,2,0,"p",52),c.Cc(2,Qn,2,1,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function it(e,i){if(1&e&&(c.Xb(0,"nb-option",51),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function nt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Op\u0161tina je obavezna! "),c.Wb())}function tt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,nt,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(21);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function at(e,i){if(1&e&&(c.Xb(0,"nb-option",51),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e)}}function ot(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Mesto je obavezno! "),c.Wb())}function lt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ot,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(31);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function rt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Po\u0161tanski broj je obavezan! "),c.Wb())}function st(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Po\u0161tanski broj mora biti validan! "),c.Wb())}function ct(e,i){if(1&e&&(c.Vb(0),c.Cc(1,rt,2,0,"p",52),c.Cc(2,st,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(42);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function dt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Ulica je obavezna! "),c.Wb())}function bt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,dt,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(48);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function ut(e,i){if(1&e&&(c.Xb(0,"p",53),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")-2," decimale ")}}function gt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ut,2,1,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(55);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ft(e,i){if(1&e&&(c.Xb(0,"p",53),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Geolokacija istok mora imati bar ",e.getConfigValue("forms.validation.geolokacija.minLength")," decimale! ")}}function mt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ft,2,1,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(61);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function pt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),c.Wb())}function ht(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),c.Wb())}function vt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,pt,2,0,"p",52),c.Cc(2,ht,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(70),i=c.hc(2);c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.required)||i.isNaN(e.value)),c.Eb(1),c.nc("ngIf",e<1)}}const kt=function(){return{standalone:!0}};function jt(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",4),c.Xb(1,"form",null,10),c.Xb(3,"nb-card",11),c.Xb(4,"nb-card-body"),c.Xb(5,"div",12),c.Xb(6,"div",4),c.Xb(7,"label",13),c.Ec(8,"Naziv Skladi\u0161ta:"),c.Wb(),c.Xb(9,"input",14,15),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,et,3,2,"ng-container",16),c.Wb(),c.Wb(),c.Xb(12,"div",17),c.Xb(13,"div",4),c.Xb(14,"label",18),c.Ec(15,"Adresa:"),c.Wb(),c.Xb(16,"div",19),c.Xb(17,"div",20),c.Xb(18,"nb-select-label",21),c.Ec(19,"Op\u0161tina:"),c.Wb(),c.Xb(20,"input",22,23),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findOpstina(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.opstinaNaziv=n})),c.Wb(),c.Xb(22,"nb-autocomplete",null,24),c.Cc(24,it,2,2,"nb-option",25),c.ic(25,"async"),c.Wb(),c.Cc(26,tt,2,1,"ng-container",16),c.Wb(),c.Xb(27,"div",20),c.Xb(28,"nb-select-label",26),c.Ec(29,"Mesto:"),c.Wb(),c.Xb(30,"input",27,28),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).findMesta(i)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.mestoNaziv=n})),c.Wb(),c.Xb(32,"nb-autocomplete",null,29),c.Cc(34,at,2,2,"nb-option",25),c.ic(35,"async"),c.Wb(),c.Cc(36,lt,2,1,"ng-container",16),c.Wb(),c.Wb(),c.Xb(37,"div",30),c.Xb(38,"div",31),c.Xb(39,"label",32),c.Ec(40,"Po\u0161tanski broj:"),c.Wb(),c.Xb(41,"input",33,34),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.mesto.postanskiBroj=n})),c.Wb(),c.Cc(43,ct,3,2,"ng-container",16),c.Wb(),c.Xb(44,"div",35),c.Xb(45,"label",36),c.Ec(46,"Ulica i broj:"),c.Wb(),c.Xb(47,"input",37,38),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.adresa.ulica=n})),c.Wb(),c.Cc(49,bt,2,1,"ng-container",16),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(50,"div",17),c.Xb(51,"div",20),c.Xb(52,"label",39),c.Ec(53,"Geolokacija Sever(N):"),c.Wb(),c.Xb(54,"input",40,41),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaN=n})),c.Wb(),c.Cc(56,gt,2,1,"ng-container",16),c.Wb(),c.Xb(57,"div",20),c.Xb(58,"label",42),c.Ec(59,"Geolokacija Istok(E0):"),c.Wb(),c.Xb(60,"input",43,44),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.geolokacijaE=n})),c.Wb(),c.Cc(62,mt,2,1,"ng-container",16),c.Wb(),c.Wb(),c.Xb(63,"div",17),c.Xb(64,"div",4),c.Xb(65,"label",45),c.Ec(66,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Xb(67,"div",0),c.Xb(68,"div",46),c.Xb(69,"input",47,48),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.maxKolicina=n})),c.Wb(),c.Wb(),c.Xb(71,"div",49),c.Xb(72,"nb-select",50),c.fc("ngModelChange",(function(i){return c.wc(e),c.hc(2).storageAmmountUnit=i})),c.Xb(73,"nb-option",51),c.Ec(74,"KG"),c.Wb(),c.Xb(75,"nb-option",51),c.Ec(76,"T"),c.Wb(),c.Wb(),c.Wb(),c.Cc(77,vt,3,2,"ng-container",16),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(21),o=c.uc(23),l=c.uc(31),r=c.uc(33),s=c.uc(42),d=c.uc(48),b=c.uc(55),u=c.uc(61),g=c.uc(70),f=c.hc(2);c.Eb(9),c.nc("ngModel",e.naziv)("maxlength",f.getConfigValue("forms.validation.nazivSkladista.maxLength"))("minlength",f.getConfigValue("forms.validation.nazivSkladista.minLength"))("ngModelOptions",c.qc(72,kt))("placeholder","Skladiste Tretman #"+n)("required",f.getConfigValue("forms.validation.nazivSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||f.checkIssues),c.Eb(9),c.nc("ngModel",e.adresa.mesto.opstinaNaziv)("nbAutocomplete",o)("ngModelOptions",c.qc(73,kt))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(25,68,f.opstine$)),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.mesto.mestoNaziv)("nbAutocomplete",r)("ngModelOptions",c.qc(74,kt))("required",f.getConfigValue("forms.validation.adresa.required")),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngForOf",c.jc(35,70,f.mesta$)),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.adresa.mesto.postanskiBroj)("maxlength",f.getConfigValue("forms.validation.postanskiBroj.maxLength"))("minlength",f.getConfigValue("forms.validation.postanskiBroj.minLength"))("ngModelOptions",c.qc(75,kt))("required",f.getConfigValue("forms.validation.postanskiBroj.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(2),c.nc("ngIf",s.invalid&&s.touched||f.checkIssues),c.Eb(4),c.nc("ngModel",e.adresa.ulica)("maxlength",f.getConfigValue("forms.validation.ulica.maxLength"))("minlength",f.getConfigValue("forms.validation.ulica.minLength"))("ngModelOptions",c.qc(76,kt))("required",f.getConfigValue("forms.validation.ulica.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),c.Eb(2),c.nc("ngIf",d.invalid&&d.touched||f.checkIssues),c.Eb(5),c.nc("ngModel",e.geolokacijaN)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("ngModelOptions",c.qc(77,kt))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),c.Eb(2),c.nc("ngIf",b.invalid&&b.touched),c.Eb(4),c.nc("ngModel",e.geolokacijaE)("maxlength",f.getConfigValue("forms.validation.geolokacija.maxLength"))("minlength",f.getConfigValue("forms.validation.geolokacija.minLength"))("ngModelOptions",c.qc(78,kt))("pattern",f.getConfigValue("forms.validation.geolokacija.pattern"))("required",f.getConfigValue("forms.validation.geolokacija.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),c.Eb(2),c.nc("ngIf",u.invalid&&u.touched),c.Eb(7),c.nc("ngModel",e.maxKolicina)("min",f.getConfigValue("forms.validation.velicinaSkladista.min"))("ngModelOptions",c.qc(79,kt))("required",f.getConfigValue("forms.validation.velicinaSkladista.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),c.Eb(3),c.nc("ngModelOptions",c.qc(80,kt))("selected","KG")("ngModel",f.storageAmmountUnit),c.Eb(1),c.nc("value","KG"),c.Eb(2),c.nc("value","T"),c.Eb(2),c.nc("ngIf",g.invalid&&g.touched||f.checkIssues)}}function Wt(e,i){if(1&e&&(c.Xb(0,"div",8),c.Cc(1,jt,78,81,"div",9),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.skladistaTretman$))}}function Et(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Naziv dozvole je obavezna! "),c.Wb())}function Xt(e,i){if(1&e&&(c.Xb(0,"p",53),c.Ec(1),c.Wb()),2&e){const e=c.hc(4);c.Eb(1),c.Gc(" Naziv dozvole mora biti du\u017ei od ",e.getConfigValue("forms.validation.nazivDozvole.minLength")," slova! ")}}function zt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Et,2,0,"p",52),c.Cc(2,Xt,2,1,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(10);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.maxLength)||(null==e.errors?null:e.errors.minLength))}}function Ct(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," \u0160ifra dozvole je obavezna! "),c.Wb())}function Mt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ct,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(16);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function It(e,i){if(1&e&&(c.Xb(0,"nb-option",51),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.nc("value",e),c.Eb(1),c.Fc(e.naziv)}}function Ot(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Postrojenje za koje je vezana dozvola je obavezno! "),c.Wb())}function St(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ot,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(22);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function qt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Datum nastanka dozvole je obavezan! "),c.Wb())}function Vt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),c.Wb())}function wt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,qt,2,0,"p",52),c.Cc(2,Vt,2,0,"p",52),c.Ub()),2&e){const e=c.hc().$implicit,i=c.uc(30),n=c.hc(2);c.Eb(1),c.nc("ngIf",null==i.errors?null:i.errors.required),c.Eb(1),c.nc("ngIf",!n.dateValid(e))}}function yt(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Datum isteka dozvole je obavezan! "),c.Wb())}function xt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,yt,2,0,"p",52),c.Ub()),2&e){c.hc();const e=c.uc(38);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ft(e,i){1&e&&(c.Xb(0,"p",53),c.Ec(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),c.Wb())}function Dt(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ft,2,0,"p",52),c.Ub()),2&e){const e=c.hc().$implicit;c.Eb(1),c.nc("ngIf",e.listaOtpada.length<1)}}function Nt(e,i){if(1&e){const e=c.Yb();c.Xb(0,"div",4),c.Xb(1,"form",54,55),c.fc("change",(function(i){return c.wc(e),c.hc(2).validateTreatment(i)})),c.Xb(3,"nb-card",56),c.Xb(4,"nb-card-body"),c.Xb(5,"div",0),c.Xb(6,"div",57),c.Xb(7,"label",58),c.Ec(8,"Naziv Dozvole:"),c.Wb(),c.Xb(9,"input",59,60),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.naziv=n})),c.Wb(),c.Cc(11,zt,3,2,"ng-container",16),c.Wb(),c.Xb(12,"div",61),c.Xb(13,"label",62),c.Ec(14,"\u0160ifra Dozvole:"),c.Wb(),c.Xb(15,"input",63,64),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.sifra=n})),c.Wb(),c.Cc(17,Mt,2,1,"ng-container",16),c.Wb(),c.Xb(18,"div",61),c.Xb(19,"label",65),c.Ec(20,"Odaberi postrojenje:"),c.Wb(),c.Xb(21,"nb-select",66,67),c.fc("selectedChange",(function(n){c.wc(e);const t=i.$implicit;return c.hc(2).setAdresa(t,n)}))("ngModelChange",(function(n){return c.wc(e),i.$implicit.skladistaTretman=n})),c.Cc(23,It,2,2,"nb-option",25),c.ic(24,"async"),c.Wb(),c.Cc(25,St,2,1,"ng-container",16),c.Wb(),c.Xb(26,"div",20),c.Xb(27,"label",68),c.Ec(28,"Datum izdavanja dozvole:"),c.Wb(),c.Xb(29,"input",69,70),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumNastanka=n})),c.Wb(),c.Sb(31,"nb-datepicker",null,71),c.Cc(33,wt,3,2,"ng-container",16),c.Wb(),c.Xb(34,"div",20),c.Xb(35,"label",72),c.Ec(36,"Datum isteka dozvole:"),c.Wb(),c.Xb(37,"input",73,74),c.fc("ngModelChange",(function(n){return c.wc(e),i.$implicit.datumTrajanja=n})),c.Wb(),c.Sb(39,"nb-datepicker",null,75),c.Cc(41,xt,2,1,"ng-container",16),c.Wb(),c.Xb(42,"div",76),c.Xb(43,"button",77),c.fc("click",(function(){c.wc(e);const n=i.$implicit;return c.hc(2).chooseDozvola(n)})),c.Ec(44,"Odaberi otpade "),c.Wb(),c.Cc(45,Dt,2,1,"ng-container",16),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=i.$implicit,n=i.index,t=c.uc(10),a=c.uc(16),o=c.uc(22),l=c.uc(30),r=c.uc(32),s=c.uc(38),d=c.uc(40),b=c.hc(2);c.Eb(9),c.pc("placeholder","Dozvola Tretman #",n,""),c.nc("ngModel",e.naziv)("ngModelOptions",c.qc(38,kt))("required",b.getConfigValue("forms.validation.nazivDozvole.required"))("maxlength",b.getConfigValue("forms.validation.nazivDozvole.maxLength"))("minLength",b.getConfigValue("forms.validation.nazivDozvole.minLength"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.sifra)("ngModelOptions",c.qc(39,kt))("required",b.getConfigValue("forms.validation.sifraDozvole.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.skladistaTretman)("ngModelOptions",c.qc(40,kt))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Eb(2),c.nc("ngForOf",c.jc(24,36,b.skladistaTretman$)),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumNastanka)("nbDatepicker",r)("ngModelOptions",c.qc(41,kt))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("ngIf",!b.dateValid(e)||b.checkIssues),c.Eb(4),c.nc("ngModel",e.datumTrajanja)("nbDatepicker",d)("ngModelOptions",c.qc(42,kt))("required",b.getConfigValue("forms.validation.datum.required"))("status",b.dateValid(e)?"success":"danger"),c.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),c.Eb(4),c.nc("ngIf",s.invalid&&s.touched||b.checkIssues),c.Eb(2),c.nc("disabled",""===e.sifra),c.Eb(2),c.nc("ngIf",b.checkIssues)}}function $t(e,i){if(1&e&&(c.Xb(0,"div",8),c.Cc(1,Nt,46,43,"div",9),c.ic(2,"async"),c.Wb()),2&e){const e=c.hc();c.Eb(1),c.nc("ngForOf",c.jc(2,1,e.dozvole$))}}let Tt=(()=>{class e{constructor(e={},i,n,t){this.options=e,this.registerService=i,this.mestoService=n,this.router=t,this.valid=!1,this.checkIssues=!1,this.brojSkladistaTretman=0,this.storageAmmountUnit="KG"}ngOnInit(){this.registerService.getFirma().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.firma=e,void 0!==e.skladistaTretman&&(this.brojSkladistaTretman=this.firma.skladistaTretman.length,this.skladistaTretman=this.firma.skladistaTretman,this.skladistaTretman$=Object(r.a)(this.skladistaTretman)),void 0!==e.dozvola&&(this.dozvole=this.firma.dozvola.filter(e=>"tretman"===e.vrstaDozvole),this.dozvole$=Object(r.a)(this.dozvole)))}),this.validateTreatment(),this.registerService.sendFirma(Object(r.a)(this.firma)),this.mestoService.getOpstine().pipe(Object(q.a)()).subscribe(e=>{this.opstine=e,this.opstine$=Object(r.a)(e)})}getConfigValue(e){return Object(h.n)(this.options,e,null)}checkValid(){return this.validateTreatment(),!!this.valid||(this.checkIssues=!0,!1)}validateTreatment(){if(this.valid=!1,void 0!==this.dozvole&&void 0!==this.skladistaTretman&&(this.valid=this.dozvole.length>0&&this.skladistaTretman.length>0),void 0!==this.dozvole)for(const e of this.dozvole){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if(""===e.sifra){this.valid=!1;break}if(void 0===e.datumTrajanja||void 0===e.datumNastanka){this.valid=!1;break}if(void 0===e.skladistaTretman){this.valid=!1;break}if(e.listaOtpada.length<1){this.valid=!1;break}}if(void 0!==this.skladistaTretman)for(const e of this.skladistaTretman){if(""===e.naziv||e.naziv.length<3){this.valid=!1;break}if("T"===this.storageAmmountUnit&&(e.maxKolicina*=1e3),e.maxKolicina<1||isNaN(e.maxKolicina)){this.valid=!1;break}if(""===e.adresa.mesto.mestoNaziv||""===e.adresa.mesto.opstinaNaziv){this.valid=!1;break}if(""===e.adresa.ulica){this.valid=!1;break}}}updateDozvolaForm(){this.firma.dozvola&&(this.firma.dozvola=this.firma.dozvola.filter(e=>"tretman"!==e.vrstaDozvole)),this.dozvole=new Array(this.brojSkladistaTretman);for(let e=0;e<this.brojSkladistaTretman;e++)this.dozvole[e]={_id:"",naziv:"",datumNastanka:new Date,datumTrajanja:new Date,listaOtpada:[],sifra:"",vrstaDozvole:"tretman"};this.skladistaTretman=new Array(this.brojSkladistaTretman);for(let e=0;e<this.brojSkladistaTretman;e++)this.skladistaTretman[e]={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},geolokacijaE:null,geolokacijaN:null,kolicina:0,maxKolicina:NaN,naziv:""};this.firma.skladistaTretman=this.skladistaTretman,this.skladistaTretman$=Object(r.a)(this.skladistaTretman),this.firma.dozvola=this.firma.dozvola?this.firma.dozvola.concat(this.dozvole):this.dozvole,this.dozvole$=Object(r.a)(this.dozvole),this.validateTreatment()}getMesta(e){void 0!==e&&this.mestoService.getNazivMesta(e).subscribe(e=>{this.mesta=e,this.mesta$=Object(r.a)(e)})}findOpstina(e){""!==e?this.mestoService.filter(e,this.opstine).subscribe(e=>{this.opstine$=Object(r.a)(e),this.getMesta(e[0])}):this.opstine$=Object(r.a)(this.opstine)}findMesta(e){this.mesta$=this.mestoService.filter(e,this.mesta)}chooseDozvola(e){this.registerService.sendDozvola(Object(r.a)(e.sifra)),this.router.navigate(["/auth/register-dozvola"])}setAdresa(e,i){e.adresa=i.adresa}dateValid(e){return e.datumNastanka<=e.datumTrajanja}isNaN(e){return!(!isNaN(e)&&void 0!==e)}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(g),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-tretman"]],decls:16,vars:6,consts:[[1,"row"],[1,"col-4"],[3,"ngSubmit"],["updateForm",""],[1,"col-12"],["fullWidth","","min","1","name","brojSkladista","nbInput","","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","status","primary","type","submit","fullWidth",""],["class","row pt-4",4,"ngIf"],[1,"row","pt-4"],["class","col-12",4,"ngFor","ngForOf"],["storageTreatmentForm","ngForm"],["accent","info",1,"p-2"],[1,"row","mb-2","mt-2"],["for","input-nazivSkladista",1,"label"],["autofocus","","fullWidth","","id","input-nazivSkladista","name","nazivSkladista","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["nazivSkladista","ngModel"],[4,"ngIf"],[1,"row","mb-2"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],[1,"col-6"],["for","input-opstinaSkladista",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-opstinaSkladista","name","opstinaSkladista","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["opstinaSkladista","ngModel"],["autoOpstinaSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","input-mestoSkladiste",1,"label"],["autofocus","off","autocomplete","off","fullWidth","","id","input-mestoSkladiste","name","mestoSkladiste","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["mestoSkladiste","ngModel"],["autoMestoSelect",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-postanskiBrojSkladiste",1,"label"],["fullWidth","","id","input-postanskiBrojSkladiste","name","postanskiBrojSkladiste","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["postanskiBroj","ngModel"],[1,"col-9"],["for","input-ulicaSkladista",1,"label"],["fullWidth","","id","input-ulicaSkladista","name","ulicaSkladista","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["ulicaSkladista","ngModel"],["for","input-geolokacijaN",1,"label"],["fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","placeholder","N0",3,"ngModel","maxlength","minlength","pattern","ngModelOptions","required","status","ngModelChange"],["geolokacijaN","ngModel"],["for","input-geolokacijaE0",1,"label"],["fullWidth","","id","input-geolokacijaE0","name","geolokacijaE0","nbInput","","placeholder","E0",3,"ngModel","maxlength","minlength","ngModelOptions","pattern","required","status","ngModelChange"],["geolokacijaE0","ngModel"],["for","input-maxKolicina",1,"label","pl-0","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-maxKolicina","name","kolicina","nbInput","","onkeypress","return /[0-9.]/i.test(event.key)","placeholder","0","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["velicinaSkladista","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","selected","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[3,"change"],["permitForm","ngForm"],["accent","success"],[1,"col-12","mb-2"],["for","input-nazivDozvole",1,"label"],["autofocus","","fullWidth","","id","input-nazivDozvole","name","nazivDozvole","nbInput","","placeholder","Naziv",3,"ngModel","ngModelOptions","required","maxlength","minLength","status","placeholder","ngModelChange"],["nazivDozvole","ngModel"],[1,"col-6","mb-2"],["for","input-sifraDozvole",1,"label"],["autofocus","","fullWidth","","id","input-sifraDozvole","name","sifraDozvole","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["sifraDozvole","ngModel"],["for","input-postrojenjeDozvole",1,"label"],["name","postrojenjeDozvole","fullWidth","","id","input-postrojenjeDozvole","required","",3,"ngModel","ngModelOptions","status","selectedChange","ngModelChange"],["postrojenjeDozvole","ngModel"],["for","input-datumNastanka",1,"label"],["fullWidth","","id","input-datumNastanka","name","datumDozvole","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumNastanka","ngModel"],["datumNastankaDozvole",""],["for","input-datumTrajanja",1,"label"],["fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["datumTrajanja","ngModel"],["datumTrajanjaDozvole",""],[1,"col-6","mt-2"],["nbButton","","status","success","type","submit",3,"disabled","click"]],template:function(e,i){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"form",2,3),c.fc("ngSubmit",(function(){return i.updateDozvolaForm()})),c.Xb(4,"div",0),c.Xb(5,"div",4),c.Xb(6,"label",4),c.Ec(7,"Broj skladi\u0161ta za tretman:"),c.Wb(),c.Xb(8,"input",5),c.fc("ngModelChange",(function(e){return i.brojSkladistaTretman=e})),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",0),c.Xb(10,"div",4),c.Xb(11,"button",6),c.Ec(12,"Odaberi"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ec(13),c.Wb(),c.Cc(14,Wt,3,3,"div",7),c.Cc(15,$t,3,3,"div",7)),2&e&&(c.Eb(8),c.nc("ngModel",i.brojSkladistaTretman)("ngModelOptions",c.qc(5,kt)),c.Eb(5),c.Gc(" ",i.valid,"\n"),c.Eb(1),c.nc("ngIf",i.brojSkladistaTretman>0),c.Eb(1),c.nc("ngIf",i.brojSkladistaTretman>0))},directives:[a.w,a.l,a.m,v.O,a.p,a.b,a.k,a.n,v.t,t.n,t.m,v.w,v.v,a.f,a.g,a.s,v.ob,v.r,v.q,a.q,v.nb,v.db,v.H,v.G],pipes:[t.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),e})();function Lt(e,i){1&e&&c.Sb(0,"ngx-proizvodnja")}function Pt(e,i){if(1&e&&(c.Xb(0,"nb-accordion-item",12,13),c.Xb(2,"nb-accordion-item-header"),c.Ec(3,"Proizvodnja "),c.Sb(4,"nb-icon",14),c.Wb(),c.Xb(5,"nb-accordion-item-body"),c.Cc(6,Lt,1,0,"ngx-proizvodnja",15),c.Wb(),c.Wb()),2&e){const e=c.uc(1),i=c.hc();c.nc("collapsed","production"!==i.activeTab),c.Eb(4),c.nc("status",i.checkCompletion("production").status)("icon",i.checkCompletion("production").icon),c.Eb(2),c.nc("ngIf",!e.collapsed)}}function Ut(e,i){1&e&&c.Sb(0,"ngx-transport")}function Bt(e,i){if(1&e&&(c.Xb(0,"nb-accordion-item",12,16),c.Xb(2,"nb-accordion-item-header"),c.Ec(3,"Transport \xa0 "),c.Sb(4,"nb-icon",14),c.Wb(),c.Xb(5,"nb-accordion-item-body"),c.Cc(6,Ut,1,0,"ngx-transport",15),c.Wb(),c.Wb()),2&e){const e=c.uc(1),i=c.hc();c.nc("collapsed","transport"!==i.activeTab),c.Eb(4),c.nc("status",i.checkCompletion("transport").status)("icon",i.checkCompletion("transport").icon),c.Eb(2),c.nc("ngIf",!e.collapsed)}}function Rt(e,i){1&e&&c.Sb(0,"ngx-tretman")}function At(e,i){if(1&e&&(c.Xb(0,"nb-accordion-item",12,17),c.Xb(2,"nb-accordion-item-header"),c.Ec(3,"Tretman \xa0 "),c.Sb(4,"nb-icon",14),c.Wb(),c.Xb(5,"nb-accordion-item-body"),c.Cc(6,Rt,1,0,"ngx-tretman",15),c.Wb(),c.Wb()),2&e){const e=c.uc(1),i=c.hc();c.nc("collapsed","tretman"!==i.activeTab),c.Eb(4),c.nc("status",i.checkCompletion("treatment").status)("icon",i.checkCompletion("treatment").icon),c.Eb(2),c.nc("ngIf",!e.collapsed)}}function Gt(e,i){1&e&&c.Sb(0,"ngx-odlaganje")}function Kt(e,i){if(1&e&&(c.Xb(0,"nb-accordion-item",12,18),c.Xb(2,"nb-accordion-item-header"),c.Ec(3,"Odlaganje \xa0 "),c.Sb(4,"nb-icon",14),c.Wb(),c.Xb(5,"nb-accordion-item-body"),c.Cc(6,Gt,1,0,"ngx-odlaganje",15),c.Wb(),c.Wb()),2&e){const e=c.uc(1),i=c.hc();c.nc("collapsed","odlaganje"!==i.activeTab),c.Eb(4),c.nc("status",i.checkCompletion("dump").status)("icon",i.checkCompletion("dump").icon),c.Eb(2),c.nc("ngIf",!e.collapsed)}}function Zt(e,i){1&e&&c.Sb(0,"ngx-skladistenje")}function _t(e,i){if(1&e&&(c.Xb(0,"nb-accordion-item",12,19),c.Xb(2,"nb-accordion-item-header"),c.Ec(3,"Skladi\u0161tenje \xa0 "),c.Sb(4,"nb-icon",14),c.Wb(),c.Xb(5,"nb-accordion-item-body"),c.Cc(6,Zt,1,0,"ngx-skladistenje",15),c.Wb(),c.Wb()),2&e){const e=c.uc(1),i=c.hc();c.nc("collapsed","skladistenje"!==i.activeTab),c.Eb(4),c.nc("status",i.checkCompletion("storage").status)("icon",i.checkCompletion("storage").icon),c.Eb(2),c.nc("ngIf",!e.collapsed)}}let Yt=(()=>{class e{constructor(e,i,n,t,a){this.registerService=e,this.router=i,this.toastrService=n,this.roleService=t,this.route=a,this.valid=!1,this.activeTab="",this.loading=!1,this.activeTab=this.route.snapshot.paramMap.get("tab")}ngOnInit(){this.registerService.getOperacije().pipe(Object(q.a)()).subscribe(e=>{this.operacije=e}),this.roleService.findOperations(this.operacije).pipe(Object(q.a)()).subscribe(e=>{this.operacije=e})}checkCompletion(e){return"production"===e&&void 0!==this.productionRef&&this.operacije.proizvodnja&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operacije.transport&&this.transportRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operacije.tretman&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operacije.odlaganje&&this.dumpRef.valid||"storage"===e&&void 0!==this.storageRef&&this.operacije.skladistenje&&this.storageRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}validateInformation(e){this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout(()=>{this.valid=!0,void 0!==this.productionRef&&this.operacije.proizvodnja&&(this.productionRef.checkValid()||(this.valid=!1)),void 0!==this.transportRef&&this.operacije.transport&&(this.transportRef.checkValid()||(this.valid=!1)),void 0!==this.treatmentRef&&this.operacije.tretman&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.operacije.odlaganje&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.storageRef&&this.operacije.skladistenje&&(this.storageRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-potvrda"]):(e.closeAll(),e.multi=!1,this.loading=!1,this.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"))},1e3)}showToast(e,i,n){this.toastrService.show(i,e,{status:n})}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(f),c.Rb(o.c),c.Rb(v.Hb),c.Rb(m.a),c.Rb(o.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-informacije"]],viewQuery:function(e,i){var n;1&e&&(c.Lc(Ti,!0),c.Lc(Hn,!0),c.Lc(Tt,!0),c.Lc(fi,!0),c.Lc(On,!0)),2&e&&(c.tc(n=c.gc())&&(i.productionRef=n.first),c.tc(n=c.gc())&&(i.transportRef=n.first),c.tc(n=c.gc())&&(i.treatmentRef=n.first),c.tc(n=c.gc())&&(i.dumpRef=n.first),c.tc(n=c.gc())&&(i.storageRef=n.first))},decls:19,vars:6,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["accent","danger","size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2","col-6",3,"click"],["label","Potvrda"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[4,"ngIf"],["accordionTransport",""],["accordionTreatment",""],["accordionDump",""],["accordionStorage",""]],template:function(e,i){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Sb(3,"nb-step",2),c.Sb(4,"nb-step",3),c.Sb(5,"nb-step",4),c.Xb(6,"nb-step",5),c.Xb(7,"nb-accordion",6,7),c.Cc(9,Pt,7,4,"nb-accordion-item",8),c.Cc(10,Bt,7,4,"nb-accordion-item",8),c.Cc(11,At,7,4,"nb-accordion-item",8),c.Cc(12,Kt,7,4,"nb-accordion-item",8),c.Cc(13,_t,7,4,"nb-accordion-item",8),c.Wb(),c.Xb(14,"button",9),c.Ec(15," Nazad "),c.Wb(),c.Xb(16,"button",10),c.fc("click",(function(){c.wc(e);const n=c.uc(8);return i.validateInformation(n)})),c.Ec(17," Dalje "),c.Wb(),c.Wb(),c.Sb(18,"nb-step",11),c.Wb()}2&e&&(c.Eb(7),c.nc("nbSpinner",i.loading),c.Eb(2),c.nc("ngIf",i.operacije.proizvodnja),c.Eb(1),c.nc("ngIf",i.operacije.transport),c.Eb(1),c.nc("ngIf",i.operacije.tretman),c.Eb(1),c.nc("ngIf",i.operacije.odlaganje),c.Eb(1),c.nc("ngIf",i.operacije.skladistenje))},directives:[v.wb,v.vb,v.g,v.tb,t.n,v.t,o.d,v.i,v.j,v.L,v.h,Ti,Hn,Tt,fi,On],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),e})();function Ht(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Ime je obavezno! "),c.Wb())}function Jt(e,i){if(1&e&&(c.Xb(0,"p",43),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.ime.minLength")," ")}}function Qt(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Ime mora biti validno! "),c.Wb())}function ea(e,i){if(1&e&&(c.Vb(0),c.Cc(1,Ht,2,0,"p",42),c.Cc(2,Jt,2,1,"p",42),c.Cc(3,Qt,2,0,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(11);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function ia(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Prezime je obavezno! "),c.Wb())}function na(e,i){if(1&e&&(c.Xb(0,"p",43),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.prezime.minLength")," ")}}function ta(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Prezime mora biti validno! "),c.Wb())}function aa(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ia,2,0,"p",42),c.Cc(2,na,2,1,"p",42),c.Cc(3,ta,2,0,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(17);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.minlength),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function oa(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Korisni\u010dko ime je obavezno! "),c.Wb())}function la(e,i){if(1&e&&(c.Xb(0,"p",43),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" Korisni\u010dko ime mora biti du\u017ee od ",e.getConfigValue("forms.validation.korisnickoIme.minLength"),"! ")}}function ra(e,i){if(1&e&&(c.Vb(0),c.Cc(1,oa,2,0,"p",42),c.Cc(2,la,2,1,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(24);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function sa(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Telefon je obavezan! "),c.Wb())}function ca(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Telefon mora biti validan! "),c.Wb())}function da(e,i){if(1&e&&(c.Vb(0),c.Cc(1,sa,2,0,"p",42),c.Cc(2,ca,2,0,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(30);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ba(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Email je obavezan! "),c.Wb())}function ua(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Email mora biti validan! "),c.Wb())}function ga(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ba,2,0,"p",42),c.Cc(2,ua,2,0,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(37);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function fa(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," \u0160ifra je obavezna! "),c.Wb())}function ma(e,i){if(1&e&&(c.Xb(0,"p",43),c.Ec(1),c.Wb()),2&e){const e=c.hc(2);c.Eb(1),c.Gc(" \u0160ifra ne sme biti kra\u0107a od ",e.getConfigValue("forms.validation.password.minLength"),"! ")}}function pa(e,i){if(1&e&&(c.Vb(0),c.Cc(1,fa,2,0,"p",42),c.Cc(2,ma,2,1,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(46);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function ha(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," Ponovna \u0161ifra je obavezna! "),c.Wb())}function va(e,i){1&e&&(c.Xb(0,"p",43),c.Ec(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),c.Wb())}function ka(e,i){if(1&e&&(c.Vb(0),c.Cc(1,ha,2,0,"p",42),c.Cc(2,va,2,0,"p",42),c.Ub()),2&e){c.hc();const e=c.uc(55),i=c.uc(46);c.Eb(1),c.nc("ngIf",null==e.errors?null:e.errors.required),c.Eb(1),c.nc("ngIf",i.value!==e.value)}}function ja(e,i){if(1&e&&(c.Xb(0,"nb-card",27),c.Xb(1,"nb-card-body",28),c.Ec(2),c.Wb(),c.Wb()),2&e){c.hc();const e=c.uc(24);c.Eb(2),c.Gc(" Ako se bavite ",e.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function Wa(e,i){if(1&e&&(c.Xb(0,"button",29),c.Ec(1),c.Wb()),2&e){const e=i.$implicit;c.Eb(1),c.Fc(e)}}const Ea=[{path:"",component:h.c,children:[{path:"login",component:O},{path:"register-korisnik",component:(()=>{class e{constructor(e={},i,n,t){this.options=e,this.registerService=i,this.router=n,this.toastrService=t,this.showPassword="eye",this.checkIssues=!1,this.korisnik={_id:"",ime:"",prezime:"",korisnickoIme:"",sifra:"",email:"",telefon:"",uloga:"menadzer"}}ngOnInit(){this.registerService.getKorisnik().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.korisnik=e)}),this.registerService.sendKorisnik(Object(r.a)(this.korisnik))}getConfigValue(e){return Object(h.n)(this.options,e,null)}validateUser(e){e.valid&&this.reSifra===this.korisnik.sifra?this.router.navigate(["auth/register-firma"]):(this.checkIssues=!0,this.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"))}showToast(e,i,n){this.toastrService.show(i,e,{status:n})}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.a),c.Rb(f),c.Rb(o.c),c.Rb(v.Hb))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-korisnik"]],decls:68,vars:51,consts:[[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["userForm","ngForm"],[1,"row","mb-2"],[1,"col-6"],["for","input-ime",1,"label"],["autofocus","","fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],[1,"col-12"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label","col-12"],[1,"row"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru",3,"ngModel","required","status","type","ngModelChange"],["rePass","ngModel"],["nbButton","","fullWidth","","status","success","type","button",1,"mt-2",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],[1,"container-fluid"],["aria-label","Uloguj se",1,"text-center","my-2"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Xb(4,"form",null,3),c.Xb(6,"div",4),c.Xb(7,"div",5),c.Xb(8,"label",6),c.Ec(9,"Ime:"),c.Wb(),c.Xb(10,"input",7,8),c.fc("ngModelChange",(function(e){return i.korisnik.ime=e})),c.Wb(),c.Cc(12,ea,4,3,"ng-container",9),c.Wb(),c.Xb(13,"div",5),c.Xb(14,"label",10),c.Ec(15,"Prezime:"),c.Wb(),c.Xb(16,"input",11,12),c.fc("ngModelChange",(function(e){return i.korisnik.prezime=e})),c.Wb(),c.Cc(18,aa,4,3,"ng-container",9),c.Wb(),c.Wb(),c.Xb(19,"div",4),c.Xb(20,"div",5),c.Xb(21,"label",13),c.Ec(22,"Korisni\u010dko ime:"),c.Wb(),c.Xb(23,"input",14,15),c.fc("ngModelChange",(function(e){return i.korisnik.korisnickoIme=e})),c.Wb(),c.Cc(25,ra,3,2,"ng-container",9),c.Wb(),c.Xb(26,"div",5),c.Xb(27,"label",16),c.Ec(28,"Telefon:"),c.Wb(),c.Xb(29,"input",17,18),c.fc("ngModelChange",(function(e){return i.korisnik.telefon=e})),c.Wb(),c.Cc(31,da,3,2,"ng-container",9),c.Wb(),c.Wb(),c.Xb(32,"div",4),c.Xb(33,"div",19),c.Xb(34,"label",20),c.Ec(35,"Email:"),c.Wb(),c.Xb(36,"input",21,22),c.fc("ngModelChange",(function(e){return i.korisnik.email=e})),c.Wb(),c.Cc(38,ga,3,2,"ng-container",9),c.Wb(),c.Wb(),c.Xb(39,"div",4),c.Xb(40,"div",5),c.Xb(41,"label",23),c.Ec(42,"\u0160ifra:"),c.Wb(),c.Xb(43,"div",24),c.Xb(44,"div",25),c.Xb(45,"input",26,27),c.fc("ngModelChange",(function(e){return i.korisnik.sifra=e})),c.Wb(),c.Wb(),c.Xb(47,"div",28),c.Xb(48,"button",29),c.fc("click",(function(){return i.showPassword="eye"===i.showPassword?"eye-off":"eye"})),c.Sb(49,"nb-icon",30),c.Wb(),c.Wb(),c.Wb(),c.Cc(50,pa,3,2,"ng-container",9),c.Wb(),c.Xb(51,"div",5),c.Xb(52,"label",31),c.Ec(53,"Ponovi \u0161ifru:"),c.Wb(),c.Xb(54,"input",32,33),c.fc("ngModelChange",(function(e){return i.reSifra=e})),c.Wb(),c.Cc(56,ka,3,2,"ng-container",9),c.Wb(),c.Wb(),c.Xb(57,"button",34),c.fc("click",(function(){c.wc(e);const n=c.uc(5);return i.validateUser(n)})),c.Ec(58," Dalje "),c.Wb(),c.Wb(),c.Wb(),c.Sb(59,"nb-step",35),c.Sb(60,"nb-step",36),c.Sb(61,"nb-step",37),c.Sb(62,"nb-step",38),c.Wb(),c.Xb(63,"div",39),c.Xb(64,"section",40),c.Ec(65," Ve\u0107 imate nalog? "),c.Xb(66,"a",41),c.Ec(67,"Uloguj se"),c.Wb(),c.Wb(),c.Wb()}if(2&e){const e=c.uc(11),n=c.uc(17),t=c.uc(24),a=c.uc(30),o=c.uc(37),l=c.uc(46),r=c.uc(55);c.Eb(10),c.nc("ngModel",i.korisnik.ime)("maxlength",i.getConfigValue("forms.validation.ime.maxLength"))("minlength",i.getConfigValue("forms.validation.ime.minLength"))("pattern",i.getConfigValue("forms.validation.ime.pattern"))("required",i.getConfigValue("forms.validation.ime.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),c.Eb(2),c.nc("ngIf",e.invalid&&e.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.korisnik.prezime)("maxlength",i.getConfigValue("forms.validation.prezime.maxLength"))("minlength",i.getConfigValue("forms.validation.prezime.minLength"))("pattern",i.getConfigValue("forms.validation.prezime.pattern"))("required",i.getConfigValue("forms.validation.prezime.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),c.Eb(2),c.nc("ngIf",n.invalid&&n.touched||i.checkIssues),c.Eb(5),c.nc("ngModel",i.korisnik.korisnickoIme)("maxlength",i.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",i.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",i.getConfigValue("forms.validation.korisnickoIme.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.korisnik.telefon)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("required",i.getConfigValue("forms.validation.telefon.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched||i.checkIssues),c.Eb(5),c.nc("ngModel",i.korisnik.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched||i.checkIssues),c.Eb(7),c.nc("ngModel",i.korisnik.sifra)("maxlength",i.getConfigValue("forms.validation.password.maxLength"))("minlength",i.getConfigValue("forms.validation.password.minLength"))("required",i.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(4),c.nc("icon",i.showPassword),c.Eb(1),c.nc("ngIf",l.invalid&&l.touched||i.checkIssues),c.Eb(4),c.nc("ngModel",i.reSifra)("required",i.getConfigValue("forms.validation.password.required"))("status",r.dirty?r.invalid||l.value!==r.value?"danger":"success":"basic")("type","eye"===i.showPassword?"password":"text"),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(2),c.nc("ngIf",r.invalid&&l.touched||i.checkIssues)}},directives:[v.wb,v.vb,a.w,a.l,a.m,v.O,a.b,a.k,a.n,a.f,a.g,a.q,a.s,t.n,v.t,v.L,o.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}"]}),e})()},{path:"register-firma",component:ze},{path:"register-operacije",component:(()=>{class e{constructor(e,i,n){this.registerService=e,this.toastrService=i,this.router=n,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.brOT=0,this.brPTO=0,this.brATO=0,this.brVODA=0,this.brVAZDUH=0,this.operacije=[]}ngOnInit(){this.registerService.getOperacije().pipe(Object(q.a)()).subscribe(e=>{void 0!==e&&(this.operacije=e,this.updateOperacije())}),this.registerService.sendOperacije(Object(r.a)(this.operacije))}validateOperations(){this.operacije.length>0?this.router.navigate(["auth/register-informacije"]):this.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}showToast(e,i,n){this.toastrService.show(i,e,{status:n})}brojOtpad(){return this.brOT.toString()}updateOperacije(){this.brOT=this.operacije.length}addTreatmentOperacija(e,i,n){this.addOperacija(e,i),n.checked||(n.checked=!n.checked),n.disabled||n.setDisabledState(!n.disabled),e.includes("Neopasnog")?this.addOperacija("Proizvodnja Neopasnog Otpada",i):this.addOperacija("Proizvodnja Opasnog Otpada",i)}addOperacija(e,i){i?((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT++,this.operacije.push(e)):((e.includes("Neopasnog")||e.includes("Opasnog"))&&this.brOT--,this.operacije.splice(this.operacije.findIndex(i=>i===e),1))}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(f),c.Rb(v.Hb),c.Rb(o.c))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-operacije"]],decls:66,vars:19,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["responsive","true","tabTitle","Posebni tokovi otpada",3,"tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["nbButton","","fullWidth","","status","danger","routerLink","../register-firma",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","button",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"]],template:function(e,i){if(1&e){const e=c.Yb();c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Ec(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Xb(6,"nb-step",4),c.Xb(7,"div",5),c.Xb(8,"nb-tabset"),c.Xb(9,"nb-tab",6),c.Xb(10,"div",7),c.Xb(11,"nb-card",8),c.Xb(12,"nb-card-header"),c.Ec(13,"Neopasan otpad"),c.Wb(),c.Xb(14,"nb-card-body"),c.Xb(15,"div",9),c.Xb(16,"nb-toggle",10,11),c.fc("checkedChange",(function(e){return i.addOperacija("Proizvodnja Neopasnog Otpada",e)})),c.Ec(18,"Proizvodnja "),c.Wb(),c.Wb(),c.Xb(19,"div",9),c.Xb(20,"nb-toggle",12),c.fc("checkedChange",(function(e){return i.addOperacija("Transport Neopasnog Otpada",e)})),c.Ec(21,"Transport "),c.Wb(),c.Wb(),c.Xb(22,"div",9),c.Xb(23,"nb-toggle",12,13),c.fc("checkedChange",(function(n){c.wc(e);const t=c.uc(17);return i.addTreatmentOperacija("Tretman Neopasnog Otpada",n,t)})),c.Ec(25,"Tretman "),c.Wb(),c.Wb(),c.Xb(26,"div",9),c.Xb(27,"nb-toggle",12,14),c.fc("checkedChange",(function(n){c.wc(e);const t=c.uc(17);return i.addTreatmentOperacija("Odlaganje Neopasnog Otpada",n,t)})),c.Ec(29,"Odlaganje "),c.Wb(),c.Wb(),c.Xb(30,"div",9),c.Xb(31,"nb-toggle",12),c.fc("checkedChange",(function(e){return i.addOperacija("Skladi\u0161tenje Neopasnog Otpada",e)})),c.Ec(32," Skladi\u0161tenje "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(33,"nb-card",8),c.Xb(34,"nb-card-header"),c.Ec(35,"Opasan otpad"),c.Wb(),c.Xb(36,"nb-card-body"),c.Xb(37,"div",9),c.Xb(38,"nb-toggle",10,15),c.fc("checkedChange",(function(e){return i.addOperacija("Proizvodnja Opasnog Otpada",e)})),c.Ec(40," Proizvodnja "),c.Wb(),c.Wb(),c.Xb(41,"div",9),c.Xb(42,"nb-toggle",12),c.fc("checkedChange",(function(e){return i.addOperacija("Transport Opasnog Otpada",e)})),c.Ec(43,"Transport "),c.Wb(),c.Wb(),c.Xb(44,"div",9),c.Xb(45,"nb-toggle",12,16),c.fc("checkedChange",(function(n){c.wc(e);const t=c.uc(39);return i.addTreatmentOperacija("Tretman Opasnog Otpada",n,t)})),c.Ec(47,"Tretman "),c.Wb(),c.Wb(),c.Xb(48,"div",9),c.Xb(49,"nb-toggle",12,17),c.fc("checkedChange",(function(n){c.wc(e);const t=c.uc(39);return i.addTreatmentOperacija("Odlaganje Opasnog Otpada",n,t)})),c.Ec(51,"Odlaganje "),c.Wb(),c.Wb(),c.Xb(52,"div",9),c.Xb(53,"nb-toggle",12),c.fc("checkedChange",(function(e){return i.addOperacija("Skladi\u0161tenje Opasnog Otpada",e)})),c.Ec(54," Skladi\u0161tenje "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Cc(55,ja,3,1,"nb-card",18),c.Wb(),c.Sb(56,"nb-tab",19),c.Sb(57,"nb-tab",20),c.Sb(58,"nb-tab",21),c.Sb(59,"nb-tab",22),c.Wb(),c.Wb(),c.Xb(60,"button",23),c.Ec(61," Nazad "),c.Wb(),c.Xb(62,"button",24),c.fc("click",(function(){return i.validateOperations()})),c.Ec(63," Dalje "),c.Wb(),c.Wb(),c.Sb(64,"nb-step",25),c.Sb(65,"nb-step",26),c.Wb()}if(2&e){const e=c.uc(17),n=c.uc(24),t=c.uc(28),a=c.uc(39),o=c.uc(46),l=c.uc(50);c.Eb(9),c.nc("badgeText",i.brojOtpad())("tabIcon",i.trashIco),c.Eb(7),c.nc("checked",i.operacije.includes("Proizvodnja Neopasnog Otpada"))("disabled",n.checked||t.checked),c.Eb(4),c.nc("checked",i.operacije.includes("Transport Neopasnog Otpada")),c.Eb(3),c.nc("checked",i.operacije.includes("Tretman Neopasnog Otpada")),c.Eb(4),c.nc("checked",i.operacije.includes("Odlaganje Neopasnog Otpada")),c.Eb(4),c.nc("checked",i.operacije.includes("Skladi\u0161tenje Neopasnog Otpada")),c.Eb(7),c.nc("checked",i.operacije.includes("Proizvodnja Opasnog Otpada"))("disabled",o.checked||l.checked),c.Eb(4),c.nc("checked",i.operacije.includes("Transport Opasnog Otpada")),c.Eb(3),c.nc("checked",i.operacije.includes("Tretman Opasnog Otpada")),c.Eb(4),c.nc("checked",i.operacije.includes("Odlaganje Opasnog Otpada")),c.Eb(4),c.nc("checked",i.operacije.includes("Skladi\u0161tenje Opasnog Otpada")),c.Eb(2),c.nc("ngIf",a.disabled||e.disabled),c.Eb(1),c.nc("tabIcon",i.carBatteryIco),c.Eb(1),c.nc("tabIcon",i.recyleIco),c.Eb(1),c.nc("tabIcon",i.waterIco),c.Eb(1),c.nc("tabIcon",i.airIco)}},directives:[v.wb,v.vb,v.Cb,v.Bb,v.w,v.y,v.v,v.Ib,t.n,v.t,o.d],styles:[""]}),e})()},{path:"register-informacije/:tab",component:Yt,pathMatch:"full"},{path:"register-informacije",component:Yt,pathMatch:"full"},{path:"register-dozvola",component:x},{path:"register-potvrda",component:(()=>{class e extends h.k{constructor(e,i={},n,t,a){super(e,i,n,t),this.service=e,this.options=i,this.cd=n,this.router=t,this.registerService=a,this.redirectDelay=0,this.showMessages=[],this.strategy="",this.submitted=!1,this.errors=[],this.messages=[],this.redirectDelay=this.getConfigValue("forms.register.redirectDelay"),this.showMessages=this.getConfigValue("forms.register.showMessages"),this.strategy=this.getConfigValue("forms.register.strategy")}getConfigValue(e){return Object(h.n)(this.options,e,null)}ngAfterViewInit(){this.operacije$=this.registerService.getOperacije(),this.firma$=this.registerService.getFirma(),this.korisnik$=this.registerService.getKorisnik()}register(){let e;this.errors=this.messages=[],this.submitted=!0,this.korisnik$.subscribe(i=>{e=i}),this.firma$.subscribe(i=>{e.firma=i}),this.service.register(this.strategy,e).subscribe(e=>{this.submitted=!1,e.isSuccess()?this.messages=e.getMessages():this.errors=e.getErrors();const i=e.getRedirect();i&&setTimeout(()=>(this.registerService.clearData(),this.router.navigateByUrl(i)),this.redirectDelay),this.cd.detectChanges()})}}return e.\u0275fac=function(i){return new(i||e)(c.Rb(h.g),c.Rb(h.a),c.Rb(c.h),c.Rb(o.c),c.Rb(f))},e.\u0275cmp=c.Lb({type:e,selectors:[["ngx-register-potvrda"]],features:[c.Bb],decls:164,vars:60,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informacije",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,i){if(1&e&&(c.Xb(0,"h1",0),c.Ec(1,"Registruj se!"),c.Wb(),c.Xb(2,"nb-stepper",1),c.Xb(3,"nb-step",2),c.Ec(4,"Test"),c.Wb(),c.Sb(5,"nb-step",3),c.Sb(6,"nb-step",4),c.Sb(7,"nb-step",5),c.Xb(8,"nb-step",6),c.Xb(9,"div",7),c.Xb(10,"div",8),c.Xb(11,"div",9),c.Xb(12,"h5"),c.Ec(13,"Korisnik:"),c.Wb(),c.Wb(),c.Xb(14,"div",9),c.Xb(15,"div",10),c.Xb(16,"label",11),c.Ec(17,"Ime:"),c.Wb(),c.Wb(),c.Xb(18,"div",10),c.Xb(19,"button",12),c.Ec(20),c.ic(21,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(22,"div",9),c.Xb(23,"div",10),c.Xb(24,"label",11),c.Ec(25,"Prezime:"),c.Wb(),c.Wb(),c.Xb(26,"div",10),c.Xb(27,"button",12),c.Ec(28),c.ic(29,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",9),c.Xb(31,"div",10),c.Xb(32,"label",11),c.Ec(33,"Telefon:"),c.Wb(),c.Wb(),c.Xb(34,"div",10),c.Xb(35,"button",12),c.Ec(36),c.ic(37,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(38,"div",9),c.Xb(39,"div",10),c.Xb(40,"label",11),c.Ec(41,"Email:"),c.Wb(),c.Wb(),c.Xb(42,"div",10),c.Xb(43,"button",12),c.Ec(44),c.ic(45,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",9),c.Xb(47,"div",10),c.Xb(48,"label",11),c.Ec(49,"Korisni\u010dko ime:"),c.Wb(),c.Wb(),c.Xb(50,"div",10),c.Xb(51,"button",12),c.Ec(52),c.ic(53,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(54,"div",9),c.Xb(55,"h5"),c.Ec(56,"Rad firme:"),c.Wb(),c.Wb(),c.Xb(57,"div",9),c.Xb(58,"div",10),c.Cc(59,Wa,2,1,"button",13),c.ic(60,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(61,"div",14),c.Xb(62,"div",10),c.Xb(63,"div",9),c.Xb(64,"h5"),c.Ec(65,"Firma:"),c.Wb(),c.Wb(),c.Xb(66,"div",9),c.Xb(67,"div",10),c.Xb(68,"label",11),c.Ec(69,"Naziv:"),c.Wb(),c.Wb(),c.Xb(70,"div",10),c.Xb(71,"button",15),c.Ec(72),c.ic(73,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(74,"div",9),c.Xb(75,"div",16),c.Xb(76,"label",11),c.Ec(77,"PIB:"),c.Wb(),c.Wb(),c.Xb(78,"div",16),c.Xb(79,"label",11),c.Ec(80,"Mati\u010dni broj:"),c.Wb(),c.Wb(),c.Xb(81,"div",16),c.Xb(82,"button",15),c.Ec(83),c.ic(84,"async"),c.Wb(),c.Wb(),c.Xb(85,"div",16),c.Xb(86,"button",15),c.Ec(87),c.ic(88,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(89,"div",9),c.Xb(90,"div",10),c.Xb(91,"label",11),c.Ec(92,"Adresa:"),c.Wb(),c.Xb(93,"button",15),c.Ec(94),c.ic(95,"async"),c.ic(96,"async"),c.ic(97,"async"),c.ic(98,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(99,"div",9),c.Xb(100,"div",10),c.Xb(101,"label",11),c.Ec(102,"Delatnost:"),c.Wb(),c.Wb(),c.Xb(103,"div",10),c.Xb(104,"button",15),c.Ec(105),c.ic(106,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(107,"div",9),c.Xb(108,"div",16),c.Xb(109,"label",11),c.Ec(110,"Email:"),c.Wb(),c.Wb(),c.Xb(111,"div",16),c.Xb(112,"label",11),c.Ec(113,"Telefon:"),c.Wb(),c.Wb(),c.Xb(114,"div",17),c.Xb(115,"button",15),c.Xb(116,"p",18),c.Ec(117),c.ic(118,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(119,"div",17),c.Xb(120,"button",15),c.Ec(121),c.ic(122,"async"),c.Wb(),c.Wb(),c.Xb(123,"div",16),c.Xb(124,"label",11),c.Ec(125,"Email za prijem dokumenata:"),c.Wb(),c.Wb(),c.Xb(126,"div",16),c.Xb(127,"label",11),c.Ec(128,"Faks:"),c.Wb(),c.Wb(),c.Xb(129,"div",16),c.Xb(130,"button",15),c.Xb(131,"p",18),c.Ec(132),c.ic(133,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(134,"div",16),c.Xb(135,"button",15),c.Ec(136),c.ic(137,"async"),c.ic(138,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(139,"div",9),c.Xb(140,"div",10),c.Xb(141,"label",11),c.Ec(142,"Zakonski zastupnik firme:"),c.Wb(),c.Wb(),c.Xb(143,"div",10),c.Xb(144,"button",15),c.Ec(145),c.ic(146,"async"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(147,"form",19),c.fc("ngSubmit",(function(){return i.register()})),c.Xb(148,"button",20),c.Ec(149," Nazad "),c.Wb(),c.Xb(150,"button",21),c.Ec(151," Zavr\u0161i "),c.Wb(),c.Wb(),c.Xb(152,"div",22),c.Xb(153,"div",23),c.Xb(154,"nb-checkbox",24,25),c.Ec(156," Sla\u017eem se sa "),c.Xb(157,"a",26),c.Xb(158,"strong"),c.Ec(159,"Uslovima Kori\u0161\u0107enjima"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(160,"div",23),c.Xb(161,"nb-checkbox",27,28),c.Ec(163,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&e){const e=c.uc(155),v=c.uc(162);var n,t,a,o,l,r,s,d,b,u,g,f,m,p=null,h=null;c.Eb(20),c.Fc(null==(n=c.jc(21,20,i.korisnik$))?null:n.ime),c.Eb(8),c.Fc(null==(t=c.jc(29,22,i.korisnik$))?null:t.prezime),c.Eb(8),c.Fc(null==(a=c.jc(37,24,i.korisnik$))?null:a.telefon),c.Eb(8),c.Fc(null==(o=c.jc(45,26,i.korisnik$))?null:o.email),c.Eb(8),c.Fc(null==(l=c.jc(53,28,i.korisnik$))?null:l.korisnickoIme),c.Eb(7),c.nc("ngForOf",c.jc(60,30,i.operacije$)),c.Eb(13),c.Fc(null==(r=c.jc(73,32,i.firma$))?null:r.naziv),c.Eb(11),c.Fc(null==(s=c.jc(84,34,i.firma$))?null:s.pib),c.Eb(4),c.Fc(null==(d=c.jc(88,36,i.firma$))?null:d.mat),c.Eb(7),c.Jc(" ",null==(p=c.jc(95,38,i.firma$))?null:p.adresa.mesto.opstinaNaziv,", ",null==(p=c.jc(96,40,i.firma$))?null:p.adresa.mesto.mestoNaziv,", ",null==(p=c.jc(97,42,i.firma$))?null:p.adresa.ulica," ",null==(p=c.jc(98,44,i.firma$))?null:p.adresa.mesto.postanskiBroj,""),c.Eb(11),c.Fc(null==(b=c.jc(106,46,i.firma$))?null:b.delatnost.naziv),c.Eb(12),c.Fc(null==(u=c.jc(118,48,i.firma$))?null:u.email),c.Eb(4),c.Fc(null==(g=c.jc(122,50,i.firma$))?null:g.telefon),c.Eb(11),c.Fc(null==(f=c.jc(133,52,i.firma$))?null:f.emailPrijem),c.Eb(4),c.Fc(""===(null==(h=c.jc(137,54,i.firma$))?null:h.faks)?"/":null==(h=c.jc(138,56,i.firma$))?null:h.faks),c.Eb(9),c.Fc(null==(m=c.jc(146,58,i.firma$))?null:m.zakonskiZastupnik),c.Eb(5),c.nc("disabled",!(e.checked&&v.checked))}},directives:[v.wb,v.vb,v.t,t.m,a.w,a.l,a.m,o.d,v.B],pipes:[t.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),e})()},{path:"logout",component:S},{path:"request-password",component:h.l},{path:"reset-password",component:h.m}]},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}];let Xa=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(i){return new(i||e)},imports:[[o.g.forChild(Ea)],o.g]}),e})(),za=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(i){return new(i||e)},providers:[g,b,f,m.a,u.a],imports:[[p.a,t.c,o.g,v.p,v.P,v.u,v.C,Xa,v.pb,a.e,v.Jb,v.k,v.Db,v.s,v.xb,v.z,l.c,v.gb,v.I,v.N,v.ub]]}),e})()}}]);