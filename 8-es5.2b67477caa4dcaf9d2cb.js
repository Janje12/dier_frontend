!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=t(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw r}}}}function t(e,n){if(e){if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function c(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&s(e,n)}function s(e,n){return(s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function l(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=u(e);if(n){var a=u(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return b(this,t)}}function b(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(t,i,o){"use strict";o.r(i),o.d(i,"NgxAuthModule",function(){return Bi});var s,b,u,d,p=o("ofXK"),g=o("3Pt+"),h=o("tyNb"),v=o("jCJ1"),m=o("RS3s"),f=o("wH5/"),V=o("LRne"),W=o("AytR"),y=o("fXoL"),k=o("tk/3"),C=((s=function(e){c(t,e);var n=l(t);function t(e){var i;return a(this,t),(i=n.call(this)).http=e,i.apiUrl=W.a.apiUrl,i}return r(t,[{key:"createOccupation",value:function(e){}},{key:"deleteOccupation",value:function(e,n){}},{key:"getOccupation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/one/"+"".concat(n,"/").concat(e))}},{key:"getOccupations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/many/"+"".concat(n,"/").concat(e))}},{key:"updateOccupation",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/occupation/one/"+"".concat(t,"/").concat(n),e)}},{key:"filter",value:function(e,n){var t=e.toLowerCase();if(void 0!==n)return Object(V.a)(n.filter(function(e){return e.name.toLowerCase().includes(t)||e.code.includes(t)}))}}]),t}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||s)(y.ac(k.b))},s.\u0275prov=y.Mb({token:s,factory:s.\u0275fac}),s),w=o("ibGe"),I=((b=function(e){c(t,e);var n=l(t);function t(e){var i;return a(this,t),(i=n.call(this)).http=e,i.townshipsIsLoaded=!1,i.apiUrl=W.a.apiUrl,i}return r(t,[{key:"createLocation",value:function(e){}},{key:"deleteLocation",value:function(e,n){}},{key:"getLocation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/one/"+"".concat(n,"/").concat(e))}},{key:"getLocations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/many/"+"".concat(n,"/").concat(e))}},{key:"updateLocation",value:function(e,n,t){return this.http.patch(this.apiUrl+"/api/location/one/"+"".concat(t,"/").concat(n),e)}},{key:"getDistinctTownships",value:function(){return this.townshipsIsLoaded||(this.townshipNames=this.http.get(this.apiUrl+"/api/location/townships"),this.townshipsIsLoaded=!0),this.townshipNames}},{key:"getPlacesFromTownship",value:function(e){return this.http.get(this.apiUrl+"/api/location/place/"+e)}},{key:"filter",value:function(e,n){var t=e.toLowerCase();if(void 0!==n)return Object(V.a)(n.filter(function(e){return e.toLowerCase().includes(t)}))}}]),t}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||b)(y.ac(k.b))},b.\u0275prov=y.Mb({token:b,factory:b.\u0275fac}),b),F=o("bS1W"),M=o("fo3O"),E=o("H5EB"),j=((u=function(){function e(n,t,i,o){a(this,e),this.userService=n,this.companyService=t,this.permitService=i,this.vehicleService=o,this.clearData(),Object(y.Z)()&&(this.user={email:"serbiansolutions"+(1e3*Math.random()).toFixed(0)+"@gmail.com",firstName:"Filip",username:"random"+(1e3*Math.random()).toFixed(0),lastName:"Balandzic",password:"nikjan00",phone:(1e10*Math.random()).toFixed(0),role:"manager"},this.company={storages:[],address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"},occupation:{code:"",name:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailReception:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),manager:"random",name:"Test",pib:(1e9*Math.random()).toFixed(0),operations:[],telephone:(1e10*Math.random()).toFixed(0),legalRep:{firstName:"Nikola",lastName:"Jankovic"},nriz:{username:"",password:""},wasteManager:{firstName:"",lastName:""}},this.operations=["Transport Neopasnog Otpada"])}return r(e,[{key:"clearData",value:function(){this.user={email:"",firstName:"",username:"",lastName:"",password:"",phone:"",role:"manager"},this.company={occupation:{code:"",name:""},address:{location:{townshipCode:0,townshipName:"",placeCode:0,placeName:"",zipCode:""},street:""},email:"",emailReception:"",mat:"",manager:"",name:"",pib:"",operations:[],storages:[],permits:[],telephone:"",legalRep:{firstName:"",lastName:""},wasteManager:{firstName:"",lastName:""},nriz:{username:"",password:""}},this.operations=[],this.permitCode=""}},{key:"sendPermit",value:function(e){var n=this;this.permitCode$=e,e.subscribe(function(e){n.permitCode=e})}},{key:"getPermit",value:function(){return Object(V.a)(this.permitCode)}},{key:"sendOperations",value:function(e){var n=this;this.operations$=e,e.subscribe(function(e){n.operations=e})}},{key:"getOperations",value:function(){return Object(V.a)(this.operations)}},{key:"sendUser",value:function(e){var n=this;this.user$=e,e.subscribe(function(e){n.user=e})}},{key:"getUser",value:function(){return void 0!==this.company&&void 0!==this.user&&(this.user.company=this.company),Object(V.a)(this.user)}},{key:"sendCompany",value:function(e){var n=this;this.company$=e,e.subscribe(function(e){n.company=e})}},{key:"getCompany",value:function(){if(void 0!==this.company)return void 0!==this.operations&&(this.company.operations=this.operations),void 0!==this.user&&(this.company.manager=this.user.username),Object(V.a)(this.company)}},{key:"checkUser",value:function(e){var n=[];return n.push(this.userService.getUser(e.username,"username").toPromise().then(function(e){return null===e})),n.push(this.userService.getUser(e.phone,"phone").toPromise().then(function(e){return null===e})),n.push(this.userService.getUser(e.email,"email").toPromise().then(function(e){return null===e})),n}},{key:"checkCompany",value:function(e){var n=[];return n.push(this.companyService.getCompany(e.pib,"pib").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.mat,"mat").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.email,"email").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.emailReception,"emailReception").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.telephone,"telephone").toPromise().then(function(e){return null===e})),n.push(""===e.nriz.username||this.companyService.getCompany(e.nriz.username,"nriz.username").toPromise().then(function(e){return null===e})),n}},{key:"checkPermits",value:function(e){var t,i=[],a=n(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.push(this.permitService.getPermit(o.code,"code").toPromise().then(function(e){return null===e}).catch(function(e){return!0}))}}catch(r){a.e(r)}finally{a.f()}return i}},{key:"checkVehicles",value:function(e){var t,i=[],a=n(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.push(this.vehicleService.getVehicle(o.licensePlate,"licensePlate").toPromise().then(function(e){return null===e}))}}catch(r){a.e(r)}finally{a.f()}return i}}]),e}()).\u0275fac=function(e){return new(e||u)(y.ac(M.a),y.ac(f.a),y.ac(F.a),y.ac(E.a))},u.\u0275prov=y.Mb({token:u,factory:u.\u0275fac}),u),O=o("vTDv"),x=o("McNs"),N=((d=function(){function e(n){a(this,e),this.router=n}return r(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.router.navigate(["login"])},3e3)}}]),e}()).\u0275fac=function(e){return new(e||d)(y.Qb(h.c))},d.\u0275cmp=y.Kb({type:d,selectors:[["auth-email-confirmation"]],decls:7,vars:0,consts:[[1,"text-center"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],[1,"text-muted"]],template:function(e,n){1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Rb(2,"img",2),y.Vb(),y.Wb(3,"h1"),y.Fc(4,"Uspe\u0161no ste aktivirali Va\u0161 nalog!"),y.Vb(),y.Wb(5,"h5",3),y.Fc(6,"Automatski \u0107emo vas prebaciti na login stranicu..."),y.Vb(),y.Vb())},styles:[""]}),d),P=o("7wOV"),T=o("aceb");function z(e,n){1&e&&(y.Wb(0,"p",14),y.Fc(1," Morate upisati email! "),y.Vb())}function D(e,n){1&e&&(y.Wb(0,"p",15),y.Fc(1," Email mora biti validan! "),y.Vb())}function S(e,n){if(1&e&&(y.Ub(0),y.Dc(1,z,2,0,"p",12),y.Dc(2,D,2,0,"p",13),y.Tb()),2&e){y.hc();var t=y.vc(10);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}var q,R=((q=function(e){c(t,e);var n=l(t);function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return a(this,t),(i=n.call(this,e,o,r,c)).service=e,i.options=o,i.cd=r,i.router=c,i.toastrService=s,i.email="",i.strategy=i.getConfigValue("forms.login.strategy"),i}return r(t,[{key:"sendEmail",value:function(e){var n=this;e.invalid?this.toastrService.showToast("Gre\u0161ka","Popravite gre\u0161ke.","warning"):this.service.requestPassword(this.strategy,{email:this.email}).subscribe(function(e){e.isSuccess()?n.router.navigate(["login"]):n.toastrService.showToast("Gre\u0161ka","Do\u0161lo je do gre\u0161ke, poku\u0161ajte kasnije.","warning")},function(e){n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte kasnije.","warning")})}}]),t}(x.l)).\u0275fac=function(e){return new(e||q)(y.Qb(x.g),y.Qb(x.a),y.Qb(y.h),y.Qb(h.c),y.Qb(P.a))},q.\u0275cmp=y.Kb({type:q,selectors:[["forgot-password"]],features:[y.Bb],decls:16,vars:6,consts:[[1,"align-self-center","text-center"],[1,"mb-1"],["for","input-email",1,"text-muted"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailInput","ngModel"],[4,"ngIf"],[1,"row","mt-3","d-flex","justify-content-center"],["status","primary","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message text-left mt-1 mb-0",4,"ngIf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","text-left","mt-1","mb-0"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",0),y.Wb(1,"h1",1),y.Fc(2,"Zaboravljena lozinka:"),y.Vb(),y.Wb(3,"label",2),y.Fc(4,"Upi\u0161ite va\u0161u email adresu i posla\u0107emo Vam link za resetovanje lozinke"),y.Vb(),y.Wb(5,"form",3,4),y.dc("ngSubmit",function(){y.xc(t);var e=y.vc(6);return n.sendEmail(e)}),y.Wb(7,"div",5),y.Wb(8,"div",6),y.Wb(9,"input",7,8),y.dc("ngModelChange",function(e){return n.email=e}),y.Vb(),y.Dc(11,S,3,2,"ng-container",9),y.Vb(),y.Vb(),y.Wb(12,"div",10),y.Wb(13,"div",6),y.Wb(14,"button",11),y.Fc(15,"Po\u0161alji mejl"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(10);y.Eb(9),y.nc("ngModel",n.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(2),y.nc("ngIf",i.invalid&&i.touched)}},directives:[g.w,g.l,g.m,T.T,g.b,g.k,g.n,g.q,g.s,p.n,T.t],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),q),L=o("ud2R");function U(e,n){if(1&e&&(y.Wb(0,"li",35),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.Eb(1),y.Gc(t)}}function $(e,n){if(1&e&&(y.Wb(0,"nb-alert",31),y.Wb(1,"p",32),y.Wb(2,"b"),y.Fc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),y.Vb(),y.Vb(),y.Wb(4,"ul",33),y.Dc(5,U,2,1,"li",34),y.Vb(),y.Vb()),2&e){var t=y.hc();y.Eb(5),y.nc("ngForOf",t.errors)}}function A(e,n){if(1&e&&(y.Wb(0,"li",35),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.Eb(1),y.Gc(t)}}function Q(e,n){if(1&e&&(y.Wb(0,"nb-alert",36),y.Wb(1,"p",32),y.Wb(2,"b"),y.Fc(3,"Uspesno ste se ulogovali!"),y.Vb(),y.Vb(),y.Wb(4,"ul",33),y.Dc(5,A,2,1,"li",34),y.Vb(),y.Vb()),2&e){var t=y.hc();y.Eb(5),y.nc("ngForOf",t.messages)}}function B(e,n){1&e&&(y.Wb(0,"p",38),y.Fc(1," Email je obavezan! "),y.Vb())}function G(e,n){if(1&e&&(y.Ub(0),y.Dc(1,B,2,0,"p",37),y.Tb()),2&e){y.hc();var t=y.vc(17);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function _(e,n){1&e&&(y.Wb(0,"p",38),y.Fc(1," \u0160ifra je obavezna! "),y.Vb())}function K(e,n){if(1&e&&(y.Ub(0),y.Dc(1,_,2,0,"p",37),y.Tb()),2&e){y.hc();var t=y.vc(26);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function X(e,n){if(1&e){var t=y.Xb();y.Wb(0,"nb-checkbox",39),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().user.rememberMe=e}),y.Fc(1,"Zapamti me"),y.Vb()}if(2&e){var i=y.hc();y.nc("ngModel",i.user.rememberMe)}}var Z,H,J,Y=((Z=function(e){c(t,e);var n=l(t);function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return a(this,t),(i=n.call(this,e,o,r,s)).service=e,i.options=o,i.cd=r,i.roleService=c,i.router=s,i.showPassword="eye",i.redirectDelay=0,i.showMessages={},i.strategy="",i.errors=[],i.messages=[],i.user={email:"",password:"",rememberMe:!1},i.submitted=!1,i.rememberMe=!1,i.redirectDelay=i.getConfigValue("forms.login.redirectDelay"),i.showMessages=i.getConfigValue("forms.login.showMessages"),i.strategy=i.getConfigValue("forms.login.strategy"),i.rememberMe=i.getConfigValue("forms.login.rememberMe"),i}return r(t,[{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"login",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(function(n){e.submitted=!1,n.isSuccess()?e.messages=n.getMessages():e.errors=n.getErrors();var t=n.getRedirect();t&&(e.roleService.loginUser(),setTimeout(function(){return e.router.navigateByUrl(t)},e.redirectDelay)),e.cd.detectChanges()})}}]),t}(x.h)).\u0275fac=function(e){return new(e||Z)(y.Qb(x.g),y.Qb(x.a),y.Qb(y.h),y.Qb(L.a),y.Qb(h.c))},Z.\u0275cmp=y.Kb({type:Z,selectors:[["auth-login"]],features:[y.Bb],decls:47,vars:18,consts:[[1,"align-self-center","flex-fill"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],["id","title",1,"title"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"row","d-flex","justify-content-center","mb-3"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-2"],["for","input-password",1,"label"],[1,"col-7","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-4"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-4","justify-content-end","d-flex"],["routerLink","../forgot-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],[1,"row","d-flex","justify-content-center","pb-2"],["aria-label","Registruj se",1,"col-8","text-center"],["routerLink","../register-user",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Rb(2,"img",2),y.Vb(),y.Wb(3,"h1",3),y.Fc(4,"Uloguj se!"),y.Vb(),y.Wb(5,"div",4),y.Wb(6,"div",5),y.Dc(7,$,6,1,"nb-alert",6),y.Dc(8,Q,6,1,"nb-alert",7),y.Vb(),y.Vb(),y.Wb(9,"form",8,9),y.dc("ngSubmit",function(){return n.login()}),y.Wb(11,"div",10),y.Wb(12,"div",5),y.Wb(13,"label",11),y.Fc(14,"Email/Korisni\u010dko ime:"),y.Vb(),y.Vb(),y.Wb(15,"div",5),y.Wb(16,"input",12,13),y.dc("ngModelChange",function(e){return n.user.email=e}),y.Vb(),y.Vb(),y.Wb(18,"div",5),y.Dc(19,G,2,1,"ng-container",14),y.Vb(),y.Vb(),y.Wb(20,"div",15),y.Wb(21,"div",5),y.Wb(22,"label",16),y.Fc(23,"\u0160ifra:"),y.Vb(),y.Vb(),y.Wb(24,"div",17),y.Wb(25,"input",18,19),y.dc("ngModelChange",function(e){return n.user.password=e}),y.Vb(),y.Vb(),y.Wb(27,"div",20),y.Wb(28,"button",21),y.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),y.Rb(29,"nb-icon",22),y.Vb(),y.Vb(),y.Wb(30,"div",5),y.Dc(31,K,2,1,"ng-container",14),y.Vb(),y.Vb(),y.Wb(32,"div",15),y.Wb(33,"div",23),y.Dc(34,X,2,1,"nb-checkbox",24),y.Vb(),y.Wb(35,"div",25),y.Wb(36,"a",26),y.Fc(37,"Zaboravili ste \u0161ifru?"),y.Vb(),y.Vb(),y.Vb(),y.Wb(38,"div",15),y.Wb(39,"div",5),y.Wb(40,"button",27),y.Fc(41," Uloguj se "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(42,"div",28),y.Wb(43,"div",29),y.Fc(44," Nemate nalog? "),y.Wb(45,"a",30),y.Fc(46,"Registruj se"),y.Vb(),y.Vb(),y.Vb(),y.Vb()),2&e){var t=y.vc(17),i=y.vc(26);y.Eb(7),y.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),y.Eb(1),y.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),y.Eb(8),y.nc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),y.Eb(3),y.nc("ngIf",t.touched),y.Eb(6),y.nc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(4),y.nc("icon",n.showPassword),y.Eb(2),y.nc("ngIf",i.touched),y.Eb(3),y.nc("ngIf",n.rememberMe),y.Eb(6),y.Ib("btn-pulse",n.submitted),y.nc("disabled",n.submitted)}},directives:[p.n,g.w,g.l,g.m,T.T,g.b,g.k,g.n,g.s,T.t,T.Q,h.f,T.o,p.m,T.G],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Z),ee=o("BHmg"),ne=((J=function(e){c(t,e);var n=l(t);function t(e,i){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return a(this,t),(o=n.call(this,e,r,c)).service=e,o.widgetService=i,o.options=r,o.router=c,o.roleService=s,o.redirectDelay=0,o.strategy="",o.redirectDelay=o.getConfigValue("forms.logout.redirectDelay"),o.strategy=o.getConfigValue("forms.logout.strategy"),o}return r(t,[{key:"logout",value:function(e){var n=this;this.service.logout(e).subscribe(function(e){var t=e.getRedirect();n.roleService.ngOnDestroy(),n.widgetService.ngOnDestroy(),t&&setTimeout(function(){return n.router.navigateByUrl(t)},n.redirectDelay)})}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}}]),t}(x.i)).\u0275fac=function(e){return new(e||J)(y.Qb(x.g),y.Qb(ee.a),y.Qb(x.a),y.Qb(h.c),y.Qb(L.a))},J.\u0275cmp=y.Kb({type:J,selectors:[["ngx-logout"]],features:[y.Bb],decls:2,vars:0,template:function(e,n){1&e&&(y.Wb(0,"div"),y.Fc(1,"Odjavljivanje u toku..."),y.Vb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),J),te=((H=function(){function e(n,t){a(this,e),this.authService=n,this.router=t}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.isAuthenticated().subscribe(function(n){n||e.router.navigate(["auth","login"])}),this.authService.getToken().subscribe(function(n){var t=n.getPayload().data.user;e.router.navigate("admin"===t.role?["admin"]:["pages","dashboard"])})}}]),e}()).\u0275fac=function(e){return new(e||H)(y.Qb(x.g),y.Qb(h.c))},H.\u0275cmp=y.Kb({type:H,selectors:[["auth-redirect"]],decls:2,vars:0,template:function(e,n){1&e&&(y.Wb(0,"p"),y.Fc(1,"redirect works!"),y.Vb())},styles:[""]}),H),ie=o("SxV6"),ae={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},name:{title:"Naziv",filter:!1}}};function oe(e,n){if(1&e){var t=y.Xb();y.Wb(0,"button",16),y.dc("click",function(){y.xc(t);var e=n.$implicit;return y.hc().addTrash(e)}),y.Fc(1),y.Vb()}if(2&e){var i=n.$implicit;y.nc("nbPopover",i.name),y.Eb(1),y.Hc(" ",i.indexNumber," ")}}var re,ce=function(e){return["..","register-informations",e]},se=((re=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;a(this,e),this.options=n,this.registerService=t,this.catalogService=i,this.catalog=new m.a,this.settings=ae,this.permitType=""}return r(e,[{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getPermit().subscribe(function(n){e.permitCode=n}),this.registerService.getCompany().subscribe(function(n){void 0!==n&&(e.company=n,e.permit=e.company.permits.filter(function(n){return n.code===e.permitCode})[0],e.permitType=e.permit.type,e.trashList=e.permit.trashList)}),this.registerService.sendCompany(Object(V.a)(this.company));var n=!1,t=!1;this.registerService.getOperations().subscribe(function(i){i.forEach(function(e){e.includes("Neopasnog")&&(n=!0),e.includes("Opasnog")&&(t=!0)}),n&&!t?e.catalogService.getSafeTrash().pipe(Object(ie.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)}):t&&!n?e.catalogService.getUnsafeTrash().pipe(Object(ie.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)}):t&&n&&e.catalogService.getCatalogs().pipe(Object(ie.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)})})}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,n){return e.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}},{key:"addTrash",value:function(e){var n=this;this.trashList.some(function(n){return n._id===e._id})?this.removeTrash(e):this.permit.trashList.push(e),this.company.permits.filter(function(e){return e.code===n.permitCode})[0]=this.permit}},{key:"removeTrash",value:function(e){var n=this.trashList.filter(function(n){return n._id===e._id})[0];if(n){var t=this.trashList.indexOf(n,0);t>-1&&this.trashList.splice(t,1)}}}]),e}()).\u0275fac=function(e){return new(e||re)(y.Qb(x.a),y.Qb(j),y.Qb(w.a))},re.\u0275cmp=y.Kb({type:re,selectors:[["register-permit"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"h1",0),y.Fc(1,"Registruj se!"),y.Vb(),y.Wb(2,"nb-stepper",1),y.Wb(3,"nb-step",2),y.Fc(4,"Test"),y.Vb(),y.Rb(5,"nb-step",3),y.Rb(6,"nb-step",4),y.Wb(7,"nb-step",5),y.Wb(8,"div",6),y.Wb(9,"div",7),y.Wb(10,"h5"),y.Fc(11,"Lista otpada dozvole:"),y.Vb(),y.Dc(12,oe,2,2,"button",8),y.Vb(),y.Wb(13,"div",9),y.Wb(14,"label",10),y.Fc(15,"Pretrazi po indeksnom broju ili nazivu:"),y.Vb(),y.Wb(16,"input",11,12),y.dc("input",function(){y.xc(t);var e=y.vc(17);return e.value.length>=1&&n.onSearch(e.value)}),y.Vb(),y.Wb(18,"ng2-smart-table",13),y.dc("custom",function(e){return n.addTrash(e.data)}),y.Vb(),y.Vb(),y.Vb(),y.Wb(19,"button",14),y.Fc(20," Zavr\u0161i "),y.Vb(),y.Vb(),y.Rb(21,"nb-step",15),y.Vb()}2&e&&(y.Eb(12),y.nc("ngForOf",n.trashList),y.Eb(6),y.nc("source",n.catalog)("settings",n.settings),y.Eb(1),y.nc("routerLink",y.rc(5,ce,n.permitType))("disabled",0===(null==n.trashList?null:n.trashList.length)))},directives:[T.Bb,T.Ab,p.m,T.T,m.b,T.t,h.d,T.kb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),re),le=o("mrSG");function be(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Naziv firme je obavezan! "),y.Vb())}function ue(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Naziv firme mora biti du\u017ei od ",t.getConfigValue("forms.validation.companyName.minLength")," slova! ")}}function de(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Naziv firme mora biti kra\u0107i od ",t.getConfigValue("forms.validation.companyName.maxLength")," slova! ")}}function pe(e,n){if(1&e&&(y.Ub(0),y.Dc(1,be,2,0,"p",84),y.Dc(2,ue,2,1,"p",84),y.Dc(3,de,2,1,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(19);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.minlength),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.maxlength)}}function ge(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," PIB je obavezan! "),y.Vb())}function he(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," PIB mora da bude validan! "),y.Vb())}function ve(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ge,2,0,"p",84),y.Dc(2,he,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(30);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.minlength)}}function me(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Mati\u010dni broj je obavezan! "),y.Vb())}function fe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Mati\u010dni broj mora da bude validan! "),y.Vb())}function Ve(e,n){if(1&e&&(y.Ub(0),y.Dc(1,me,2,0,"p",84),y.Dc(2,fe,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(40),i=y.vc(30);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function We(e,n){if(1&e&&(y.Wb(0,"nb-option",58),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t),y.Eb(1),y.Gc(t)}}function ye(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Op\u0161tina je obavezna! "),y.Vb())}function ke(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ye,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(57);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function Ce(e,n){if(1&e&&(y.Wb(0,"nb-option",58),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t),y.Eb(1),y.Gc(t)}}function we(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Mesto je obavezno! "),y.Vb())}function Ie(e,n){if(1&e&&(y.Ub(0),y.Dc(1,we,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(71);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function Fe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Po\u0161tanski broj je obavezan "),y.Vb())}function Me(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Po\u0161tanski broj mora biti validan "),y.Vb())}function Ee(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Fe,2,0,"p",84),y.Dc(2,Me,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(86);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function je(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Ulica je obavezna! "),y.Vb())}function Oe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Ulica mora biti validna! "),y.Vb())}function xe(e,n){if(1&e&&(y.Ub(0),y.Dc(1,je,2,0,"p",84),y.Dc(2,Oe,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(96);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.minlength)}}function Ne(e,n){if(1&e&&(y.Wb(0,"nb-option",58),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t.name),y.Eb(1),y.Ic("[",t.code," ] ",t.name,"")}}function Pe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," \u0160ifra delatnosti je obavezna! "),y.Vb())}function Te(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Pe,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(107);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function ze(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email je obavezan! "),y.Vb())}function De(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email mora biti validan! "),y.Vb())}function Se(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ze,2,0,"p",84),y.Dc(2,De,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(122);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function qe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Telefon firme je obavezan! "),y.Vb())}function Re(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Telefon firme mora biti validan! "),y.Vb())}function Le(e,n){if(1&e&&(y.Ub(0),y.Dc(1,qe,2,0,"p",84),y.Dc(2,Re,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(132);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ue(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email je obavezan! "),y.Vb())}function $e(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email mora biti validan! "),y.Vb())}function Ae(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Ue,2,0,"p",84),y.Dc(2,$e,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(151);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Qe(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email je obavezan! "),y.Vb())}function Be(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Email mora biti validan! "),y.Vb())}function Ge(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Qe,2,0,"p",84),y.Dc(2,Be,2,0,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(7);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function _e(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",13),y.Wb(1,"div",1),y.Wb(2,"div",2),y.Wb(3,"label",86),y.Fc(4,"Unesite va\u0161 email za prijem dokumenata:"),y.Vb(),y.Vb(),y.Wb(5,"div",2),y.Wb(6,"input",87,88),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().tmpEmail=e})("ngModelChange",function(){return y.xc(t),y.hc().setCompanyEmail()}),y.Vb(),y.Vb(),y.Wb(8,"div",2),y.Dc(9,Ge,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(7),a=y.hc();y.Eb(6),y.nc("ngModel",a.tmpEmail)("pattern",a.getConfigValue("forms.validation.email.pattern"))("required",a.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||a.checkIssues)}}function Ke(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Ime zakonskog zastupnika je obavezno! "),y.Vb())}function Xe(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(3);y.Eb(1),y.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",t.getConfigValue("forms.validation.username.minLength")," slova! ")}}function Ze(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Ke,2,0,"p",84),y.Dc(2,Xe,2,1,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(8);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function He(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," \u0160ifra je obavezna! "),y.Vb())}function Je(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(3);y.Eb(1),y.Hc(" \u0160ifra mora biti du\u017ee od ",t.getConfigValue("forms.validation.password.minLength")," slova! ")}}function Ye(e,n){if(1&e&&(y.Ub(0),y.Dc(1,He,2,0,"p",84),y.Dc(2,Je,2,1,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(18);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function en(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",8),y.Wb(1,"div",13),y.Wb(2,"div",1),y.Wb(3,"div",2),y.Wb(4,"label",89),y.Fc(5,"Korisni\u010dko ime:"),y.Vb(),y.Vb(),y.Wb(6,"div",2),y.Wb(7,"input",90,91),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().company.nriz.username=e}),y.Vb(),y.Vb(),y.Wb(9,"div",2),y.Dc(10,Ze,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(11,"div",13),y.Wb(12,"div",1),y.Wb(13,"div",2),y.Wb(14,"label",92),y.Fc(15,"\u0160ifra:"),y.Vb(),y.Vb(),y.Wb(16,"div",93),y.Wb(17,"input",94,95),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().company.nriz.password=e}),y.Vb(),y.Vb(),y.Wb(19,"div",96),y.Wb(20,"button",97),y.dc("click",function(){y.xc(t);var e=y.hc();return e.showPassword="eye"===e.showPassword?"eye-off":"eye"}),y.Rb(21,"nb-icon",98),y.Vb(),y.Vb(),y.Wb(22,"div",2),y.Dc(23,Ye,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(8),a=y.vc(18),o=y.hc(),r=y.vc(171);y.Eb(7),y.nc("ngModel",o.company.nriz.username)("maxlength",o.getConfigValue("forms.validation.username.maxLength"))("minlength",o.getConfigValue("forms.validation.username.minLength"))("required",o.getConfigValue("forms.validation.username.required")&&r.checked)("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||o.checkIssues),y.Eb(7),y.nc("ngModel",o.company.nriz.password)("maxlength",o.getConfigValue("forms.validation.password.maxLength"))("minlength",o.getConfigValue("forms.validation.password.minLength"))("required",o.getConfigValue("forms.validation.password.required")&&r.checked)("status",a.dirty?a.invalid?"danger":"success":"basic")("type","eye"===o.showPassword?"password":"text"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(4),y.nc("icon",o.showPassword),y.Eb(2),y.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}function nn(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Ime zakonskog zastupnika je obavezno! "),y.Vb())}function tn(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function an(e,n){if(1&e&&(y.Ub(0),y.Dc(1,nn,2,0,"p",84),y.Dc(2,tn,2,1,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(187);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function on(e,n){1&e&&(y.Wb(0,"p",85),y.Fc(1," Prezime zakonskog zastupnika je obavezno! "),y.Vb())}function rn(e,n){if(1&e&&(y.Wb(0,"p",85),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function cn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,on,2,0,"p",84),y.Dc(2,rn,2,1,"p",84),y.Tb()),2&e){y.hc();var t=y.vc(197);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var sn,ln=((sn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;a(this,e),this.options=n,this.locationService=t,this.occupationService=i,this.registerService=o,this.router=r,this.toastrService=c,this.showPassword="eye",this.checkIssues=!1,this.tmpEmail=""}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(ie.a)()).subscribe(function(n){e.company=n}),this.registerService.getUser().pipe(Object(ie.a)()).subscribe(function(n){void 0!==n&&(e.user=n)}),this.registerService.sendCompany(Object(V.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(ie.a)()).subscribe(function(n){e.townships=n,e.townships$=Object(V.a)(n)}),this.occupationService.getOccupations().pipe(Object(ie.a)()).subscribe(function(n){e.occupations=n,e.occupations$=Object(V.a)(n)})}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"checkAddress",value:function(){return this.townships.includes(this.company.address.location.townshipName)&&this.places.includes(this.company.address.location.placeName)}},{key:"checkOccupation",value:function(){return this.occupations.map(function(e){return e.name}).includes(this.company.occupation.name)}},{key:"validateCompany",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.invalid){n.next=2;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1));case 2:if(this.checkAddress()){n.next=4;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite adresu (odaberite sa liste op\u0161tinu odnosno mesto) da bi ste nastavili.","warning",5e3),!1));case 4:if(this.checkOccupation()){n.next=6;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite zanimanje (odaberite sa liste zanimanja) da bi ste nastavili.","warning",5e3),!1));case 6:return t="",n.next=9,Promise.all(this.registerService.checkCompany(this.company)).then(function(e){return t=e[0]?t:"taj pib",t=e[1]?t:"taj mati\u010dni broj",t=e[2]?t:"taj email",t=e[3]?t:"taj email za prijem",t=e[4]?t:"taj telefon",t=e[5]?t:"to korisni\u010dko ime za NRIZ",e[0]&&e[1]&&e[2]&&e[3]&&e[4]&&e[5]});case 9:if(n.sent){n.next=11;break}return n.abrupt("return",(this.checkIssues=!0,void this.toastrService.showToast("Ve\u0107 postoji ".concat(t,"!"),"Promenite ".concat(t," da biste nastavili."),"danger")));case 11:e.valid&&""===this.tmpEmail&&""!==this.company.emailReception?this.router.navigate(["auth/register-operations"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"));case 12:case"end":return n.stop()}},n,this)}))}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(ie.a)()).subscribe(function(e){n.places=e,n.places$=Object(V.a)(e)})}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(function(e){n.getPlaces(e[0])})):this.townships$=Object(V.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"findOccupations",value:function(e){this.occupations$=this.occupationService.filter(e,this.occupations)}},{key:"clearTmpEmail",value:function(){this.tmpEmail=""}},{key:"setCompanyEmail",value:function(){this.company.emailReception=this.tmpEmail}}]),e}()).\u0275fac=function(e){return new(e||sn)(y.Qb(x.a),y.Qb(I),y.Qb(C),y.Qb(j),y.Qb(h.c),y.Qb(P.a))},sn.\u0275cmp=y.Kb({type:sn,selectors:[["register-company"]],decls:215,vars:105,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","my-1"],["for","input-companyName",1,"label"],["autofocus","","fullWidth","","id","input-companyName","name","companyName","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-townshipName",1,"label"],["autocomplete","off","fullWidth","","id","input-townshipName","name","townshipName","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["townshipName","ngModel"],["AutoCompleteTownships",""],[3,"value",4,"ngFor","ngForOf"],["for","input-placeName",1,"label"],["autocomplete","off","fullWidth","","id","input-placeName","name","placeName","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["placeName","ngModel"],["autoCompletePlaces",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-zipCode",1,"label"],["fullWidth","","id","input-zipCode","name","zipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zipCode","ngModel"],[1,"col-9"],["for","input-street",1,"label"],["fullWidth","","id","input-street","name","street","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["street","ngModel"],["for","input-occupation",1,"label"],["autocomplete","off","fullWidth","","id","input-occupation","name","occupation","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["occupation","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-companyEmail",1,"label"],["fullWidth","","id","input-companyEmail","name","companyEmail","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["companyEmail","ngModel"],["for","input-companyTelephone",1,"label"],["fullWidth","","id","input-companyTelephone","name","companyTelephone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyTelephone","ngModel"],["for","input-companyFax",1,"label"],["fullWidth","","id","input-companyFax","name","companyFax","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["companyFax","ngModel"],["for","input-companyEmailReception",1,"label"],["fullWidth","","id","input-companyEmailReception","name","companyEmailReception","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["companyEmailReception","ngModel"],[3,"value","selectionChange"],[3,"value"],["otherEmail",""],["class","col-6",4,"ngIf"],["for","toggle-nriz",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["id","toggle-nriz"],["nrizToggle",""],["class","row my-1",4,"ngIf"],[1,"label"],[1,"row","ml-2"],["for","input-fNameLegalRep",1,"label"],["fullWidth","","id","input-fNameLegalRep","name","fNameLegalRep","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameLegalRepo","ngModel"],["for","input-lNameLegalRep",1,"label"],["fullWidth","","id","input-lNameLegalRep","name","lNameLegalRep","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameLegalRepo","ngModel"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","type","button","routerLink","../register-user"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-companyEmailReception2",1,"label"],["fullWidth","","id","input-companyEmailReception2","name","companyEmailReception2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["companyEmailReception2","ngModel"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"div",2),y.Wb(3,"h1",3),y.Fc(4,"Registruj se!"),y.Vb(),y.Vb(),y.Wb(5,"div",2),y.Wb(6,"nb-stepper",4),y.Rb(7,"nb-step",5),y.Wb(8,"nb-step",6),y.Wb(9,"form",null,7),y.Wb(11,"div",8),y.Wb(12,"div",2),y.Wb(13,"div",1),y.Wb(14,"div",2),y.Wb(15,"label",9),y.Fc(16,"Naziv Firme:"),y.Vb(),y.Vb(),y.Wb(17,"div",2),y.Wb(18,"input",10,11),y.dc("ngModelChange",function(e){return n.company.name=e}),y.Vb(),y.Vb(),y.Wb(20,"div",2),y.Dc(21,pe,4,3,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(22,"div",8),y.Wb(23,"div",13),y.Wb(24,"div",1),y.Wb(25,"div",2),y.Wb(26,"label",14),y.Fc(27,"Poreski identifikacioni broj (PIB):"),y.Vb(),y.Vb(),y.Wb(28,"div",2),y.Wb(29,"input",15,16),y.dc("ngModelChange",function(e){return n.company.pib=e}),y.Vb(),y.Vb(),y.Wb(31,"div",2),y.Dc(32,ve,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(33,"div",13),y.Wb(34,"div",1),y.Wb(35,"div",2),y.Wb(36,"label",17),y.Fc(37,"Mati\u010dni broj:"),y.Vb(),y.Vb(),y.Wb(38,"div",2),y.Wb(39,"input",18,19),y.dc("ngModelChange",function(e){return n.company.mat=e}),y.Vb(),y.Vb(),y.Wb(41,"div",2),y.Dc(42,Ve,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(43,"div",8),y.Wb(44,"div",2),y.Wb(45,"div",1),y.Wb(46,"div",2),y.Wb(47,"label",20),y.Fc(48,"Adresa:"),y.Vb(),y.Vb(),y.Vb(),y.Wb(49,"div",21),y.Wb(50,"div",13),y.Wb(51,"div",1),y.Wb(52,"div",2),y.Wb(53,"label",22),y.Fc(54,"Op\u0161tina:"),y.Vb(),y.Vb(),y.Wb(55,"div",2),y.Wb(56,"input",23,24),y.dc("ngModelChange",function(){y.xc(t);var e=y.vc(57);return n.chooseTownship(e.value)})("ngModelChange",function(e){return n.company.address.location.townshipName=e}),y.Vb(),y.Wb(58,"nb-autocomplete",null,25),y.Dc(60,We,2,2,"nb-option",26),y.ic(61,"async"),y.Vb(),y.Vb(),y.Wb(62,"div",2),y.Dc(63,ke,2,1,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(64,"div",13),y.Wb(65,"div",1),y.Wb(66,"div",2),y.Wb(67,"label",27),y.Fc(68,"Mesto:"),y.Vb(),y.Vb(),y.Wb(69,"div",2),y.Wb(70,"input",28,29),y.dc("ngModelChange",function(){y.xc(t);var e=y.vc(71);return n.findPlaces(e.value)})("ngModelChange",function(e){return n.company.address.location.placeName=e}),y.Vb(),y.Wb(72,"nb-autocomplete",null,30),y.Dc(74,Ce,2,2,"nb-option",26),y.ic(75,"async"),y.Vb(),y.Vb(),y.Wb(76,"div",2),y.Dc(77,Ie,2,1,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(78,"div",31),y.Wb(79,"div",32),y.Wb(80,"div",1),y.Wb(81,"div",2),y.Wb(82,"label",33),y.Fc(83,"Po\u0161tanski broj:"),y.Vb(),y.Vb(),y.Wb(84,"div",2),y.Wb(85,"input",34,35),y.dc("ngModelChange",function(e){return n.company.address.location.zipCode=e}),y.Vb(),y.Vb(),y.Wb(87,"div",2),y.Dc(88,Ee,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(89,"div",36),y.Wb(90,"div",1),y.Wb(91,"div",2),y.Wb(92,"label",37),y.Fc(93,"Ulica i broj:"),y.Vb(),y.Vb(),y.Wb(94,"div",2),y.Wb(95,"input",38,39),y.dc("ngModelChange",function(e){return n.company.address.street=e}),y.Vb(),y.Vb(),y.Wb(97,"div",2),y.Dc(98,xe,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(99,"div",8),y.Wb(100,"div",2),y.Wb(101,"div",1),y.Wb(102,"div",2),y.Wb(103,"label",40),y.Fc(104,"\u0160ifra delatnosti:"),y.Vb(),y.Vb(),y.Wb(105,"div",2),y.Wb(106,"input",41,42),y.dc("ngModelChange",function(){y.xc(t);var e=y.vc(107);return n.findOccupations(e.value)})("ngModelChange",function(e){return n.company.occupation.name=e}),y.Vb(),y.Wb(108,"nb-autocomplete",null,43),y.Dc(110,Ne,2,3,"nb-option",26),y.ic(111,"async"),y.Vb(),y.Vb(),y.Wb(112,"div",2),y.Dc(113,Te,2,1,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(114,"div",8),y.Wb(115,"div",44),y.Wb(116,"div",1),y.Wb(117,"div",2),y.Wb(118,"label",45),y.Fc(119,"Email firme:"),y.Vb(),y.Vb(),y.Wb(120,"div",2),y.Wb(121,"input",46,47),y.dc("ngModelChange",function(e){return n.company.email=e}),y.Vb(),y.Vb(),y.Wb(123,"div",2),y.Dc(124,Se,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(125,"div",44),y.Wb(126,"div",1),y.Wb(127,"div",2),y.Wb(128,"label",48),y.Fc(129,"Telefon firme:"),y.Vb(),y.Vb(),y.Wb(130,"div",2),y.Wb(131,"input",49,50),y.dc("ngModelChange",function(e){return n.company.telephone=e}),y.Vb(),y.Vb(),y.Wb(133,"div",2),y.Dc(134,Le,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(135,"div",44),y.Wb(136,"div",1),y.Wb(137,"div",2),y.Wb(138,"label",51),y.Fc(139,"Faks firme:"),y.Vb(),y.Vb(),y.Wb(140,"div",2),y.Wb(141,"input",52,53),y.dc("ngModelChange",function(e){return n.company.fax=e}),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(143,"div",8),y.Wb(144,"div",13),y.Wb(145,"div",1),y.Wb(146,"div",2),y.Wb(147,"label",54),y.Fc(148,"Birajte email za prijem dokumenata:"),y.Vb(),y.Vb(),y.Wb(149,"div",2),y.Wb(150,"nb-select",55,56),y.dc("ngModelChange",function(e){return n.company.emailReception=e}),y.Wb(152,"nb-option",57),y.dc("selectionChange",function(){return n.clearTmpEmail()}),y.Fc(153),y.Vb(),y.Wb(154,"nb-option",57),y.dc("selectionChange",function(){return n.clearTmpEmail()}),y.Fc(155),y.Vb(),y.Wb(156,"nb-option",58,59),y.Fc(158,"Drugi email"),y.Vb(),y.Vb(),y.Vb(),y.Wb(159,"div",2),y.Dc(160,Ae,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Dc(161,_e,10,6,"div",60),y.Vb(),y.Wb(162,"div",8),y.Wb(163,"div",2),y.Wb(164,"div",1),y.Wb(165,"div",2),y.Wb(166,"label",61),y.Fc(167,"Da li imate nalog na NRIZ (Nacionalni registar izvora zaga\u0111ivanja)? "),y.Rb(168,"i",62),y.Vb(),y.Vb(),y.Wb(169,"div",2),y.Rb(170,"nb-toggle",63,64),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Dc(172,en,24,16,"div",65),y.Wb(173,"div",8),y.Wb(174,"div",2),y.Wb(175,"div",1),y.Wb(176,"div",2),y.Wb(177,"label",66),y.Fc(178,"Puno ime zakonskog zastupnika firme:"),y.Vb(),y.Vb(),y.Vb(),y.Wb(179,"div",67),y.Wb(180,"div",13),y.Wb(181,"div",1),y.Wb(182,"div",2),y.Wb(183,"label",68),y.Fc(184,"Ime:"),y.Vb(),y.Vb(),y.Wb(185,"div",2),y.Wb(186,"input",69,70),y.dc("ngModelChange",function(e){return n.company.legalRep.firstName=e}),y.Vb(),y.Vb(),y.Wb(188,"div",2),y.Dc(189,an,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Wb(190,"div",13),y.Wb(191,"div",1),y.Wb(192,"div",2),y.Wb(193,"label",71),y.Fc(194,"Prezime:"),y.Vb(),y.Vb(),y.Wb(195,"div",2),y.Wb(196,"input",72,73),y.dc("ngModelChange",function(e){return n.company.legalRep.lastName=e}),y.Vb(),y.Vb(),y.Wb(198,"div",2),y.Dc(199,cn,3,2,"ng-container",12),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(200,"div",74),y.Wb(201,"div",75),y.Wb(202,"button",76),y.Fc(203," Nazad "),y.Vb(),y.Vb(),y.Wb(204,"div",77),y.Wb(205,"button",78),y.dc("click",function(){y.xc(t);var e=y.vc(10);return n.validateCompany(e)}),y.Fc(206," Dalje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(207,"nb-step",79),y.Rb(208,"nb-step",80),y.Rb(209,"nb-step",81),y.Vb(),y.Vb(),y.Wb(210,"div",2),y.Wb(211,"section",82),y.Fc(212," Ve\u0107 imate nalog? "),y.Wb(213,"a",83),y.Fc(214,"Uloguj se"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(19),a=y.vc(30),o=y.vc(40),r=y.vc(57),c=y.vc(59),s=y.vc(71),l=y.vc(73),b=y.vc(86),u=y.vc(96),d=y.vc(107),p=y.vc(109),g=y.vc(122),h=y.vc(132),v=y.vc(142),m=y.vc(151),f=y.vc(157),V=y.vc(171),W=y.vc(187),k=y.vc(197);y.Eb(18),y.nc("ngModel",n.company.name)("maxlength",n.getConfigValue("forms.validation.companyName.maxLength"))("minlength",n.getConfigValue("forms.validation.companyName.minLength"))("required",n.getConfigValue("forms.validation.companyName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||n.checkIssues),y.Eb(8),y.nc("ngModel",n.company.pib)("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern"))("required",n.getConfigValue("forms.validation.pib.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(3),y.nc("ngIf",a.invalid&&a.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.mat)("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern"))("required",n.getConfigValue("forms.validation.mat.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),y.Eb(3),y.nc("ngIf",o.invalid&&o.touched||n.checkIssues),y.Eb(14),y.nc("ngModel",n.company.address.location.townshipName)("nbAutocomplete",c)("required",n.getConfigValue("forms.validation.address.required")),y.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),y.Eb(4),y.nc("ngForOf",y.jc(61,99,n.townships$)),y.Eb(3),y.nc("ngIf",r.invalid&&r.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.address.location.placeName)("nbAutocomplete",l)("required",n.getConfigValue("forms.validation.address.required")),y.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),y.Eb(4),y.nc("ngForOf",y.jc(75,101,n.places$)),y.Eb(3),y.nc("ngIf",n.checkIssues),y.Eb(8),y.nc("ngModel",n.company.address.location.zipCode)("maxlength",n.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",n.getConfigValue("forms.validation.zipCode.minLength"))("required",n.getConfigValue("forms.validation.zipCode.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),y.Eb(3),y.nc("ngIf",b.invalid&&b.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.address.street)("minlength",n.getConfigValue("forms.validation.street.minLength"))("required",n.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),y.Eb(3),y.nc("ngIf",u.invalid&&u.touched||n.checkIssues),y.Eb(8),y.nc("ngModel",n.company.occupation.name)("nbAutocomplete",p)("required",n.getConfigValue("forms.validation.occupation.required")),y.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),y.Eb(4),y.nc("ngForOf",y.jc(111,103,n.occupations$)),y.Eb(3),y.nc("ngIf",d.invalid&&d.touched||n.checkIssues),y.Eb(8),y.nc("ngModel",n.company.email)("required",n.getConfigValue("forms.validation.email.required"))("pattern",n.getConfigValue("forms.validation.email.pattern"))("status",g.dirty?g.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),y.Eb(3),y.nc("ngIf",g.invalid&&g.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.telephone)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength"))("required",n.getConfigValue("forms.validation.telephone.required"))("status",h.dirty?h.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),y.Eb(3),y.nc("ngIf",h.invalid&&h.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.fax)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength")),y.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),y.Eb(9),y.nc("ngModel",n.company.emailReception)("required",n.getConfigValue("forms.validation.email.required"))("selected",n.company.email)("status",m.dirty?m.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),y.Eb(2),y.nc("value",n.company.email),y.Eb(1),y.Gc(n.company.email),y.Eb(1),y.nc("value",null==n.user?null:n.user.email),y.Eb(1),y.Gc(null==n.user?null:n.user.email),y.Eb(1),y.nc("value",n.company.emailReception),y.Eb(4),y.nc("ngIf",m.invalid&&m.touched||n.checkIssues),y.Eb(1),y.nc("ngIf",f.selected),y.Eb(7),y.nc("nbTooltip","Ukoliko posedujete nalog na NRIZ unesite korisno\u010dko ime i \u0161ifru za pristup na NRIZ ukoliko \u017eelite da nam poverite odgovornost i obavljanje poslova izve\u0161tavanja umesto vas."),y.Eb(4),y.nc("ngIf",V.checked),y.Eb(14),y.nc("ngModel",n.company.legalRep.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",W.dirty?W.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!W.invalid||!W.touched)||null),y.Eb(3),y.nc("ngIf",W.invalid&&W.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.company.legalRep.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",k.dirty?k.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!k.invalid||!k.touched)||null),y.Eb(3),y.nc("ngIf",k.invalid&&k.touched||n.checkIssues)}},directives:[T.Bb,T.Ab,g.w,g.l,g.m,T.T,g.b,g.k,g.n,g.f,g.g,g.s,p.n,g.q,T.r,T.q,p.m,T.tb,T.ib,T.Pb,T.Nb,T.t,h.d,h.f,T.Q],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),sn),bn=function(){return{standalone:!0}};function un(e,n){if(1&e){var t=y.Xb();y.Wb(0,"input",9),y.dc("ngModelChange",function(e){return y.xc(t),y.hc(2).storageNo=e}),y.Vb()}if(2&e){var i=y.hc(2);y.nc("ngModel",i.storageNo)("ngModelOptions",y.qc(2,bn))}}function dn(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",2),y.Wb(1,"div",3),y.Wb(2,"form",null,4),y.Wb(4,"div",5),y.Wb(5,"div",3),y.Wb(6,"label",6),y.Fc(7,"Broj dozvola:"),y.Vb(),y.Vb(),y.Wb(8,"div",3),y.Wb(9,"nb-button-group"),y.Wb(10,"button",7),y.dc("pressedChange",function(e){return y.xc(t),y.hc().updatePermits(1,void 0,e)}),y.Fc(11,"1"),y.Vb(),y.Wb(12,"button",7),y.dc("pressedChange",function(e){return y.xc(t),y.hc().updatePermits(2,void 0,e)}),y.Fc(13,"2"),y.Vb(),y.Wb(14,"button",7),y.dc("pressedChange",function(e){return y.xc(t),y.hc().updatePermits(3,void 0,e)}),y.Fc(15,"3"),y.Vb(),y.Wb(16,"button",7),y.dc("pressedChange",function(e){return y.xc(t),y.hc().updatePermits(4,void 0,e)}),y.Fc(17,"4"),y.Vb(),y.Wb(18,"button",7),y.dc("pressedChange",function(e){return y.xc(t),y.hc().updatePermits(5,void 0,e)}),y.Fc(19,"5"),y.Vb(),y.Wb(20,"button",7),y.dc("pressedChange",function(){y.xc(t);var e=y.hc();return e.showPermitsInput=!e.showPermitsInput}),y.Fc(21,"Vi\u0161e..."),y.Vb(),y.Dc(22,un,1,3,"input",8),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.hc();y.Eb(22),y.nc("ngIf",i.showPermitsInput)}}function pn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Naziv dozvole je obavezna! "),y.Vb())}function gn(e,n){if(1&e&&(y.Wb(0,"p",34),y.Fc(1),y.Vb()),2&e){var t=y.hc(4);y.Eb(1),y.Hc(" Naziv dozvole mora biti du\u017ei od ",t.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function hn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,pn,2,0,"p",33),y.Dc(2,gn,2,1,"p",33),y.Tb()),2&e){y.hc();var t=y.vc(13);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.maxLength)||(null==t.errors?null:t.errors.minLength))}}function vn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," \u0160ifra dozvole je obavezna! "),y.Vb())}function mn(e,n){if(1&e&&(y.Wb(0,"p",34),y.Fc(1),y.Vb()),2&e){var t=y.hc(4);y.Eb(1),y.Hc(" Naziv dozvole mora biti du\u017ei od ",t.getConfigValue("forms.validation.permitCode.minLength")," slova! ")}}function fn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,vn,2,0,"p",33),y.Dc(2,mn,2,1,"p",33),y.Tb()),2&e){y.hc();var t=y.vc(24);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.maxLength)||(null==t.errors?null:t.errors.minLength))}}function Vn(e,n){if(1&e&&(y.Wb(0,"nb-option",40),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t),y.Eb(1),y.Gc(t.name)}}function Wn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Postrojenje za koje je vezana dozvola je obavezno! "),y.Vb())}function yn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Wn,2,0,"p",33),y.Tb()),2&e){y.hc();var t=y.vc(7);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function kn(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",35),y.Wb(1,"div",5),y.Wb(2,"div",3),y.Wb(3,"label",36),y.Fc(4,"Odaberi postrojenje:"),y.Vb(),y.Vb(),y.Wb(5,"div",3),y.Wb(6,"nb-select",37,38),y.dc("ngModelChange",function(){y.xc(t);var e=y.hc().$implicit;return y.hc(2).setAddress(e,e.storage)})("ngModelChange",function(e){return y.xc(t),y.hc().$implicit.storage=e}),y.Dc(8,Vn,2,2,"nb-option",39),y.ic(9,"async"),y.Vb(),y.Vb(),y.Wb(10,"div",3),y.Dc(11,yn,2,1,"ng-container",17),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(7),a=y.hc().$implicit,o=y.hc(2);y.Eb(6),y.nc("ngModel",a.storage)("ngModelOptions",y.qc(7,bn))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Eb(2),y.nc("ngForOf",y.jc(9,5,o.storages$)),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||o.checkIssues)}}function Cn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Datum nastanka dozvole je obavezan! "),y.Vb())}function wn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),y.Vb())}function In(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Cn,2,0,"p",33),y.Dc(2,wn,2,0,"p",33),y.Tb()),2&e){var t=y.hc().$implicit,i=y.vc(36),a=y.hc(2);y.Eb(1),y.nc("ngIf",null==i.errors?null:i.errors.required),y.Eb(1),y.nc("ngIf",!a.dateValid(t))}}function Fn(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Datum isteka dozvole je obavezan! "),y.Vb())}function Mn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Fn,2,0,"p",33),y.Tb()),2&e){y.hc();var t=y.vc(48);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function En(e,n){1&e&&(y.Wb(0,"p",34),y.Fc(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),y.Vb())}function jn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,En,2,0,"p",33),y.Tb()),2&e){var t=y.hc().$implicit;y.Eb(1),y.nc("ngIf",t.trashList.length<1)}}function On(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",3),y.Wb(1,"form",null,12),y.Wb(3,"nb-card",13),y.Wb(4,"nb-card-body"),y.Wb(5,"div",2),y.Wb(6,"div",3),y.Wb(7,"div",5),y.Wb(8,"div",3),y.Wb(9,"label",14),y.Fc(10,"Naziv Dozvole:"),y.Vb(),y.Vb(),y.Wb(11,"div",3),y.Wb(12,"input",15,16),y.dc("ngModelChange",function(e){return n.$implicit.name=e}),y.Vb(),y.Vb(),y.Wb(14,"div",3),y.Dc(15,hn,3,2,"ng-container",17),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(16,"div",2),y.Wb(17,"div",18),y.Wb(18,"div",5),y.Wb(19,"div",3),y.Wb(20,"label",19),y.Fc(21,"\u0160ifra Dozvole:"),y.Vb(),y.Vb(),y.Wb(22,"div",3),y.Wb(23,"input",20,21),y.dc("ngModelChange",function(e){return n.$implicit.code=e}),y.Vb(),y.Vb(),y.Wb(25,"div",3),y.Dc(26,fn,3,2,"ng-container",17),y.Vb(),y.Vb(),y.Vb(),y.Dc(27,kn,12,8,"div",22),y.Vb(),y.Wb(28,"div",2),y.Wb(29,"div",18),y.Wb(30,"div",5),y.Wb(31,"div",3),y.Wb(32,"label",23),y.Fc(33,"Datum izdavanja dozvole:"),y.Vb(),y.Vb(),y.Wb(34,"div",3),y.Wb(35,"input",24,25),y.dc("ngModelChange",function(e){return n.$implicit.dateCreation=e}),y.Vb(),y.Rb(37,"nb-datepicker",null,26),y.Vb(),y.Wb(39,"div",3),y.Dc(40,In,3,2,"ng-container",17),y.Vb(),y.Vb(),y.Vb(),y.Wb(41,"div",18),y.Wb(42,"div",5),y.Wb(43,"div",3),y.Wb(44,"label",27),y.Fc(45,"Datum isteka dozvole:"),y.Vb(),y.Vb(),y.Wb(46,"div",3),y.Wb(47,"input",28,29),y.dc("ngModelChange",function(e){return n.$implicit.dateExpiration=e}),y.Vb(),y.Rb(49,"nb-datepicker",null,30),y.Vb(),y.Wb(51,"div",3),y.Dc(52,Mn,2,1,"ng-container",17),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(53,"div",31),y.Wb(54,"div",18),y.Wb(55,"div",5),y.Wb(56,"div",3),y.Wb(57,"button",32),y.dc("click",function(){y.xc(t);var e=n.$implicit;return y.hc(2).choosePermit(e)}),y.Fc(58,"Odaberi otpade "),y.Vb(),y.Vb(),y.Wb(59,"div",3),y.Dc(60,jn,2,1,"ng-container",17),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=n.$implicit,a=n.index,o=y.vc(13),r=y.vc(24),c=y.vc(36),s=y.vc(38),l=y.vc(48),b=y.vc(50),u=y.hc(2);y.Eb(12),y.pc("placeholder","Dozvola #",a+1,""),y.nc("ngModel",i.name)("maxlength",u.getConfigValue("forms.validation.permitName.maxLength"))("minLength",u.getConfigValue("forms.validation.permitName.minLength"))("ngModelOptions",y.qc(32,bn))("required",u.getConfigValue("forms.validation.permitName.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),y.Eb(3),y.nc("ngIf",o.invalid&&o.touched||u.checkIssues),y.Eb(8),y.nc("ngModel",i.code)("ngModelOptions",y.qc(33,bn))("required",u.getConfigValue("forms.validation.permitCode.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),y.Eb(3),y.nc("ngIf",r.invalid&&r.touched||u.checkIssues),y.Eb(1),y.nc("ngIf","transport"!==u.permitType&&"collector"!==u.permitType),y.Eb(8),y.nc("ngModel",i.dateCreation)("nbDatepicker",s)("ngModelOptions",y.qc(34,bn))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(i)?"success":"danger"),y.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),y.Eb(5),y.nc("ngIf",!u.dateValid(i)||u.checkIssues),y.Eb(7),y.nc("ngModel",i.dateExpiration)("nbDatepicker",b)("ngModelOptions",y.qc(35,bn))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(i)?"success":"danger"),y.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),y.Eb(5),y.nc("ngIf",l.invalid&&l.touched||u.checkIssues),y.Eb(5),y.nc("disabled",""===i.code),y.Eb(3),y.nc("ngIf",u.checkIssues)}}function xn(e,n){if(1&e&&(y.Wb(0,"div",10),y.Dc(1,On,61,36,"div",11),y.ic(2,"async"),y.Vb()),2&e){var t=y.hc();y.Eb(1),y.nc("ngForOf",y.jc(2,1,t.permits$))}}var Nn,Pn=((Nn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.router=t,this.registerService=i,this.toastrService=o,this.storages=[],this.permitsNo=0,this.checkIssues=!1,this.valid=!1,this.showPermitsInput=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(ie.a)()).subscribe(function(n){void 0!==n&&(e.company=n,void 0!==n.permits&&(e.permits=e.company.permits.filter(function(n){return n.type===e.permitType}),e.permitsNo=e.permits.length,e.permits$=Object(V.a)(e.permits)))}),"transport"!==this.permitType&&"collector"!==this.permitType&&(this.permitsNo=this.storageNo,this.storages$=Object(V.a)(this.storages)),this.validatePermits(),this.registerService.sendCompany(Object(V.a)(this.company))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"checkValid",value:function(){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validatePermits(),this.valid){e.next=2;break}return e.abrupt("return",(this.checkIssues=!0,!1));case 2:return t="",e.next=5,Promise.all(this.registerService.checkPermits(this.permits)).then(function(e){var i,a=n(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t=o?t:"ta \u0161ifra",o)return o}}catch(r){a.e(r)}finally{a.f()}return!1});case 5:if(!e.sent){e.next=9;break}e.t0=!!this.valid||(this.checkIssues=!0,!1),e.next=10;break;case 9:e.t0=(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ve\u0107 postoji ".concat(t," dozvole!"),"danger"),!1);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}))}},{key:"validatePermits",value:function(){if(this.permits){this.valid=this.permits.length>0;var e,t=n(this.permits);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(""===i.name||i.name.length<3){this.valid=!1;break}if(""===i.code){this.valid=!1;break}if(void 0===i.dateCreation||void 0===i.dateExpiration){this.valid=!1;break}if(void 0===i.storage&&"transport"!==this.permitType&&"collector"!==this.permitType){this.valid=!1;break}if(i.trashList.length<1){this.valid=!1;break}}}catch(a){t.e(a)}finally{t.f()}}}},{key:"updatePermits",value:function(e,n,t){var i=this;if(void 0===t||!1!==t){void 0!==e&&(this.permitsNo=e),void 0!==n&&(this.storages$=n),this.company.permits?"transport"===this.permitType?this.company.permits=this.company.permits.filter(function(e){return"transport"!==e.type}):"collector"===this.permitType&&(this.company.permits=this.company.permits.filter(function(e){return"collector"!==e.type})):this.company.permits=[],this.permits=new Array(this.permitsNo);for(var a=0;a<this.permitsNo;a++)this.permits[a]={address:{location:void 0,street:""},code:"",dateCreation:new Date,dateExpiration:new Date,name:"",storage:{name:"",maxAmount:0,address:{location:{placeCode:0,placeName:"",townshipCode:0,townshipName:"",zipCode:""},street:""},amount:0},trashList:[],type:this.permitType},"transport"!==this.permitType&&"collector"!==this.permitType||(delete this.permits[a].storage,delete this.permits[a].address);this.permits$=Object(V.a)(this.permits),this.permits.forEach(function(e){return i.company.permits.push(e)}),this.validatePermits()}}},{key:"choosePermit",value:function(e){this.registerService.sendPermit(Object(V.a)(e.code)),this.router.navigate(["/auth/register-permit"])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"setAddress",value:function(e,n){e.address=n.address}}]),e}()).\u0275fac=function(e){return new(e||Nn)(y.Qb(x.a),y.Qb(h.c),y.Qb(j),y.Qb(P.a))},Nn.\u0275cmp=y.Kb({type:Nn,selectors:[["register-trash-permit"]],inputs:{permitType:"permitType",storageNo:"storageNo",storages:"storages"},decls:2,vars:2,consts:[["class","row my-1",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","my-1"],[1,"col-12"],["updatePermitForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],["for","input-permitName",1,"label"],["autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","",3,"ngModel","maxlength","minLength","ngModelOptions","required","status","placeholder","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],["class","col-6 my-1",4,"ngIf"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"row","my-2"],["nbButton","","status","success","type","button",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[1,"col-6","my-1"],["for","input-permitsStorage",1,"label"],["fullWidth","","id","input-permitsStorage","name","permitsStorage","required","",3,"ngModel","ngModelOptions","status","ngModelChange"],["permitsStorage","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(y.Dc(0,dn,23,1,"div",0),y.Dc(1,xn,3,3,"div",1)),2&e&&(y.nc("ngIf","transport"===n.permitType||"collector"===n.permitType),y.Eb(1),y.nc("ngIf",n.permitsNo>0))},directives:[p.n,g.w,g.l,g.m,T.u,T.x,T.T,g.p,g.b,g.k,g.n,p.m,T.A,T.z,g.f,g.s,T.M,T.L,T.t,T.tb,T.ib],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Nn),Tn=["permitRef"],zn=function(){return{standalone:!0}};function Dn(e,n){if(1&e){var t=y.Xb();y.Wb(0,"input",9),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().storageNo=e}),y.Vb()}if(2&e){var i=y.hc();y.nc("ngModel",i.storageNo)("ngModelOptions",y.qc(2,zn))}}function Sn(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Naziv skladi\u0161ta je obavezan! "),y.Vb())}function qn(e,n){if(1&e&&(y.Wb(0,"p",53),y.Fc(1),y.Vb()),2&e){var t=y.hc(4);y.Eb(1),y.Hc(" Naziv skladi\u0161ta mora biti du\u017ei od ",t.getConfigValue("forms.validation.storageName.minLength")," slova! ")}}function Rn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Sn,2,0,"p",52),y.Dc(2,qn,2,1,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(13);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ln(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Vrsta skladi\u0161ta je obavezna! "),y.Vb())}function Un(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Ln,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(8);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function $n(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"div",3),y.Wb(3,"div",1),y.Wb(4,"label",54),y.Fc(5,"Vrsta Deponije:"),y.Vb(),y.Vb(),y.Wb(6,"div",1),y.Wb(7,"nb-select",55,56),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().$implicit.dumpType=e}),y.Wb(9,"nb-option",51),y.Fc(10,"Neopasan otpad"),y.Vb(),y.Wb(11,"nb-option",51),y.Fc(12,"Opasan otpad"),y.Vb(),y.Wb(13,"nb-option",51),y.Fc(14,"Inertan otpad"),y.Vb(),y.Vb(),y.Vb(),y.Wb(15,"div",1),y.Dc(16,Un,2,1,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(8),a=y.hc().$implicit,o=y.hc(2);y.Eb(7),y.nc("ngModel",a.dumpType)("ngModelOptions",y.qc(9,zn))("required",o.getConfigValue("forms.validation.dumpType.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(2),y.nc("value","Neopasan"),y.Eb(2),y.nc("value","Opasan"),y.Eb(2),y.nc("value","Inertan"),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||o.checkIssues)}}function An(e,n){if(1&e&&(y.Wb(0,"nb-option",51),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t),y.Eb(1),y.Gc(t)}}function Qn(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Op\u0161tina je obavezna! "),y.Vb())}function Bn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Qn,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(29);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function Gn(e,n){if(1&e&&(y.Wb(0,"nb-option",51),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.nc("value",t),y.Eb(1),y.Gc(t)}}function _n(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Mesto je obavezno! "),y.Vb())}function Kn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,_n,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(43);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function Xn(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Po\u0161tanski broj je obavezan! "),y.Vb())}function Zn(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Po\u0161tanski broj mora biti validan! "),y.Vb())}function Hn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Xn,2,0,"p",52),y.Dc(2,Zn,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(58);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Jn(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Ulica je obavezna! "),y.Vb())}function Yn(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Jn,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(68);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required)}}function et(e,n){1&e&&(y.Wb(0,"button",61),y.Fc(1,"\xb0"),y.Vb())}function nt(e,n){1&e&&(y.Wb(0,"button",62),y.Fc(1,"'"),y.Vb())}function tt(e,n){1&e&&(y.Wb(0,"button",62),y.Fc(1,'"'),y.Vb())}function it(e,n){if(1&e){var t=y.Xb();y.Wb(0,"span",57),y.Wb(1,"input",58),y.dc("ngModelChange",function(e){y.xc(t);var i=n.$implicit;return y.hc().$implicit.geolocationNorth[i]=e}),y.Vb(),y.Dc(2,et,2,0,"button",59),y.Dc(3,nt,2,0,"button",60),y.Dc(4,tt,2,0,"button",60),y.Vb()}if(2&e){var i=n.$implicit,a=y.hc().$implicit;y.Eb(1),y.nc("ngModel",a.geolocationNorth[i])("ngModelOptions",y.qc(5,zn)),y.Eb(1),y.nc("ngIf",1===i),y.Eb(1),y.nc("ngIf",3===i),y.Eb(1),y.nc("ngIf",6===i)}}function at(e,n){1&e&&(y.Wb(0,"button",61),y.Fc(1,"\xb0"),y.Vb())}function ot(e,n){1&e&&(y.Wb(0,"button",62),y.Fc(1,"'"),y.Vb())}function rt(e,n){1&e&&(y.Wb(0,"button",62),y.Fc(1,'"'),y.Vb())}function ct(e,n){if(1&e){var t=y.Xb();y.Wb(0,"span",63),y.Wb(1,"input",58),y.dc("ngModelChange",function(e){y.xc(t);var i=n.$implicit;return y.hc().$implicit.geolocationEast[i]=e}),y.Vb(),y.Dc(2,at,2,0,"button",59),y.Dc(3,ot,2,0,"button",60),y.Dc(4,rt,2,0,"button",60),y.Vb()}if(2&e){var i=n.$implicit,a=y.hc().$implicit;y.Eb(1),y.nc("ngModel",a.geolocationEast[i])("ngModelOptions",y.qc(5,zn)),y.Eb(1),y.nc("ngIf",1===i),y.Eb(1),y.nc("ngIf",3===i),y.Eb(1),y.nc("ngIf",6===i)}}function st(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Veli\u010dina skladi\u0161ta je obavezna! "),y.Vb())}function lt(e,n){1&e&&(y.Wb(0,"p",53),y.Fc(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),y.Vb())}function bt(e,n){if(1&e&&(y.Ub(0),y.Dc(1,st,2,0,"p",52),y.Dc(2,lt,2,0,"p",52),y.Tb()),2&e){y.hc();var t=y.vc(99),i=y.hc(2);y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.required)||i.isNaN(t.value)),y.Eb(1),y.nc("ngIf",t<1)}}function ut(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",1),y.Wb(1,"form",null,12),y.Wb(3,"nb-card",13),y.Wb(4,"nb-card-body"),y.Wb(5,"div",0),y.Wb(6,"div",1),y.Wb(7,"div",3),y.Wb(8,"div",1),y.Wb(9,"label",14),y.Fc(10,"Naziv Skladi\u0161ta:"),y.Vb(),y.Vb(),y.Wb(11,"div",1),y.Wb(12,"input",15,16),y.dc("ngModelChange",function(e){return n.$implicit.name=e}),y.Vb(),y.Vb(),y.Wb(14,"div",1),y.Dc(15,Rn,3,2,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Dc(16,$n,17,10,"div",17),y.Wb(17,"div",0),y.Wb(18,"div",1),y.Wb(19,"label",18),y.Fc(20,"Adresa:"),y.Vb(),y.Wb(21,"div",19),y.Wb(22,"div",20),y.Wb(23,"div",3),y.Wb(24,"div",1),y.Wb(25,"label",21),y.Fc(26,"Op\u0161tina:"),y.Vb(),y.Vb(),y.Wb(27,"div",1),y.Wb(28,"input",22,23),y.dc("ngModelChange",function(){y.xc(t);var e=y.vc(29);return y.hc(2).chooseTownship(e.value)})("ngModelChange",function(e){return n.$implicit.address.location.townshipName=e}),y.Vb(),y.Wb(30,"nb-autocomplete",null,24),y.Dc(32,An,2,2,"nb-option",25),y.ic(33,"async"),y.Vb(),y.Vb(),y.Wb(34,"div",1),y.Dc(35,Bn,2,1,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Wb(36,"div",20),y.Wb(37,"div",3),y.Wb(38,"div",1),y.Wb(39,"label",26),y.Fc(40,"Mesto:"),y.Vb(),y.Vb(),y.Wb(41,"div",1),y.Wb(42,"input",27,28),y.dc("ngModelChange",function(e){return y.xc(t),y.hc(2).findPlaces(e)})("ngModelChange",function(e){return n.$implicit.address.location.placeName=e}),y.Vb(),y.Wb(44,"nb-autocomplete",null,29),y.Dc(46,Gn,2,2,"nb-option",25),y.ic(47,"async"),y.Vb(),y.Vb(),y.Wb(48,"div",1),y.Dc(49,Kn,2,1,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(50,"div",0),y.Wb(51,"div",30),y.Wb(52,"div",3),y.Wb(53,"div",1),y.Wb(54,"label",31),y.Fc(55,"Po\u0161tanski broj:"),y.Vb(),y.Vb(),y.Wb(56,"div",1),y.Wb(57,"input",32,33),y.dc("ngModelChange",function(e){return n.$implicit.address.location.zipCode=e}),y.Vb(),y.Vb(),y.Wb(59,"div",1),y.Dc(60,Hn,3,2,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Wb(61,"div",34),y.Wb(62,"div",3),y.Wb(63,"div",1),y.Wb(64,"label",35),y.Fc(65,"Ulica i broj:"),y.Vb(),y.Vb(),y.Wb(66,"div",1),y.Wb(67,"input",36,37),y.dc("ngModelChange",function(e){return n.$implicit.address.street=e}),y.Vb(),y.Vb(),y.Wb(69,"div",1),y.Dc(70,Yn,2,1,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(71,"div",0),y.Wb(72,"div",1),y.Wb(73,"div",3),y.Wb(74,"div",1),y.Wb(75,"label",38),y.Fc(76,"Geolokacija Sever (N):"),y.Vb(),y.Vb(),y.Wb(77,"div",1),y.Dc(78,it,5,6,"span",39),y.Vb(),y.Wb(79,"div",1),y.Sb(80),y.Vb(),y.Vb(),y.Vb(),y.Wb(81,"div",40),y.Wb(82,"div",3),y.Wb(83,"div",1),y.Wb(84,"label",41),y.Fc(85,"Geolokacija Istok (E0):"),y.Vb(),y.Vb(),y.Wb(86,"div",1),y.Dc(87,ct,5,6,"span",42),y.Vb(),y.Wb(88,"div",1),y.Sb(89),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(90,"div",43),y.Wb(91,"div",1),y.Wb(92,"div",3),y.Wb(93,"div",1),y.Wb(94,"label",44),y.Fc(95,"Veli\u010dina skladi\u0161ta: "),y.Rb(96,"i",45),y.Vb(),y.Vb(),y.Wb(97,"div",46),y.Wb(98,"input",47,48),y.dc("ngModelChange",function(e){return n.$implicit.maxAmount=e}),y.Vb(),y.Vb(),y.Wb(100,"div",49),y.Wb(101,"nb-select",50),y.dc("ngModelChange",function(e){return n.$implicit.storageUnit=e}),y.Wb(102,"nb-option",51),y.Fc(103,"KG"),y.Vb(),y.Wb(104,"nb-option",51),y.Fc(105,"T"),y.Vb(),y.Vb(),y.Vb(),y.Wb(106,"div",1),y.Dc(107,bt,3,2,"ng-container",8),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=n.$implicit,a=n.index,o=y.vc(13),r=y.vc(29),c=y.vc(31),s=y.vc(43),l=y.vc(45),b=y.vc(58),u=y.vc(68),d=y.vc(99),p=y.hc(2);y.Eb(12),y.nc("ngModel",i.name)("maxlength",p.getConfigValue("forms.validation.storageName.maxLength"))("minlength",p.getConfigValue("forms.validation.storageName.minLength"))("ngModelOptions",y.qc(57,zn))("placeholder","Skladi\u0161te #"+(a+1))("required",p.getConfigValue("forms.validation.storageName.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),y.Eb(3),y.nc("ngIf",o.invalid&&o.touched||p.checkIssues),y.Eb(1),y.nc("ngIf","dump"===p.storageType),y.Eb(12),y.nc("ngModel",i.address.location.townshipName)("nbAutocomplete",c)("ngModelOptions",y.qc(58,zn))("required",p.getConfigValue("forms.validation.address.required")),y.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),y.Eb(4),y.nc("ngForOf",y.jc(33,53,p.townships$)),y.Eb(3),y.nc("ngIf",r.invalid&&r.touched||p.checkIssues),y.Eb(7),y.nc("ngModel",i.address.location.placeName)("nbAutocomplete",l)("ngModelOptions",y.qc(59,zn))("required",p.getConfigValue("forms.validation.address.required")),y.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),y.Eb(4),y.nc("ngForOf",y.jc(47,55,p.places$)),y.Eb(3),y.nc("ngIf",s.invalid&&s.touched||p.checkIssues),y.Eb(8),y.nc("ngModel",i.address.location.zipCode)("maxlength",p.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",p.getConfigValue("forms.validation.zipCode.minLength"))("ngModelOptions",y.qc(60,zn))("required",p.getConfigValue("forms.validation.zipCode.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),y.Eb(3),y.nc("ngIf",b.invalid&&b.touched||p.checkIssues),y.Eb(7),y.nc("ngModel",i.address.street)("maxlength",p.getConfigValue("forms.validation.street.maxLength"))("minlength",p.getConfigValue("forms.validation.street.minLength"))("ngModelOptions",y.qc(61,zn))("required",p.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),y.Eb(3),y.nc("ngIf",u.invalid&&u.touched||p.checkIssues),y.Eb(8),y.nc("ngForOf",p.numbers),y.Eb(9),y.nc("ngForOf",p.numbers),y.Eb(9),y.nc("nbTooltip","Unesite veli\u010dinu privremenog skladi\u0161ta koju posedujete u okviru pravnog subjekta u jedinicama mere. Na\u010din odre\u0111ivanja veli\u010dine privremenog skladi\u0161ta merenje/prora\u010dun/procena."),y.Eb(2),y.nc("ngModel",i.maxAmount)("min",p.getConfigValue("forms.validation.storageSize.min"))("ngModelOptions",y.qc(62,zn))("required",p.getConfigValue("forms.validation.storageSize.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),y.Eb(3),y.nc("ngModelOptions",y.qc(63,zn))("ngModel",i.storageUnit),y.Eb(1),y.nc("value","KG"),y.Eb(2),y.nc("value","T"),y.Eb(3),y.nc("ngIf",d.invalid&&d.touched||p.checkIssues)}}function dt(e,n){if(1&e&&(y.Wb(0,"div",10),y.Dc(1,ut,108,64,"div",11),y.ic(2,"async"),y.Vb()),2&e){var t=y.hc();y.Eb(1),y.nc("ngForOf",y.jc(2,1,t.storages$))}}function pt(e,n){if(1&e&&(y.Wb(0,"div"),y.Rb(1,"register-trash-permit",64,65),y.Vb()),2&e){var t=y.hc();y.Eb(1),y.nc("storageNo",t.storageNo)("storages",t.storages)("permitType",t.storageType)}}var gt,ht=((gt=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;a(this,t),this.options=n,this.registerService=i,this.locationService=o,this.townships=[],this.places=[],this.showStorageInput=!1,this.checkIssues=!1,this.valid=!1,this.numbers=e(Array(7).keys())}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(ie.a)()).subscribe(function(n){if(void 0!==n&&(e.company=n,void 0!==n.storages)){var t=[];"treatment"===e.storageType?(t=e.company.storages,e.storages=t.filter(function(e){return void 0!==e.treatment})):"dump"===e.storageType?(t=e.company.storages,e.storages=t.filter(function(e){return void 0!==e.dumpType})):"cache"===e.storageType?(t=e.company.storages,e.storages=t.filter(function(e){return void 0!==e.cache})):(t=e.company.storages,e.storages=t.filter(function(e){return void 0===e.cache&&void 0===e.dumpType&&void 0===e.treatment})),e.storageNo=e.storages.length,e.storages$=Object(V.a)(e.storages)}}),this.registerService.sendCompany(Object(V.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(ie.a)()).subscribe(function(n){e.townships=n,e.townships$=Object(V.a)(n)}),this.validateStorage()}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"checkValid",value:function(){return this.validateStorage(),!(void 0!==this.permitRef&&!this.permitRef.checkValid()||!this.valid&&(this.checkIssues=!0,1))}},{key:"validateStorage",value:function(){if(void 0!==this.storages){this.valid=this.storages.length>0;var e,t=n(this.storages);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(""===i.name||i.name.length<3){this.valid=!1;break}if(i.maxAmount<1||isNaN(i.maxAmount)){this.valid=!1;break}if(""===i.address.location.placeName||""===i.address.location.townshipName){this.valid=!1;break}if(""===i.address.street){this.valid=!1;break}if("dump"===this.storageType&&""===i.dumpType){this.valid=!1;break}}}catch(a){t.e(a)}finally{t.f()}}}},{key:"updateStorages",value:function(e,n){var t=this;if(n){this.storageNo=e;var i=new Array;"treatment"===this.storageType?(i=this.company.storages,this.company.storages=i.filter(function(e){return void 0===e.treatment})):"dump"===this.storageType?(i=this.company.storages,this.company.storages=i.filter(function(e){return void 0===e.dumpType})):"cache"===this.storageType?(i=this.company.storages,this.company.storages=i.filter(function(e){return void 0===e.cache})):(i=this.company.storages,this.company.storages=i.filter(function(e){return e.treatment||e.dumpType||e.cache})),this.storages=new Array(this.storageNo);for(var a=0;a<this.storageNo;a++)this.storages[a]={address:{location:{placeName:"",placeCode:0,townshipName:"",townshipCode:0,zipCode:""},street:""},amount:0,storageUnit:"KG",geolocationEast:["0","0","0","0","0","0","0"],geolocationNorth:["0","0","0","0","0","0","0"],maxAmount:NaN,name:"",packages:[],trashes:[]},"cache"===this.storageType&&(this.storages[a].cache="cache"),"treatment"===this.storageType&&(this.storages[a].treatment="treatment"),"dump"===this.storageType&&(this.storages[a].dumpType="");this.storages$=Object(V.a)(this.storages),this.storages.forEach(function(e){return t.company.storages.push(e)}),this.validateStorage(),void 0!==this.permitRef&&this.permitRef.updatePermits(this.storageNo,this.storages$)}}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(ie.a)()).subscribe(function(e){n.places=e,n.places$=Object(V.a)(e)})}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(function(e){return n.getPlaces(e[0])})):this.townships$=Object(V.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return isNaN(e)||void 0===e})}]),t}()).\u0275fac=function(e){return new(e||gt)(y.Qb(x.a),y.Qb(j),y.Qb(I))},gt.\u0275cmp=y.Kb({type:gt,selectors:[["register-trash-storage"]],viewQuery:function(e,n){var t;1&e&&y.Lc(Tn,1),2&e&&y.uc(t=y.ec())&&(n.permitRef=t.first)},inputs:{storageType:"storageType",trashType:"trashType"},decls:25,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateStorageForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row mt-3",4,"ngIf"],[4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],["for","input-storageName",1,"label"],["autofocus","","fullWidth","","id","input-storageName","name","storageName","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["storageName","ngModel"],["class","row my-1",4,"ngIf"],["for","input-address",1,"label"],["id","input-address",1,"row","ml-2"],[1,"col-6"],["for","input-storageTownship",1,"label"],["autocomplete","off","fullWidth","","id","input-storageTownship","name","storageTownship","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storageTownship","ngModel"],["autoCompleteTownship",""],[3,"value",4,"ngFor","ngForOf"],["for","input-storagePlace",1,"label"],["autocomplete","off","fullWidth","","id","input-storagePlace","name","storagePlace","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storagePlace","ngModel"],["autoCompletePlace",""],[1,"col-3"],["for","input-storageZipCode",1,"label"],["fullWidth","","id","input-storageZipCode","name","storageZipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageZipCode","ngModel"],[1,"col-9"],["for","input-storageStreet",1,"label"],["fullWidth","","id","input-storageStreet","name","storageStreet","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageStreet","ngModel"],["for","input-geolocationN",1,"label"],["id","input-geolocationN",4,"ngFor","ngForOf"],[1,"col-12","mt-1"],["for","input-geolocationE",1,"label"],["id","input-geolocationE",4,"ngFor","ngForOf"],[1,"row","mb-2"],["for","input-storageSize",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],[1,"col-10","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","placeholder","0","onkeypress","return /[0-9.]/i.test(event.key)","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-dumpType",1,"label"],["fullWidth","","id","input-dumpType","name","dumpType","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["dumpType","ngModel"],["id","input-geolocationN"],["fullWidth","","maxlength","1","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","type","text",1,"col-1",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","class","col-1 mb-1 geolocation-sign","disabled","",4,"ngIf"],["nbButton","","disabled","","style","max-width: 2vw; font-size: 1.5rem","class","col-1 mb-1",4,"ngIf"],["nbButton","","disabled","",1,"col-1","mb-1","geolocation-sign"],["nbButton","","disabled","",1,"col-1","mb-1",2,"max-width","2vw","font-size","1.5rem"],["id","input-geolocationE"],[3,"storageNo","storages","permitType"],["permitRef",""]],template:function(e,n){1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"form",null,2),y.Wb(4,"div",3),y.Wb(5,"div",1),y.Wb(6,"label",4),y.Fc(7,"Broj skladi\u0161ta:"),y.Vb(),y.Vb(),y.Wb(8,"div",1),y.Wb(9,"nb-button-group"),y.Wb(10,"button",5),y.dc("pressedChange",function(e){return n.updateStorages(1,e)}),y.Fc(11,"1"),y.Vb(),y.Wb(12,"button",5),y.dc("pressedChange",function(e){return n.updateStorages(2,e)}),y.Fc(13,"2"),y.Vb(),y.Wb(14,"button",5),y.dc("pressedChange",function(e){return n.updateStorages(3,e)}),y.Fc(15,"3"),y.Vb(),y.Wb(16,"button",5),y.dc("pressedChange",function(e){return n.updateStorages(4,e)}),y.Fc(17,"4"),y.Vb(),y.Wb(18,"button",5),y.dc("pressedChange",function(e){return n.updateStorages(5,e)}),y.Fc(19,"5"),y.Vb(),y.Wb(20,"button",5),y.dc("pressedChange",function(){return n.showStorageInput=!n.showStorageInput}),y.Fc(21,"Vi\u0161e..."),y.Vb(),y.Dc(22,Dn,1,3,"input",6),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Dc(23,dt,3,3,"div",7),y.Dc(24,pt,3,3,"div",8)),2&e&&(y.Eb(22),y.nc("ngIf",n.showStorageInput),y.Eb(1),y.nc("ngIf",n.storageNo>0),y.Eb(1),y.nc("ngIf","production"!==n.storageType))},directives:[g.w,g.l,g.m,T.u,T.x,p.n,T.T,g.p,g.b,g.k,g.n,p.m,T.A,T.z,g.f,g.g,g.s,T.r,T.q,T.Pb,T.tb,T.ib,T.t,Pn],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}.geolocation-sign[_ngcontent-%COMP%]{max-width:2vw;font-size:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:unset}"]}),gt),vt=["permitRef"],mt=function(){return{standalone:!0}};function ft(e,n){if(1&e){var t=y.Xb();y.Wb(0,"input",10),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().vehiclesNo=e}),y.Vb()}if(2&e){var i=y.hc();y.nc("ngModel",i.vehiclesNo)("ngModelOptions",y.qc(2,mt))}}function Vt(e,n){1&e&&(y.Wb(0,"p",25),y.Fc(1," Registarski broj tablica je obavezan! "),y.Vb())}function Wt(e,n){1&e&&(y.Wb(0,"p",25),y.Fc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),y.Vb())}function yt(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Vt,2,0,"p",24),y.Dc(2,Wt,2,0,"p",24),y.Tb()),2&e){y.hc();var t=y.vc(13);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.pattern)||(null==t.errors?null:t.errors.minLength))}}function kt(e,n){1&e&&(y.Wb(0,"p",25),y.Fc(1," Vrsta vozila je obavezna! "),y.Vb())}function Ct(e,n){if(1&e&&(y.Ub(0),y.Dc(1,kt,2,0,"p",24),y.Tb()),2&e){y.hc();var t=y.vc(24);y.Eb(1),y.nc("ngIf",!t.value)}}function wt(e,n){if(1&e&&(y.Wb(0,"div",13),y.Wb(1,"form",null,14),y.Wb(3,"nb-card",15),y.Wb(4,"nb-card-body"),y.Wb(5,"div",0),y.Wb(6,"div",1),y.Wb(7,"div",3),y.Wb(8,"div",1),y.Wb(9,"label",16),y.Fc(10,"Registarski broj tablice:"),y.Vb(),y.Vb(),y.Wb(11,"div",1),y.Wb(12,"input",17,18),y.dc("ngModelChange",function(e){return n.$implicit.licensePlate=e}),y.Vb(),y.Vb(),y.Wb(14,"div",1),y.Dc(15,yt,3,2,"ng-container",19),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(16,"div",0),y.Wb(17,"div",1),y.Wb(18,"div",3),y.Wb(19,"div",1),y.Wb(20,"label",20),y.Fc(21,"Vrsta vozila:"),y.Vb(),y.Vb(),y.Wb(22,"div",1),y.Wb(23,"nb-select",21,22),y.dc("ngModelChange",function(e){return n.$implicit.type=e}),y.Wb(25,"nb-option",23),y.Fc(26,"Kamion"),y.Vb(),y.Wb(27,"nb-option",23),y.Fc(28,"Kombi"),y.Vb(),y.Wb(29,"nb-option",23),y.Fc(30,"Automobil"),y.Vb(),y.Vb(),y.Vb(),y.Wb(31,"div",1),y.Dc(32,Ct,2,1,"ng-container",19),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()),2&e){var t=n.$implicit,i=y.vc(13),a=y.vc(24),o=y.hc(2);y.Eb(12),y.nc("ngModel",t.licensePlate)("maxlength",o.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",o.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",y.qc(18,mt))("pattern",o.getConfigValue("forms.validation.licensePlate.pattern"))("required",o.getConfigValue("forms.validation.licensePlate.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||o.checkIssues),y.Eb(8),y.nc("ngModel",t.type)("ngModelOptions",y.qc(19,mt))("required",o.getConfigValue("forms.validation.vehicleType.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(2),y.nc("value","kamion"),y.Eb(2),y.nc("value","kombi"),y.Eb(2),y.nc("value","automobil"),y.Eb(3),y.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}function It(e,n){if(1&e&&(y.Wb(0,"div",11),y.Dc(1,wt,33,20,"div",12),y.ic(2,"async"),y.Vb()),2&e){var t=y.hc();y.Eb(1),y.nc("ngForOf",y.jc(2,1,t.vehicles$))}}var Ft,Mt=((Ft=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;a(this,e),this.options=n,this.registerService=t,this.toastrService=i,this.vehiclesNo=0,this.valid=!1,this.checkIssues=!1,this.showVehicleInput=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(ie.a)()).subscribe(function(n){void 0!==n&&(e.company=n,void 0!==n.vehicles&&(e.vehiclesNo=e.company.vehicles.length,e.vehicles=e.company.vehicles,e.vehicles$=Object(V.a)(e.vehicles)))}),this.registerService.sendCompany(Object(V.a)(this.company)),this.validateVehicles()}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"checkValid",value:function(){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateVehicles(),this.valid){e.next=2;break}return e.abrupt("return",(this.checkIssues=!0,!1));case 2:return t="",e.next=5,Promise.all(this.registerService.checkVehicles(this.vehicles)).then(function(e){var i,a=n(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t=o?t:"ta registarska tablica",o)return o}}catch(r){a.e(r)}finally{a.f()}return!1});case 5:if(!e.sent){e.next=17;break}if(e.t2=void 0!==this.permitRef,!e.t2){e.next=11;break}return e.next=10,this.permitRef.checkValid();case 10:e.t2=!e.sent;case 11:if(e.t1=e.t2,e.t1){e.next=14;break}e.t1=!this.valid&&(this.checkIssues=!0,1);case 14:e.t0=!e.t1,e.next=18;break;case 17:e.t0=(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ve\u0107 postoji ".concat(t,"!"),"danger"),!1);case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,this)}))}},{key:"validateVehicles",value:function(){if(void 0!==this.vehicles){this.valid=this.vehicles.length>0;var e,t=n(this.vehicles);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(""===i.licensePlate||i.licensePlate.length<9){this.valid=!1;break}if(""===i.type){this.valid=!1;break}}}catch(a){t.e(a)}finally{t.f()}}}},{key:"updateVehicles",value:function(e,n){if(n){this.vehiclesNo=e,this.vehicles=new Array(this.vehiclesNo);for(var t=0;t<this.vehiclesNo;t++)this.vehicles[t]={licensePlate:"",type:""};this.company.vehicles=this.vehicles,this.vehicles$=Object(V.a)(this.vehicles),this.validateVehicles()}}}]),e}()).\u0275fac=function(e){return new(e||Ft)(y.Qb(x.a),y.Qb(j),y.Qb(P.a))},Ft.\u0275cmp=y.Kb({type:Ft,selectors:[["register-trash-transport"]],viewQuery:function(e,n){var t;1&e&&y.Lc(vt,1),2&e&&y.uc(t=y.ec())&&(n.permitRef=t.first)},decls:26,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateVehicleForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row pt-4",4,"ngIf"],[3,"permitType"],["permitRef",""],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],["transportForm","ngForm"],["accent","danger"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){1&e&&(y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"form",null,2),y.Wb(4,"div",3),y.Wb(5,"div",1),y.Wb(6,"label",4),y.Fc(7,"Broj vozila:"),y.Vb(),y.Vb(),y.Wb(8,"div",1),y.Wb(9,"nb-button-group"),y.Wb(10,"button",5),y.dc("pressedChange",function(e){return n.updateVehicles(1,e)}),y.Fc(11,"1"),y.Vb(),y.Wb(12,"button",5),y.dc("pressedChange",function(e){return n.updateVehicles(2,e)}),y.Fc(13,"2"),y.Vb(),y.Wb(14,"button",5),y.dc("pressedChange",function(e){return n.updateVehicles(3,e)}),y.Fc(15,"3"),y.Vb(),y.Wb(16,"button",5),y.dc("pressedChange",function(e){return n.updateVehicles(4,e)}),y.Fc(17,"4"),y.Vb(),y.Wb(18,"button",5),y.dc("pressedChange",function(e){return n.updateVehicles(5,e)}),y.Fc(19,"5"),y.Vb(),y.Wb(20,"button",5),y.dc("pressedChange",function(){return n.showVehicleInput=!n.showVehicleInput}),y.Fc(21,"Vi\u0161e..."),y.Vb(),y.Dc(22,ft,1,3,"input",6),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Dc(23,It,3,3,"div",7),y.Rb(24,"register-trash-permit",8,9)),2&e&&(y.Eb(22),y.nc("ngIf",n.showVehicleInput),y.Eb(1),y.nc("ngIf",n.vehiclesNo>0),y.Eb(1),y.nc("permitType","transport"))},directives:[g.w,g.l,g.m,T.u,T.x,p.n,Pn,T.T,g.p,g.b,g.k,g.n,p.m,T.A,T.z,g.f,g.q,g.s,T.tb,T.ib],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),Ft),Et=["productionRef"],jt=["transportRef"],Ot=["collectorRef"],xt=["treatmentRef"],Nt=["dumpRef"],Pt=["cacheRef"];function Tt(e,n){1&e&&(y.Wb(0,"nb-card",16),y.Wb(1,"nb-card-body"),y.Wb(2,"p",17),y.Fc(3,"Nije potrebno uno\u0161enje dodatnih informacija za Posebne tokove otpada. Sam unos \u0107e se obavljati u samoj aplikaciji."),y.Vb(),y.Vb(),y.Vb())}function zt(e,n){1&e&&y.Rb(0,"register-trash-storage",22,23),2&e&&y.nc("storageType","production")}function Dt(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,19),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Proizvodnja \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,zt,2,1,"register-trash-storage",21),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","production"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("production").status)("icon",i.checkCompletion("production").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}function St(e,n){1&e&&y.Rb(0,"register-trash-transport",null,26)}function qt(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,24),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Transport \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,St,2,0,"register-trash-transport",25),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","transport"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("transport").status)("icon",i.checkCompletion("transport").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}function Rt(e,n){1&e&&y.Rb(0,"register-trash-permit",29,30),2&e&&y.nc("permitType","collector")}function Lt(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,27),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Sakuplja\u010d \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,Rt,2,1,"register-trash-permit",28),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","collector"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("collector").status)("icon",i.checkCompletion("collector").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}function Ut(e,n){1&e&&y.Rb(0,"register-trash-storage",22,32),2&e&&y.nc("storageType","treatment")}function $t(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,31),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Tretman \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,Ut,2,1,"register-trash-storage",21),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","treatment"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("treatment").status)("icon",i.checkCompletion("treatment").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}function At(e,n){1&e&&y.Rb(0,"register-trash-storage",22,34),2&e&&y.nc("storageType","dump")}function Qt(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,33),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Odlaganje \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,At,2,1,"register-trash-storage",21),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","disposal"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("dump").status)("icon",i.checkCompletion("dump").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}function Bt(e,n){1&e&&y.Rb(0,"register-trash-storage",22,36),2&e&&y.nc("storageType","cache")}function Gt(e,n){if(1&e&&(y.Wb(0,"nb-accordion-item",18,35),y.Wb(2,"nb-accordion-item-header"),y.Fc(3,"Skladi\u0161tenje \xa0 "),y.Rb(4,"nb-icon",20),y.Vb(),y.Wb(5,"nb-accordion-item-body"),y.Dc(6,Bt,2,1,"register-trash-storage",21),y.Vb(),y.Vb()),2&e){var t=y.vc(1),i=y.hc();y.nc("collapsed","cache"!==i.activeTab),y.Eb(4),y.nc("status",i.checkCompletion("cache").status)("icon",i.checkCompletion("cache").icon),y.Eb(2),y.nc("ngIf",!t.collapsed)}}var _t,Kt=((_t=function(){function e(n,t,i,o,r){a(this,e),this.registerService=n,this.router=t,this.toastrService=i,this.roleService=o,this.route=r,this.valid=!1,this.loading=!1,this.activeTab="",this.activeTab=this.route.snapshot.paramMap.get("tab")}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(ie.a)()).subscribe(function(n){e.roleService.getOperations(n,!0).pipe(Object(ie.a)()).subscribe(function(n){e.operations=n})})}},{key:"checkCompletion",value:function(e){return"production"===e&&void 0!==this.productionRef&&this.operations.production&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operations.transport&&this.transportRef.valid||"collector"===e&&void 0!==this.collectorRef&&this.operations.collector&&this.collectorRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operations.treatment&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operations.disposal&&this.dumpRef.valid||"cache"===e&&void 0!==this.cacheRef&&this.operations.cache&&this.cacheRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}},{key:"validateInformation",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout(function(){return Object(le.a)(t,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.valid=!0,void 0!==this.productionRef&&this.operations.production&&(this.productionRef.checkValid()||(this.valid=!1)),n.t0=void 0!==this.transportRef&&this.operations.transport,!n.t0){n.next=7;break}return n.next=6,this.transportRef.checkValid();case 6:this.valid=n.sent;case 7:if(n.t1=void 0!==this.collectorRef&&this.operations.collector,!n.t1){n.next=12;break}return n.next=11,this.collectorRef.checkValid();case 11:this.valid=n.sent;case 12:void 0!==this.treatmentRef&&this.operations.treatment&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.operations.disposal&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.cacheRef&&this.operations.cache&&(this.cacheRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-confirmation"]):(e.closeAll(),e.multi=!1,this.loading=!1,this.toastrService.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"));case 16:case"end":return n.stop()}},n,this)}))},1e3);case 1:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(e){return new(e||_t)(y.Qb(j),y.Qb(h.c),y.Qb(P.a),y.Qb(L.a),y.Qb(h.a))},_t.\u0275cmp=y.Kb({type:_t,selectors:[["register-informations"]],viewQuery:function(e,n){var t;1&e&&(y.Lc(Et,1),y.Lc(jt,1),y.Lc(Ot,1),y.Lc(xt,1),y.Lc(Nt,1),y.Lc(Pt,1)),2&e&&(y.uc(t=y.ec())&&(n.productionRef=t.first),y.uc(t=y.ec())&&(n.transportRef=t.first),y.uc(t=y.ec())&&(n.collectorRef=t.first),y.uc(t=y.ec())&&(n.treatmentRef=t.first),y.uc(t=y.ec())&&(n.dumpRef=t.first),y.uc(t=y.ec())&&(n.cacheRef=t.first))},decls:24,vars:8,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["class","bg-light",4,"ngIf"],["size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operations"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Potvrda"],[1,"bg-light"],[1,"justify-content-center","d-flex"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[3,"storageType",4,"ngIf"],[3,"storageType"],["productionRef",""],["accordionTransport",""],[4,"ngIf"],["transportRef",""],["accordionCollector",""],[3,"permitType",4,"ngIf"],[3,"permitType"],["collectorRef",""],["accordionTreatment",""],["treatmentRef",""],["accordionDump",""],["dumpRef",""],["accordionCache",""],["cacheRef",""]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"h1",0),y.Fc(1,"Registruj se!"),y.Vb(),y.Wb(2,"nb-stepper",1),y.Rb(3,"nb-step",2),y.Rb(4,"nb-step",3),y.Rb(5,"nb-step",4),y.Wb(6,"nb-step",5),y.Dc(7,Tt,4,0,"nb-card",6),y.Wb(8,"nb-accordion",7,8),y.Dc(10,Dt,7,4,"nb-accordion-item",9),y.Dc(11,qt,7,4,"nb-accordion-item",9),y.Dc(12,Lt,7,4,"nb-accordion-item",9),y.Dc(13,$t,7,4,"nb-accordion-item",9),y.Dc(14,Qt,7,4,"nb-accordion-item",9),y.Dc(15,Gt,7,4,"nb-accordion-item",9),y.Vb(),y.Wb(16,"div",10),y.Wb(17,"div",11),y.Wb(18,"button",12),y.Fc(19," Nazad "),y.Vb(),y.Vb(),y.Wb(20,"div",13),y.Wb(21,"button",14),y.dc("click",function(){y.xc(t);var e=y.vc(9);return n.validateInformation(e)}),y.Fc(22," Dalje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(23,"nb-step",15),y.Vb()}2&e&&(y.Eb(7),y.nc("ngIf",n.operations.specialWaste),y.Eb(1),y.nc("nbSpinner",n.loading),y.Eb(2),y.nc("ngIf",n.operations.production),y.Eb(1),y.nc("ngIf",n.operations.transport),y.Eb(1),y.nc("ngIf",n.operations.collector),y.Eb(1),y.nc("ngIf",n.operations.treatment),y.Eb(1),y.nc("ngIf",n.operations.disposal),y.Eb(1),y.nc("ngIf",n.operations.cache))},directives:[T.Bb,T.Ab,p.n,T.g,T.yb,T.t,h.d,T.A,T.z,T.i,T.j,T.Q,T.h,ht,Mt,Pn],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),_t);function Xt(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Ime je obavezno! "),y.Vb())}function Zt(e,n){if(1&e&&(y.Wb(0,"p",46),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.firstName.minLength")," ")}}function Ht(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Ime mora biti validno! "),y.Vb())}function Jt(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Xt,2,0,"p",45),y.Dc(2,Zt,2,1,"p",45),y.Dc(3,Ht,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(18);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Yt(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Prezime je obavezno! "),y.Vb())}function ei(e,n){if(1&e&&(y.Wb(0,"p",46),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.lastName.minLength")," ")}}function ni(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Prezime mora biti validno! "),y.Vb())}function ti(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Yt,2,0,"p",45),y.Dc(2,ei,2,1,"p",45),y.Dc(3,ni,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(28);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.minlength),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ii(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Korisni\u010dko ime je obavezno! "),y.Vb())}function ai(e,n){if(1&e&&(y.Wb(0,"p",46),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",t.getConfigValue("forms.validation.username.minLength"),"! ")}}function oi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Korisni\u010dko ime mora biti validno! Ne sme imati razmaka ili karaktere '@!?'. "),y.Vb())}function ri(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ii,2,0,"p",45),y.Dc(2,ai,2,1,"p",45),y.Dc(3,oi,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(39);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ci(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Telefon je obavezan! "),y.Vb())}function si(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Telefon mora biti validan! "),y.Vb())}function li(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ci,2,0,"p",45),y.Dc(2,si,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(49);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function bi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Email je obavezan! "),y.Vb())}function ui(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Email mora biti validan! "),y.Vb())}function di(e,n){if(1&e&&(y.Ub(0),y.Dc(1,bi,2,0,"p",45),y.Dc(2,ui,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(61);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function pi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," \u0160ifra je obavezna! "),y.Vb())}function gi(e,n){if(1&e&&(y.Wb(0,"p",46),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" \u0160ifra ne sme biti kra\u0107a od ",t.getConfigValue("forms.validation.password.minLength"),"! ")}}function hi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," \u0160ifra mora biti validna! Ne sme imati razmake! "),y.Vb())}function vi(e,n){if(1&e&&(y.Ub(0),y.Dc(1,pi,2,0,"p",45),y.Dc(2,gi,2,1,"p",45),y.Dc(3,hi,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(73);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function mi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," Ponovna \u0161ifra je obavezna! "),y.Vb())}function fi(e,n){1&e&&(y.Wb(0,"p",46),y.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),y.Vb())}function Vi(e,n){if(1&e&&(y.Ub(0),y.Dc(1,mi,2,0,"p",45),y.Dc(2,fi,2,0,"p",45),y.Tb()),2&e){y.hc();var t=y.vc(86),i=y.vc(73);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",i.value!==t.value)}}var Wi=["wasteManagerForm"];function yi(e,n){if(1&e&&(y.Wb(0,"nb-card",31),y.Wb(1,"nb-card-body",32),y.Fc(2),y.Vb(),y.Vb()),2&e){y.hc();var t=y.vc(28),i=y.vc(54);y.Eb(2),y.Hc(" Ako se bavite ",t.checked||i.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function ki(e,n){1&e&&(y.Wb(0,"p",44),y.Fc(1," Ime zakonskog zastupnika je obavezno! "),y.Vb())}function Ci(e,n){if(1&e&&(y.Wb(0,"p",44),y.Fc(1),y.Vb()),2&e){var t=y.hc(3);y.Eb(1),y.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function wi(e,n){if(1&e&&(y.Ub(0),y.Dc(1,ki,2,0,"p",43),y.Dc(2,Ci,2,1,"p",43),y.Tb()),2&e){y.hc();var t=y.vc(17);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ii(e,n){1&e&&(y.Wb(0,"p",44),y.Fc(1," Prezime zakonskog zastupnika je obavezno! "),y.Vb())}function Fi(e,n){if(1&e&&(y.Wb(0,"p",44),y.Fc(1),y.Vb()),2&e){var t=y.hc(3);y.Eb(1),y.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",t.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function Mi(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Ii,2,0,"p",43),y.Dc(2,Fi,2,1,"p",43),y.Tb()),2&e){y.hc();var t=y.vc(27);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ei(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",33),y.Wb(1,"nb-card",9),y.Wb(2,"nb-card-header"),y.Wb(3,"div",5),y.Fc(4," Lice odgovorno za upravljanje otpadom: "),y.Rb(5,"i",34),y.Vb(),y.Wb(6,"p",35),y.Fc(7," Ako se bavite otpadom/posebnim tokovima otpada morate imati odre\u0111eno lice za upravaljanje otpadom, ako \u017eelite da odaberete da mi to radimo ostavite sebe pa kasnije u aplikaciji mo\u0107i \u0107ete da promenite. "),y.Vb(),y.Vb(),y.Wb(8,"nb-card-body"),y.Wb(9,"div",5),y.Wb(10,"div",8),y.Wb(11,"div",5),y.Wb(12,"div",9),y.Wb(13,"label",36),y.Fc(14,"Ime:"),y.Vb(),y.Vb(),y.Wb(15,"div",9),y.Wb(16,"input",37,38),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().company.wasteManager.firstName=e}),y.Vb(),y.Vb(),y.Wb(18,"div",9),y.Dc(19,wi,3,2,"ng-container",39),y.Vb(),y.Vb(),y.Vb(),y.Wb(20,"div",8),y.Wb(21,"div",5),y.Wb(22,"div",9),y.Wb(23,"label",40),y.Fc(24,"Prezime:"),y.Vb(),y.Vb(),y.Wb(25,"div",9),y.Wb(26,"input",41,42),y.dc("ngModelChange",function(e){return y.xc(t),y.hc().company.wasteManager.lastName=e}),y.Vb(),y.Vb(),y.Wb(28,"div",9),y.Dc(29,Mi,3,2,"ng-container",39),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(17),a=y.vc(27),o=y.hc();y.Eb(5),y.nc("nbTooltip","Na osnovu Zakona o upravljanju otadom obaveza pravnog subjekta je da imenuje lice odgovorno za upravljanje otpadom, s tim u vezi proverite unete podatke ili ih promenite ako je potrebno."),y.Eb(11),y.nc("ngModel",o.company.wasteManager.firstName)("maxlength",o.getConfigValue("forms.validation.firstName.maxLength"))("minlength",o.getConfigValue("forms.validation.firstName.minLength"))("required",o.getConfigValue("forms.validation.firstName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||o.checkIssues),y.Eb(7),y.nc("ngModel",o.company.wasteManager.lastName)("maxlength",o.getConfigValue("forms.validation.lastName.maxLength"))("minlength",o.getConfigValue("forms.validation.lastName.minLength"))("required",o.getConfigValue("forms.validation.lastName.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(3),y.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}var ji=["reCaptcha"];function Oi(e,n){if(1&e&&(y.Wb(0,"button",31),y.Fc(1),y.Vb()),2&e){var t=n.$implicit;y.Eb(1),y.Gc(t)}}function xi(e,n){1&e&&(y.Wb(0,"p",23),y.Fc(1," \u0160ifra je obavezna! "),y.Vb())}function Ni(e,n){if(1&e&&(y.Wb(0,"p",23),y.Fc(1),y.Vb()),2&e){var t=y.hc(2);y.Eb(1),y.Hc(" \u0160ifra ne sme biti kra\u0107a od ",t.getConfigValue("forms.validation.password.minLength"),"! ")}}function Pi(e,n){if(1&e&&(y.Ub(0),y.Dc(1,xi,2,0,"p",22),y.Dc(2,Ni,2,1,"p",22),y.Tb()),2&e){y.hc();var t=y.vc(12);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function Ti(e,n){1&e&&(y.Wb(0,"p",23),y.Fc(1," Ponovna \u0161ifra je obavezna! "),y.Vb())}function zi(e,n){1&e&&(y.Wb(0,"p",23),y.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),y.Vb())}function Di(e,n){if(1&e&&(y.Ub(0),y.Dc(1,Ti,2,0,"p",22),y.Dc(2,zi,2,0,"p",22),y.Tb()),2&e){y.hc();var t=y.vc(23),i=y.vc(12);y.Eb(1),y.nc("ngIf",null==t.errors?null:t.errors.required),y.Eb(1),y.nc("ngIf",i.value!==t.value)}}var Si,qi,Ri,Li,Ui,$i,Ai=[{path:"",component:x.c,children:[{path:"login",component:Y},{path:"register-user",component:(Li=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.registerService=t,this.router=i,this.toastrService=o,this.checkIssues=!1,this.showPassword="eye",this.retypePassword=""}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getUser().pipe(Object(ie.a)()).subscribe(function(n){e.user=n}),this.registerService.sendUser(Object(V.a)(this.user))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"validateUser",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.invalid){n.next=2;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1));case 2:return t="",n.next=5,Promise.all(this.registerService.checkUser(this.user)).then(function(e){return t=e[0]?t:"to korisni\u010dko ime",t=e[1]?t:"taj telefon",t=e[2]?t:"taj email",e[0]&&e[1]&&e[2]});case 5:if(n.sent){n.next=7;break}return n.abrupt("return",(this.checkIssues=!0,void this.toastrService.showToast("Ve\u0107 postoji ".concat(t,"!"),"Promenite ".concat(t," da biste nastavili."),"danger")));case 7:if(!e.valid||this.retypePassword!==this.user.password){n.next=12;break}return n.next=10,this.router.navigate(["auth/register-company"]);case 10:n.next=13;break;case 12:this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning");case 13:case"end":return n.stop()}},n,this)}))}}]),e}(),Li.\u0275fac=function(e){return new(e||Li)(y.Qb(x.a),y.Qb(j),y.Qb(h.c),y.Qb(P.a))},Li.\u0275cmp=y.Kb({type:Li,selectors:[["register-user"]],decls:102,vars:58,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["tabindex","-1"],["userForm","ngForm"],[1,"row","my-1"],[1,"col-6"],["for","input-firstName",1,"label"],["autofocus","","fullWidth","","id","input-firstName","name","firstName","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime","tabindex","1",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["firstName","ngModel"],[4,"ngIf"],["for","input-lastName",1,"label"],["fullWidth","","id","input-lastName","name","lastName","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime","tabindex","2",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["lastName","ngModel"],["for","input-username",1,"label"],["fullWidth","","id","input-username","name","username","nbInput","","placeholder","Korisni\u010dko ime","tabindex","3",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["username","ngModel"],["for","input-telephone",1,"label"],["fullWidth","","id","input-telephone","name","phone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon","tabindex","4",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telephone","ngModel"],["for","input-email",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["tabindex","5","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","6",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","7",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3"],["nbButton","","fullWidth","","status","success","tabindex","8","type","submit",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",0),y.Wb(1,"div",1),y.Wb(2,"div",2),y.Wb(3,"h1",3),y.Fc(4,"Registruj se!"),y.Vb(),y.Vb(),y.Vb(),y.Wb(5,"div",2),y.Wb(6,"nb-stepper",4),y.Wb(7,"nb-step",5),y.Wb(8,"form",6,7),y.Wb(10,"div",8),y.Wb(11,"div",9),y.Wb(12,"div",1),y.Wb(13,"div",2),y.Wb(14,"label",10),y.Fc(15,"Ime:"),y.Vb(),y.Vb(),y.Wb(16,"div",2),y.Wb(17,"input",11,12),y.dc("ngModelChange",function(e){return n.user.firstName=e}),y.Vb(),y.Vb(),y.Wb(19,"div",2),y.Dc(20,Jt,4,3,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Wb(21,"div",9),y.Wb(22,"div",1),y.Wb(23,"div",2),y.Wb(24,"label",14),y.Fc(25,"Prezime:"),y.Vb(),y.Vb(),y.Wb(26,"div",2),y.Wb(27,"input",15,16),y.dc("ngModelChange",function(e){return n.user.lastName=e}),y.Vb(),y.Vb(),y.Wb(29,"div",2),y.Dc(30,ti,4,3,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(31,"div",8),y.Wb(32,"div",9),y.Wb(33,"div",1),y.Wb(34,"div",2),y.Wb(35,"label",17),y.Fc(36,"Korisni\u010dko ime:"),y.Vb(),y.Vb(),y.Wb(37,"div",2),y.Wb(38,"input",18,19),y.dc("ngModelChange",function(e){return n.user.username=e}),y.Vb(),y.Vb(),y.Wb(40,"div",2),y.Dc(41,ri,4,3,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Wb(42,"div",9),y.Wb(43,"div",1),y.Wb(44,"div",2),y.Wb(45,"label",20),y.Fc(46,"Telefon:"),y.Vb(),y.Vb(),y.Wb(47,"div",2),y.Wb(48,"input",21,22),y.dc("ngModelChange",function(e){return n.user.phone=e}),y.Vb(),y.Vb(),y.Wb(50,"div",2),y.Dc(51,li,3,2,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(52,"div",8),y.Wb(53,"div",2),y.Wb(54,"div",1),y.Wb(55,"div",2),y.Wb(56,"label",23),y.Fc(57,"Email: "),y.Rb(58,"i",24),y.Vb(),y.Vb(),y.Wb(59,"div",2),y.Wb(60,"input",25,26),y.dc("ngModelChange",function(e){return n.user.email=e}),y.Vb(),y.Vb(),y.Wb(62,"div",2),y.Dc(63,di,3,2,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(64,"div",8),y.Wb(65,"div",9),y.Wb(66,"div",1),y.Wb(67,"div",2),y.Wb(68,"label",27),y.Fc(69,"\u0160ifra: "),y.Rb(70,"i",24),y.Vb(),y.Vb(),y.Wb(71,"div",28),y.Wb(72,"input",29,30),y.dc("ngModelChange",function(e){return n.user.password=e}),y.Vb(),y.Vb(),y.Wb(74,"div",31),y.Wb(75,"button",32),y.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),y.Rb(76,"nb-icon",33),y.Vb(),y.Vb(),y.Wb(77,"div",2),y.Dc(78,vi,4,3,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Wb(79,"div",9),y.Wb(80,"div",1),y.Wb(81,"div",2),y.Wb(82,"label",34),y.Fc(83,"Ponovi \u0161ifru:"),y.Vb(),y.Vb(),y.Wb(84,"div",2),y.Wb(85,"input",35,36),y.dc("ngModelChange",function(e){return n.retypePassword=e}),y.Vb(),y.Vb(),y.Wb(87,"div",2),y.Dc(88,Vi,3,2,"ng-container",13),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(89,"div",37),y.Wb(90,"div",2),y.Wb(91,"button",38),y.dc("click",function(){y.xc(t);var e=y.vc(9);return n.validateUser(e)}),y.Fc(92," Dalje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(93,"nb-step",39),y.Rb(94,"nb-step",40),y.Rb(95,"nb-step",41),y.Rb(96,"nb-step",42),y.Vb(),y.Vb(),y.Wb(97,"div",2),y.Wb(98,"section",43),y.Fc(99," Ve\u0107 imate nalog? "),y.Wb(100,"a",44),y.Fc(101,"Uloguj se"),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(18),a=y.vc(28),o=y.vc(39),r=y.vc(49),c=y.vc(61),s=y.vc(73),l=y.vc(86);y.Eb(17),y.nc("ngModel",n.user.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("pattern",n.getConfigValue("forms.validation.firstName.pattern"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(3),y.nc("ngIf",i.invalid&&i.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.user.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("pattern",n.getConfigValue("forms.validation.lastName.pattern"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(3),y.nc("ngIf",a.invalid&&a.touched||n.checkIssues),y.Eb(8),y.nc("ngModel",n.user.username)("maxlength",n.getConfigValue("forms.validation.username.maxLength"))("minlength",n.getConfigValue("forms.validation.username.minLength"))("pattern",n.getConfigValue("forms.validation.username.pattern"))("required",n.getConfigValue("forms.validation.username.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),y.Eb(3),y.nc("ngIf",o.invalid&&o.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.user.phone)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength"))("required",n.getConfigValue("forms.validation.telephone.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),y.Eb(3),y.nc("ngIf",r.invalid&&r.touched||n.checkIssues),y.Eb(7),y.nc("nbTooltip","Email ne delimo, on slu\u017ei za lak\u0161u komunikaciju sa nama."),y.Eb(2),y.nc("ngModel",n.user.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),y.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),y.Eb(3),y.nc("ngIf",c.invalid&&c.touched||n.checkIssues),y.Eb(7),y.nc("nbTooltip","Unesite minimum 6 karaktera za kreiranje lozinke. Preporuka je da Va\u0161a lozinka ima vi\u0161e od 8 karaktera da bi bila \u0161to bezbednija, koristite znakove kao \u0161to su !,@,$..."),y.Eb(2),y.nc("ngModel",n.user.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("pattern",n.getConfigValue("forms.validation.password.pattern"))("required",n.getConfigValue("forms.validation.password.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),y.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),y.Eb(4),y.nc("icon",n.showPassword),y.Eb(2),y.nc("ngIf",s.invalid&&s.touched||n.checkIssues),y.Eb(7),y.nc("ngModel",n.retypePassword)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("pattern",n.getConfigValue("forms.validation.password.pattern"))("required",n.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid||s.value!==l.value?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),y.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),y.Eb(3),y.nc("ngIf",l.invalid&&s.touched||l.touched||n.checkIssues)}},directives:[T.Bb,T.Ab,g.w,g.l,g.m,T.T,g.b,g.k,g.n,g.f,g.g,g.q,g.s,p.n,T.Pb,T.t,T.Q,h.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),Li)},{path:"register-company",component:ln},{path:"register-operations",component:(Ri=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.router=t,this.registerService=i,this.toastrService=o,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.trashOperationsNo=0,this.specialWasteNo=0,this.packageOperationsNo=0,this.waterOperationsNo=0,this.airOperationsNo=0,this.operations=[],this.checkIssues=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(ie.a)()).subscribe(function(n){void 0!==n&&(e.operations=n,e.updateOperations())}),this.registerService.getCompany().pipe(Object(ie.a)()).subscribe(function(n){e.company=n}),this.registerService.getUser().pipe(Object(ie.a)()).subscribe(function(n){e.company.wasteManager.firstName=n.firstName,e.company.wasteManager.lastName=n.lastName}),this.registerService.sendCompany(Object(V.a)(this.company)),this.registerService.sendOperations(Object(V.a)(this.operations))}},{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"validateOperations",value:function(){if(this.form.invalid)return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning");this.trashOperationNumber(!0)+this.specialWasteOperationNumber(!0)===0&&(this.company.wasteManager.firstName="",this.company.wasteManager.lastName=""),this.operations.length>0?(this.clearRemovedOperationsData(),this.router.navigate(["auth/register-informations"])):this.toastrService.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}},{key:"clearRemovedOperationsData",value:function(){this.company.vehicles=[],this.company.storages=[],this.company.permits=[],this.company.specialWastes=[],this.registerService.sendCompany(Object(V.a)(this.company)),this.registerService.sendOperations(Object(V.a)(this.operations))}},{key:"trashOperationNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length:this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length+""}},{key:"specialWasteOperationNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length:this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length+""}},{key:"updateOperations",value:function(){this.trashOperationsNo=this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length,this.specialWasteNo=this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length}},{key:"addProcessOperation",value:function(e,n,t){this.addOperation(e,n),t.checked||(t.checked=!0),t.disabled||t.setDisabledState(!0),e.includes("Neopasnog")?this.addOperation("Proizvodnja Neopasnog Otpada",n,!1):this.addOperation("Proizvodnja Opasnog Otpada",n,!1)}},{key:"addOperation",value:function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?this.operations.includes(e)||this.operations.push(e):t&&this.operations.splice(this.operations.findIndex(function(n){return n===e}),1)}}]),e}(),Ri.\u0275fac=function(e){return new(e||Ri)(y.Qb(x.a),y.Qb(h.c),y.Qb(j),y.Qb(P.a))},Ri.\u0275cmp=y.Kb({type:Ri,selectors:[["register-operations"]],viewQuery:function(e,n){var t;1&e&&y.Lc(Wi,1),2&e&&y.uc(t=y.ec())&&(n.form=t.first)},decls:91,vars:26,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["SakupljacNeopasnogOtpada",""],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["SakupljacOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["badgeStatus","primary","responsive","true","tabTitle","Posebni tokovi otpada",3,"badgeText","tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["wasteManagerForm","ngForm"],["class","row flex-fill ml-3","style","max-width: 54.5vw;",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-company",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"],[1,"row","flex-fill","ml-3",2,"max-width","54.5vw"],[1,"pl-1","my-auto","fa","fa-info-circle",3,"nbTooltip"],[1,"card-subtitle","text-secondary","mt-1"],["for","input-fNameManager",1,"label"],["fullWidth","","id","input-fNameManager","name","fNameManager","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameManager","ngModel"],[4,"ngIf"],["for","input-lNameManager",1,"label"],["fullWidth","","id","input-lNameManager","name","lNameManager","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameManager","ngModel"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"h1",0),y.Fc(1,"Registruj se!"),y.Vb(),y.Wb(2,"nb-stepper",1),y.Wb(3,"nb-step",2),y.Fc(4,"Test"),y.Vb(),y.Rb(5,"nb-step",3),y.Wb(6,"nb-step",4),y.Wb(7,"div",5),y.Wb(8,"nb-tabset"),y.Wb(9,"nb-tab",6),y.Wb(10,"div",7),y.Wb(11,"nb-card",8),y.Wb(12,"nb-card-header"),y.Fc(13,"Neopasan otpad"),y.Vb(),y.Wb(14,"nb-card-body"),y.Wb(15,"div",9),y.Wb(16,"nb-toggle",10,11),y.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Neopasnog Otpada",e)}),y.Fc(18,"Proizvodnja "),y.Vb(),y.Vb(),y.Wb(19,"div",9),y.Wb(20,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Transport Neopasnog Otpada",e)}),y.Fc(21,"Transport "),y.Vb(),y.Vb(),y.Wb(22,"div",9),y.Wb(23,"nb-toggle",12,13),y.dc("checkedChange",function(e){return n.addOperation("Sakupljac Neopasnog Otpada",e)}),y.Fc(25," Sakuplja\u010d "),y.Vb(),y.Vb(),y.Wb(26,"div",9),y.Wb(27,"nb-toggle",12,14),y.dc("checkedChange",function(e){y.xc(t);var i=y.vc(17);return n.addProcessOperation("Tretman Neopasnog Otpada",e,i)}),y.Fc(29,"Tretman "),y.Vb(),y.Vb(),y.Wb(30,"div",9),y.Wb(31,"nb-toggle",12,15),y.dc("checkedChange",function(e){y.xc(t);var i=y.vc(17);return n.addProcessOperation("Odlaganje Neopasnog Otpada",e,i)}),y.Fc(33,"Odlaganje "),y.Vb(),y.Vb(),y.Wb(34,"div",9),y.Wb(35,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Skladi\u0161tenje Neopasnog Otpada",e)}),y.Fc(36," Skladi\u0161tenje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(37,"nb-card",8),y.Wb(38,"nb-card-header"),y.Fc(39,"Opasan otpad"),y.Vb(),y.Wb(40,"nb-card-body"),y.Wb(41,"div",9),y.Wb(42,"nb-toggle",10,16),y.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Opasnog Otpada",e)}),y.Fc(44," Proizvodnja "),y.Vb(),y.Vb(),y.Wb(45,"div",9),y.Wb(46,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Transport Opasnog Otpada",e)}),y.Fc(47,"Transport "),y.Vb(),y.Vb(),y.Wb(48,"div",9),y.Wb(49,"nb-toggle",12,17),y.dc("checkedChange",function(e){return n.addOperation("Sakupljac Opasnog Otpada",e)}),y.Fc(51," Sakuplja\u010d "),y.Vb(),y.Vb(),y.Wb(52,"div",9),y.Wb(53,"nb-toggle",12,18),y.dc("checkedChange",function(e){y.xc(t);var i=y.vc(43);return n.addProcessOperation("Tretman Opasnog Otpada",e,i)}),y.Fc(55,"Tretman "),y.Vb(),y.Vb(),y.Wb(56,"div",9),y.Wb(57,"nb-toggle",12,19),y.dc("checkedChange",function(e){y.xc(t);var i=y.vc(43);return n.addProcessOperation("Odlaganje Opasnog Otpada",e,i)}),y.Fc(59,"Odlaganje "),y.Vb(),y.Vb(),y.Wb(60,"div",9),y.Wb(61,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Skladi\u0161tenje Opasnog Otpada",e)}),y.Fc(62," Skladi\u0161tenje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Dc(63,yi,3,1,"nb-card",20),y.Vb(),y.Wb(64,"nb-tab",21),y.Wb(65,"div",7),y.Wb(66,"nb-card",9),y.Wb(67,"nb-card-header"),y.Fc(68,"Posebni tokovi otpada"),y.Vb(),y.Wb(69,"nb-card-body"),y.Wb(70,"div",9),y.Wb(71,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Posebnih Tokova Otpada",e)}),y.Fc(72,"Proizvodnja "),y.Vb(),y.Vb(),y.Wb(73,"div",9),y.Wb(74,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Uvoz Posebnih Tokova Otpada",e)}),y.Fc(75,"Uvoz "),y.Vb(),y.Vb(),y.Wb(76,"div",9),y.Wb(77,"nb-toggle",12),y.dc("checkedChange",function(e){return n.addOperation("Izvoz Posebnih Tokova Otpada",e)}),y.Fc(78,"Izvoz "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(79,"nb-tab",22),y.Rb(80,"nb-tab",23),y.Rb(81,"nb-tab",24),y.Vb(),y.Wb(82,"form",null,25),y.Dc(84,Ei,30,15,"div",26),y.Wb(85,"button",27),y.Fc(86," Nazad "),y.Vb(),y.Wb(87,"button",28),y.dc("click",function(){return n.validateOperations()}),y.Fc(88," Dalje "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(89,"nb-step",29),y.Rb(90,"nb-step",30),y.Vb()}if(2&e){var i=y.vc(17),a=y.vc(28),o=y.vc(32),r=y.vc(43),c=y.vc(54),s=y.vc(58);y.Eb(9),y.nc("badgeText",n.trashOperationNumber())("tabIcon",n.trashIco),y.Eb(7),y.nc("checked",n.operations.includes("Proizvodnja Neopasnog Otpada"))("disabled",a.checked||o.checked),y.Eb(4),y.nc("checked",n.operations.includes("Transport Neopasnog Otpada")),y.Eb(3),y.nc("checked",n.operations.includes("Sakupljac Neopasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Tretman Neopasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Odlaganje Neopasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Skladi\u0161tenje Neopasnog Otpada")),y.Eb(7),y.nc("checked",n.operations.includes("Proizvodnja Opasnog Otpada"))("disabled",c.checked||s.checked),y.Eb(4),y.nc("checked",n.operations.includes("Transport Opasnog Otpada")),y.Eb(3),y.nc("checked",n.operations.includes("Sakupljac Opasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Tretman Opasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Odlaganje Opasnog Otpada")),y.Eb(4),y.nc("checked",n.operations.includes("Skladi\u0161tenje Opasnog Otpada")),y.Eb(2),y.nc("ngIf",r.disabled||i.disabled),y.Eb(1),y.nc("badgeText",n.specialWasteOperationNumber())("tabIcon",n.carBatteryIco),y.Eb(7),y.nc("checked",n.operations.includes("Proizvodnja Posebnih Tokova Otpada")),y.Eb(3),y.nc("checked",n.operations.includes("Uvoz Posebnih Tokova Otpada")),y.Eb(3),y.nc("checked",n.operations.includes("Izvoz Posebnih Tokova Otpada")),y.Eb(2),y.nc("tabIcon",n.recyleIco),y.Eb(1),y.nc("tabIcon",n.waterIco),y.Eb(1),y.nc("tabIcon",n.airIco),y.Eb(3),y.nc("ngIf",n.trashOperationNumber(!0)+0+(n.specialWasteOperationNumber(!0)+0)>0)}},directives:[T.Bb,T.Ab,T.Hb,T.Gb,T.A,T.D,T.z,T.Nb,p.n,g.w,g.l,g.m,T.t,h.d,T.Pb,T.T,g.b,g.k,g.n,g.f,g.g,g.s],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Ri)},{path:"register-informations/:tab",component:Kt,pathMatch:"full"},{path:"register-informations",component:Kt,pathMatch:"full"},{path:"register-permit",component:se},{path:"register-confirmation",component:(qi=function(e){c(t,e);var n=l(t);function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return a(this,t),(i=n.call(this,e,o,r,c)).service=e,i.options=o,i.cd=r,i.router=c,i.registerService=s,i.redirectDelay=0,i.showMessages=[],i.strategy="",i.submitted=!1,i.errors=[],i.messages=[],i.redirectDelay=i.getConfigValue("forms.register.redirectDelay"),i.showMessages=i.getConfigValue("forms.register.showMessages"),i.strategy=i.getConfigValue("forms.register.strategy"),i}return r(t,[{key:"getConfigValue",value:function(e){return Object(x.n)(this.options,e,null)}},{key:"ngAfterViewInit",value:function(){this.operations$=this.registerService.getOperations(),this.company$=this.registerService.getCompany(),this.user$=this.registerService.getUser()}},{key:"resolved",value:function(e){}},{key:"register",value:function(){var e,n=this;this.errors=this.messages=[],this.submitted=!0,this.reCaptcha.execute(),this.user$.subscribe(function(n){e=n}),this.service.register(this.strategy,e).subscribe(function(e){n.submitted=!1,e.isSuccess()?n.messages=e.getMessages():n.errors=e.getErrors();var t=e.getRedirect();t&&setTimeout(function(){return n.registerService.clearData(),n.router.navigateByUrl(t)},n.redirectDelay),n.cd.detectChanges()})}}]),t}(x.k),qi.\u0275fac=function(e){return new(e||qi)(y.Qb(x.g),y.Qb(x.a),y.Qb(y.h),y.Qb(h.c),y.Qb(j))},qi.\u0275cmp=y.Kb({type:qi,selectors:[["register-confirmation"]],viewQuery:function(e,n){var t;1&e&&y.Lc(ji,1),2&e&&y.uc(t=y.ec())&&(n.reCaptcha=t.first)},features:[y.Bb],decls:170,vars:64,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informations",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],["size","invisible",3,"siteKey","resolved"],["reCaptcha","reCaptcha"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","#","target","_blank"],["name","tacnost","required",""],["tacnost",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(y.Wb(0,"h1",0),y.Fc(1,"Registruj se!"),y.Vb(),y.Wb(2,"nb-stepper",1),y.Wb(3,"nb-step",2),y.Fc(4,"Test"),y.Vb(),y.Rb(5,"nb-step",3),y.Rb(6,"nb-step",4),y.Rb(7,"nb-step",5),y.Wb(8,"nb-step",6),y.Wb(9,"div",7),y.Wb(10,"div",8),y.Wb(11,"div",9),y.Wb(12,"h5"),y.Fc(13,"User:"),y.Vb(),y.Vb(),y.Wb(14,"div",9),y.Wb(15,"div",10),y.Wb(16,"label",11),y.Fc(17,"Ime:"),y.Vb(),y.Vb(),y.Wb(18,"div",10),y.Wb(19,"button",12),y.Fc(20),y.ic(21,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(22,"div",9),y.Wb(23,"div",10),y.Wb(24,"label",11),y.Fc(25,"Prezime:"),y.Vb(),y.Vb(),y.Wb(26,"div",10),y.Wb(27,"button",12),y.Fc(28),y.ic(29,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(30,"div",9),y.Wb(31,"div",10),y.Wb(32,"label",11),y.Fc(33,"Telefon:"),y.Vb(),y.Vb(),y.Wb(34,"div",10),y.Wb(35,"button",12),y.Fc(36),y.ic(37,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(38,"div",9),y.Wb(39,"div",10),y.Wb(40,"label",11),y.Fc(41,"Email:"),y.Vb(),y.Vb(),y.Wb(42,"div",10),y.Wb(43,"button",12),y.Fc(44),y.ic(45,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(46,"div",9),y.Wb(47,"div",10),y.Wb(48,"label",11),y.Fc(49,"Korisni\u010dko ime:"),y.Vb(),y.Vb(),y.Wb(50,"div",10),y.Wb(51,"button",12),y.Fc(52),y.ic(53,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(54,"div",9),y.Wb(55,"h5"),y.Fc(56,"Rad firme:"),y.Vb(),y.Vb(),y.Wb(57,"div",9),y.Wb(58,"div",10),y.Dc(59,Oi,2,1,"button",13),y.ic(60,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(61,"div",14),y.Wb(62,"div",10),y.Wb(63,"div",9),y.Wb(64,"h5"),y.Fc(65,"Firma:"),y.Vb(),y.Vb(),y.Wb(66,"div",9),y.Wb(67,"div",10),y.Wb(68,"label",11),y.Fc(69,"Naziv:"),y.Vb(),y.Vb(),y.Wb(70,"div",10),y.Wb(71,"button",15),y.Fc(72),y.ic(73,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(74,"div",9),y.Wb(75,"div",16),y.Wb(76,"label",11),y.Fc(77,"PIB:"),y.Vb(),y.Vb(),y.Wb(78,"div",16),y.Wb(79,"label",11),y.Fc(80,"Mati\u010dni broj:"),y.Vb(),y.Vb(),y.Wb(81,"div",16),y.Wb(82,"button",15),y.Fc(83),y.ic(84,"async"),y.Vb(),y.Vb(),y.Wb(85,"div",16),y.Wb(86,"button",15),y.Fc(87),y.ic(88,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(89,"div",9),y.Wb(90,"div",10),y.Wb(91,"label",11),y.Fc(92,"Adresa:"),y.Vb(),y.Wb(93,"button",15),y.Fc(94),y.ic(95,"async"),y.ic(96,"async"),y.ic(97,"async"),y.ic(98,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(99,"div",9),y.Wb(100,"div",10),y.Wb(101,"label",11),y.Fc(102,"Delatnost:"),y.Vb(),y.Vb(),y.Wb(103,"div",10),y.Wb(104,"button",15),y.Fc(105),y.ic(106,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(107,"div",9),y.Wb(108,"div",16),y.Wb(109,"label",11),y.Fc(110,"Email:"),y.Vb(),y.Vb(),y.Wb(111,"div",16),y.Wb(112,"label",11),y.Fc(113,"Telefon:"),y.Vb(),y.Vb(),y.Wb(114,"div",17),y.Wb(115,"button",15),y.Wb(116,"p",18),y.Fc(117),y.ic(118,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(119,"div",17),y.Wb(120,"button",15),y.Fc(121),y.ic(122,"async"),y.Vb(),y.Vb(),y.Wb(123,"div",16),y.Wb(124,"label",11),y.Fc(125,"Email za prijem dokumenata:"),y.Vb(),y.Vb(),y.Wb(126,"div",16),y.Wb(127,"label",11),y.Fc(128,"Faks:"),y.Vb(),y.Vb(),y.Wb(129,"div",16),y.Wb(130,"button",15),y.Wb(131,"p",18),y.Fc(132),y.ic(133,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(134,"div",16),y.Wb(135,"button",15),y.Fc(136),y.ic(137,"async"),y.ic(138,"async"),y.Vb(),y.Vb(),y.Vb(),y.Wb(139,"div",9),y.Wb(140,"div",10),y.Wb(141,"label",11),y.Fc(142,"Zakonski zastupnik firme:"),y.Vb(),y.Vb(),y.Wb(143,"div",16),y.Wb(144,"button",15),y.Fc(145),y.ic(146,"async"),y.Vb(),y.Vb(),y.Wb(147,"div",16),y.Wb(148,"button",15),y.Fc(149),y.ic(150,"async"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(151,"form",19),y.dc("ngSubmit",function(){return n.register()}),y.Wb(152,"button",20),y.Fc(153," Nazad "),y.Vb(),y.Wb(154,"button",21),y.Fc(155," Zavr\u0161i "),y.Vb(),y.Wb(156,"re-captcha",22,23),y.dc("resolved",function(e){return n.resolved(e)}),y.Vb(),y.Vb(),y.Wb(158,"div",24),y.Wb(159,"div",25),y.Wb(160,"nb-checkbox",26,27),y.Fc(162," Sla\u017eem se sa "),y.Wb(163,"a",28),y.Wb(164,"strong"),y.Fc(165,"Uslovima Kori\u0161\u0107enjima"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(166,"div",25),y.Wb(167,"nb-checkbox",29,30),y.Fc(169,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()),2&e){var t,i,a,o,r,c,s,l,b,u,d,p,g,h,v=y.vc(161),m=y.vc(168),f=null,V=null;y.Eb(20),y.Gc(null==(t=y.jc(21,22,n.user$))?null:t.firstName),y.Eb(8),y.Gc(null==(i=y.jc(29,24,n.user$))?null:i.lastName),y.Eb(8),y.Gc(null==(a=y.jc(37,26,n.user$))?null:a.phone),y.Eb(8),y.Gc(null==(o=y.jc(45,28,n.user$))?null:o.email),y.Eb(8),y.Gc(null==(r=y.jc(53,30,n.user$))?null:r.username),y.Eb(7),y.nc("ngForOf",y.jc(60,32,n.operations$)),y.Eb(13),y.Gc(null==(c=y.jc(73,34,n.company$))?null:c.name),y.Eb(11),y.Gc(null==(s=y.jc(84,36,n.company$))?null:s.pib),y.Eb(4),y.Gc(null==(l=y.jc(88,38,n.company$))?null:l.mat),y.Eb(7),y.Kc(" ",null==(f=y.jc(95,40,n.company$))?null:f.address.location.townshipName," , ",null==(f=y.jc(96,42,n.company$))?null:f.address.location.placeName,", ",null==(f=y.jc(97,44,n.company$))?null:f.address.street," ",null==(f=y.jc(98,46,n.company$))?null:f.address.location.zipCode,""),y.Eb(11),y.Gc(null==(b=y.jc(106,48,n.company$))?null:b.occupation.name),y.Eb(12),y.Gc(null==(u=y.jc(118,50,n.company$))?null:u.email),y.Eb(4),y.Gc(null==(d=y.jc(122,52,n.company$))?null:d.telephone),y.Eb(11),y.Gc(null==(p=y.jc(133,54,n.company$))?null:p.emailReception),y.Eb(4),y.Gc(""===(null==(V=y.jc(137,56,n.company$))?null:V.fax)?"/":null==(V=y.jc(138,58,n.company$))?null:V.fax),y.Eb(9),y.Gc(null==(g=y.jc(146,60,n.company$))?null:g.legalRep.firstName),y.Eb(4),y.Gc(null==(h=y.jc(150,62,n.company$))?null:h.legalRep.lastName),y.Eb(5),y.nc("disabled",!(v.checked&&m.checked)),y.Eb(2),y.nc("siteKey","6LfLNHsaAAAAAIhkWmF3F-DXvLPWdGQU2EpE-KvW")}},directives:[T.Bb,T.Ab,T.t,p.m,g.w,g.l,g.m,h.d,v.b,T.G],pipes:[p.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),qi)},{path:"logout",component:ne},{path:"email-confirm",component:N},{path:"forgot-password",component:R},{path:"reset-password",component:(Si=function(e){c(t,e);var n=l(t);function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return a(this,t),(i=n.call(this,e,o,r,c)).service=e,i.options=o,i.cd=r,i.router=c,i.activatedRoute=s,i.toastrService=l,i.showPassword="eye",i.password="",i.retypePassword="",i.token="",i.strategy=i.getConfigValue("forms.login.strategy"),i.token=i.activatedRoute.snapshot.params.token,i}return r(t,[{key:"resetPassword",value:function(e){var n=this;e.invalid?this.toastrService.showToast("Gre\u0161ka","Proverite sve informacije!","warning"):this.service.resetPassword(this.strategy,{password:this.password,token:this.token}).subscribe(function(e){e.isSuccess()?n.router.navigate(["login"]):n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")},function(e){n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")})}}]),t}(x.m),Si.\u0275fac=function(e){return new(e||Si)(y.Qb(x.g),y.Qb(x.a),y.Qb(y.h),y.Qb(h.c),y.Qb(h.a),y.Qb(P.a))},Si.\u0275cmp=y.Kb({type:Si,selectors:[["reset-password"]],features:[y.Bb],decls:30,vars:15,consts:[[1,"align-self-center"],[1,"mb-1","text-center"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],[1,"row","mb-2"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","1",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordModel","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],[1,"col-12"],[4,"ngIf"],[1,"row"],["for","input-rePassword",1,"label","col-12"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","2",3,"ngModel","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3","d-flex","justify-content-center"],["status","success","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=y.Xb();y.Wb(0,"div",0),y.Wb(1,"h1",1),y.Fc(2,"Zaboravljena lozinka:"),y.Vb(),y.Wb(3,"form",2,3),y.dc("ngSubmit",function(){y.xc(t);var e=y.vc(4);return n.resetPassword(e)}),y.Wb(5,"div",4),y.Wb(6,"div",5),y.Wb(7,"div",6),y.Wb(8,"label",7),y.Fc(9,"\u0160ifra:"),y.Vb(),y.Wb(10,"div",8),y.Wb(11,"input",9,10),y.dc("ngModelChange",function(e){return n.password=e}),y.Vb(),y.Vb(),y.Wb(13,"div",11),y.Wb(14,"button",12),y.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),y.Rb(15,"nb-icon",13),y.Vb(),y.Vb(),y.Wb(16,"div",14),y.Dc(17,Pi,3,2,"ng-container",15),y.Vb(),y.Vb(),y.Wb(18,"div",16),y.Wb(19,"label",17),y.Fc(20,"Ponovi \u0161ifru:"),y.Vb(),y.Wb(21,"div",14),y.Wb(22,"input",18,19),y.dc("ngModelChange",function(e){return n.retypePassword=e}),y.Vb(),y.Vb(),y.Wb(24,"div",14),y.Dc(25,Di,3,2,"ng-container",15),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Wb(26,"div",20),y.Wb(27,"div",5),y.Wb(28,"button",21),y.Fc(29,"Promeni lozinku"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var i=y.vc(12),a=y.vc(23);y.Eb(11),y.nc("ngModel",n.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),y.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),y.Eb(4),y.nc("icon",n.showPassword),y.Eb(2),y.nc("ngIf",i.invalid&&i.touched),y.Eb(5),y.nc("ngModel",n.retypePassword)("required",n.getConfigValue("forms.validation.password.required"))("status",a.dirty?a.invalid||i.value!==a.value?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),y.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),y.Eb(3),y.nc("ngIf",a.invalid&&i.touched)}},directives:[g.w,g.l,g.m,T.T,g.b,g.k,g.n,g.f,g.g,g.s,T.t,T.Q,p.n],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Si)}]},{path:"redirect",component:te},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}],Qi=(($i=function e(){a(this,e)}).\u0275fac=function(e){return new(e||$i)},$i.\u0275mod=y.Ob({type:$i}),$i.\u0275inj=y.Nb({imports:[[h.g.forChild(Ai)],h.g]}),$i),Bi=((Ui=function e(){a(this,e)}).\u0275fac=function(e){return new(e||Ui)},Ui.\u0275mod=y.Ob({type:Ui}),Ui.\u0275inj=y.Nb({providers:[I,C,j,f.a,F.a,E.a,w.a],imports:[[O.a,p.c,h.g,T.p,T.U,T.w,T.H,Qi,T.ub,g.e,T.Ob,T.k,T.Ib,T.s,T.Cb,T.E,m.c,T.lb,T.N,T.S,T.zb,v.d,T.Qb,T.v]]}),Ui)},bS1W:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var i,o=t("AytR"),s=t("fXoL"),b=t("tk/3"),u=((i=function(e){c(t,e);var n=l(t);function t(e){var i;return a(this,t),(i=n.call(this)).http=e,i.apiUrl=o.a.apiUrl,i}return r(t,[{key:"createPermit",value:function(e,n){return this.http.post(this.apiUrl+"/api/permit",{permit:e,companyID:n})}},{key:"deletePermit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.delete(this.apiUrl+"/api/permit/one/"+"".concat(n,"/").concat(e))}},{key:"getPermit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/permit/one/"+"".concat(n,"/").concat(e))}},{key:"getPermits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1?arguments[1]:void 0;return this.http.get(this.apiUrl+"/api/permit/many/"+"".concat(n,"/").concat(e))}},{key:"updatePermit",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/permit/one/"+"".concat(t,"/").concat(n),e)}},{key:"getCompaniesPermits",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return this.http.get(this.apiUrl+"/api/company/permits/"+e+"/"+n)}},{key:"sendPermitRequest",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this.http.post(this.apiUrl+"/api/mail/permit-request",{permitID:i,trashType:a,permitType:o,email:e,message:n,requestType:t})}}]),t}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||i)(s.ac(b.b))},i.\u0275prov=s.Mb({token:i,factory:i.\u0275fac}),i)},"wH5/":function(e,n,t){"use strict";t.d(n,"a",function(){return u});var i,o=t("AytR"),s=t("fXoL"),b=t("tk/3"),u=((i=function(e){c(t,e);var n=l(t);function t(e){var i;return a(this,t),(i=n.call(this)).http=e,i.apiUrl=o.a.apiUrl,i}return r(t,[{key:"createCompany",value:function(e){return this.http.post(this.apiUrl+"/api/company",e)}},{key:"deleteCompany",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.delete(this.apiUrl+"/api/company/one/"+"".concat(n,"/").concat(e))}},{key:"getCompany",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/company/one/"+"".concat(n,"/").concat(e))}},{key:"getCompanys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1?arguments[1]:void 0;return this.http.get(this.apiUrl+"/api/company/many/"+"".concat(n,"/").concat(e))}},{key:"updateCompany",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/company/one/"+"".concat(t,"/").concat(n),e)}}]),t}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||i)(s.ac(b.b))},i.\u0275prov=s.Mb({token:i,factory:i.\u0275fac}),i)}}])}();