!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=i(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw r}}}}function i(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,n,i){return n&&o(e.prototype,n),i&&o(e,i),e}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&c(e,n)}function c(e,n){return(c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function l(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,t=u(e);if(n){var a=u(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return b(this,i)}}function b(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(i,t,o){"use strict";o.r(t),o.d(t,"NgxAuthModule",function(){return Xt});var c,b,u,d,p=o("ofXK"),v=o("3Pt+"),g=o("tyNb"),m=o("jCJ1"),h=o("RS3s"),f=o("wH5/"),k=o("LRne"),V=o("AytR"),W=o("fXoL"),j=o("tk/3"),y=((c=function(e){s(i,e);var n=l(i);function i(e){var t;return a(this,i),(t=n.call(this)).http=e,t.apiUrl=V.a.apiUrl,t}return r(i,[{key:"createOccupation",value:function(e){}},{key:"deleteOccupation",value:function(e,n){}},{key:"getOccupation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/one/"+"".concat(n,"/").concat(e))}},{key:"getOccupations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/occupation/many/"+"".concat(n,"/").concat(e))}},{key:"updateOccupation",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/occupation/one/"+"".concat(i,"/").concat(n),e)}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(k.a)(n.filter(function(e){return e.name.toLowerCase().includes(i)||e.code.includes(i)}))}}]),i}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||c)(W.ac(j.b))},c.\u0275prov=W.Mb({token:c,factory:c.\u0275fac}),c),I=o("ibGe"),F=((b=function(e){s(i,e);var n=l(i);function i(e){var t;return a(this,i),(t=n.call(this)).http=e,t.townshipsIsLoaded=!1,t.apiUrl=V.a.apiUrl,t}return r(i,[{key:"createLocation",value:function(e){}},{key:"deleteLocation",value:function(e,n){}},{key:"getLocation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/one/"+"".concat(n,"/").concat(e))}},{key:"getLocations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/location/many/"+"".concat(n,"/").concat(e))}},{key:"updateLocation",value:function(e,n,i){return this.http.patch(this.apiUrl+"/api/location/one/"+"".concat(i,"/").concat(n),e)}},{key:"getDistinctTownships",value:function(){return this.townshipsIsLoaded||(this.townshipNames=this.http.get(this.apiUrl+"/api/location/townships"),this.townshipsIsLoaded=!0),this.townshipNames}},{key:"getPlacesFromTownship",value:function(e){return this.http.get(this.apiUrl+"/api/location/place/"+e)}},{key:"filter",value:function(e,n){var i=e.toLowerCase();if(void 0!==n)return Object(k.a)(n.filter(function(e){return e.toLowerCase().includes(i)}))}}]),i}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||b)(W.ac(j.b))},b.\u0275prov=W.Mb({token:b,factory:b.\u0275fac}),b),w=o("bS1W"),E=o("fo3O"),C=o("H5EB"),z=((u=function(){function e(n,i,t,o){a(this,e),this.userService=n,this.companyService=i,this.permitService=t,this.vehicleService=o,this.clearData(),Object(W.Z)()&&(this.user={email:"serbiansolutions"+(1e3*Math.random()).toFixed(0)+"@gmail.com",firstName:"Filip",username:"random"+(1e3*Math.random()).toFixed(0),lastName:"Balandzic",password:"nikjan00",phone:(1e10*Math.random()).toFixed(0),role:"manager"},this.company={storages:[],address:{location:{placeCode:0,placeName:"Arnajevo",townshipCode:0,townshipName:"Beograd",zipCode:"31210"},street:"Nikola tesla 2"},occupation:{code:"",name:"Proizvodnja mesnih prera\u0111evina"},email:"random1"+(1e3*Math.random()).toFixed(0)+"@gmail.com",emailReception:"random"+(1e3*Math.random()).toFixed(0)+"@gmail.com",mat:(1e8*Math.random()).toFixed(0),manager:"random",name:"Test",pib:(1e9*Math.random()).toFixed(0),operations:[],telephone:(1e10*Math.random()).toFixed(0),legalRep:{firstName:"Nikola",lastName:"Jankovic"},nriz:{username:"",password:""},wasteManager:{firstName:"",lastName:""}},this.operations=["Transport Neopasnog Otpada"])}return r(e,[{key:"clearData",value:function(){this.user={email:"",firstName:"",username:"",lastName:"",password:"",phone:"",role:"manager"},this.company={occupation:{code:"",name:""},address:{location:{townshipCode:0,townshipName:"",placeCode:0,placeName:"",zipCode:""},street:""},email:"",emailReception:"",mat:"",manager:"",name:"",pib:"",operations:[],storages:[],permits:[],telephone:"",legalRep:{firstName:"",lastName:""},wasteManager:{firstName:"",lastName:""},nriz:{username:"",password:""}},this.operations=[],this.permitCode=""}},{key:"sendPermit",value:function(e){var n=this;this.permitCode$=e,e.subscribe(function(e){n.permitCode=e})}},{key:"getPermit",value:function(){return Object(k.a)(this.permitCode)}},{key:"sendOperations",value:function(e){var n=this;this.operations$=e,e.subscribe(function(e){n.operations=e})}},{key:"getOperations",value:function(){return Object(k.a)(this.operations)}},{key:"sendUser",value:function(e){var n=this;this.user$=e,e.subscribe(function(e){n.user=e})}},{key:"getUser",value:function(){return void 0!==this.company&&void 0!==this.user&&(this.user.company=this.company),Object(k.a)(this.user)}},{key:"sendCompany",value:function(e){var n=this;this.company$=e,e.subscribe(function(e){n.company=e})}},{key:"getCompany",value:function(){if(void 0!==this.company)return void 0!==this.operations&&(this.company.operations=this.operations),void 0!==this.user&&(this.company.manager=this.user.username),Object(k.a)(this.company)}},{key:"checkUser",value:function(e){var n=[];return n.push(this.userService.getUser(e.username,"username").toPromise().then(function(e){return null===e})),n.push(this.userService.getUser(e.phone,"phone").toPromise().then(function(e){return null===e})),n.push(this.userService.getUser(e.email,"email").toPromise().then(function(e){return null===e})),n}},{key:"checkCompany",value:function(e){var n=[];return n.push(this.companyService.getCompany(e.pib,"pib").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.mat,"mat").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.email,"email").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.emailReception,"emailReception").toPromise().then(function(e){return null===e})),n.push(this.companyService.getCompany(e.telephone,"telephone").toPromise().then(function(e){return null===e})),n.push(""===e.nriz.username||this.companyService.getCompany(e.nriz.username,"nriz.username").toPromise().then(function(e){return null===e})),n}},{key:"checkPermits",value:function(e){var i,t=[],a=n(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(this.permitService.getPermit(o.code,"code").toPromise().then(function(e){return null===e}).catch(function(e){return!0}))}}catch(r){a.e(r)}finally{a.f()}return t}},{key:"checkVehicles",value:function(e){var i,t=[],a=n(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(this.vehicleService.getVehicle(o.licensePlate,"licensePlate").toPromise().then(function(e){return null===e}))}}catch(r){a.e(r)}finally{a.f()}return t}}]),e}()).\u0275fac=function(e){return new(e||u)(W.ac(E.a),W.ac(f.a),W.ac(w.a),W.ac(C.a))},u.\u0275prov=W.Mb({token:u,factory:u.\u0275fac}),u),M=o("vTDv"),O=o("McNs"),R=((d=function(){function e(n){a(this,e),this.router=n}return r(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.router.navigate(["login"])},3e3)}}]),e}()).\u0275fac=function(e){return new(e||d)(W.Qb(g.c))},d.\u0275cmp=W.Kb({type:d,selectors:[["auth-email-confirmation"]],decls:7,vars:0,consts:[[1,"text-center"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],[1,"text-muted"]],template:function(e,n){1&e&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Rb(2,"img",2),W.Vb(),W.Wb(3,"h1"),W.Fc(4,"Uspe\u0161no ste aktivirali Va\u0161 nalog!"),W.Vb(),W.Wb(5,"h5",3),W.Fc(6,"Automatski \u0107emo vas prebaciti na login stranicu..."),W.Vb(),W.Vb())},styles:[""]}),d),N=o("7wOV"),x=o("aceb");function D(e,n){1&e&&(W.Wb(0,"p",14),W.Fc(1," Morate upisati email! "),W.Vb())}function S(e,n){1&e&&(W.Wb(0,"p",15),W.Fc(1," Email mora biti validan! "),W.Vb())}function T(e,n){if(1&e&&(W.Ub(0),W.Dc(1,D,2,0,"p",12),W.Dc(2,S,2,0,"p",13),W.Tb()),2&e){W.hc();var i=W.vc(10);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}var P,q=((P=function(e){s(i,e);var n=l(i);function i(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return a(this,i),(t=n.call(this,e,o,r,s)).service=e,t.options=o,t.cd=r,t.router=s,t.toastrService=c,t.email="",t.strategy=t.getConfigValue("forms.login.strategy"),t}return r(i,[{key:"sendEmail",value:function(e){var n=this;e.invalid?this.toastrService.showToast("Gre\u0161ka","Popravite gre\u0161ke.","warning"):this.service.requestPassword(this.strategy,{email:this.email}).subscribe(function(e){e.isSuccess()?n.router.navigate(["login"]):n.toastrService.showToast("Gre\u0161ka","Do\u0161lo je do gre\u0161ke, poku\u0161ajte kasnije.","warning")},function(e){n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte kasnije.","warning")})}}]),i}(O.l)).\u0275fac=function(e){return new(e||P)(W.Qb(O.g),W.Qb(O.a),W.Qb(W.h),W.Qb(g.c),W.Qb(N.a))},P.\u0275cmp=W.Kb({type:P,selectors:[["forgot-password"]],features:[W.Bb],decls:16,vars:6,consts:[[1,"align-self-center","text-center"],[1,"mb-1"],["for","input-email",1,"text-muted"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["emailInput","ngModel"],[4,"ngIf"],[1,"row","mt-3","d-flex","justify-content-center"],["status","primary","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message text-left mt-1 mb-0",4,"ngIf"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","text-left","mt-1","mb-0"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",0),W.Wb(1,"h1",1),W.Fc(2,"Zaboravljena lozinka:"),W.Vb(),W.Wb(3,"label",2),W.Fc(4,"Upi\u0161ite va\u0161u email adresu i posla\u0107emo Vam link za resetovanje lozinke"),W.Vb(),W.Wb(5,"form",3,4),W.dc("ngSubmit",function(){W.xc(i);var e=W.vc(6);return n.sendEmail(e)}),W.Wb(7,"div",5),W.Wb(8,"div",6),W.Wb(9,"input",7,8),W.dc("ngModelChange",function(e){return n.email=e}),W.Vb(),W.Dc(11,T,3,2,"ng-container",9),W.Vb(),W.Vb(),W.Wb(12,"div",10),W.Wb(13,"div",6),W.Wb(14,"button",11),W.Fc(15,"Po\u0161alji mejl"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(10);W.Eb(9),W.nc("ngModel",n.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(2),W.nc("ngIf",t.invalid&&t.touched)}},directives:[v.v,v.l,v.m,x.T,v.b,v.k,v.n,v.q,v.s,p.n,x.t],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),P),L=o("ud2R");function U(e,n){if(1&e&&(W.Wb(0,"li",35),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.Eb(1),W.Gc(i)}}function A(e,n){if(1&e&&(W.Wb(0,"nb-alert",31),W.Wb(1,"p",32),W.Wb(2,"b"),W.Fc(3,"Do\u0161lo je do gre\u0161ke, proverite podatke!"),W.Vb(),W.Vb(),W.Wb(4,"ul",33),W.Dc(5,U,2,1,"li",34),W.Vb(),W.Vb()),2&e){var i=W.hc();W.Eb(5),W.nc("ngForOf",i.errors)}}function $(e,n){if(1&e&&(W.Wb(0,"li",35),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.Eb(1),W.Gc(i)}}function K(e,n){if(1&e&&(W.Wb(0,"nb-alert",36),W.Wb(1,"p",32),W.Wb(2,"b"),W.Fc(3,"Uspesno ste se ulogovali!"),W.Vb(),W.Vb(),W.Wb(4,"ul",33),W.Dc(5,$,2,1,"li",34),W.Vb(),W.Vb()),2&e){var i=W.hc();W.Eb(5),W.nc("ngForOf",i.messages)}}function Q(e,n){1&e&&(W.Wb(0,"p",38),W.Fc(1," Email je obavezan! "),W.Vb())}function B(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Q,2,0,"p",37),W.Tb()),2&e){W.hc();var i=W.vc(17);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function G(e,n){1&e&&(W.Wb(0,"p",38),W.Fc(1," \u0160ifra je obavezna! "),W.Vb())}function _(e,n){if(1&e&&(W.Ub(0),W.Dc(1,G,2,0,"p",37),W.Tb()),2&e){W.hc();var i=W.vc(26);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function Z(e,n){if(1&e){var i=W.Xb();W.Wb(0,"nb-checkbox",39),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().user.rememberMe=e}),W.Fc(1,"Zapamti me"),W.Vb()}if(2&e){var t=W.hc();W.nc("ngModel",t.user.rememberMe)}}var H,X,J,Y=((H=function(e){s(i,e);var n=l(i);function i(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return a(this,i),(t=n.call(this,e,o,r,c)).service=e,t.options=o,t.cd=r,t.roleService=s,t.router=c,t.showPassword="eye",t.redirectDelay=0,t.showMessages={},t.strategy="",t.errors=[],t.messages=[],t.user={email:"",password:"",rememberMe:!1},t.submitted=!1,t.rememberMe=!1,t.redirectDelay=t.getConfigValue("forms.login.redirectDelay"),t.showMessages=t.getConfigValue("forms.login.showMessages"),t.strategy=t.getConfigValue("forms.login.strategy"),t.rememberMe=t.getConfigValue("forms.login.rememberMe"),t}return r(i,[{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"login",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0,this.service.authenticate(this.strategy,this.user).subscribe(function(n){e.submitted=!1,n.isSuccess()?e.messages=n.getMessages():e.errors=n.getErrors();var i=n.getRedirect();i&&(e.roleService.loginUser(),setTimeout(function(){return e.router.navigateByUrl(i)},e.redirectDelay)),e.cd.detectChanges()})}}]),i}(O.h)).\u0275fac=function(e){return new(e||H)(W.Qb(O.g),W.Qb(O.a),W.Qb(W.h),W.Qb(L.a),W.Qb(g.c))},H.\u0275cmp=W.Kb({type:H,selectors:[["auth-login"]],features:[W.Bb],decls:47,vars:18,consts:[[1,"align-self-center","flex-fill"],[1,"row","d-flex","mb-5","justify-content-center"],["src","assets/images/logo.png","alt","DIERS",1,"",2,"height","40%","width","40%"],["id","title",1,"title"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","uloguj se",3,"ngSubmit"],["loginForm","ngForm"],[1,"row","d-flex","justify-content-center","mb-3"],["for","input-email",1,"label"],["autofocus","","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email adresa/Korisni\u010dko ime",3,"ngModel","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-2"],["for","input-password",1,"label"],[1,"col-7","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra",3,"ngModel","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-4"],["name","rememberMe",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-4","justify-content-end","d-flex"],["routerLink","../forgot-password",1,"forgot-password"],["fullWidth","","nbButton","","status","success",3,"disabled"],[1,"row","d-flex","justify-content-center","pb-2"],["aria-label","Registruj se",1,"col-8","text-center"],["routerLink","../register-user",1,"text-link"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["name","rememberMe",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Rb(2,"img",2),W.Vb(),W.Wb(3,"h1",3),W.Fc(4,"Uloguj se!"),W.Vb(),W.Wb(5,"div",4),W.Wb(6,"div",5),W.Dc(7,A,6,1,"nb-alert",6),W.Dc(8,K,6,1,"nb-alert",7),W.Vb(),W.Vb(),W.Wb(9,"form",8,9),W.dc("ngSubmit",function(){return n.login()}),W.Wb(11,"div",10),W.Wb(12,"div",5),W.Wb(13,"label",11),W.Fc(14,"Email/Korisni\u010dko ime:"),W.Vb(),W.Vb(),W.Wb(15,"div",5),W.Wb(16,"input",12,13),W.dc("ngModelChange",function(e){return n.user.email=e}),W.Vb(),W.Vb(),W.Wb(18,"div",5),W.Dc(19,B,2,1,"ng-container",14),W.Vb(),W.Vb(),W.Wb(20,"div",15),W.Wb(21,"div",5),W.Wb(22,"label",16),W.Fc(23,"\u0160ifra:"),W.Vb(),W.Vb(),W.Wb(24,"div",17),W.Wb(25,"input",18,19),W.dc("ngModelChange",function(e){return n.user.password=e}),W.Vb(),W.Vb(),W.Wb(27,"div",20),W.Wb(28,"button",21),W.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),W.Rb(29,"nb-icon",22),W.Vb(),W.Vb(),W.Wb(30,"div",5),W.Dc(31,_,2,1,"ng-container",14),W.Vb(),W.Vb(),W.Wb(32,"div",15),W.Wb(33,"div",23),W.Dc(34,Z,2,1,"nb-checkbox",24),W.Vb(),W.Wb(35,"div",25),W.Wb(36,"a",26),W.Fc(37,"Zaboravili ste \u0161ifru?"),W.Vb(),W.Vb(),W.Vb(),W.Wb(38,"div",15),W.Wb(39,"div",5),W.Wb(40,"button",27),W.Fc(41," Uloguj se "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(42,"div",28),W.Wb(43,"div",29),W.Fc(44," Nemate nalog? "),W.Wb(45,"a",30),W.Fc(46,"Registruj se"),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&e){var i=W.vc(17),t=W.vc(26);W.Eb(7),W.nc("ngIf",n.showMessages.error&&(null==n.errors?null:n.errors.length)&&!n.submitted),W.Eb(1),W.nc("ngIf",n.showMessages.success&&(null==n.messages?null:n.messages.length)&&!n.submitted),W.Eb(8),W.nc("ngModel",n.user.email)("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),W.Eb(3),W.nc("ngIf",i.touched),W.Eb(6),W.nc("ngModel",n.user.password)("required",n.getConfigValue("forms.validation.password.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(4),W.nc("icon",n.showPassword),W.Eb(2),W.nc("ngIf",t.touched),W.Eb(3),W.nc("ngIf",n.rememberMe),W.Eb(6),W.Ib("btn-pulse",n.submitted),W.nc("disabled",n.submitted)}},directives:[p.n,v.v,v.l,v.m,x.T,v.b,v.k,v.n,v.s,x.t,x.Q,g.f,x.o,p.m,x.G],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),H),ee=o("BHmg"),ne=((J=function(e){s(i,e);var n=l(i);function i(e,t){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return a(this,i),(o=n.call(this,e,r,s)).service=e,o.widgetService=t,o.options=r,o.router=s,o.roleService=c,o.redirectDelay=0,o.strategy="",o.redirectDelay=o.getConfigValue("forms.logout.redirectDelay"),o.strategy=o.getConfigValue("forms.logout.strategy"),o}return r(i,[{key:"logout",value:function(e){var n=this;this.service.logout(e).subscribe(function(e){var i=e.getRedirect();n.roleService.ngOnDestroy(),n.widgetService.ngOnDestroy(),i&&setTimeout(function(){return n.router.navigateByUrl(i)},n.redirectDelay)})}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}}]),i}(O.i)).\u0275fac=function(e){return new(e||J)(W.Qb(O.g),W.Qb(ee.a),W.Qb(O.a),W.Qb(g.c),W.Qb(L.a))},J.\u0275cmp=W.Kb({type:J,selectors:[["ngx-logout"]],features:[W.Bb],decls:2,vars:0,template:function(e,n){1&e&&(W.Wb(0,"div"),W.Fc(1,"Odjavljivanje u toku..."),W.Vb())},styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;text-align:center;font-size:1.5rem;font-weight:700}"]}),J),ie=((X=function(){function e(n,i){a(this,e),this.authService=n,this.router=i}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.isAuthenticated().subscribe(function(n){n||e.router.navigate(["auth","login"])}),this.authService.getToken().subscribe(function(n){var i=n.getPayload().data.user;e.router.navigate("admin"===i.role?["admin"]:["pages","dashboard"])})}}]),e}()).\u0275fac=function(e){return new(e||X)(W.Qb(O.g),W.Qb(g.c))},X.\u0275cmp=W.Kb({type:X,selectors:[["auth-redirect"]],decls:2,vars:0,template:function(e,n){1&e&&(W.Wb(0,"p"),W.Fc(1,"redirect works!"),W.Vb())},styles:[""]}),X),te=o("SxV6"),ae={pager:{perPage:5},hideSubHeader:!0,actions:{columnTitle:"Odaberi",position:"right",add:!1,delete:!1,edit:!1,custom:[{name:"izaberi",title:'<i class="fa fa-plus"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj",filter:!1,sort:!0,sortDirection:"asc"},name:{title:"Naziv",filter:!1}}};function oe(e,n){if(1&e){var i=W.Xb();W.Wb(0,"button",16),W.dc("click",function(){W.xc(i);var e=n.$implicit;return W.hc().addTrash(e)}),W.Fc(1),W.Vb()}if(2&e){var t=n.$implicit;W.nc("nbPopover",t.name),W.Eb(1),W.Hc(" ",t.indexNumber," ")}}var re,se=function(e){return["..","register-informations",e]},ce=((re=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;a(this,e),this.options=n,this.registerService=i,this.catalogService=t,this.catalog=new h.a,this.settings=ae,this.permitType=""}return r(e,[{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"ngOnInit",value:function(){var e=this;this.registerService.getPermit().subscribe(function(n){e.permitCode=n}),this.registerService.getCompany().subscribe(function(n){void 0!==n&&(e.company=n,e.permit=e.company.permits.filter(function(n){return n.code===e.permitCode})[0],e.permitType=e.permit.type,e.trashList=e.permit.trashList)}),this.registerService.sendCompany(Object(k.a)(this.company));var n=!1,i=!1;this.registerService.getOperations().subscribe(function(t){t.forEach(function(e){e.includes("Neopasnog")&&(n=!0),e.includes("Opasnog")&&(i=!0)}),n&&!i?e.catalogService.getSafeTrash().pipe(Object(te.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)}):i&&!n?e.catalogService.getUnsafeTrash().pipe(Object(te.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)}):i&&n&&e.catalogService.getCatalogs().pipe(Object(te.a)()).subscribe(function(n){n.sort(function(e,n){return e.indexNumber.localeCompare(n.indexNumber)}),e.catalog.load(n)})})}},{key:"onSearch",value:function(e){""===e&&this.catalog.setFilter([]),this.catalog.setFilter([{field:"indexNumber",search:e,filter:function(e,n){return e.replace(/\s+/g,"").includes(n.replace(/\s+/g,""))}},{field:"name",search:e}],!1)}},{key:"addTrash",value:function(e){var n=this;this.trashList.some(function(n){return n._id===e._id})?this.removeTrash(e):this.permit.trashList.push(e),this.company.permits.filter(function(e){return e.code===n.permitCode})[0]=this.permit}},{key:"removeTrash",value:function(e){var n=this.trashList.filter(function(n){return n._id===e._id})[0];if(n){var i=this.trashList.indexOf(n,0);i>-1&&this.trashList.splice(i,1)}}}]),e}()).\u0275fac=function(e){return new(e||re)(W.Qb(O.a),W.Qb(z),W.Qb(I.a))},re.\u0275cmp=W.Kb({type:re,selectors:[["register-permit"]],decls:22,vars:7,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],[1,"row"],[1,"col-4"],["nbButton","","status","warning","class","p-2 m-1","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",3,"nbPopover","click",4,"ngFor","ngForOf"],[1,"col-8"],[1,"ml-0"],["nbInput","","fullWidth","","type","text","placeholder","Pretrazi",3,"input"],["search",""],[3,"source","settings","custom"],["nbButton","","fullWidth","","status","success",1,"mt-2",3,"routerLink","disabled"],["label","Potvrda"],["nbButton","","status","warning","nbPopoverTrigger","hint","nbPopoverPlacement","bottom",1,"p-2","m-1",3,"nbPopover","click"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"h1",0),W.Fc(1,"Registruj se!"),W.Vb(),W.Wb(2,"nb-stepper",1),W.Wb(3,"nb-step",2),W.Fc(4,"Test"),W.Vb(),W.Rb(5,"nb-step",3),W.Rb(6,"nb-step",4),W.Wb(7,"nb-step",5),W.Wb(8,"div",6),W.Wb(9,"div",7),W.Wb(10,"h5"),W.Fc(11,"Lista otpada dozvole:"),W.Vb(),W.Dc(12,oe,2,2,"button",8),W.Vb(),W.Wb(13,"div",9),W.Wb(14,"label",10),W.Fc(15,"Pretrazi po indeksnom broju ili nazivu:"),W.Vb(),W.Wb(16,"input",11,12),W.dc("input",function(){W.xc(i);var e=W.vc(17);return e.value.length>=1&&n.onSearch(e.value)}),W.Vb(),W.Wb(18,"ng2-smart-table",13),W.dc("custom",function(e){return n.addTrash(e.data)}),W.Vb(),W.Vb(),W.Vb(),W.Wb(19,"button",14),W.Fc(20," Zavr\u0161i "),W.Vb(),W.Vb(),W.Rb(21,"nb-step",15),W.Vb()}2&e&&(W.Eb(12),W.nc("ngForOf",n.trashList),W.Eb(6),W.nc("source",n.catalog)("settings",n.settings),W.Eb(1),W.nc("routerLink",W.rc(5,se,n.permitType))("disabled",0===(null==n.trashList?null:n.trashList.length)))},directives:[x.Bb,x.Ab,p.m,x.T,h.b,x.t,g.d,x.kb],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),re),le=o("mrSG");function be(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Naziv firme je obavezan! "),W.Vb())}function ue(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Naziv firme mora biti du\u017ei od ",i.getConfigValue("forms.validation.companyName.minLength")," slova! ")}}function de(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Naziv firme mora biti kra\u0107i od ",i.getConfigValue("forms.validation.companyName.maxLength")," slova! ")}}function pe(e,n){if(1&e&&(W.Ub(0),W.Dc(1,be,2,0,"p",84),W.Dc(2,ue,2,1,"p",84),W.Dc(3,de,2,1,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(19);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.minlength),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.maxlength)}}function ve(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," PIB je obavezan! "),W.Vb())}function ge(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," PIB mora da bude validan! "),W.Vb())}function me(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ve,2,0,"p",84),W.Dc(2,ge,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(30);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function he(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Mati\u010dni broj je obavezan! "),W.Vb())}function fe(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Mati\u010dni broj mora da bude validan! "),W.Vb())}function ke(e,n){if(1&e&&(W.Ub(0),W.Dc(1,he,2,0,"p",84),W.Dc(2,fe,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(40),t=W.vc(30);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==t.errors?null:t.errors.minlength)}}function Ve(e,n){if(1&e&&(W.Wb(0,"nb-option",58),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i),W.Eb(1),W.Gc(i)}}function We(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Op\u0161tina je obavezna! "),W.Vb())}function je(e,n){if(1&e&&(W.Ub(0),W.Dc(1,We,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(57);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function ye(e,n){if(1&e&&(W.Wb(0,"nb-option",58),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i),W.Eb(1),W.Gc(i)}}function Ie(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Mesto je obavezno! "),W.Vb())}function Fe(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Ie,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(71);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function we(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Po\u0161tanski broj je obavezan "),W.Vb())}function Ee(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Po\u0161tanski broj mora biti validan "),W.Vb())}function Ce(e,n){if(1&e&&(W.Ub(0),W.Dc(1,we,2,0,"p",84),W.Dc(2,Ee,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(86);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function ze(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Ulica je obavezna! "),W.Vb())}function Me(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Ulica mora biti validna! "),W.Vb())}function Oe(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ze,2,0,"p",84),W.Dc(2,Me,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(96);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.minlength)}}function Re(e,n){if(1&e&&(W.Wb(0,"nb-option",58),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i.name),W.Eb(1),W.Ic("[",i.code," ] ",i.name,"")}}function Ne(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," \u0160ifra delatnosti je obavezna! "),W.Vb())}function xe(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Ne,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(107);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function De(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email je obavezan! "),W.Vb())}function Se(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email mora biti validan! "),W.Vb())}function Te(e,n){if(1&e&&(W.Ub(0),W.Dc(1,De,2,0,"p",84),W.Dc(2,Se,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(122);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function Pe(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Telefon firme je obavezan! "),W.Vb())}function qe(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Telefon firme mora biti validan! "),W.Vb())}function Le(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Pe,2,0,"p",84),W.Dc(2,qe,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(132);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ue(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email je obavezan! "),W.Vb())}function Ae(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email mora biti validan! "),W.Vb())}function $e(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Ue,2,0,"p",84),W.Dc(2,Ae,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(151);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function Ke(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email je obavezan! "),W.Vb())}function Qe(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Email mora biti validan! "),W.Vb())}function Be(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Ke,2,0,"p",84),W.Dc(2,Qe,2,0,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(7);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function Ge(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",13),W.Wb(1,"div",1),W.Wb(2,"div",2),W.Wb(3,"label",86),W.Fc(4,"Unesite va\u0161 email za prijem dokumenata:"),W.Vb(),W.Vb(),W.Wb(5,"div",2),W.Wb(6,"input",87,88),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().tmpEmail=e})("ngModelChange",function(){return W.xc(i),W.hc().setCompanyEmail()}),W.Vb(),W.Vb(),W.Wb(8,"div",2),W.Dc(9,Be,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(7),a=W.hc();W.Eb(6),W.nc("ngModel",a.tmpEmail)("pattern",a.getConfigValue("forms.validation.email.pattern"))("required",a.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||a.checkIssues)}}function _e(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Ime zakonskog zastupnika je obavezno! "),W.Vb())}function Ze(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(3);W.Eb(1),W.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",i.getConfigValue("forms.validation.username.minLength")," slova! ")}}function He(e,n){if(1&e&&(W.Ub(0),W.Dc(1,_e,2,0,"p",84),W.Dc(2,Ze,2,1,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(8);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Xe(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," \u0160ifra je obavezna! "),W.Vb())}function Je(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(3);W.Eb(1),W.Hc(" \u0160ifra mora biti du\u017ee od ",i.getConfigValue("forms.validation.password.minLength")," slova! ")}}function Ye(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Xe,2,0,"p",84),W.Dc(2,Je,2,1,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(18);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function en(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",8),W.Wb(1,"div",13),W.Wb(2,"div",1),W.Wb(3,"div",2),W.Wb(4,"label",89),W.Fc(5,"Korisni\u010dko ime:"),W.Vb(),W.Vb(),W.Wb(6,"div",2),W.Wb(7,"input",90,91),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().company.nriz.username=e}),W.Vb(),W.Vb(),W.Wb(9,"div",2),W.Dc(10,He,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(11,"div",13),W.Wb(12,"div",1),W.Wb(13,"div",2),W.Wb(14,"label",92),W.Fc(15,"\u0160ifra:"),W.Vb(),W.Vb(),W.Wb(16,"div",93),W.Wb(17,"input",94,95),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().company.nriz.password=e}),W.Vb(),W.Vb(),W.Wb(19,"div",96),W.Wb(20,"button",97),W.dc("click",function(){W.xc(i);var e=W.hc();return e.showPassword="eye"===e.showPassword?"eye-off":"eye"}),W.Rb(21,"nb-icon",98),W.Vb(),W.Vb(),W.Wb(22,"div",2),W.Dc(23,Ye,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(8),a=W.vc(18),o=W.hc(),r=W.vc(171);W.Eb(7),W.nc("ngModel",o.company.nriz.username)("maxlength",o.getConfigValue("forms.validation.username.maxLength"))("minlength",o.getConfigValue("forms.validation.username.minLength"))("required",o.getConfigValue("forms.validation.username.required")&&r.checked)("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||o.checkIssues),W.Eb(7),W.nc("ngModel",o.company.nriz.password)("maxlength",o.getConfigValue("forms.validation.password.maxLength"))("minlength",o.getConfigValue("forms.validation.password.minLength"))("required",o.getConfigValue("forms.validation.password.required")&&r.checked)("status",a.dirty?a.invalid?"danger":"success":"basic")("type","eye"===o.showPassword?"password":"text"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(4),W.nc("icon",o.showPassword),W.Eb(2),W.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}function nn(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Ime zakonskog zastupnika je obavezno! "),W.Vb())}function tn(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function an(e,n){if(1&e&&(W.Ub(0),W.Dc(1,nn,2,0,"p",84),W.Dc(2,tn,2,1,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(187);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function on(e,n){1&e&&(W.Wb(0,"p",85),W.Fc(1," Prezime zakonskog zastupnika je obavezno! "),W.Vb())}function rn(e,n){if(1&e&&(W.Wb(0,"p",85),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function sn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,on,2,0,"p",84),W.Dc(2,rn,2,1,"p",84),W.Tb()),2&e){W.hc();var i=W.vc(197);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}var cn,ln=((cn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;a(this,e),this.options=n,this.locationService=i,this.occupationService=t,this.registerService=o,this.router=r,this.toastrService=s,this.showPassword="eye",this.checkIssues=!1,this.tmpEmail=""}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(te.a)()).subscribe(function(n){e.company=n}),this.registerService.getUser().pipe(Object(te.a)()).subscribe(function(n){void 0!==n&&(e.user=n)}),this.registerService.sendCompany(Object(k.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(te.a)()).subscribe(function(n){e.townships=n,e.townships$=Object(k.a)(n)}),this.occupationService.getOccupations().pipe(Object(te.a)()).subscribe(function(n){e.occupations=n,e.occupations$=Object(k.a)(n)})}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"checkAddress",value:function(){return this.townships.includes(this.company.address.location.townshipName)&&this.places.includes(this.company.address.location.placeName)}},{key:"checkOccupation",value:function(){return this.occupations.map(function(e){return e.name}).includes(this.company.occupation.name)}},{key:"validateCompany",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.invalid){n.next=2;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1));case 2:if(this.checkAddress()){n.next=4;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite adresu (odaberite sa liste op\u0161tinu odnosno mesto) da bi ste nastavili.","warning",5e3),!1));case 4:if(this.checkOccupation()){n.next=6;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Proverite zanimanje (odaberite sa liste zanimanja) da bi ste nastavili.","warning",5e3),!1));case 6:return i="",n.next=9,Promise.all(this.registerService.checkCompany(this.company)).then(function(e){return i=e[0]?i:"taj pib",i=e[1]?i:"taj mati\u010dni broj",i=e[2]?i:"taj email",i=e[3]?i:"taj email za prijem",i=e[4]?i:"taj telefon",i=e[5]?i:"to korisni\u010dko ime za NRIZ",e[0]&&e[1]&&e[2]&&e[3]&&e[4]&&e[5]});case 9:if(n.sent){n.next=11;break}return n.abrupt("return",(this.checkIssues=!0,void this.toastrService.showToast("Ve\u0107 postoji ".concat(i,"!"),"Promenite ".concat(i," da biste nastavili."),"danger")));case 11:e.valid&&""===this.tmpEmail&&""!==this.company.emailReception?this.router.navigate(["auth/register-operations"]):(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning"));case 12:case"end":return n.stop()}},n,this)}))}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(te.a)()).subscribe(function(e){n.places=e,n.places$=Object(k.a)(e)})}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(function(e){n.getPlaces(e[0])})):this.townships$=Object(k.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"findOccupations",value:function(e){this.occupations$=this.occupationService.filter(e,this.occupations)}},{key:"clearTmpEmail",value:function(){this.tmpEmail=""}},{key:"setCompanyEmail",value:function(){this.company.emailReception=this.tmpEmail}}]),e}()).\u0275fac=function(e){return new(e||cn)(W.Qb(O.a),W.Qb(F),W.Qb(y),W.Qb(z),W.Qb(g.c),W.Qb(N.a))},cn.\u0275cmp=W.Kb({type:cn,selectors:[["register-company"]],decls:215,vars:105,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation","","selectedIndex","1"],["label","Korisnik","completed","true"],["label","Firma"],["companyForm","ngForm"],[1,"row","my-1"],["for","input-companyName",1,"label"],["autofocus","","fullWidth","","id","input-companyName","name","companyName","nbInput","","placeholder","Naziv firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","PIB",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Mati\u010dni broj",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["mat","ngModel"],["for","input-adresa",1,"label"],["id","input-adresa",1,"row","ml-2"],["for","input-townshipName",1,"label"],["autocomplete","off","fullWidth","","id","input-townshipName","name","townshipName","nbInput","","placeholder","Naziv op\u0161tine",3,"ngModel","nbAutocomplete","required","ngModelChange"],["townshipName","ngModel"],["AutoCompleteTownships",""],[3,"value",4,"ngFor","ngForOf"],["for","input-placeName",1,"label"],["autocomplete","off","fullWidth","","id","input-placeName","name","placeName","nbInput","","placeholder","Naziv mesta",3,"ngModel","nbAutocomplete","required","ngModelChange"],["placeName","ngModel"],["autoCompletePlaces",""],[1,"row","ml-2","mt-2"],[1,"col-3"],["for","input-zipCode",1,"label"],["fullWidth","","id","input-zipCode","name","zipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zipCode","ngModel"],[1,"col-9"],["for","input-street",1,"label"],["fullWidth","","id","input-street","name","street","nbInput","","placeholder","Ulica i broj",3,"ngModel","minlength","required","status","ngModelChange"],["street","ngModel"],["for","input-occupation",1,"label"],["autocomplete","off","fullWidth","","id","input-occupation","name","occupation","nbInput","","placeholder","Delatnost",3,"ngModel","nbAutocomplete","required","ngModelChange"],["occupation","ngModel"],["autoDelatnostSelect",""],[1,"col-4"],["for","input-companyEmail",1,"label"],["fullWidth","","id","input-companyEmail","name","companyEmail","nbInput","","placeholder","Email firme",3,"ngModel","required","pattern","status","ngModelChange"],["companyEmail","ngModel"],["for","input-companyTelephone",1,"label"],["fullWidth","","id","input-companyTelephone","name","companyTelephone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon firme",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["companyTelephone","ngModel"],["for","input-companyFax",1,"label"],["fullWidth","","id","input-companyFax","name","companyFax","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Faks firme",3,"ngModel","maxlength","minlength","ngModelChange"],["companyFax","ngModel"],["for","input-companyEmailReception",1,"label"],["fullWidth","","id","input-companyEmailReception","name","companyEmailReception","placeholder","Email za prijem dokumenata",3,"ngModel","required","selected","status","ngModelChange"],["companyEmailReception","ngModel"],[3,"value","selectionChange"],[3,"value"],["otherEmail",""],["class","col-6",4,"ngIf"],["for","toggle-nriz",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["id","toggle-nriz"],["nrizToggle",""],["class","row my-1",4,"ngIf"],[1,"label"],[1,"row","ml-2"],["for","input-fNameLegalRep",1,"label"],["fullWidth","","id","input-fNameLegalRep","name","fNameLegalRep","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameLegalRepo","ngModel"],["for","input-lNameLegalRep",1,"label"],["fullWidth","","id","input-lNameLegalRep","name","lNameLegalRep","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameLegalRepo","ngModel"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","type","button","routerLink","../register-user"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-companyEmailReception2",1,"label"],["fullWidth","","id","input-companyEmailReception2","name","companyEmailReception2","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["companyEmailReception2","ngModel"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"div",2),W.Wb(3,"h1",3),W.Fc(4,"Registruj se!"),W.Vb(),W.Vb(),W.Wb(5,"div",2),W.Wb(6,"nb-stepper",4),W.Rb(7,"nb-step",5),W.Wb(8,"nb-step",6),W.Wb(9,"form",null,7),W.Wb(11,"div",8),W.Wb(12,"div",2),W.Wb(13,"div",1),W.Wb(14,"div",2),W.Wb(15,"label",9),W.Fc(16,"Naziv Firme:"),W.Vb(),W.Vb(),W.Wb(17,"div",2),W.Wb(18,"input",10,11),W.dc("ngModelChange",function(e){return n.company.name=e}),W.Vb(),W.Vb(),W.Wb(20,"div",2),W.Dc(21,pe,4,3,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(22,"div",8),W.Wb(23,"div",13),W.Wb(24,"div",1),W.Wb(25,"div",2),W.Wb(26,"label",14),W.Fc(27,"Poreski identifikacioni broj (PIB):"),W.Vb(),W.Vb(),W.Wb(28,"div",2),W.Wb(29,"input",15,16),W.dc("ngModelChange",function(e){return n.company.pib=e}),W.Vb(),W.Vb(),W.Wb(31,"div",2),W.Dc(32,me,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(33,"div",13),W.Wb(34,"div",1),W.Wb(35,"div",2),W.Wb(36,"label",17),W.Fc(37,"Mati\u010dni broj:"),W.Vb(),W.Vb(),W.Wb(38,"div",2),W.Wb(39,"input",18,19),W.dc("ngModelChange",function(e){return n.company.mat=e}),W.Vb(),W.Vb(),W.Wb(41,"div",2),W.Dc(42,ke,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(43,"div",8),W.Wb(44,"div",2),W.Wb(45,"div",1),W.Wb(46,"div",2),W.Wb(47,"label",20),W.Fc(48,"Adresa:"),W.Vb(),W.Vb(),W.Vb(),W.Wb(49,"div",21),W.Wb(50,"div",13),W.Wb(51,"div",1),W.Wb(52,"div",2),W.Wb(53,"label",22),W.Fc(54,"Op\u0161tina:"),W.Vb(),W.Vb(),W.Wb(55,"div",2),W.Wb(56,"input",23,24),W.dc("ngModelChange",function(){W.xc(i);var e=W.vc(57);return n.chooseTownship(e.value)})("ngModelChange",function(e){return n.company.address.location.townshipName=e}),W.Vb(),W.Wb(58,"nb-autocomplete",null,25),W.Dc(60,Ve,2,2,"nb-option",26),W.ic(61,"async"),W.Vb(),W.Vb(),W.Wb(62,"div",2),W.Dc(63,je,2,1,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(64,"div",13),W.Wb(65,"div",1),W.Wb(66,"div",2),W.Wb(67,"label",27),W.Fc(68,"Mesto:"),W.Vb(),W.Vb(),W.Wb(69,"div",2),W.Wb(70,"input",28,29),W.dc("ngModelChange",function(){W.xc(i);var e=W.vc(71);return n.findPlaces(e.value)})("ngModelChange",function(e){return n.company.address.location.placeName=e}),W.Vb(),W.Wb(72,"nb-autocomplete",null,30),W.Dc(74,ye,2,2,"nb-option",26),W.ic(75,"async"),W.Vb(),W.Vb(),W.Wb(76,"div",2),W.Dc(77,Fe,2,1,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(78,"div",31),W.Wb(79,"div",32),W.Wb(80,"div",1),W.Wb(81,"div",2),W.Wb(82,"label",33),W.Fc(83,"Po\u0161tanski broj:"),W.Vb(),W.Vb(),W.Wb(84,"div",2),W.Wb(85,"input",34,35),W.dc("ngModelChange",function(e){return n.company.address.location.zipCode=e}),W.Vb(),W.Vb(),W.Wb(87,"div",2),W.Dc(88,Ce,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(89,"div",36),W.Wb(90,"div",1),W.Wb(91,"div",2),W.Wb(92,"label",37),W.Fc(93,"Ulica i broj:"),W.Vb(),W.Vb(),W.Wb(94,"div",2),W.Wb(95,"input",38,39),W.dc("ngModelChange",function(e){return n.company.address.street=e}),W.Vb(),W.Vb(),W.Wb(97,"div",2),W.Dc(98,Oe,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(99,"div",8),W.Wb(100,"div",2),W.Wb(101,"div",1),W.Wb(102,"div",2),W.Wb(103,"label",40),W.Fc(104,"\u0160ifra delatnosti:"),W.Vb(),W.Vb(),W.Wb(105,"div",2),W.Wb(106,"input",41,42),W.dc("ngModelChange",function(){W.xc(i);var e=W.vc(107);return n.findOccupations(e.value)})("ngModelChange",function(e){return n.company.occupation.name=e}),W.Vb(),W.Wb(108,"nb-autocomplete",null,43),W.Dc(110,Re,2,3,"nb-option",26),W.ic(111,"async"),W.Vb(),W.Vb(),W.Wb(112,"div",2),W.Dc(113,xe,2,1,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(114,"div",8),W.Wb(115,"div",44),W.Wb(116,"div",1),W.Wb(117,"div",2),W.Wb(118,"label",45),W.Fc(119,"Email firme:"),W.Vb(),W.Vb(),W.Wb(120,"div",2),W.Wb(121,"input",46,47),W.dc("ngModelChange",function(e){return n.company.email=e}),W.Vb(),W.Vb(),W.Wb(123,"div",2),W.Dc(124,Te,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(125,"div",44),W.Wb(126,"div",1),W.Wb(127,"div",2),W.Wb(128,"label",48),W.Fc(129,"Telefon firme:"),W.Vb(),W.Vb(),W.Wb(130,"div",2),W.Wb(131,"input",49,50),W.dc("ngModelChange",function(e){return n.company.telephone=e}),W.Vb(),W.Vb(),W.Wb(133,"div",2),W.Dc(134,Le,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(135,"div",44),W.Wb(136,"div",1),W.Wb(137,"div",2),W.Wb(138,"label",51),W.Fc(139,"Faks firme:"),W.Vb(),W.Vb(),W.Wb(140,"div",2),W.Wb(141,"input",52,53),W.dc("ngModelChange",function(e){return n.company.fax=e}),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(143,"div",8),W.Wb(144,"div",13),W.Wb(145,"div",1),W.Wb(146,"div",2),W.Wb(147,"label",54),W.Fc(148,"Birajte email za prijem dokumenata:"),W.Vb(),W.Vb(),W.Wb(149,"div",2),W.Wb(150,"nb-select",55,56),W.dc("ngModelChange",function(e){return n.company.emailReception=e}),W.Wb(152,"nb-option",57),W.dc("selectionChange",function(){return n.clearTmpEmail()}),W.Fc(153),W.Vb(),W.Wb(154,"nb-option",57),W.dc("selectionChange",function(){return n.clearTmpEmail()}),W.Fc(155),W.Vb(),W.Wb(156,"nb-option",58,59),W.Fc(158,"Drugi email"),W.Vb(),W.Vb(),W.Vb(),W.Wb(159,"div",2),W.Dc(160,$e,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Dc(161,Ge,10,6,"div",60),W.Vb(),W.Wb(162,"div",8),W.Wb(163,"div",2),W.Wb(164,"div",1),W.Wb(165,"div",2),W.Wb(166,"label",61),W.Fc(167,"Da li imate nalog na NRIZ (Nacionalni registar izvora zaga\u0111ivanja)? "),W.Rb(168,"i",62),W.Vb(),W.Vb(),W.Wb(169,"div",2),W.Rb(170,"nb-toggle",63,64),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(172,en,24,16,"div",65),W.Wb(173,"div",8),W.Wb(174,"div",2),W.Wb(175,"div",1),W.Wb(176,"div",2),W.Wb(177,"label",66),W.Fc(178,"Puno ime zakonskog zastupnika firme:"),W.Vb(),W.Vb(),W.Vb(),W.Wb(179,"div",67),W.Wb(180,"div",13),W.Wb(181,"div",1),W.Wb(182,"div",2),W.Wb(183,"label",68),W.Fc(184,"Ime:"),W.Vb(),W.Vb(),W.Wb(185,"div",2),W.Wb(186,"input",69,70),W.dc("ngModelChange",function(e){return n.company.legalRep.firstName=e}),W.Vb(),W.Vb(),W.Wb(188,"div",2),W.Dc(189,an,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Wb(190,"div",13),W.Wb(191,"div",1),W.Wb(192,"div",2),W.Wb(193,"label",71),W.Fc(194,"Prezime:"),W.Vb(),W.Vb(),W.Wb(195,"div",2),W.Wb(196,"input",72,73),W.dc("ngModelChange",function(e){return n.company.legalRep.lastName=e}),W.Vb(),W.Vb(),W.Wb(198,"div",2),W.Dc(199,sn,3,2,"ng-container",12),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(200,"div",74),W.Wb(201,"div",75),W.Wb(202,"button",76),W.Fc(203," Nazad "),W.Vb(),W.Vb(),W.Wb(204,"div",77),W.Wb(205,"button",78),W.dc("click",function(){W.xc(i);var e=W.vc(10);return n.validateCompany(e)}),W.Fc(206," Dalje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(207,"nb-step",79),W.Rb(208,"nb-step",80),W.Rb(209,"nb-step",81),W.Vb(),W.Vb(),W.Wb(210,"div",2),W.Wb(211,"section",82),W.Fc(212," Ve\u0107 imate nalog? "),W.Wb(213,"a",83),W.Fc(214,"Uloguj se"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(19),a=W.vc(30),o=W.vc(40),r=W.vc(57),s=W.vc(59),c=W.vc(71),l=W.vc(73),b=W.vc(86),u=W.vc(96),d=W.vc(107),p=W.vc(109),v=W.vc(122),g=W.vc(132),m=W.vc(142),h=W.vc(151),f=W.vc(157),k=W.vc(171),V=W.vc(187),j=W.vc(197);W.Eb(18),W.nc("ngModel",n.company.name)("maxlength",n.getConfigValue("forms.validation.companyName.maxLength"))("minlength",n.getConfigValue("forms.validation.companyName.minLength"))("required",n.getConfigValue("forms.validation.companyName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||n.checkIssues),W.Eb(8),W.nc("ngModel",n.company.pib)("maxlength",n.getConfigValue("forms.validation.pib.maxLength"))("minlength",n.getConfigValue("forms.validation.pib.minLength"))("pattern",n.getConfigValue("forms.validation.pib.pattern"))("required",n.getConfigValue("forms.validation.pib.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(3),W.nc("ngIf",a.invalid&&a.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.mat)("maxlength",n.getConfigValue("forms.validation.mat.maxLength"))("minlength",n.getConfigValue("forms.validation.mat.minLength"))("pattern",n.getConfigValue("forms.validation.mat.pattern"))("required",n.getConfigValue("forms.validation.mat.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),W.Eb(3),W.nc("ngIf",o.invalid&&o.touched||n.checkIssues),W.Eb(14),W.nc("ngModel",n.company.address.location.townshipName)("nbAutocomplete",s)("required",n.getConfigValue("forms.validation.address.required")),W.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),W.Eb(4),W.nc("ngForOf",W.jc(61,99,n.townships$)),W.Eb(3),W.nc("ngIf",r.invalid&&r.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.address.location.placeName)("nbAutocomplete",l)("required",n.getConfigValue("forms.validation.address.required")),W.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),W.Eb(4),W.nc("ngForOf",W.jc(75,101,n.places$)),W.Eb(3),W.nc("ngIf",n.checkIssues),W.Eb(8),W.nc("ngModel",n.company.address.location.zipCode)("maxlength",n.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",n.getConfigValue("forms.validation.zipCode.minLength"))("required",n.getConfigValue("forms.validation.zipCode.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),W.Eb(3),W.nc("ngIf",b.invalid&&b.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.address.street)("minlength",n.getConfigValue("forms.validation.street.minLength"))("required",n.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),W.Eb(3),W.nc("ngIf",u.invalid&&u.touched||n.checkIssues),W.Eb(8),W.nc("ngModel",n.company.occupation.name)("nbAutocomplete",p)("required",n.getConfigValue("forms.validation.occupation.required")),W.Fb("aria-invalid",!(!d.invalid||!d.touched)||null),W.Eb(4),W.nc("ngForOf",W.jc(111,103,n.occupations$)),W.Eb(3),W.nc("ngIf",d.invalid&&d.touched||n.checkIssues),W.Eb(8),W.nc("ngModel",n.company.email)("required",n.getConfigValue("forms.validation.email.required"))("pattern",n.getConfigValue("forms.validation.email.pattern"))("status",v.dirty?v.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!v.invalid||!v.touched)||null),W.Eb(3),W.nc("ngIf",v.invalid&&v.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.telephone)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength"))("required",n.getConfigValue("forms.validation.telephone.required"))("status",g.dirty?g.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!g.invalid||!g.touched)||null),W.Eb(3),W.nc("ngIf",g.invalid&&g.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.fax)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength")),W.Fb("aria-invalid",!(!m.invalid||!m.touched)||null),W.Eb(9),W.nc("ngModel",n.company.emailReception)("required",n.getConfigValue("forms.validation.email.required"))("selected",n.company.email)("status",h.dirty?h.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!h.invalid||!h.touched)||null),W.Eb(2),W.nc("value",n.company.email),W.Eb(1),W.Gc(n.company.email),W.Eb(1),W.nc("value",null==n.user?null:n.user.email),W.Eb(1),W.Gc(null==n.user?null:n.user.email),W.Eb(1),W.nc("value",n.company.emailReception),W.Eb(4),W.nc("ngIf",h.invalid&&h.touched||n.checkIssues),W.Eb(1),W.nc("ngIf",f.selected),W.Eb(7),W.nc("nbTooltip","Ukoliko posedujete nalog na NRIZ unesite korisno\u010dko ime i \u0161ifru za pristup na NRIZ ukoliko \u017eelite da nam poverite odgovornost i obavljanje poslova izve\u0161tavanja umesto vas."),W.Eb(4),W.nc("ngIf",k.checked),W.Eb(14),W.nc("ngModel",n.company.legalRep.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",V.dirty?V.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!V.invalid||!V.touched)||null),W.Eb(3),W.nc("ngIf",V.invalid&&V.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.company.legalRep.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",j.dirty?j.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!j.invalid||!j.touched)||null),W.Eb(3),W.nc("ngIf",j.invalid&&j.touched||n.checkIssues)}},directives:[x.Bb,x.Ab,v.v,v.l,v.m,x.T,v.b,v.k,v.n,v.f,v.g,v.s,p.n,v.q,x.r,x.q,p.m,x.tb,x.ib,x.Pb,x.Nb,x.t,g.d,g.f,x.Q],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.example-viewport[_ngcontent-%COMP%]{height:100px;width:100%;border:1px solid #000}.example-item[_ngcontent-%COMP%]{height:50px}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),cn),bn=function(){return{standalone:!0}};function un(e,n){if(1&e){var i=W.Xb();W.Wb(0,"input",9),W.dc("ngModelChange",function(e){return W.xc(i),W.hc(2).storageNo=e}),W.Vb()}if(2&e){var t=W.hc(2);W.nc("ngModel",t.storageNo)("ngModelOptions",W.qc(2,bn))}}function dn(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",2),W.Wb(1,"div",3),W.Wb(2,"form",null,4),W.Wb(4,"div",5),W.Wb(5,"div",3),W.Wb(6,"label",6),W.Fc(7,"Broj dozvola:"),W.Vb(),W.Vb(),W.Wb(8,"div",3),W.Wb(9,"nb-button-group"),W.Wb(10,"button",7),W.dc("pressedChange",function(e){return W.xc(i),W.hc().updatePermits(1,void 0,e)}),W.Fc(11,"1"),W.Vb(),W.Wb(12,"button",7),W.dc("pressedChange",function(e){return W.xc(i),W.hc().updatePermits(2,void 0,e)}),W.Fc(13,"2"),W.Vb(),W.Wb(14,"button",7),W.dc("pressedChange",function(e){return W.xc(i),W.hc().updatePermits(3,void 0,e)}),W.Fc(15,"3"),W.Vb(),W.Wb(16,"button",7),W.dc("pressedChange",function(e){return W.xc(i),W.hc().updatePermits(4,void 0,e)}),W.Fc(17,"4"),W.Vb(),W.Wb(18,"button",7),W.dc("pressedChange",function(e){return W.xc(i),W.hc().updatePermits(5,void 0,e)}),W.Fc(19,"5"),W.Vb(),W.Wb(20,"button",7),W.dc("pressedChange",function(){W.xc(i);var e=W.hc();return e.showPermitsInput=!e.showPermitsInput}),W.Fc(21,"Vi\u0161e..."),W.Vb(),W.Dc(22,un,1,3,"input",8),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.hc();W.Eb(22),W.nc("ngIf",t.showPermitsInput)}}function pn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Naziv dozvole je obavezna! "),W.Vb())}function vn(e,n){if(1&e&&(W.Wb(0,"p",34),W.Fc(1),W.Vb()),2&e){var i=W.hc(4);W.Eb(1),W.Hc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.permitName.minLength")," slova! ")}}function gn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,pn,2,0,"p",33),W.Dc(2,vn,2,1,"p",33),W.Tb()),2&e){W.hc();var i=W.vc(13);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function mn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," \u0160ifra dozvole je obavezna! "),W.Vb())}function hn(e,n){if(1&e&&(W.Wb(0,"p",34),W.Fc(1),W.Vb()),2&e){var i=W.hc(4);W.Eb(1),W.Hc(" Naziv dozvole mora biti du\u017ei od ",i.getConfigValue("forms.validation.permitCode.minLength")," slova! ")}}function fn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,mn,2,0,"p",33),W.Dc(2,hn,2,1,"p",33),W.Tb()),2&e){W.hc();var i=W.vc(24);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.maxLength)||(null==i.errors?null:i.errors.minLength))}}function kn(e,n){if(1&e&&(W.Wb(0,"nb-option",40),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i),W.Eb(1),W.Gc(i.name)}}function Vn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Postrojenje za koje je vezana dozvola je obavezno! "),W.Vb())}function Wn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Vn,2,0,"p",33),W.Tb()),2&e){W.hc();var i=W.vc(7);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function jn(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",35),W.Wb(1,"div",5),W.Wb(2,"div",3),W.Wb(3,"label",36),W.Fc(4,"Odaberi postrojenje:"),W.Vb(),W.Vb(),W.Wb(5,"div",3),W.Wb(6,"nb-select",37,38),W.dc("ngModelChange",function(){W.xc(i);var e=W.hc().$implicit;return W.hc(2).setAddress(e,e.storage)})("ngModelChange",function(e){return W.xc(i),W.hc().$implicit.storage=e}),W.Dc(8,kn,2,2,"nb-option",39),W.ic(9,"async"),W.Vb(),W.Vb(),W.Wb(10,"div",3),W.Dc(11,Wn,2,1,"ng-container",17),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(7),a=W.hc().$implicit,o=W.hc(2);W.Eb(6),W.nc("ngModel",a.storage)("ngModelOptions",W.qc(7,bn))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Eb(2),W.nc("ngForOf",W.jc(9,5,o.storages$)),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||o.checkIssues)}}function yn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Datum nastanka dozvole je obavezan! "),W.Vb())}function In(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Datum nastanka dozvole ne mo\u017ee biti posle datum izdavanja! "),W.Vb())}function Fn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,yn,2,0,"p",33),W.Dc(2,In,2,0,"p",33),W.Tb()),2&e){var i=W.hc().$implicit,t=W.vc(36),a=W.hc(2);W.Eb(1),W.nc("ngIf",null==t.errors?null:t.errors.required),W.Eb(1),W.nc("ngIf",!a.dateValid(i))}}function wn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Datum isteka dozvole je obavezan! "),W.Vb())}function En(e,n){if(1&e&&(W.Ub(0),W.Dc(1,wn,2,0,"p",33),W.Tb()),2&e){W.hc();var i=W.vc(48);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function Cn(e,n){1&e&&(W.Wb(0,"p",34),W.Fc(1," Morate dodati bar jedan otpad na listu otpada dozvole! "),W.Vb())}function zn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Cn,2,0,"p",33),W.Tb()),2&e){var i=W.hc().$implicit;W.Eb(1),W.nc("ngIf",i.trashList.length<1)}}function Mn(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",3),W.Wb(1,"form",null,12),W.Wb(3,"nb-card",13),W.Wb(4,"nb-card-body"),W.Wb(5,"div",2),W.Wb(6,"div",3),W.Wb(7,"div",5),W.Wb(8,"div",3),W.Wb(9,"label",14),W.Fc(10,"Naziv Dozvole:"),W.Vb(),W.Vb(),W.Wb(11,"div",3),W.Wb(12,"input",15,16),W.dc("ngModelChange",function(e){return n.$implicit.name=e}),W.Vb(),W.Vb(),W.Wb(14,"div",3),W.Dc(15,gn,3,2,"ng-container",17),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(16,"div",2),W.Wb(17,"div",18),W.Wb(18,"div",5),W.Wb(19,"div",3),W.Wb(20,"label",19),W.Fc(21,"\u0160ifra Dozvole:"),W.Vb(),W.Vb(),W.Wb(22,"div",3),W.Wb(23,"input",20,21),W.dc("ngModelChange",function(e){return n.$implicit.code=e}),W.Vb(),W.Vb(),W.Wb(25,"div",3),W.Dc(26,fn,3,2,"ng-container",17),W.Vb(),W.Vb(),W.Vb(),W.Dc(27,jn,12,8,"div",22),W.Vb(),W.Wb(28,"div",2),W.Wb(29,"div",18),W.Wb(30,"div",5),W.Wb(31,"div",3),W.Wb(32,"label",23),W.Fc(33,"Datum izdavanja dozvole:"),W.Vb(),W.Vb(),W.Wb(34,"div",3),W.Wb(35,"input",24,25),W.dc("ngModelChange",function(e){return n.$implicit.dateCreation=e}),W.Vb(),W.Rb(37,"nb-datepicker",null,26),W.Vb(),W.Wb(39,"div",3),W.Dc(40,Fn,3,2,"ng-container",17),W.Vb(),W.Vb(),W.Vb(),W.Wb(41,"div",18),W.Wb(42,"div",5),W.Wb(43,"div",3),W.Wb(44,"label",27),W.Fc(45,"Datum isteka dozvole:"),W.Vb(),W.Vb(),W.Wb(46,"div",3),W.Wb(47,"input",28,29),W.dc("ngModelChange",function(e){return n.$implicit.dateExpiration=e}),W.Vb(),W.Rb(49,"nb-datepicker",null,30),W.Vb(),W.Wb(51,"div",3),W.Dc(52,En,2,1,"ng-container",17),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(53,"div",31),W.Wb(54,"div",18),W.Wb(55,"div",5),W.Wb(56,"div",3),W.Wb(57,"button",32),W.dc("click",function(){W.xc(i);var e=n.$implicit;return W.hc(2).choosePermit(e)}),W.Fc(58,"Odaberi otpade "),W.Vb(),W.Vb(),W.Wb(59,"div",3),W.Dc(60,zn,2,1,"ng-container",17),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=n.$implicit,a=n.index,o=W.vc(13),r=W.vc(24),s=W.vc(36),c=W.vc(38),l=W.vc(48),b=W.vc(50),u=W.hc(2);W.Eb(12),W.pc("placeholder","Dozvola #",a+1,""),W.nc("ngModel",t.name)("maxlength",u.getConfigValue("forms.validation.permitName.maxLength"))("minLength",u.getConfigValue("forms.validation.permitName.minLength"))("ngModelOptions",W.qc(32,bn))("required",u.getConfigValue("forms.validation.permitName.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),W.Eb(3),W.nc("ngIf",o.invalid&&o.touched||u.checkIssues),W.Eb(8),W.nc("ngModel",t.code)("ngModelOptions",W.qc(33,bn))("required",u.getConfigValue("forms.validation.permitCode.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),W.Eb(3),W.nc("ngIf",r.invalid&&r.touched||u.checkIssues),W.Eb(1),W.nc("ngIf","transport"!==u.permitType&&"collector"!==u.permitType),W.Eb(8),W.nc("ngModel",t.dateCreation)("nbDatepicker",c)("ngModelOptions",W.qc(34,bn))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(t)?"success":"danger"),W.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),W.Eb(5),W.nc("ngIf",!u.dateValid(t)||u.checkIssues),W.Eb(7),W.nc("ngModel",t.dateExpiration)("nbDatepicker",b)("ngModelOptions",W.qc(35,bn))("required",u.getConfigValue("forms.validation.date.required"))("status",u.dateValid(t)?"success":"danger"),W.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),W.Eb(5),W.nc("ngIf",l.invalid&&l.touched||u.checkIssues),W.Eb(5),W.nc("disabled",""===t.code),W.Eb(3),W.nc("ngIf",u.checkIssues)}}function On(e,n){if(1&e&&(W.Wb(0,"div",10),W.Dc(1,Mn,61,36,"div",11),W.ic(2,"async"),W.Vb()),2&e){var i=W.hc();W.Eb(1),W.nc("ngForOf",W.jc(2,1,i.permits$))}}var Rn,Nn=((Rn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.router=i,this.registerService=t,this.toastrService=o,this.storages=[],this.permitsNo=0,this.checkIssues=!1,this.valid=!1,this.showPermitsInput=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(te.a)()).subscribe(function(n){void 0!==n&&(e.company=n,void 0!==n.permits&&(e.permits=e.company.permits.filter(function(n){return n.type===e.permitType}),e.permitsNo=e.permits.length,e.permits$=Object(k.a)(e.permits)))}),"transport"!==this.permitType&&"collector"!==this.permitType&&(this.permitsNo=this.storageNo,this.storages$=Object(k.a)(this.storages)),this.validatePermits(),this.registerService.sendCompany(Object(k.a)(this.company))}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"checkValid",value:function(){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validatePermits(),this.valid){e.next=2;break}return e.abrupt("return",(this.checkIssues=!0,!1));case 2:return i="",e.next=5,Promise.all(this.registerService.checkPermits(this.permits)).then(function(e){var t,a=n(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(i=o?i:"ta \u0161ifra",o)return o}}catch(r){a.e(r)}finally{a.f()}return!1});case 5:if(!e.sent){e.next=9;break}e.t0=!!this.valid||(this.checkIssues=!0,!1),e.next=10;break;case 9:e.t0=(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ve\u0107 postoji ".concat(i," dozvole!"),"danger"),!1);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}))}},{key:"validatePermits",value:function(){if(this.permits){this.valid=this.permits.length>0;var e,i=n(this.permits);try{for(i.s();!(e=i.n()).done;){var t=e.value;if(""===t.name||t.name.length<3){this.valid=!1;break}if(""===t.code){this.valid=!1;break}if(void 0===t.dateCreation||void 0===t.dateExpiration){this.valid=!1;break}if(void 0===t.storage&&"transport"!==this.permitType&&"collector"!==this.permitType){this.valid=!1;break}if(t.trashList.length<1){this.valid=!1;break}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"updatePermits",value:function(e,n,i){var t=this;if(void 0===i||!1!==i){void 0!==e&&(this.permitsNo=e),void 0!==n&&(this.storages$=n),this.company.permits?"transport"===this.permitType?this.company.permits=this.company.permits.filter(function(e){return"transport"!==e.type}):"collector"===this.permitType&&(this.company.permits=this.company.permits.filter(function(e){return"collector"!==e.type})):this.company.permits=[],this.permits=new Array(this.permitsNo);for(var a=0;a<this.permitsNo;a++)this.permits[a]={address:{location:void 0,street:""},code:"",dateCreation:new Date,dateExpiration:new Date,name:"",storage:{name:"",maxAmount:0,address:{location:{placeCode:0,placeName:"",townshipCode:0,townshipName:"",zipCode:""},street:""},amount:0},trashList:[],type:this.permitType},"transport"!==this.permitType&&"collector"!==this.permitType||(delete this.permits[a].storage,delete this.permits[a].address);this.permits$=Object(k.a)(this.permits),this.permits.forEach(function(e){return t.company.permits.push(e)}),this.validatePermits()}}},{key:"choosePermit",value:function(e){this.registerService.sendPermit(Object(k.a)(e.code)),this.router.navigate(["/auth/register-permit"])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"setAddress",value:function(e,n){e.address=n.address}}]),e}()).\u0275fac=function(e){return new(e||Rn)(W.Qb(O.a),W.Qb(g.c),W.Qb(z),W.Qb(N.a))},Rn.\u0275cmp=W.Kb({type:Rn,selectors:[["register-trash-permit"]],inputs:{permitType:"permitType",storageNo:"storageNo",storages:"storages"},decls:2,vars:2,consts:[["class","row my-1",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","my-1"],[1,"col-12"],["updatePermitForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["permitForm","ngForm"],["accent","success"],["for","input-permitName",1,"label"],["autofocus","","fullWidth","","id","input-permitName","name","permitName","nbInput","",3,"ngModel","maxlength","minLength","ngModelOptions","required","status","placeholder","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],[1,"col-6"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","placeholder","\u0160ifra",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["permitCode","ngModel"],["class","col-6 my-1",4,"ngIf"],["for","input-dateCreation",1,"label"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateCreation","ngModel"],["dateCreationPicker",""],["for","input-dateExpiration",1,"label"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","ngModelOptions","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],[1,"row","my-2"],["nbButton","","status","success","type","button",3,"disabled","click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],[1,"col-6","my-1"],["for","input-permitsStorage",1,"label"],["fullWidth","","id","input-permitsStorage","name","permitsStorage","required","",3,"ngModel","ngModelOptions","status","ngModelChange"],["permitsStorage","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(W.Dc(0,dn,23,1,"div",0),W.Dc(1,On,3,3,"div",1)),2&e&&(W.nc("ngIf","transport"===n.permitType||"collector"===n.permitType),W.Eb(1),W.nc("ngIf",n.permitsNo>0))},directives:[p.n,v.v,v.l,v.m,x.u,x.x,x.T,v.p,v.b,v.k,v.n,p.m,x.A,x.z,v.f,v.s,x.M,x.L,x.t,x.tb,x.ib],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Rn),xn=["permitRef"],Dn=function(){return{standalone:!0}};function Sn(e,n){if(1&e){var i=W.Xb();W.Wb(0,"input",9),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().storageNo=e}),W.Vb()}if(2&e){var t=W.hc();W.nc("ngModel",t.storageNo)("ngModelOptions",W.qc(2,Dn))}}function Tn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Naziv skladi\u0161ta je obavezan! "),W.Vb())}function Pn(e,n){if(1&e&&(W.Wb(0,"p",53),W.Fc(1),W.Vb()),2&e){var i=W.hc(4);W.Eb(1),W.Hc(" Naziv skladi\u0161ta mora biti du\u017ei od ",i.getConfigValue("forms.validation.storageName.minLength")," slova! ")}}function qn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Tn,2,0,"p",52),W.Dc(2,Pn,2,1,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(13);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Ln(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Vrsta skladi\u0161ta je obavezna! "),W.Vb())}function Un(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Ln,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(8);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function An(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"div",3),W.Wb(3,"div",1),W.Wb(4,"label",54),W.Fc(5,"Vrsta Deponije:"),W.Vb(),W.Vb(),W.Wb(6,"div",1),W.Wb(7,"nb-select",55,56),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().$implicit.dumpType=e}),W.Wb(9,"nb-option",51),W.Fc(10,"Neopasan otpad"),W.Vb(),W.Wb(11,"nb-option",51),W.Fc(12,"Opasan otpad"),W.Vb(),W.Wb(13,"nb-option",51),W.Fc(14,"Inertan otpad"),W.Vb(),W.Vb(),W.Vb(),W.Wb(15,"div",1),W.Dc(16,Un,2,1,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(8),a=W.hc().$implicit,o=W.hc(2);W.Eb(7),W.nc("ngModel",a.dumpType)("ngModelOptions",W.qc(9,Dn))("required",o.getConfigValue("forms.validation.dumpType.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(2),W.nc("value","Neopasan"),W.Eb(2),W.nc("value","Opasan"),W.Eb(2),W.nc("value","Inertan"),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||o.checkIssues)}}function $n(e,n){if(1&e&&(W.Wb(0,"nb-option",51),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i),W.Eb(1),W.Gc(i)}}function Kn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Op\u0161tina je obavezna! "),W.Vb())}function Qn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Kn,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(29);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function Bn(e,n){if(1&e&&(W.Wb(0,"nb-option",51),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.nc("value",i),W.Eb(1),W.Gc(i)}}function Gn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Mesto je obavezno! "),W.Vb())}function _n(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Gn,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(43);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function Zn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Po\u0161tanski broj je obavezan! "),W.Vb())}function Hn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Po\u0161tanski broj mora biti validan! "),W.Vb())}function Xn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Zn,2,0,"p",52),W.Dc(2,Hn,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(58);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Jn(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Ulica je obavezna! "),W.Vb())}function Yn(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Jn,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(68);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required)}}function ei(e,n){1&e&&(W.Wb(0,"button",61),W.Fc(1,"\xb0"),W.Vb())}function ni(e,n){1&e&&(W.Wb(0,"button",62),W.Fc(1,"'"),W.Vb())}function ii(e,n){1&e&&(W.Wb(0,"button",62),W.Fc(1,'"'),W.Vb())}function ti(e,n){if(1&e){var i=W.Xb();W.Wb(0,"span",57),W.Wb(1,"input",58),W.dc("ngModelChange",function(e){W.xc(i);var t=n.$implicit;return W.hc().$implicit.geolocationNorth[t]=e}),W.Vb(),W.Dc(2,ei,2,0,"button",59),W.Dc(3,ni,2,0,"button",60),W.Dc(4,ii,2,0,"button",60),W.Vb()}if(2&e){var t=n.$implicit,a=W.hc().$implicit;W.Eb(1),W.nc("ngModel",a.geolocationNorth[t])("ngModelOptions",W.qc(5,Dn)),W.Eb(1),W.nc("ngIf",1===t),W.Eb(1),W.nc("ngIf",3===t),W.Eb(1),W.nc("ngIf",6===t)}}function ai(e,n){1&e&&(W.Wb(0,"button",61),W.Fc(1,"\xb0"),W.Vb())}function oi(e,n){1&e&&(W.Wb(0,"button",62),W.Fc(1,"'"),W.Vb())}function ri(e,n){1&e&&(W.Wb(0,"button",62),W.Fc(1,'"'),W.Vb())}function si(e,n){if(1&e){var i=W.Xb();W.Wb(0,"span",63),W.Wb(1,"input",58),W.dc("ngModelChange",function(e){W.xc(i);var t=n.$implicit;return W.hc().$implicit.geolocationEast[t]=e}),W.Vb(),W.Dc(2,ai,2,0,"button",59),W.Dc(3,oi,2,0,"button",60),W.Dc(4,ri,2,0,"button",60),W.Vb()}if(2&e){var t=n.$implicit,a=W.hc().$implicit;W.Eb(1),W.nc("ngModel",a.geolocationEast[t])("ngModelOptions",W.qc(5,Dn)),W.Eb(1),W.nc("ngIf",1===t),W.Eb(1),W.nc("ngIf",3===t),W.Eb(1),W.nc("ngIf",6===t)}}function ci(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Veli\u010dina skladi\u0161ta je obavezna! "),W.Vb())}function li(e,n){1&e&&(W.Wb(0,"p",53),W.Fc(1," Veli\u010dina skladi\u0161ta ne mo\u017ee biti 0! "),W.Vb())}function bi(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ci,2,0,"p",52),W.Dc(2,li,2,0,"p",52),W.Tb()),2&e){W.hc();var i=W.vc(99),t=W.hc(2);W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.required)||t.isNaN(i.value)),W.Eb(1),W.nc("ngIf",i<1)}}function ui(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",1),W.Wb(1,"form",null,12),W.Wb(3,"nb-card",13),W.Wb(4,"nb-card-body"),W.Wb(5,"div",0),W.Wb(6,"div",1),W.Wb(7,"div",3),W.Wb(8,"div",1),W.Wb(9,"label",14),W.Fc(10,"Naziv Skladi\u0161ta:"),W.Vb(),W.Vb(),W.Wb(11,"div",1),W.Wb(12,"input",15,16),W.dc("ngModelChange",function(e){return n.$implicit.name=e}),W.Vb(),W.Vb(),W.Wb(14,"div",1),W.Dc(15,qn,3,2,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(16,An,17,10,"div",17),W.Wb(17,"div",0),W.Wb(18,"div",1),W.Wb(19,"label",18),W.Fc(20,"Adresa:"),W.Vb(),W.Wb(21,"div",19),W.Wb(22,"div",20),W.Wb(23,"div",3),W.Wb(24,"div",1),W.Wb(25,"label",21),W.Fc(26,"Op\u0161tina:"),W.Vb(),W.Vb(),W.Wb(27,"div",1),W.Wb(28,"input",22,23),W.dc("ngModelChange",function(){W.xc(i);var e=W.vc(29);return W.hc(2).chooseTownship(e.value)})("ngModelChange",function(e){return n.$implicit.address.location.townshipName=e}),W.Vb(),W.Wb(30,"nb-autocomplete",null,24),W.Dc(32,$n,2,2,"nb-option",25),W.ic(33,"async"),W.Vb(),W.Vb(),W.Wb(34,"div",1),W.Dc(35,Qn,2,1,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Wb(36,"div",20),W.Wb(37,"div",3),W.Wb(38,"div",1),W.Wb(39,"label",26),W.Fc(40,"Mesto:"),W.Vb(),W.Vb(),W.Wb(41,"div",1),W.Wb(42,"input",27,28),W.dc("ngModelChange",function(e){return W.xc(i),W.hc(2).findPlaces(e)})("ngModelChange",function(e){return n.$implicit.address.location.placeName=e}),W.Vb(),W.Wb(44,"nb-autocomplete",null,29),W.Dc(46,Bn,2,2,"nb-option",25),W.ic(47,"async"),W.Vb(),W.Vb(),W.Wb(48,"div",1),W.Dc(49,_n,2,1,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(50,"div",0),W.Wb(51,"div",30),W.Wb(52,"div",3),W.Wb(53,"div",1),W.Wb(54,"label",31),W.Fc(55,"Po\u0161tanski broj:"),W.Vb(),W.Vb(),W.Wb(56,"div",1),W.Wb(57,"input",32,33),W.dc("ngModelChange",function(e){return n.$implicit.address.location.zipCode=e}),W.Vb(),W.Vb(),W.Wb(59,"div",1),W.Dc(60,Xn,3,2,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Wb(61,"div",34),W.Wb(62,"div",3),W.Wb(63,"div",1),W.Wb(64,"label",35),W.Fc(65,"Ulica i broj:"),W.Vb(),W.Vb(),W.Wb(66,"div",1),W.Wb(67,"input",36,37),W.dc("ngModelChange",function(e){return n.$implicit.address.street=e}),W.Vb(),W.Vb(),W.Wb(69,"div",1),W.Dc(70,Yn,2,1,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(71,"div",0),W.Wb(72,"div",1),W.Wb(73,"div",3),W.Wb(74,"div",1),W.Wb(75,"label",38),W.Fc(76,"Geolokacija Sever (N):"),W.Vb(),W.Vb(),W.Wb(77,"div",1),W.Dc(78,ti,5,6,"span",39),W.Vb(),W.Wb(79,"div",1),W.Sb(80),W.Vb(),W.Vb(),W.Vb(),W.Wb(81,"div",40),W.Wb(82,"div",3),W.Wb(83,"div",1),W.Wb(84,"label",41),W.Fc(85,"Geolokacija Istok (E0):"),W.Vb(),W.Vb(),W.Wb(86,"div",1),W.Dc(87,si,5,6,"span",42),W.Vb(),W.Wb(88,"div",1),W.Sb(89),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(90,"div",43),W.Wb(91,"div",1),W.Wb(92,"div",3),W.Wb(93,"div",1),W.Wb(94,"label",44),W.Fc(95,"Veli\u010dina skladi\u0161ta: "),W.Rb(96,"i",45),W.Vb(),W.Vb(),W.Wb(97,"div",46),W.Wb(98,"input",47,48),W.dc("ngModelChange",function(e){return n.$implicit.maxAmount=e}),W.Vb(),W.Vb(),W.Wb(100,"div",49),W.Wb(101,"nb-select",50),W.dc("ngModelChange",function(e){return n.$implicit.storageUnit=e}),W.Wb(102,"nb-option",51),W.Fc(103,"KG"),W.Vb(),W.Wb(104,"nb-option",51),W.Fc(105,"T"),W.Vb(),W.Vb(),W.Vb(),W.Wb(106,"div",1),W.Dc(107,bi,3,2,"ng-container",8),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=n.$implicit,a=n.index,o=W.vc(13),r=W.vc(29),s=W.vc(31),c=W.vc(43),l=W.vc(45),b=W.vc(58),u=W.vc(68),d=W.vc(99),p=W.hc(2);W.Eb(12),W.nc("ngModel",t.name)("maxlength",p.getConfigValue("forms.validation.storageName.maxLength"))("minlength",p.getConfigValue("forms.validation.storageName.minLength"))("ngModelOptions",W.qc(57,Dn))("placeholder","Skladi\u0161te #"+(a+1))("required",p.getConfigValue("forms.validation.storageName.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),W.Eb(3),W.nc("ngIf",o.invalid&&o.touched||p.checkIssues),W.Eb(1),W.nc("ngIf","dump"===p.storageType),W.Eb(12),W.nc("ngModel",t.address.location.townshipName)("nbAutocomplete",s)("ngModelOptions",W.qc(58,Dn))("required",p.getConfigValue("forms.validation.address.required")),W.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),W.Eb(4),W.nc("ngForOf",W.jc(33,53,p.townships$)),W.Eb(3),W.nc("ngIf",r.invalid&&r.touched||p.checkIssues),W.Eb(7),W.nc("ngModel",t.address.location.placeName)("nbAutocomplete",l)("ngModelOptions",W.qc(59,Dn))("required",p.getConfigValue("forms.validation.address.required")),W.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),W.Eb(4),W.nc("ngForOf",W.jc(47,55,p.places$)),W.Eb(3),W.nc("ngIf",c.invalid&&c.touched||p.checkIssues),W.Eb(8),W.nc("ngModel",t.address.location.zipCode)("maxlength",p.getConfigValue("forms.validation.zipCode.maxLength"))("minlength",p.getConfigValue("forms.validation.zipCode.minLength"))("ngModelOptions",W.qc(60,Dn))("required",p.getConfigValue("forms.validation.zipCode.required"))("status",b.dirty?b.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!b.invalid||!b.touched)||null),W.Eb(3),W.nc("ngIf",b.invalid&&b.touched||p.checkIssues),W.Eb(7),W.nc("ngModel",t.address.street)("maxlength",p.getConfigValue("forms.validation.street.maxLength"))("minlength",p.getConfigValue("forms.validation.street.minLength"))("ngModelOptions",W.qc(61,Dn))("required",p.getConfigValue("forms.validation.street.required"))("status",u.dirty?u.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!u.invalid||!u.touched)||null),W.Eb(3),W.nc("ngIf",u.invalid&&u.touched||p.checkIssues),W.Eb(8),W.nc("ngForOf",p.numbers),W.Eb(9),W.nc("ngForOf",p.numbers),W.Eb(9),W.nc("nbTooltip","Unesite veli\u010dinu privremenog skladi\u0161ta koju posedujete u okviru pravnog subjekta u jedinicama mere. Na\u010din odre\u0111ivanja veli\u010dine privremenog skladi\u0161ta merenje/prora\u010dun/procena."),W.Eb(2),W.nc("ngModel",t.maxAmount)("min",p.getConfigValue("forms.validation.storageSize.min"))("ngModelOptions",W.qc(62,Dn))("required",p.getConfigValue("forms.validation.storageSize.required"))("status",d.dirty?d.invalid?"danger":"success":"basic"),W.Eb(3),W.nc("ngModelOptions",W.qc(63,Dn))("ngModel",t.storageUnit),W.Eb(1),W.nc("value","KG"),W.Eb(2),W.nc("value","T"),W.Eb(3),W.nc("ngIf",d.invalid&&d.touched||p.checkIssues)}}function di(e,n){if(1&e&&(W.Wb(0,"div",10),W.Dc(1,ui,108,64,"div",11),W.ic(2,"async"),W.Vb()),2&e){var i=W.hc();W.Eb(1),W.nc("ngForOf",W.jc(2,1,i.storages$))}}function pi(e,n){if(1&e&&(W.Wb(0,"div"),W.Rb(1,"register-trash-permit",64,65),W.Vb()),2&e){var i=W.hc();W.Eb(1),W.nc("storageNo",i.storageNo)("storages",i.storages)("permitType",i.storageType)}}var vi,gi=((vi=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;a(this,i),this.options=n,this.registerService=t,this.locationService=o,this.townships=[],this.places=[],this.showStorageInput=!1,this.checkIssues=!1,this.valid=!1,this.numbers=e(Array(7).keys())}return r(i,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(te.a)()).subscribe(function(n){if(void 0!==n&&(e.company=n,void 0!==n.storages)){var i=[];"treatment"===e.storageType?(i=e.company.storages,e.storages=i.filter(function(e){return void 0!==e.treatment})):"dump"===e.storageType?(i=e.company.storages,e.storages=i.filter(function(e){return void 0!==e.dumpType})):"cache"===e.storageType?(i=e.company.storages,e.storages=i.filter(function(e){return void 0!==e.cache})):(i=e.company.storages,e.storages=i.filter(function(e){return void 0===e.cache&&void 0===e.dumpType&&void 0===e.treatment})),e.storageNo=e.storages.length,e.storages$=Object(k.a)(e.storages)}}),this.registerService.sendCompany(Object(k.a)(this.company)),this.locationService.getDistinctTownships().pipe(Object(te.a)()).subscribe(function(n){e.townships=n,e.townships$=Object(k.a)(n)}),this.validateStorage()}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"checkValid",value:function(){return this.validateStorage(),!(void 0!==this.permitRef&&!this.permitRef.checkValid()||!this.valid&&(this.checkIssues=!0,1))}},{key:"validateStorage",value:function(){if(void 0!==this.storages){this.valid=this.storages.length>0;var e,i=n(this.storages);try{for(i.s();!(e=i.n()).done;){var t=e.value;if(""===t.name||t.name.length<3){this.valid=!1;break}if(t.maxAmount<1||isNaN(t.maxAmount)){this.valid=!1;break}if(""===t.address.location.placeName||""===t.address.location.townshipName){this.valid=!1;break}if(""===t.address.street){this.valid=!1;break}if("dump"===this.storageType&&""===t.dumpType){this.valid=!1;break}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"updateStorages",value:function(e,n){var i=this;if(n){this.storageNo=e;var t=new Array;"treatment"===this.storageType?(t=this.company.storages,this.company.storages=t.filter(function(e){return void 0===e.treatment})):"dump"===this.storageType?(t=this.company.storages,this.company.storages=t.filter(function(e){return void 0===e.dumpType})):"cache"===this.storageType?(t=this.company.storages,this.company.storages=t.filter(function(e){return void 0===e.cache})):(t=this.company.storages,this.company.storages=t.filter(function(e){return e.treatment||e.dumpType||e.cache})),this.storages=new Array(this.storageNo);for(var a=0;a<this.storageNo;a++)this.storages[a]={address:{location:{placeName:"",placeCode:0,townshipName:"",townshipCode:0,zipCode:""},street:""},amount:0,storageUnit:"KG",geolocationEast:["0","0","0","0","0","0","0"],geolocationNorth:["0","0","0","0","0","0","0"],maxAmount:NaN,name:"",packages:[],trashes:[]},"cache"===this.storageType&&(this.storages[a].cache="cache"),"treatment"===this.storageType&&(this.storages[a].treatment="treatment"),"dump"===this.storageType&&(this.storages[a].dumpType="");this.storages$=Object(k.a)(this.storages),this.storages.forEach(function(e){return i.company.storages.push(e)}),this.validateStorage(),void 0!==this.permitRef&&this.permitRef.updatePermits(this.storageNo,this.storages$)}}},{key:"getPlaces",value:function(e){var n=this;void 0!==e&&this.locationService.getPlacesFromTownship(e).pipe(Object(te.a)()).subscribe(function(e){n.places=e,n.places$=Object(k.a)(e)})}},{key:"chooseTownship",value:function(e){var n=this;""!==e?(this.townships$=this.locationService.filter(e,this.townships),void 0!==this.townships$&&this.townships$.subscribe(function(e){return n.getPlaces(e[0])})):this.townships$=Object(k.a)(this.townships)}},{key:"findPlaces",value:function(e){this.places$=this.locationService.filter(e,this.places)}},{key:"isNaN",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return isNaN(e)||void 0===e})}]),i}()).\u0275fac=function(e){return new(e||vi)(W.Qb(O.a),W.Qb(z),W.Qb(F))},vi.\u0275cmp=W.Kb({type:vi,selectors:[["register-trash-storage"]],viewQuery:function(e,n){var i;1&e&&W.Lc(xn,1),2&e&&W.uc(i=W.ec())&&(n.permitRef=i.first)},inputs:{storageType:"storageType",trashType:"trashType"},decls:25,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateStorageForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row mt-3",4,"ngIf"],[4,"ngIf"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],["class","col-12",4,"ngFor","ngForOf"],["storageForm","ngForm"],["accent","primary",1,"p-2"],["for","input-storageName",1,"label"],["autofocus","","fullWidth","","id","input-storageName","name","storageName","nbInput","",3,"ngModel","maxlength","minlength","ngModelOptions","placeholder","required","status","ngModelChange"],["storageName","ngModel"],["class","row my-1",4,"ngIf"],["for","input-address",1,"label"],["id","input-address",1,"row","ml-2"],[1,"col-6"],["for","input-storageTownship",1,"label"],["autocomplete","off","fullWidth","","id","input-storageTownship","name","storageTownship","nbInput","","placeholder","Op\u0161tina",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storageTownship","ngModel"],["autoCompleteTownship",""],[3,"value",4,"ngFor","ngForOf"],["for","input-storagePlace",1,"label"],["autocomplete","off","fullWidth","","id","input-storagePlace","name","storagePlace","nbInput","","placeholder","Mesto",3,"ngModel","nbAutocomplete","ngModelOptions","required","ngModelChange"],["storagePlace","ngModel"],["autoCompletePlace",""],[1,"col-3"],["for","input-storageZipCode",1,"label"],["fullWidth","","id","input-storageZipCode","name","storageZipCode","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Po\u0161tanski broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageZipCode","ngModel"],[1,"col-9"],["for","input-storageStreet",1,"label"],["fullWidth","","id","input-storageStreet","name","storageStreet","nbInput","","placeholder","Ulica i broj",3,"ngModel","maxlength","minlength","ngModelOptions","required","status","ngModelChange"],["storageStreet","ngModel"],["for","input-geolocationN",1,"label"],["id","input-geolocationN",4,"ngFor","ngForOf"],[1,"col-12","mt-1"],["for","input-geolocationE",1,"label"],["id","input-geolocationE",4,"ngFor","ngForOf"],[1,"row","mb-2"],["for","input-storageSize",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],[1,"col-10","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","placeholder","0","onkeypress","return /[0-9.]/i.test(event.key)","step","1","type","number",3,"ngModel","min","ngModelOptions","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-2","pl-0"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-dumpType",1,"label"],["fullWidth","","id","input-dumpType","name","dumpType","placeholder","Vrsta deponije",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["dumpType","ngModel"],["id","input-geolocationN"],["fullWidth","","maxlength","1","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","type","text",1,"col-1",3,"ngModel","ngModelOptions","ngModelChange"],["nbButton","","class","col-1 mb-1 geolocation-sign","disabled","",4,"ngIf"],["nbButton","","disabled","","style","max-width: 2vw; font-size: 1.5rem","class","col-1 mb-1",4,"ngIf"],["nbButton","","disabled","",1,"col-1","mb-1","geolocation-sign"],["nbButton","","disabled","",1,"col-1","mb-1",2,"max-width","2vw","font-size","1.5rem"],["id","input-geolocationE"],[3,"storageNo","storages","permitType"],["permitRef",""]],template:function(e,n){1&e&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"form",null,2),W.Wb(4,"div",3),W.Wb(5,"div",1),W.Wb(6,"label",4),W.Fc(7,"Broj skladi\u0161ta:"),W.Vb(),W.Vb(),W.Wb(8,"div",1),W.Wb(9,"nb-button-group"),W.Wb(10,"button",5),W.dc("pressedChange",function(e){return n.updateStorages(1,e)}),W.Fc(11,"1"),W.Vb(),W.Wb(12,"button",5),W.dc("pressedChange",function(e){return n.updateStorages(2,e)}),W.Fc(13,"2"),W.Vb(),W.Wb(14,"button",5),W.dc("pressedChange",function(e){return n.updateStorages(3,e)}),W.Fc(15,"3"),W.Vb(),W.Wb(16,"button",5),W.dc("pressedChange",function(e){return n.updateStorages(4,e)}),W.Fc(17,"4"),W.Vb(),W.Wb(18,"button",5),W.dc("pressedChange",function(e){return n.updateStorages(5,e)}),W.Fc(19,"5"),W.Vb(),W.Wb(20,"button",5),W.dc("pressedChange",function(){return n.showStorageInput=!n.showStorageInput}),W.Fc(21,"Vi\u0161e..."),W.Vb(),W.Dc(22,Sn,1,3,"input",6),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(23,di,3,3,"div",7),W.Dc(24,pi,3,3,"div",8)),2&e&&(W.Eb(22),W.nc("ngIf",n.showStorageInput),W.Eb(1),W.nc("ngIf",n.storageNo>0),W.Eb(1),W.nc("ngIf","production"!==n.storageType))},directives:[v.v,v.l,v.m,x.u,x.x,p.n,x.T,v.p,v.b,v.k,v.n,p.m,x.A,x.z,v.f,v.g,v.s,x.r,x.q,x.Pb,x.tb,x.ib,x.t,Nn],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}.geolocation-sign[_ngcontent-%COMP%]{max-width:2vw;font-size:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:unset}"]}),vi),mi=["permitRef"],hi=function(){return{standalone:!0}};function fi(e,n){if(1&e){var i=W.Xb();W.Wb(0,"input",10),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().vehiclesNo=e}),W.Vb()}if(2&e){var t=W.hc();W.nc("ngModel",t.vehiclesNo)("ngModelOptions",W.qc(2,hi))}}function ki(e,n){1&e&&(W.Wb(0,"p",25),W.Fc(1," Registarski broj tablica je obavezan! "),W.Vb())}function Vi(e,n){1&e&&(W.Wb(0,"p",25),W.Fc(1," Registarski broj tablica mora biti validan (npr. BG-234-AA)! "),W.Vb())}function Wi(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ki,2,0,"p",24),W.Dc(2,Vi,2,0,"p",24),W.Tb()),2&e){W.hc();var i=W.vc(13);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.pattern)||(null==i.errors?null:i.errors.minLength))}}function ji(e,n){1&e&&(W.Wb(0,"p",25),W.Fc(1," Vrsta vozila je obavezna! "),W.Vb())}function yi(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ji,2,0,"p",24),W.Tb()),2&e){W.hc();var i=W.vc(24);W.Eb(1),W.nc("ngIf",!i.value)}}function Ii(e,n){if(1&e&&(W.Wb(0,"div",13),W.Wb(1,"form",null,14),W.Wb(3,"nb-card",15),W.Wb(4,"nb-card-body"),W.Wb(5,"div",0),W.Wb(6,"div",1),W.Wb(7,"div",3),W.Wb(8,"div",1),W.Wb(9,"label",16),W.Fc(10,"Registarski broj tablice:"),W.Vb(),W.Vb(),W.Wb(11,"div",1),W.Wb(12,"input",17,18),W.dc("ngModelChange",function(e){return n.$implicit.licensePlate=e}),W.Vb(),W.Vb(),W.Wb(14,"div",1),W.Dc(15,Wi,3,2,"ng-container",19),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(16,"div",0),W.Wb(17,"div",1),W.Wb(18,"div",3),W.Wb(19,"div",1),W.Wb(20,"label",20),W.Fc(21,"Vrsta vozila:"),W.Vb(),W.Vb(),W.Wb(22,"div",1),W.Wb(23,"nb-select",21,22),W.dc("ngModelChange",function(e){return n.$implicit.type=e}),W.Wb(25,"nb-option",23),W.Fc(26,"Kamion"),W.Vb(),W.Wb(27,"nb-option",23),W.Fc(28,"Kombi"),W.Vb(),W.Wb(29,"nb-option",23),W.Fc(30,"Automobil"),W.Vb(),W.Vb(),W.Vb(),W.Wb(31,"div",1),W.Dc(32,yi,2,1,"ng-container",19),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&e){var i=n.$implicit,t=W.vc(13),a=W.vc(24),o=W.hc(2);W.Eb(12),W.nc("ngModel",i.licensePlate)("maxlength",o.getConfigValue("forms.validation.licensePlate.maxLength"))("minLength",o.getConfigValue("forms.validation.licensePlate.minLength"))("ngModelOptions",W.qc(18,hi))("pattern",o.getConfigValue("forms.validation.licensePlate.pattern"))("required",o.getConfigValue("forms.validation.licensePlate.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||o.checkIssues),W.Eb(8),W.nc("ngModel",i.type)("ngModelOptions",W.qc(19,hi))("required",o.getConfigValue("forms.validation.vehicleType.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(2),W.nc("value","kamion"),W.Eb(2),W.nc("value","kombi"),W.Eb(2),W.nc("value","automobil"),W.Eb(3),W.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}function Fi(e,n){if(1&e&&(W.Wb(0,"div",11),W.Dc(1,Ii,33,20,"div",12),W.ic(2,"async"),W.Vb()),2&e){var i=W.hc();W.Eb(1),W.nc("ngForOf",W.jc(2,1,i.vehicles$))}}var wi,Ei=((wi=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;a(this,e),this.options=n,this.registerService=i,this.toastrService=t,this.vehiclesNo=0,this.valid=!1,this.checkIssues=!1,this.showVehicleInput=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getCompany().pipe(Object(te.a)()).subscribe(function(n){void 0!==n&&(e.company=n,void 0!==n.vehicles&&(e.vehiclesNo=e.company.vehicles.length,e.vehicles=e.company.vehicles,e.vehicles$=Object(k.a)(e.vehicles)))}),this.registerService.sendCompany(Object(k.a)(this.company)),this.validateVehicles()}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"checkValid",value:function(){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateVehicles(),this.valid){e.next=2;break}return e.abrupt("return",(this.checkIssues=!0,!1));case 2:return i="",e.next=5,Promise.all(this.registerService.checkVehicles(this.vehicles)).then(function(e){var t,a=n(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(i=o?i:"ta registarska tablica",o)return o}}catch(r){a.e(r)}finally{a.f()}return!1});case 5:if(!e.sent){e.next=17;break}if(e.t2=void 0!==this.permitRef,!e.t2){e.next=11;break}return e.next=10,this.permitRef.checkValid();case 10:e.t2=!e.sent;case 11:if(e.t1=e.t2,e.t1){e.next=14;break}e.t1=!this.valid&&(this.checkIssues=!0,1);case 14:e.t0=!e.t1,e.next=18;break;case 17:e.t0=(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka","Ve\u0107 postoji ".concat(i,"!"),"danger"),!1);case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,this)}))}},{key:"validateVehicles",value:function(){if(void 0!==this.vehicles){this.valid=this.vehicles.length>0;var e,i=n(this.vehicles);try{for(i.s();!(e=i.n()).done;){var t=e.value;if(""===t.licensePlate||t.licensePlate.length<9){this.valid=!1;break}if(""===t.type){this.valid=!1;break}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"updateVehicles",value:function(e,n){if(n){this.vehiclesNo=e,this.vehicles=new Array(this.vehiclesNo);for(var i=0;i<this.vehiclesNo;i++)this.vehicles[i]={licensePlate:"",type:""};this.company.vehicles=this.vehicles,this.vehicles$=Object(k.a)(this.vehicles),this.validateVehicles()}}}]),e}()).\u0275fac=function(e){return new(e||wi)(W.Qb(O.a),W.Qb(z),W.Qb(N.a))},wi.\u0275cmp=W.Kb({type:wi,selectors:[["register-trash-transport"]],viewQuery:function(e,n){var i;1&e&&W.Lc(mi,1),2&e&&W.uc(i=W.ec())&&(n.permitRef=i.first)},decls:26,vars:3,consts:[[1,"row","my-1"],[1,"col-12"],["updateVehicleForm",""],[1,"row"],["for","input-storageNo",1,"label"],["nbButtonToggle","",3,"pressedChange"],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","row pt-4",4,"ngIf"],[3,"permitType"],["permitRef",""],["fullWidth","","nbInput","","id","input-storageNo","placeholder","0","step","1","type","number",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","pt-4"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],["transportForm","ngForm"],["accent","danger"],["for","input-licensePlate",1,"label"],["fullWidth","","id","input-licensePlate","name","licensePlate","nbInput","","oninput","this.value = this.value.toUpperCase()","placeholder","NS-234-DS",3,"ngModel","maxlength","minLength","ngModelOptions","pattern","required","status","ngModelChange"],["licensePlate","ngModel"],[4,"ngIf"],["for","input-vehicleType",1,"label"],["fullWidth","","id","input-vehicleType","name","vehicleType","placeholder","Odaberi",3,"ngModel","ngModelOptions","required","status","ngModelChange"],["vehicleType","ngModel"],[3,"value"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){1&e&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"form",null,2),W.Wb(4,"div",3),W.Wb(5,"div",1),W.Wb(6,"label",4),W.Fc(7,"Broj vozila:"),W.Vb(),W.Vb(),W.Wb(8,"div",1),W.Wb(9,"nb-button-group"),W.Wb(10,"button",5),W.dc("pressedChange",function(e){return n.updateVehicles(1,e)}),W.Fc(11,"1"),W.Vb(),W.Wb(12,"button",5),W.dc("pressedChange",function(e){return n.updateVehicles(2,e)}),W.Fc(13,"2"),W.Vb(),W.Wb(14,"button",5),W.dc("pressedChange",function(e){return n.updateVehicles(3,e)}),W.Fc(15,"3"),W.Vb(),W.Wb(16,"button",5),W.dc("pressedChange",function(e){return n.updateVehicles(4,e)}),W.Fc(17,"4"),W.Vb(),W.Wb(18,"button",5),W.dc("pressedChange",function(e){return n.updateVehicles(5,e)}),W.Fc(19,"5"),W.Vb(),W.Wb(20,"button",5),W.dc("pressedChange",function(){return n.showVehicleInput=!n.showVehicleInput}),W.Fc(21,"Vi\u0161e..."),W.Vb(),W.Dc(22,fi,1,3,"input",6),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(23,Fi,3,3,"div",7),W.Rb(24,"register-trash-permit",8,9)),2&e&&(W.Eb(22),W.nc("ngIf",n.showVehicleInput),W.Eb(1),W.nc("ngIf",n.vehiclesNo>0),W.Eb(1),W.nc("permitType","transport"))},directives:[v.v,v.l,v.m,x.u,x.x,p.n,Nn,x.T,v.p,v.b,v.k,v.n,p.m,x.A,x.z,v.f,v.q,v.s,x.tb,x.ib],pipes:[p.b],styles:[".error-message[_ngcontent-%COMP%]{color:red}.equal[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap}"]}),wi),Ci=["productionRef"],zi=["transportRef"],Mi=["collectorRef"],Oi=["treatmentRef"],Ri=["dumpRef"],Ni=["cacheRef"];function xi(e,n){1&e&&(W.Wb(0,"nb-card",16),W.Wb(1,"nb-card-body"),W.Wb(2,"p",17),W.Fc(3,"Nije potrebno uno\u0161enje dodatnih informacija za Posebne tokove otpada. Sam unos \u0107e se obavljati u samoj aplikaciji."),W.Vb(),W.Vb(),W.Vb())}function Di(e,n){1&e&&W.Rb(0,"register-trash-storage",22,23),2&e&&W.nc("storageType","production")}function Si(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,19),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Proizvodnja \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,Di,2,1,"register-trash-storage",21),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","production"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("production").status)("icon",t.checkCompletion("production").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}function Ti(e,n){1&e&&W.Rb(0,"register-trash-transport",null,26)}function Pi(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,24),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Transport \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,Ti,2,0,"register-trash-transport",25),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","transport"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("transport").status)("icon",t.checkCompletion("transport").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}function qi(e,n){1&e&&W.Rb(0,"register-trash-permit",29,30),2&e&&W.nc("permitType","collector")}function Li(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,27),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Sakuplja\u010d \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,qi,2,1,"register-trash-permit",28),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","collector"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("collector").status)("icon",t.checkCompletion("collector").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}function Ui(e,n){1&e&&W.Rb(0,"register-trash-storage",22,32),2&e&&W.nc("storageType","treatment")}function Ai(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,31),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Tretman \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,Ui,2,1,"register-trash-storage",21),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","treatment"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("treatment").status)("icon",t.checkCompletion("treatment").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}function $i(e,n){1&e&&W.Rb(0,"register-trash-storage",22,34),2&e&&W.nc("storageType","dump")}function Ki(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,33),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Odlaganje \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,$i,2,1,"register-trash-storage",21),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","disposal"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("dump").status)("icon",t.checkCompletion("dump").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}function Qi(e,n){1&e&&W.Rb(0,"register-trash-storage",22,36),2&e&&W.nc("storageType","cache")}function Bi(e,n){if(1&e&&(W.Wb(0,"nb-accordion-item",18,35),W.Wb(2,"nb-accordion-item-header"),W.Fc(3,"Skladi\u0161tenje \xa0 "),W.Rb(4,"nb-icon",20),W.Vb(),W.Wb(5,"nb-accordion-item-body"),W.Dc(6,Qi,2,1,"register-trash-storage",21),W.Vb(),W.Vb()),2&e){var i=W.vc(1),t=W.hc();W.nc("collapsed","cache"!==t.activeTab),W.Eb(4),W.nc("status",t.checkCompletion("cache").status)("icon",t.checkCompletion("cache").icon),W.Eb(2),W.nc("ngIf",!i.collapsed)}}var Gi,_i=((Gi=function(){function e(n,i,t,o,r){a(this,e),this.registerService=n,this.router=i,this.toastrService=t,this.roleService=o,this.route=r,this.valid=!1,this.loading=!1,this.activeTab="",this.activeTab=this.route.snapshot.paramMap.get("tab")}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(te.a)()).subscribe(function(n){e.roleService.getOperations(n,!0).pipe(Object(te.a)()).subscribe(function(n){e.operations=n})})}},{key:"checkCompletion",value:function(e){return"production"===e&&void 0!==this.productionRef&&this.operations.production&&this.productionRef.valid||"transport"===e&&void 0!==this.transportRef&&this.operations.transport&&this.transportRef.valid||"collector"===e&&void 0!==this.collectorRef&&this.operations.collector&&this.collectorRef.valid||"treatment"===e&&void 0!==this.treatmentRef&&this.operations.treatment&&this.treatmentRef.valid||"dump"===e&&void 0!==this.dumpRef&&this.operations.disposal&&this.dumpRef.valid||"cache"===e&&void 0!==this.cacheRef&&this.operations.cache&&this.cacheRef.valid?{icon:"checkmark-circle-outline",status:"success"}:{icon:"alert-triangle-outline",status:"danger"}}},{key:"validateInformation",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.loading=!0,e.multi=!0,e.closeAll(),e.openAll(),setTimeout(function(){return Object(le.a)(i,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.valid=!0,void 0!==this.productionRef&&this.operations.production&&(this.productionRef.checkValid()||(this.valid=!1)),n.t0=void 0!==this.transportRef&&this.operations.transport,!n.t0){n.next=7;break}return n.next=6,this.transportRef.checkValid();case 6:this.valid=n.sent;case 7:if(n.t1=void 0!==this.collectorRef&&this.operations.collector,!n.t1){n.next=12;break}return n.next=11,this.collectorRef.checkValid();case 11:this.valid=n.sent;case 12:void 0!==this.treatmentRef&&this.operations.treatment&&(this.treatmentRef.checkValid()||(this.valid=!1)),void 0!==this.dumpRef&&this.operations.disposal&&(this.dumpRef.checkValid()||(this.valid=!1)),void 0!==this.cacheRef&&this.operations.cache&&(this.cacheRef.checkValid()||(this.valid=!1)),this.valid?this.router.navigate(["auth/register-confirmation"]):(e.closeAll(),e.multi=!1,this.loading=!1,this.toastrService.showToast("Gre\u0161ka","Ponovo pogledajte unete informacije!","warning"));case 16:case"end":return n.stop()}},n,this)}))},1e3);case 1:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Gi)(W.Qb(z),W.Qb(g.c),W.Qb(N.a),W.Qb(L.a),W.Qb(g.a))},Gi.\u0275cmp=W.Kb({type:Gi,selectors:[["register-informations"]],viewQuery:function(e,n){var i;1&e&&(W.Lc(Ci,1),W.Lc(zi,1),W.Lc(Mi,1),W.Lc(Oi,1),W.Lc(Ri,1),W.Lc(Ni,1)),2&e&&(W.uc(i=W.ec())&&(n.productionRef=i.first),W.uc(i=W.ec())&&(n.transportRef=i.first),W.uc(i=W.ec())&&(n.collectorRef=i.first),W.uc(i=W.ec())&&(n.treatmentRef=i.first),W.uc(i=W.ec())&&(n.dumpRef=i.first),W.uc(i=W.ec())&&(n.cacheRef=i.first))},decls:24,vars:8,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","3"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije"],["class","bg-light",4,"ngIf"],["size","tiny","nbSpinnerStatus","danger","nbSpinnerSize","giant","nbSpinnerMessage","Proveravamo unete informacije!",3,"nbSpinner"],["accordionTrash",""],[3,"collapsed",4,"ngIf"],[1,"row","mt-3"],[1,"col-6","mr-0","pr-0"],["nbButton","","fullWidth","","status","danger","routerLink","/auth/register-operations"],[1,"col-6","ml-0","pl-0"],["nbButton","","fullWidth","","status","success","type","submit",3,"click"],["label","Potvrda"],[1,"bg-light"],[1,"justify-content-center","d-flex"],[3,"collapsed"],["accordionProduction",""],[3,"status","icon"],[3,"storageType",4,"ngIf"],[3,"storageType"],["productionRef",""],["accordionTransport",""],[4,"ngIf"],["transportRef",""],["accordionCollector",""],[3,"permitType",4,"ngIf"],[3,"permitType"],["collectorRef",""],["accordionTreatment",""],["treatmentRef",""],["accordionDump",""],["dumpRef",""],["accordionCache",""],["cacheRef",""]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"h1",0),W.Fc(1,"Registruj se!"),W.Vb(),W.Wb(2,"nb-stepper",1),W.Rb(3,"nb-step",2),W.Rb(4,"nb-step",3),W.Rb(5,"nb-step",4),W.Wb(6,"nb-step",5),W.Dc(7,xi,4,0,"nb-card",6),W.Wb(8,"nb-accordion",7,8),W.Dc(10,Si,7,4,"nb-accordion-item",9),W.Dc(11,Pi,7,4,"nb-accordion-item",9),W.Dc(12,Li,7,4,"nb-accordion-item",9),W.Dc(13,Ai,7,4,"nb-accordion-item",9),W.Dc(14,Ki,7,4,"nb-accordion-item",9),W.Dc(15,Bi,7,4,"nb-accordion-item",9),W.Vb(),W.Wb(16,"div",10),W.Wb(17,"div",11),W.Wb(18,"button",12),W.Fc(19," Nazad "),W.Vb(),W.Vb(),W.Wb(20,"div",13),W.Wb(21,"button",14),W.dc("click",function(){W.xc(i);var e=W.vc(9);return n.validateInformation(e)}),W.Fc(22," Dalje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(23,"nb-step",15),W.Vb()}2&e&&(W.Eb(7),W.nc("ngIf",n.operations.specialWaste),W.Eb(1),W.nc("nbSpinner",n.loading),W.Eb(2),W.nc("ngIf",n.operations.production),W.Eb(1),W.nc("ngIf",n.operations.transport),W.Eb(1),W.nc("ngIf",n.operations.collector),W.Eb(1),W.nc("ngIf",n.operations.treatment),W.Eb(1),W.nc("ngIf",n.operations.disposal),W.Eb(1),W.nc("ngIf",n.operations.cache))},directives:[x.Bb,x.Ab,p.n,x.g,x.yb,x.t,g.d,x.A,x.z,x.i,x.j,x.Q,x.h,gi,Ei,Nn],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}nb-accordion-item[_ngcontent-%COMP%]{background-color:transparent}nb-accordion-item-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,47.1%,.05);border-radius:10px;margin-bottom:5px}nb-accordion[_ngcontent-%COMP%]{box-shadow:none}nb-accordion[_ngcontent-%COMP%], nb-accordion-item-body[_ngcontent-%COMP%]{background-color:transparent}"]}),Gi);function Zi(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Ime je obavezno! "),W.Vb())}function Hi(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.firstName.minLength")," ")}}function Xi(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Ime mora biti validno! "),W.Vb())}function Ji(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Zi,2,0,"p",45),W.Dc(2,Hi,2,1,"p",45),W.Dc(3,Xi,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(18);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function Yi(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Prezime je obavezno! "),W.Vb())}function et(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Prezime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.lastName.minLength")," ")}}function nt(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Prezime mora biti validno! "),W.Vb())}function it(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Yi,2,0,"p",45),W.Dc(2,et,2,1,"p",45),W.Dc(3,nt,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(28);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.minlength),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function tt(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Korisni\u010dko ime je obavezno! "),W.Vb())}function at(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" Korisni\u010dko ime mora biti du\u017ee od ",i.getConfigValue("forms.validation.username.minLength"),"! ")}}function ot(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Korisni\u010dko ime mora biti validno! Ne sme imati razmaka ili karaktere '@!?'. "),W.Vb())}function rt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,tt,2,0,"p",45),W.Dc(2,at,2,1,"p",45),W.Dc(3,ot,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(39);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function st(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Telefon je obavezan! "),W.Vb())}function ct(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Telefon mora biti validan! "),W.Vb())}function lt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,st,2,0,"p",45),W.Dc(2,ct,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(49);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function bt(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Email je obavezan! "),W.Vb())}function ut(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Email mora biti validan! "),W.Vb())}function dt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,bt,2,0,"p",45),W.Dc(2,ut,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(61);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function pt(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," \u0160ifra je obavezna! "),W.Vb())}function vt(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" \u0160ifra ne sme biti kra\u0107a od ",i.getConfigValue("forms.validation.password.minLength"),"! ")}}function gt(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," \u0160ifra mora biti validna! Ne sme imati razmake! "),W.Vb())}function mt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,pt,2,0,"p",45),W.Dc(2,vt,2,1,"p",45),W.Dc(3,gt,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(73);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function ht(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Ponovna \u0161ifra je obavezna! "),W.Vb())}function ft(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),W.Vb())}function kt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,ht,2,0,"p",45),W.Dc(2,ft,2,0,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(86),t=W.vc(73);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",t.value!==i.value)}}var Vt,Wt=((Vt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.registerService=i,this.router=t,this.toastrService=o,this.checkIssues=!1,this.showPassword="eye",this.retypePassword=""}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getUser().pipe(Object(te.a)()).subscribe(function(n){e.user=n}),this.registerService.sendUser(Object(k.a)(this.user))}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"validateUser",value:function(e){return Object(le.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.invalid){n.next=2;break}return n.abrupt("return",(this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning"),!1));case 2:return i="",n.next=5,Promise.all(this.registerService.checkUser(this.user)).then(function(e){return i=e[0]?i:"to korisni\u010dko ime",i=e[1]?i:"taj telefon",i=e[2]?i:"taj email",e[0]&&e[1]&&e[2]});case 5:if(n.sent){n.next=7;break}return n.abrupt("return",(this.checkIssues=!0,void this.toastrService.showToast("Ve\u0107 postoji ".concat(i,"!"),"Promenite ".concat(i," da biste nastavili."),"danger")));case 7:if(!e.valid||this.retypePassword!==this.user.password){n.next=12;break}return n.next=10,this.router.navigate(["auth/register-company"]);case 10:n.next=13;break;case 12:this.checkIssues=!0,this.toastrService.showToast("Gre\u0161ka!","Ispravite gre\u0161ke da bi ste nastavili.","warning");case 13:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Vt)(W.Qb(O.a),W.Qb(z),W.Qb(g.c),W.Qb(N.a))},Vt.\u0275cmp=W.Kb({type:Vt,selectors:[["register-user"]],decls:102,vars:58,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center"],["disableStepNavigation",""],["label","Korisnik"],["tabindex","-1"],["userForm","ngForm"],[1,"row","my-1"],[1,"col-6"],["for","input-firstName",1,"label"],["autofocus","","fullWidth","","id","input-firstName","name","firstName","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","placeholder","Ime","tabindex","1",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["firstName","ngModel"],[4,"ngIf"],["for","input-lastName",1,"label"],["fullWidth","","id","input-lastName","name","lastName","nbInput","","onkeypress","return /[a-zA-Z\u0161\u0111\u017e\u0107\u010d\u0160\u0110\u017d\u0106\u010c\\-]/i.test(event.key)","placeholder","Prezime","tabindex","2",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["lastName","ngModel"],["for","input-username",1,"label"],["fullWidth","","id","input-username","name","username","nbInput","","placeholder","Korisni\u010dko ime","tabindex","3",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["username","ngModel"],["for","input-telephone",1,"label"],["fullWidth","","id","input-telephone","name","phone","nbInput","","onkeypress","return /[0-9]/i.test(event.key)","placeholder","Telefon","tabindex","4",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telephone","ngModel"],["for","input-email",1,"label"],[1,"fa","fa-info-circle",3,"nbTooltip"],["tabindex","5","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Email",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-password",1,"label"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","6",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["password","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],["for","input-rePassword",1,"label"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","7",3,"ngModel","maxlength","minlength","pattern","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3"],["nbButton","","fullWidth","","status","success","tabindex","8","type","submit",3,"click"],["label","Firma"],["label","Operacije"],["label","Informacije"],["label","Potvrda"],["aria-label","Uloguj se",1,"text-center"],["routerLink","../login",1,"text-link"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"div",2),W.Wb(3,"h1",3),W.Fc(4,"Registruj se!"),W.Vb(),W.Vb(),W.Vb(),W.Wb(5,"div",2),W.Wb(6,"nb-stepper",4),W.Wb(7,"nb-step",5),W.Wb(8,"form",6,7),W.Wb(10,"div",8),W.Wb(11,"div",9),W.Wb(12,"div",1),W.Wb(13,"div",2),W.Wb(14,"label",10),W.Fc(15,"Ime:"),W.Vb(),W.Vb(),W.Wb(16,"div",2),W.Wb(17,"input",11,12),W.dc("ngModelChange",function(e){return n.user.firstName=e}),W.Vb(),W.Vb(),W.Wb(19,"div",2),W.Dc(20,Ji,4,3,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Wb(21,"div",9),W.Wb(22,"div",1),W.Wb(23,"div",2),W.Wb(24,"label",14),W.Fc(25,"Prezime:"),W.Vb(),W.Vb(),W.Wb(26,"div",2),W.Wb(27,"input",15,16),W.dc("ngModelChange",function(e){return n.user.lastName=e}),W.Vb(),W.Vb(),W.Wb(29,"div",2),W.Dc(30,it,4,3,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(31,"div",8),W.Wb(32,"div",9),W.Wb(33,"div",1),W.Wb(34,"div",2),W.Wb(35,"label",17),W.Fc(36,"Korisni\u010dko ime:"),W.Vb(),W.Vb(),W.Wb(37,"div",2),W.Wb(38,"input",18,19),W.dc("ngModelChange",function(e){return n.user.username=e}),W.Vb(),W.Vb(),W.Wb(40,"div",2),W.Dc(41,rt,4,3,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Wb(42,"div",9),W.Wb(43,"div",1),W.Wb(44,"div",2),W.Wb(45,"label",20),W.Fc(46,"Telefon:"),W.Vb(),W.Vb(),W.Wb(47,"div",2),W.Wb(48,"input",21,22),W.dc("ngModelChange",function(e){return n.user.phone=e}),W.Vb(),W.Vb(),W.Wb(50,"div",2),W.Dc(51,lt,3,2,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(52,"div",8),W.Wb(53,"div",2),W.Wb(54,"div",1),W.Wb(55,"div",2),W.Wb(56,"label",23),W.Fc(57,"Email: "),W.Rb(58,"i",24),W.Vb(),W.Vb(),W.Wb(59,"div",2),W.Wb(60,"input",25,26),W.dc("ngModelChange",function(e){return n.user.email=e}),W.Vb(),W.Vb(),W.Wb(62,"div",2),W.Dc(63,dt,3,2,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(64,"div",8),W.Wb(65,"div",9),W.Wb(66,"div",1),W.Wb(67,"div",2),W.Wb(68,"label",27),W.Fc(69,"\u0160ifra: "),W.Rb(70,"i",24),W.Vb(),W.Vb(),W.Wb(71,"div",28),W.Wb(72,"input",29,30),W.dc("ngModelChange",function(e){return n.user.password=e}),W.Vb(),W.Vb(),W.Wb(74,"div",31),W.Wb(75,"button",32),W.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),W.Rb(76,"nb-icon",33),W.Vb(),W.Vb(),W.Wb(77,"div",2),W.Dc(78,mt,4,3,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Wb(79,"div",9),W.Wb(80,"div",1),W.Wb(81,"div",2),W.Wb(82,"label",34),W.Fc(83,"Ponovi \u0161ifru:"),W.Vb(),W.Vb(),W.Wb(84,"div",2),W.Wb(85,"input",35,36),W.dc("ngModelChange",function(e){return n.retypePassword=e}),W.Vb(),W.Vb(),W.Wb(87,"div",2),W.Dc(88,kt,3,2,"ng-container",13),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(89,"div",37),W.Wb(90,"div",2),W.Wb(91,"button",38),W.dc("click",function(){W.xc(i);var e=W.vc(9);return n.validateUser(e)}),W.Fc(92," Dalje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(93,"nb-step",39),W.Rb(94,"nb-step",40),W.Rb(95,"nb-step",41),W.Rb(96,"nb-step",42),W.Vb(),W.Vb(),W.Wb(97,"div",2),W.Wb(98,"section",43),W.Fc(99," Ve\u0107 imate nalog? "),W.Wb(100,"a",44),W.Fc(101,"Uloguj se"),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(18),a=W.vc(28),o=W.vc(39),r=W.vc(49),s=W.vc(61),c=W.vc(73),l=W.vc(86);W.Eb(17),W.nc("ngModel",n.user.firstName)("maxlength",n.getConfigValue("forms.validation.firstName.maxLength"))("minlength",n.getConfigValue("forms.validation.firstName.minLength"))("pattern",n.getConfigValue("forms.validation.firstName.pattern"))("required",n.getConfigValue("forms.validation.firstName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.user.lastName)("maxlength",n.getConfigValue("forms.validation.lastName.maxLength"))("minlength",n.getConfigValue("forms.validation.lastName.minLength"))("pattern",n.getConfigValue("forms.validation.lastName.pattern"))("required",n.getConfigValue("forms.validation.lastName.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(3),W.nc("ngIf",a.invalid&&a.touched||n.checkIssues),W.Eb(8),W.nc("ngModel",n.user.username)("maxlength",n.getConfigValue("forms.validation.username.maxLength"))("minlength",n.getConfigValue("forms.validation.username.minLength"))("pattern",n.getConfigValue("forms.validation.username.pattern"))("required",n.getConfigValue("forms.validation.username.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),W.Eb(3),W.nc("ngIf",o.invalid&&o.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.user.phone)("maxlength",n.getConfigValue("forms.validation.telephone.maxLength"))("minlength",n.getConfigValue("forms.validation.telephone.minLength"))("required",n.getConfigValue("forms.validation.telephone.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),W.Eb(3),W.nc("ngIf",r.invalid&&r.touched||n.checkIssues),W.Eb(7),W.nc("nbTooltip","Email ne delimo, on slu\u017ei za lak\u0161u komunikaciju sa nama."),W.Eb(2),W.nc("ngModel",n.user.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),W.Eb(3),W.nc("ngIf",s.invalid&&s.touched||n.checkIssues),W.Eb(7),W.nc("nbTooltip","Unesite minimum 6 karaktera za kreiranje lozinke. Preporuka je da Va\u0161a lozinka ima vi\u0161e od 8 karaktera da bi bila \u0161to bezbednija, koristite znakove kao \u0161to su !,@,$..."),W.Eb(2),W.nc("ngModel",n.user.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("pattern",n.getConfigValue("forms.validation.password.pattern"))("required",n.getConfigValue("forms.validation.password.required"))("status",c.dirty?c.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),W.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),W.Eb(4),W.nc("icon",n.showPassword),W.Eb(2),W.nc("ngIf",c.invalid&&c.touched||n.checkIssues),W.Eb(7),W.nc("ngModel",n.retypePassword)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("pattern",n.getConfigValue("forms.validation.password.pattern"))("required",n.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid||c.value!==l.value?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),W.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),W.Eb(3),W.nc("ngIf",l.invalid&&c.touched||l.touched||n.checkIssues)}},directives:[x.Bb,x.Ab,v.v,v.l,v.m,x.T,v.b,v.k,v.n,v.f,v.g,v.q,v.s,p.n,x.Pb,x.t,x.Q,g.f],styles:[".error-message[_ngcontent-%COMP%]{color:#ff3d71}.fa[_ngcontent-%COMP%]{color:#007bff;font-size:.9rem}"]}),Vt),jt=["wasteManagerForm"];function yt(e,n){if(1&e&&(W.Wb(0,"nb-card",33),W.Wb(1,"nb-card-body",34),W.Fc(2),W.Vb(),W.Vb()),2&e){W.hc();var i=W.vc(28),t=W.vc(54);W.Eb(2),W.Hc(" Ako se bavite ",i.checked||t.checked?"tretmanom":"odlaganjem"," otpada, automatski postajete i proizvo\u0111a\u010d otpada. :) ")}}function It(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Ime zakonskog zastupnika je obavezno! "),W.Vb())}function Ft(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(3);W.Eb(1),W.Hc(" Ime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.firstName.minLength")," slova! ")}}function wt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,It,2,0,"p",45),W.Dc(2,Ft,2,1,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(17);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Et(e,n){1&e&&(W.Wb(0,"p",46),W.Fc(1," Prezime zakonskog zastupnika je obavezno! "),W.Vb())}function Ct(e,n){if(1&e&&(W.Wb(0,"p",46),W.Fc(1),W.Vb()),2&e){var i=W.hc(3);W.Eb(1),W.Hc(" Prezime zakonskog zastupnika mora biti du\u017ee od ",i.getConfigValue("forms.validation.lastName.minLength")," slova! ")}}function zt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,Et,2,0,"p",45),W.Dc(2,Ct,2,1,"p",45),W.Tb()),2&e){W.hc();var i=W.vc(27);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Mt(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",35),W.Wb(1,"nb-card",9),W.Wb(2,"nb-card-header"),W.Wb(3,"div",5),W.Fc(4," Lice odgovorno za upravljanje otpadom: "),W.Rb(5,"i",36),W.Vb(),W.Wb(6,"p",37),W.Fc(7," Ako se bavite otpadom/posebnim tokovima otpada morate imati odre\u0111eno lice za upravaljanje otpadom, ako \u017eelite da odaberete da mi to radimo ostavite sebe pa kasnije u aplikaciji mo\u0107i \u0107ete da promenite. "),W.Vb(),W.Vb(),W.Wb(8,"nb-card-body"),W.Wb(9,"div",5),W.Wb(10,"div",8),W.Wb(11,"div",5),W.Wb(12,"div",9),W.Wb(13,"label",38),W.Fc(14,"Ime:"),W.Vb(),W.Vb(),W.Wb(15,"div",9),W.Wb(16,"input",39,40),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().company.wasteManager.firstName=e}),W.Vb(),W.Vb(),W.Wb(18,"div",9),W.Dc(19,wt,3,2,"ng-container",41),W.Vb(),W.Vb(),W.Vb(),W.Wb(20,"div",8),W.Wb(21,"div",5),W.Wb(22,"div",9),W.Wb(23,"label",42),W.Fc(24,"Prezime:"),W.Vb(),W.Vb(),W.Wb(25,"div",9),W.Wb(26,"input",43,44),W.dc("ngModelChange",function(e){return W.xc(i),W.hc().company.wasteManager.lastName=e}),W.Vb(),W.Vb(),W.Wb(28,"div",9),W.Dc(29,zt,3,2,"ng-container",41),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(17),a=W.vc(27),o=W.hc();W.Eb(5),W.nc("nbTooltip","Na osnovu Zakona o upravljanju otadom obaveza pravnog subjekta je da imenuje lice odgovorno za upravljanje otpadom, s tim u vezi proverite unete podatke ili ih promenite ako je potrebno."),W.Eb(11),W.nc("ngModel",o.company.wasteManager.firstName)("maxlength",o.getConfigValue("forms.validation.firstName.maxLength"))("minlength",o.getConfigValue("forms.validation.firstName.minLength"))("required",o.getConfigValue("forms.validation.firstName.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(3),W.nc("ngIf",t.invalid&&t.touched||o.checkIssues),W.Eb(7),W.nc("ngModel",o.company.wasteManager.lastName)("maxlength",o.getConfigValue("forms.validation.lastName.maxLength"))("minlength",o.getConfigValue("forms.validation.lastName.minLength"))("required",o.getConfigValue("forms.validation.lastName.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(3),W.nc("ngIf",a.invalid&&a.touched||o.checkIssues)}}var Ot,Rt,Nt=((Rt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a(this,e),this.options=n,this.router=i,this.registerService=t,this.toastrService=o,this.trashIco={icon:"trash",pack:"solid"},this.carBatteryIco={icon:"car-battery",pack:"solid"},this.recyleIco={icon:"recycle",pack:"solid"},this.waterIco={icon:"water",pack:"solid"},this.airIco={icon:"wind",pack:"solid"},this.trashOperationsNo=0,this.specialWasteNo=0,this.packageOperationsNo=0,this.waterOperationsNo=0,this.airOperationsNo=0,this.operations=[],this.checkIssues=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registerService.getOperations().pipe(Object(te.a)()).subscribe(function(n){void 0!==n&&(e.operations=n,e.updateOperations())}),this.registerService.getCompany().pipe(Object(te.a)()).subscribe(function(n){e.company=n}),this.registerService.getUser().pipe(Object(te.a)()).subscribe(function(n){e.company.wasteManager.firstName=n.firstName,e.company.wasteManager.lastName=n.lastName}),this.registerService.sendCompany(Object(k.a)(this.company)),this.registerService.sendOperations(Object(k.a)(this.operations))}},{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"validateOperations",value:function(){if(this.form.invalid)return this.checkIssues=!0,void this.toastrService.showToast("Gre\u0161ka","Ispravite gre\u0161ke da bi ste nastavili.","warning");this.trashOperationNumber(!0)+this.specialWasteOperationNumber(!0)===0&&(this.company.wasteManager.firstName="",this.company.wasteManager.lastName=""),this.operations.length>0?(this.clearRemovedOperationsData(),this.router.navigate(["auth/register-informations"])):this.toastrService.showToast("Gre\u0161ka","Odaberite bar jednu operaciju da biste nastavili.","warning")}},{key:"clearRemovedOperationsData",value:function(){this.company.vehicles=[],this.company.storages=[],this.company.permits=[],this.company.specialWastes=[],this.registerService.sendCompany(Object(k.a)(this.company)),this.registerService.sendOperations(Object(k.a)(this.operations))}},{key:"trashOperationNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length:this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length+""}},{key:"specialWasteOperationNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length:this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length+""}},{key:"updateOperations",value:function(){this.trashOperationsNo=this.operations.filter(function(e){return e.toLowerCase().includes("neopasnog")||e.toLowerCase().includes("opasnog")}).length,this.specialWasteNo=this.operations.filter(function(e){return e.toLowerCase().includes("tokova")}).length}},{key:"addProcessOperation",value:function(e,n,i){this.addOperation(e,n),i.checked||(i.checked=!0),i.disabled||i.setDisabledState(!0),e.includes("Neopasnog")?this.addOperation("Proizvodnja Neopasnog Otpada",n,!1):this.addOperation("Proizvodnja Opasnog Otpada",n,!1)}},{key:"addOperation",value:function(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?this.operations.includes(e)||this.operations.push(e):i&&this.operations.splice(this.operations.findIndex(function(n){return n===e}),1)}}]),e}()).\u0275fac=function(e){return new(e||Rt)(W.Qb(O.a),W.Qb(g.c),W.Qb(z),W.Qb(N.a))},Rt.\u0275cmp=W.Kb({type:Rt,selectors:[["register-operations"]],viewQuery:function(e,n){var i;1&e&&W.Lc(jt,1),2&e&&W.uc(i=W.ec())&&(n.form=i.first)},decls:103,vars:26,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","2"],["label","Korisnik","completed","true"],["label","Firma","completed","true"],["label","Operacije"],[1,"row"],["badgeStatus","primary","responsive","true","tabTitle","Otpad",3,"badgeText","tabIcon"],[1,"row","pb-0","mb-0"],[1,"col-6"],[1,"col-12"],[1,"mx-1",3,"checked","disabled","checkedChange"],["ProizvodnjaNeopasnogOtpada",""],[1,"mx-1",3,"checked","checkedChange"],["SakupljacNeopasnogOtpada",""],["TretmanNeopasnogOtpada",""],["OdlaganjeNeopasnogOtpada",""],["ProizvodnjaOpasnogOtpada",""],["SakupljacOpasnogOtpada",""],["TretmanOpasnogOtpada",""],["OdlaganjeOpasnogOtpada",""],["class","row mt-0 pt-0 bg-warning",4,"ngIf"],["badgeStatus","primary","responsive","true","tabTitle","Posebni tokovi otpada",3,"badgeText","tabIcon"],["responsive","true","tabTitle","Ambalaze",3,"tabIcon"],[1,"bg-light"],[1,"justify-content-center","text-muted","d-flex"],["responsive","true","tabTitle","Emisije u vode",3,"tabIcon"],["responsive","true","tabTitle","Emisije u vazduh",3,"tabIcon"],["wasteManagerForm","ngForm"],["class","row flex-fill ml-3","style","max-width: 54.5vw;",4,"ngIf"],["nbButton","","fullWidth","","status","danger","routerLink","../register-company",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"click"],["label","Informacije"],["lable","Potvrda"],[1,"row","mt-0","pt-0","bg-warning"],[1,"mt-0"],[1,"row","flex-fill","ml-3",2,"max-width","54.5vw"],[1,"pl-1","my-auto","fa","fa-info-circle",3,"nbTooltip"],[1,"card-subtitle","text-secondary","mt-1"],["for","input-fNameManager",1,"label"],["fullWidth","","id","input-fNameManager","name","fNameManager","nbInput","","placeholder","Ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["fNameManager","ngModel"],[4,"ngIf"],["for","input-lNameManager",1,"label"],["fullWidth","","id","input-lNameManager","name","lNameManager","nbInput","","placeholder","Prezime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["lNameManager","ngModel"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"h1",0),W.Fc(1,"Registruj se!"),W.Vb(),W.Wb(2,"nb-stepper",1),W.Wb(3,"nb-step",2),W.Fc(4,"Test"),W.Vb(),W.Rb(5,"nb-step",3),W.Wb(6,"nb-step",4),W.Wb(7,"div",5),W.Wb(8,"nb-tabset"),W.Wb(9,"nb-tab",6),W.Wb(10,"div",7),W.Wb(11,"nb-card",8),W.Wb(12,"nb-card-header"),W.Fc(13,"Neopasan otpad"),W.Vb(),W.Wb(14,"nb-card-body"),W.Wb(15,"div",9),W.Wb(16,"nb-toggle",10,11),W.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Neopasnog Otpada",e)}),W.Fc(18,"Proizvodnja "),W.Vb(),W.Vb(),W.Wb(19,"div",9),W.Wb(20,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Transport Neopasnog Otpada",e)}),W.Fc(21,"Transport "),W.Vb(),W.Vb(),W.Wb(22,"div",9),W.Wb(23,"nb-toggle",12,13),W.dc("checkedChange",function(e){return n.addOperation("Sakupljac Neopasnog Otpada",e)}),W.Fc(25," Sakuplja\u010d "),W.Vb(),W.Vb(),W.Wb(26,"div",9),W.Wb(27,"nb-toggle",12,14),W.dc("checkedChange",function(e){W.xc(i);var t=W.vc(17);return n.addProcessOperation("Tretman Neopasnog Otpada",e,t)}),W.Fc(29,"Tretman "),W.Vb(),W.Vb(),W.Wb(30,"div",9),W.Wb(31,"nb-toggle",12,15),W.dc("checkedChange",function(e){W.xc(i);var t=W.vc(17);return n.addProcessOperation("Odlaganje Neopasnog Otpada",e,t)}),W.Fc(33,"Odlaganje "),W.Vb(),W.Vb(),W.Wb(34,"div",9),W.Wb(35,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Skladi\u0161tenje Neopasnog Otpada",e)}),W.Fc(36," Skladi\u0161tenje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(37,"nb-card",8),W.Wb(38,"nb-card-header"),W.Fc(39,"Opasan otpad"),W.Vb(),W.Wb(40,"nb-card-body"),W.Wb(41,"div",9),W.Wb(42,"nb-toggle",10,16),W.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Opasnog Otpada",e)}),W.Fc(44," Proizvodnja "),W.Vb(),W.Vb(),W.Wb(45,"div",9),W.Wb(46,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Transport Opasnog Otpada",e)}),W.Fc(47,"Transport "),W.Vb(),W.Vb(),W.Wb(48,"div",9),W.Wb(49,"nb-toggle",12,17),W.dc("checkedChange",function(e){return n.addOperation("Sakupljac Opasnog Otpada",e)}),W.Fc(51," Sakuplja\u010d "),W.Vb(),W.Vb(),W.Wb(52,"div",9),W.Wb(53,"nb-toggle",12,18),W.dc("checkedChange",function(e){W.xc(i);var t=W.vc(43);return n.addProcessOperation("Tretman Opasnog Otpada",e,t)}),W.Fc(55,"Tretman "),W.Vb(),W.Vb(),W.Wb(56,"div",9),W.Wb(57,"nb-toggle",12,19),W.dc("checkedChange",function(e){W.xc(i);var t=W.vc(43);return n.addProcessOperation("Odlaganje Opasnog Otpada",e,t)}),W.Fc(59,"Odlaganje "),W.Vb(),W.Vb(),W.Wb(60,"div",9),W.Wb(61,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Skladi\u0161tenje Opasnog Otpada",e)}),W.Fc(62," Skladi\u0161tenje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(63,yt,3,1,"nb-card",20),W.Vb(),W.Wb(64,"nb-tab",21),W.Wb(65,"div",7),W.Wb(66,"nb-card",9),W.Wb(67,"nb-card-header"),W.Fc(68,"Posebni tokovi otpada"),W.Vb(),W.Wb(69,"nb-card-body"),W.Wb(70,"div",9),W.Wb(71,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Proizvodnja Posebnih Tokova Otpada",e)}),W.Fc(72,"Proizvodnja "),W.Vb(),W.Vb(),W.Wb(73,"div",9),W.Wb(74,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Uvoz Posebnih Tokova Otpada",e)}),W.Fc(75,"Uvoz "),W.Vb(),W.Vb(),W.Wb(76,"div",9),W.Wb(77,"nb-toggle",12),W.dc("checkedChange",function(e){return n.addOperation("Izvoz Posebnih Tokova Otpada",e)}),W.Fc(78,"Izvoz "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(79,"nb-tab",22),W.Wb(80,"nb-card",23),W.Wb(81,"nb-card-body"),W.Wb(82,"h4",24),W.Fc(83,"Operacija trenutno u izradi."),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(84,"nb-tab",25),W.Wb(85,"nb-card",23),W.Wb(86,"nb-card-body"),W.Wb(87,"h4",24),W.Fc(88,"Operacija trenutno u izradi."),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(89,"nb-tab",26),W.Wb(90,"nb-card",23),W.Wb(91,"nb-card-body"),W.Wb(92,"h4",24),W.Fc(93,"Operacija trenutno u izradi."),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(94,"form",null,27),W.Dc(96,Mt,30,15,"div",28),W.Wb(97,"button",29),W.Fc(98," Nazad "),W.Vb(),W.Wb(99,"button",30),W.dc("click",function(){return n.validateOperations()}),W.Fc(100," Dalje "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(101,"nb-step",31),W.Rb(102,"nb-step",32),W.Vb()}if(2&e){var t=W.vc(17),a=W.vc(28),o=W.vc(32),r=W.vc(43),s=W.vc(54),c=W.vc(58);W.Eb(9),W.nc("badgeText",n.trashOperationNumber())("tabIcon",n.trashIco),W.Eb(7),W.nc("checked",n.operations.includes("Proizvodnja Neopasnog Otpada"))("disabled",a.checked||o.checked),W.Eb(4),W.nc("checked",n.operations.includes("Transport Neopasnog Otpada")),W.Eb(3),W.nc("checked",n.operations.includes("Sakupljac Neopasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Tretman Neopasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Odlaganje Neopasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Skladi\u0161tenje Neopasnog Otpada")),W.Eb(7),W.nc("checked",n.operations.includes("Proizvodnja Opasnog Otpada"))("disabled",s.checked||c.checked),W.Eb(4),W.nc("checked",n.operations.includes("Transport Opasnog Otpada")),W.Eb(3),W.nc("checked",n.operations.includes("Sakupljac Opasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Tretman Opasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Odlaganje Opasnog Otpada")),W.Eb(4),W.nc("checked",n.operations.includes("Skladi\u0161tenje Opasnog Otpada")),W.Eb(2),W.nc("ngIf",r.disabled||t.disabled),W.Eb(1),W.nc("badgeText",n.specialWasteOperationNumber())("tabIcon",n.carBatteryIco),W.Eb(7),W.nc("checked",n.operations.includes("Proizvodnja Posebnih Tokova Otpada")),W.Eb(3),W.nc("checked",n.operations.includes("Uvoz Posebnih Tokova Otpada")),W.Eb(3),W.nc("checked",n.operations.includes("Izvoz Posebnih Tokova Otpada")),W.Eb(2),W.nc("tabIcon",n.recyleIco),W.Eb(5),W.nc("tabIcon",n.waterIco),W.Eb(5),W.nc("tabIcon",n.airIco),W.Eb(7),W.nc("ngIf",n.trashOperationNumber(!0)+0+(n.specialWasteOperationNumber(!0)+0)>0)}},directives:[x.Bb,x.Ab,x.Hb,x.Gb,x.A,x.D,x.z,x.Nb,p.n,v.v,v.l,v.m,x.t,g.d,x.Pb,x.T,v.b,v.k,v.n,v.f,v.g,v.s],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Rt),xt=((Ot=function(){function e(){a(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ot)},Ot.\u0275cmp=W.Kb({type:Ot,selectors:[["terms-of-service"]],decls:193,vars:0,consts:[[1,"text-center"],[2,"max-height","50vh","text-align","justify"],["href","https://www.app.dier.rs"],["href","mailto:support@dier.rs"],["href","www.google.com/analytics/learn/privacy.html"],["href","tel:0003812644470577"]],template:function(e,n){1&e&&(W.Wb(0,"h1",0),W.Fc(1,"DIER USLOVI KORI\u0160\u0106ENJA"),W.Vb(),W.Wb(2,"div",1),W.Fc(3,' Ovi uslovi kori\u0161\u0107enja se odnose na svakoga ko \u017eeli da koristi aplikaciju (u daljem tekstu "DIERS Aplikacija"), \u010dija je svrha da olak\u0161a zakonsku obavezu vo\u0111enja dnevnih evidencija o otpadu, posebnim tokovima otapda i dostavljanje godi\u0161njih izve\u0161taja Agenciji za za\u0161titu \u017eivotne sredine Republike Srbije (u daljem tekstu "Agencija").'),W.Rb(4,"br"),W.Rb(5,"br"),W.Fc(6," Kori\u0161\u0107enjem aplikacije "),W.Wb(7,"a",2),W.Fc(8,"https://www.app.dier.rs"),W.Vb(),W.Fc(9," smatra se da ste u potpunosti upoznati i saglasni sa ovde navedenim Uslovima kori\u0161\u0107enja. Ukoliko se sa istima ne sla\u017eete i ne prihvatate ih, molimo Vas da ne koristite ovu internet stranicu."),W.Rb(10,"br"),W.Rb(11,"br"),W.Fc(12," Uslovi kori\u0161\u0107enja odnose se na kori\u0161\u0107enje internet stranica "),W.Wb(13,"a",2),W.Fc(14,"https://www.app.dier.rs"),W.Vb(),W.Fc(15," od strane korisnika. Svakim daljim kori\u0161\u0107enjem ovih Internet stranica nakon upoznavanja sa Uslovima kori\u0161\u0107enja, smatra se da su korisnici saglasni sa ovde navedenim uslovima i pravilima i da pristaju na kori\u0161\u0107enje Internet stranica u skladu sa tim uslovima."),W.Rb(16,"br"),W.Rb(17,"br"),W.Fc(18," Predmetne izmene mogu izme\u0111u ostalog uklju\u010divati i uvo\u0111enje odre\u0111enih naknada ili naplata, stoga savetujemo korisnike da periodi\u010dno ponovo detaljno pro\u010ditaju informacije sadr\u017eane u Uslovima kori\u0161\u0107enja kako bi bili informisani o eventualnim promenama."),W.Rb(19,"br"),W.Rb(20,"br"),W.Fc(21," U slu\u010daju da do\u0111e do promene Uslova kori\u0161\u0107enja, a korisnik nastavi da koristi na\u0161u internet stranicu, smatra se da prihvata Uslove kori\u0161\u0107enja u izmenjenom obliku. Svaka eventualna izmena ili brisanje uslova kori\u0161\u0107enja va\u017ee\u0107a je za tre\u0107a lica odmah po objavi na internet stranici "),W.Wb(22,"a",2),W.Fc(23,"https://www.app.dier.rs"),W.Vb(),W.Fc(24,". Svako kori\u0161\u0107enje, osim upoznavanja sa izmenama uslova, predmetnih internet stranica od strane krajnjeg korisnika nakon takve promene podrazumeva\u0107e se kao prihvatanje tih promena."),W.Rb(25,"br"),W.Rb(26,"br"),W.Fc(27," Korisnik je isklju\u010divo odgovoran za nabavku i odr\u017eavanje svoje ra\u010dunarske opreme, uklju\u010duju\u0107i celokupan hardver i softver koji poseduje i koji koristi, kao i drugu opremu potrebnu za pristup i kori\u0161\u0107enje internet stranice https://www.app.dier.rs, isto tako samostalno snosi i sve tro\u0161kove vezane za to. DIER isklju\u010duje svaku odgovornost za bilo kakva o\u0161te\u0107enja opreme i drugih stvari krajnjeg korisnika koja eventualno mogu nastati kao posledica kori\u0161\u0107enja internet stranice "),W.Wb(28,"a",2),W.Fc(29,"https://www.app.dier.rs"),W.Vb(),W.Fc(30,"."),W.Rb(31,"br"),W.Rb(32,"br"),W.Fc(33," Kori\u0161\u0107enjem internet stranice https://www.app.dier.rs od strane korisnika, smatra se da je korisnik saglasan da sva komunikacija i interakcija koja se odvija putem internet stranice "),W.Wb(34,"a",2),W.Fc(35,"https://www.app.dier.rs"),W.Vb(),W.Fc(36," mora biti u skladu sa ovim Uslovima kori\u0161\u0107enja. Korisnici ne smeju putem ovih internet stranica objavljivati, prenositi ili \u010diniti dostupnim na bilo koji na\u010din nikakve materijale \u010dijim sadr\u017eajem se kr\u0161e prava drugih, na primer, sadr\u017eaj koji je uvredljiv, klevetni\u010dki, koji naru\u0161ava ili ugro\u017eava privatnost itd..., kao ni materijale nezakonitog sadr\u017eaja i forme. DIER zadr\u017eava diskreciono pravo da samo oceni da li je do\u0161lo do povrede obaveza od strane korisnika. "),W.Rb(37,"br"),W.Rb(38,"br"),W.Fc(39," Korisnik ne sme bez prethodnog pismenog odobrenja DIERS objavljivati, prenositi ili \u010diniti dostupnim na bilo koji na\u010din sadr\u017eaj oglasa, reklame ili ponude bilo \u010dijih proizvoda i usluga, kao ni versku, politi\u010dku i nekomercijalnu promociju, a posebno ne sme vrbovati druge korisnike internet stranica "),W.Wb(40,"a",2),W.Fc(41,"https://www.app.dier.rs"),W.Vb(),W.Fc(42," da postanu korisnici druge usluge koja je direktna ili indirektna konkurencija DIER."),W.Rb(43,"br"),W.Rb(44,"br"),W.Fc(45," DIER zadr\u017eava diskreciono pravo da samostalno oceni da li je do\u0161lo do povrede obaveza od strane korisnika."),W.Rb(46,"br"),W.Rb(47,"br"),W.Fc(48," Zabranjena je bilo kakva distribucija, kopiranje, prenos, povezivanje, objavljivanje ili na bilo koji na\u010din menjanje ovih internet stranica bez pismenog odobrenja DIER. Svako kr\u0161enje spomenute zabrane mo\u017ee imati za posledicu povredu autorskih prava, prava pe\u010data, ili nekog drugog prava pa stoga mo\u017ee da proizvede ne\u017eeljene efekte kao \u0161to su pokretanja vi\u0161e vrsta sudskih postupaka, a posebno mo\u017ee dovesti do krivi\u010dnog gonjenja."),W.Rb(49,"br"),W.Rb(50,"br"),W.Fc(51," Korisnik ne sme menjati, objavljivati, prenositi, u\u010destvovati u prenosu ili prodaji ili na bilo koji drugi na\u010din iskori\u0161\u0107avati bilo koji sadr\u017eaj sa internet stranice "),W.Wb(52,"a",2),W.Fc(53,"https://www.app.dier.rs"),W.Vb(),W.Fc(54,", u celosti ili delimi\u010dno. Tako\u0111e nije dozvoljeno kopiranje, redistribucija, ponovni prenos, izdavanje ili komercijalno iskori\u0161\u0107avanje preuzetog materijala. Korisnik se izri\u010dito obavezuje da ne\u0107e na internet stranicama "),W.Wb(55,"a",2),W.Fc(56,"https://www.app.dier.rs"),W.Vb(),W.Fc(57," postavljati, objavljivati, ili na bilo koji drugi na\u010din \u010diniti dostupnim bilo kakav materijal koji podle\u017ee autorskom pravu, pe\u010datu, ili drugim pravima, bez izri\u010ditog odobrenja nosioca tih prava, pa je kao takav isklju\u010divo odgovoran za eventualnu \u0161tetu nastalu kr\u0161enjem ove svoje obaveze. Do saznanja da li je neki od materijala na internet stranici za\u0161ti\u0107en nekim od prava, korisnik mora do\u0107i samostalno, pa stoga DIERS nije u obavezi da takve informacije iznosi ili objavljuje."),W.Rb(58,"br"),W.Rb(59,"br"),W.Fc(60," Ova izjava o odgovornosti odnosi se na sve eventualno nastale \u0161tete ili mogu\u0107e povrede uzrokovane bilo kakvom gre\u0161kom, brisanjem, prekidom, ra\u010dunarskim virusom, kvarom, ka\u0161njenjem u radu ili prenosu, prekidom u komunikacijskoj liniji, kra\u0111om, raskidom ugovora, uni\u0161tenjem ili neovla\u0161\u0107enim pristupom, promenama ili zloupotrebom zapisa, neprikladnim pona\u0161anjem, nemarom, ili bilo kakvom drugom radnjom. Korisnik je saglasan da DIERS nije odgovorna za neprikladno ili protivzakonito pona\u0161anje drugih korisnika ili tre\u0107ih strana i da je rizik od eventualnih \u0161teta u potpunosti na korisniku."),W.Rb(61,"br"),W.Rb(62,"br"),W.Fc(63," DIERS ni u kom slu\u010daju nije odgovorna za bilo kakvu \u0161tetu koja mo\u017ee nastati kao posledica kori\u0161\u0107enja, ili zbog nemogu\u0107nosti kori\u0161\u0107enja internet stranica "),W.Wb(64,"a",2),W.Fc(65,"https://www.app.dier.rs"),W.Vb(),W.Fc(66," delimi\u010dno ili u celosti."),W.Rb(67,"br"),W.Rb(68,"br"),W.Fc(69," Korisnik izri\u010dito izjavljuje da ne\u0107e smatrati odgovornom DIER, njene ogranke, odgovorne osobe u dru\u0161tvu, zaposlene i agente za naknadu eventualne \u0161tete i tro\u0161kova, uklju\u010duju\u0107i i tro\u0161kove pravnog zastupanja, a koji bi mogli da nastanu kori\u0161\u0107enjem internet stranice "),W.Wb(70,"a",2),W.Fc(71,"https://www.app.dier.rs"),W.Vb(),W.Fc(72," od strane korisnika."),W.Rb(73,"br"),W.Rb(74,"br"),W.Fc(75," DIERS mo\u017ee u svako doba da raskine poslovni odnos sa bilo kojim svojim korisnikom i ukinuti mu lozinke ili korisni\u010dke naloge. U tom slu\u010daju ne prestaju da va\u017ee uslovi koji se odnose na odgovornost i obaveze korisnika. DIERS ne garantuje za ta\u010dnost, potpunost ili korisnost bilo kog sadr\u017eaja na internet stranicama "),W.Wb(76,"a",2),W.Fc(77,"https://www.app.dier.rs"),W.Vb(),W.Fc(78," postavljenog od strane korisnika, tre\u0107ih lica ili neovla\u0161\u0107enih korisnika."),W.Rb(79,"br"),W.Rb(80,"br"),W.Fc(81," Registracijom / otvaranjem korisni\u010dkog naloga na internet stranici "),W.Wb(82,"a",2),W.Fc(83,"https://www.app.dier.rs"),W.Vb(),W.Fc(84," smatra se da je korisnik ove Uslove kori\u0161\u0107enja u celosti pro\u010ditao. "),W.Wb(85,"h4"),W.Fc(86,"VLASNI\u0160TVO SADR\u017dAJA / INTELEKTUELNA SVOJINA"),W.Vb(),W.Fc(87,' Internet sajt i svi tekstovi, logotipi, grafika, slike, audio materijal i ostali materijal na ovom internet sajtu (u daljem tekstu: Sadr\u017eaj), jesu autorsko pravo ili vlasni\u0161tvo autora Nenada Jankovi\u0107a (Autor) i privrednmog dru\u0161tva DIER (u daljem tekstu "DIER")., ili su na internet sajt postavljeni uz dozvolu vlasnika ili ovla\u0161\u0107enog nosioca prava. Kori\u0161\u0107enje Sadr\u017eaja, osim na na\u010din opisan u ovim uslovima kori\u0161\u0107enja, bez pisane dozvole vlasnika. Autor \u0107e za\u0161titi svoja autorska prava, svoja prava intelektualne svojine i ostala srodna prava, kao i druga prava, u najve\u0107oj meri dozvoljenoj zakonom, uklju\u010duju\u0107i i krivi\u010dno gonjenje.'),W.Rb(88,"br"),W.Rb(89,"br"),W.Fc(90,' Korisnici aplikacije mogu biti sva lica koja \u017eele da koriste DIERS Aplikaciju, direktno ili preko svojih zaposlenih lica (u daljem tekstu "Korisnik") i koja su zaklju\u010dila Ugovor o kori\u0161\u0107enju DIERS Aplikacije (u daljem tekstu "Ugovor").'),W.Rb(91,"br"),W.Rb(92,"br"),W.Fc(93," Svako neovla\u0161\u0107eno kori\u0161\u0107enje, umno\u017eavanje i distribucija DIERS aplikacije ili bilo kojeg njenog dela, krivi\u010dno je delo i podle\u017ee krivi\u010dnoj odgovornosti. "),W.Wb(94,"h4"),W.Fc(95,"REGISTRACIJA"),W.Vb(),W.Fc(96," Da bi se registrovao, Korisnik je du\u017ean da ta\u010dno i istinito unese sve tra\u017eene podatake o privrednom dru\u0161tvu ili drugom privrednom subjektu kao i da kreira korisni\u010dki nalog (korisni\u010dko ime i lozinku)."),W.Rb(97,"br"),W.Rb(98,"br"),W.Fc(99," Za prijavljivanje, odnosno kori\u0161\u0107enje DIERS Aplikacije, Korisnik mora da unese korisni\u010dko ime i lozinku koje je kreirao prilikom registracije."),W.Rb(100,"br"),W.Rb(101,"br"),W.Fc(102," Kada se Korisnik registruje za kori\u0161\u0107enje DIERS Aplikacije, on postaje vlasnik svog naloga na portalu DIERS Aplikacije i njegov administrator."),W.Rb(103,"br"),W.Rb(104,"br"),W.Fc(105," Za pomo\u0107 pri radu u DIERS Aplikaciji kontaktirajte nas putem email-a "),W.Wb(106,"a",3),W.Fc(107,"support@dier.rs"),W.Vb(),W.Fc(108,"."),W.Rb(109,"br"),W.Rb(110,"br"),W.Fc(111," DIER zadr\u017eava pravo izmena i dopuna DIERS Aplikacije. "),W.Wb(112,"h4"),W.Fc(113,"ODGOVORNOST KORISNIKA"),W.Vb(),W.Fc(114," Korisnik koristi DIERS Aplikaciju isklju\u010divo na svoju odgovornost. DIERS ne daje bilo kakve garancije i ne preuzima bilo kakvu odgovornost za \u0161tete koje Korisnik pretrpi ili koje bude prouzrokovao tre\u0107im licima prilikom neodgovornog kori\u0161\u0107enja DIERS Aplikacije."),W.Rb(115,"br"),W.Rb(116,"br"),W.Fc(117," Samo Korisnik zna lozinku koju je definisao u svojstvu administratora i za sve aktivnosti autorizovane i izvr\u0161ene pod nekim od korisni\u010dkih imena odgovoran je isklju\u010divo Korisnik."),W.Rb(118,"br"),W.Rb(119,"br"),W.Fc(120," Korisnik je odgovoran za otvaranje korisni\u010dkih naloga za ostale zaposlene u svojoj organizaciji i za definisanje uloga na portalu kojima svaki zaposleni pojedina\u010dno mo\u017ee da pristupi, kao i za ukidanje pristupa DIERS Aplikaciji."),W.Rb(121,"br"),W.Rb(122,"br"),W.Fc(123," Korisnik je du\u017ean da se u svemu pridr\u017eava pozitivnih zakonskih propisa Republike Srbije, a posebno propisa koji reguli\u0161u upravljanje otpadom i za\u0161titu podataka o li\u010dnosti."),W.Rb(124,"br"),W.Rb(125,"br"),W.Fc(126," Korisnik je isklju\u010divo odgovoran za ta\u010dnost podataka i informacija koje unosi u DIERS Aplikaciju. "),W.Wb(127,"h4"),W.Fc(128,"ODRICANJE OD ODGOVORNOSTI"),W.Vb(),W.Fc(129," DIERS nema uvid u kreiranu lozinku Korisnika od strane administratora, te nema mogu\u0107nost da pristupi podacima Korisnika."),W.Rb(130,"br"),W.Rb(131,"br"),W.Fc(132," DIERS nije odgovoran za gre\u0161ke koje nastaju usled neispravnog popunjavanja i neta\u010dnih podataka koje ovla\u0161\u0107ena lica Korisnika unesu u DIERS Aplikaciju, iz koje se generi\u0161u dokumenta o kretanju otpada, dokumenta o kretanju opasnog otpada, dokumenta o prekograni\u010dnom otpadu i dokumenta koja prate prekograni\u010dno kretanje otpada, kao i dnevne evidencije o otpadu, dnevne evidencije o posebnim tokovima otapda ili podaci koji se podnose Agenciji za godi\u0161nje izve\u0161taje o otpadu i posebnim tokovima otpada."),W.Rb(133,"br"),W.Rb(134,"br"),W.Fc(135," DIERS se ne\u0107e smatrati odgovornim za privremeni prekid u pru\u017eanju usluge ili gubitak sa\u010duvanih podataka usled radova na odr\u017eavanju ili iznenadnih i nepredvi\u0111enih tehni\u010dkih kvarova ili drugih tehni\u010dkih neprilika, kao ni za prekid usluge, ukoliko su ove okolnosti prouzrokovane razlozima koji su izvan doma\u0161aja DIERS. "),W.Wb(136,"h4"),W.Fc(137,"DOSTUPNOST DIERS APLIKACIJE"),W.Vb(),W.Fc(138," Korisnik razume i saglasan je sa \u010dinjenicom da je internet internacionalna ra\u010dunarska mre\u017ea koju ne kontroli\u0161e neposredno DIERS, ve\u0107 je na nju samo vezan, te zbog toga ne mo\u017ee da garantuje dostupnost servisa koje direktno NE kontroli\u0161e."),W.Rb(139,"br"),W.Rb(140,"br"),W.Fc(141," Korisnik razume i saglasan je sa \u010dinjenicom da su DIERS serveri povezani na internet putem kompleksne mre\u017ene strukure i da se podaci putem interneta prenose kroz razli\u010dite aktivne i pasivne mre\u017ene komponente (ruteri, mre\u017eni prekida\u010di, i sli\u010dno), koji imaju svoje maksimalne kapacitete prenosa, te DIERS ne mo\u017ee biti odgovoran za nemogu\u0107nosti prustupa podacima u DIERS Aplikaciji iz ovih razloga. "),W.Wb(142,"h4"),W.Fc(143,"INFORMACIJE KORISNIKA"),W.Vb(),W.Fc(144," Sve informacije koje se zahtevaju od Korisnika neophodne su za ispunjavanje obaveza po merodavnim propisima o upravljanju otpadom i koriste se isklju\u010divo i samo za popunjavanje dnevnih evidencija o otpadu, dokumenta o kretanju otpada, dokumenta o kretanju opasnog otpada, popunjavanje godi\u0161njih evidencija o otpadu, popunjavanju dnevnih evidencija Posebnih tokova otpada kao i popunjavanje godi\u0161njih evidencija Posebnh tokova otpada u zavisnosti od operacije odnosno (licence) Korisnika."),W.Rb(145,"br"),W.Rb(146,"br"),W.Fc(147," Informacije koje Korisnik unosi \u010duvaju se na DIERS serveru, i mogu im pristupiti tre\u0107a lica isklju\u010divo u skladu sa odgovaraju\u0107im propisima, na osnovu zahteva nadle\u017enog organa. "),W.Wb(148,"h4"),W.Fc(149,"UPOTREBA KOLA\u010cI\u0106A (ENGL. \u201eCOOKIES\u201c)"),W.Vb(),W.Fc(150,' Kao i ve\u0107ina sajtova na internetu, DIERS sajtovi koriste tzv. \u201ckola\u010di\u0107e\u201d (u daljem tekstu "Cookie"). Cookie-ji su mali tekstualni fajlovi koje internet pregleda\u010d (u daljem tekstu "Browser") \u010duva na ra\u010dunaru Korisnika i koji poma\u017eu da se identifikujete na veb sajtovima prilikom kasnijih poseta. Cookie-ji su jedinstveno dodeljeni Korisniku i mo\u017ee ih \u010ditati samo web server u domenu koji je izdao taj Cookie. Kori\u0161\u0107enje Cookie-ja je standardna praksa na internetu i ve\u0107ina Browser-a je pode\u0161ena tako da automatski prihvata sve Cookie-je. Me\u0111utim, Korisnik uvek mo\u017ee odlu\u010diti da \u017eeli da prestane da ih koristi, odnosno, mo\u017ee ih jednostavno ru\u010dno obrisati ili svoj Browser posebno podesiti za rad sa Cookie-jima. Za ove procedure Korisnik mo\u017ee da pogleda dokumentaciju ili Help/Pomo\u0107 sekciju svog Browser-a. '),W.Rb(151,"br"),W.Rb(152,"br"),W.Fc(153,"Na DIERS sajtovima koristimo Cookie-je isklju\u010divo kako bismo Korisnicima omogu\u0107ili bolji kvalitet interakcije sa veb sajtom i DIERS Aplikacijom."),W.Rb(154,"br"),W.Rb(155,"br"),W.Fc(156," Za potrebe statisti\u010dke analize pose\u0107enosti i optimizaciju DIERS Aplikacije koristi se servis Google Analytics. Datalji o ovim servisima kao i o mogu\u0107nostima pode\u0161avanja od strane Korisnika se mogu pogledati na slede\u0107im linkovima: "),W.Wb(157,"a",4),W.Fc(158,"www.google.com/analytics/learn/privacy.html"),W.Vb(),W.Fc(159,". "),W.Wb(160,"h4"),W.Fc(161,"DRUGI INTERNET SAJTOVI"),W.Vb(),W.Fc(162," DIERS internet sajt mo\u017ee sadr\u017eati linkove za druge internet sajtove koji nisu pod DIERS kontrolom i koji ne podle\u017eu Ugovoru i ovim Uslovima kori\u0161\u0107enja. Ukoliko Korisnik pristupi drugim internet sajtovima koriste\u0107i date linkove, operateri ovih internet sajtova mogu tra\u017eiti informacije koje \u0107e koristiti u skladu sa svojim politikama za\u0161tite privatnosti, koje se mogu razlikovati od one koja postoji kod DIERS."),W.Rb(163,"br"),W.Rb(164,"br"),W.Fc(165," Takvi linkovi su obezbe\u0111eni isklju\u010divo da bi Vama pru\u017eili \u0161to vi\u0161e informacija. DIER ne kontroli\u0161e i nije odgovoran za rad, sadr\u017eaj, politiku privatnosti ili bezbednost ovih sajtova. Autor ne kontroli\u0161e sadr\u017eaj ili proizvode ili usluge dostupne na ovim internet sajtovima. Ako uspostavite vezu sa takvim internet sajtovima preko linka na na\u0161em internet sajtu, to \u010dinite na sopstveni rizik i bez saglasnosti DIER. "),W.Wb(166,"h4"),W.Fc(167,"ZA\u0160TITA PODATAKA O LI\u010cNOSTI"),W.Vb(),W.Fc(168," DIERS ne predstavlja rukovaoca, obra\u0111iva\u010da niti korisnika podataka o li\u010dnosti u skladu sa merodavnim propisima."),W.Rb(169,"br"),W.Rb(170,"br"),W.Fc(171," Korisnik preuzima obavezu da u slu\u010daju obrade podataka o li\u010dnosti u vezi sa izvr\u0161enjem ovog Ugovora preduzme sve radnje kako bi svoje poslovanje uskladio sa zakonom i drugom pozitivno-pravnim propisima iz oblasti za\u0161tite podataka o li\u010dnosti. "),W.Wb(172,"h4"),W.Fc(173,"BEZBEDNOST"),W.Vb(),W.Fc(174," Odr\u017eavanje integriteta i bezbednosti na\u0161ih veb lokacija, proizvoda, funkcija i usluga i spre\u010davanje i otkrivanje bezbednosnih pretnji, prevara ili drugih kriminalnih ili zlonamernih aktivnosti koje mogu da ugroze va\u0161e informacije. Kada ste u interakciji sa nama, pre odobravanja pristupa va\u0161im podacima, preduze\u0107emo osnovane korake da potvrdimo va\u0161 identitet kao \u0161to je zahtevanje lozinke i ID-a korisnika. Mo\u017eemo preduzeti i dodatne bezbednosne mere, kao \u0161to je CCTV, da bismo obezbedili na\u0161e fizi\u010dke lokacije. "),W.Wb(175,"h4"),W.Fc(176,"USAGLA\u0160ENOST SA ZAKONOM"),W.Vb(),W.Fc(177," Usagla\u0161enost sa va\u017ee\u0107im zakonima, propisima, sudskim nalozima, dr\u017eavnim zahtevima i zahtevima organa reda u cilju adekvatnog rada na\u0161ih usluga i proizvoda i za\u0161tite na\u0161e kompanije, na\u0161ih korisnika i klijenata i re\u0161avanja svih korisni\u010dkih sporova. "),W.Wb(178,"h4"),W.Fc(179,"IZMENE IZJAVE O PRIVATNOSTI"),W.Vb(),W.Fc(180," Ako izmenimo izjavu o privatnosti, objavi\u0107emo izmenjenu izjavu ovde, sa datumom a\u017eurirane revizije. Ukoliko izvr\u0161imo znatne promene u izjavi o privatnosti koje dovode do materijalnih promena na\u0161ih praksi privatnosti, mo\u017eemo vas obavestiti i drugim sredstvima, na primer slanjem e-poruke ili objavljivanjem obave\u0161tenje na korporativnoj veb lokaciji i/ili stranicama dru\u0161tvenih medija pre nego \u0161to promene stupe na snagu. Datum objavljivanja: 2021. april. "),W.Wb(181,"h4"),W.Fc(182,"KOMUNIKACIJA"),W.Vb(),W.Fc(183," Komunikacija izme\u0111u DIERS i Korisnika odvija se putem imejla "),W.Wb(184,"a",3),W.Fc(185,"support@dier.rs"),W.Vb(),W.Fc(186," ili na telefon: "),W.Wb(187,"a",5),W.Fc(188,"+381 64 447 05 77"),W.Vb(),W.Fc(189,". "),W.Rb(190,"br"),W.Rb(191,"br"),W.Rb(192,"br"),W.Vb())},styles:["h4[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}"]}),Ot),Dt=["reCaptcha"],St=["termsOfServiceTemplate"];function Tt(e,n){if(1&e&&(W.Wb(0,"button",32),W.Fc(1),W.Vb()),2&e){var i=n.$implicit;W.Eb(1),W.Gc(i)}}function Pt(e,n){1&e&&W.Rb(0,"terms-of-service")}function qt(e,n){1&e&&(W.Wb(0,"p",23),W.Fc(1," \u0160ifra je obavezna! "),W.Vb())}function Lt(e,n){if(1&e&&(W.Wb(0,"p",23),W.Fc(1),W.Vb()),2&e){var i=W.hc(2);W.Eb(1),W.Hc(" \u0160ifra ne sme biti kra\u0107a od ",i.getConfigValue("forms.validation.password.minLength"),"! ")}}function Ut(e,n){if(1&e&&(W.Ub(0),W.Dc(1,qt,2,0,"p",22),W.Dc(2,Lt,2,1,"p",22),W.Tb()),2&e){W.hc();var i=W.vc(12);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function At(e,n){1&e&&(W.Wb(0,"p",23),W.Fc(1," Ponovna \u0161ifra je obavezna! "),W.Vb())}function $t(e,n){1&e&&(W.Wb(0,"p",23),W.Fc(1," \u0160ifra se ne poklapa sa ve\u0107 upisanom \u0161ifrom! "),W.Vb())}function Kt(e,n){if(1&e&&(W.Ub(0),W.Dc(1,At,2,0,"p",22),W.Dc(2,$t,2,0,"p",22),W.Tb()),2&e){W.hc();var i=W.vc(23),t=W.vc(12);W.Eb(1),W.nc("ngIf",null==i.errors?null:i.errors.required),W.Eb(1),W.nc("ngIf",t.value!==i.value)}}var Qt,Bt,Gt,_t,Zt=[{path:"",component:O.c,children:[{path:"login",component:Y},{path:"register-user",component:Wt},{path:"register-company",component:ln},{path:"register-operations",component:Nt},{path:"register-informations/:tab",component:_i,pathMatch:"full"},{path:"register-informations",component:_i,pathMatch:"full"},{path:"register-permit",component:ce},{path:"register-confirmation",component:(Bt=function(e){s(i,e);var n=l(i);function i(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return a(this,i),(t=n.call(this,e,o,s,c)).service=e,t.options=o,t.windowService=r,t.cd=s,t.router=c,t.registerService=l,t.redirectDelay=0,t.showMessages=[],t.strategy="",t.submitted=!1,t.errors=[],t.messages=[],t.redirectDelay=t.getConfigValue("forms.register.redirectDelay"),t.showMessages=t.getConfigValue("forms.register.showMessages"),t.strategy=t.getConfigValue("forms.register.strategy"),t}return r(i,[{key:"getConfigValue",value:function(e){return Object(O.n)(this.options,e,null)}},{key:"ngAfterViewInit",value:function(){this.operations$=this.registerService.getOperations(),this.company$=this.registerService.getCompany(),this.user$=this.registerService.getUser()}},{key:"resolved",value:function(e){}},{key:"register",value:function(){var e,n=this;this.errors=this.messages=[],this.submitted=!0,this.reCaptcha.execute(),this.user$.subscribe(function(n){e=n}),this.service.register(this.strategy,e).subscribe(function(e){n.submitted=!1,e.isSuccess()?n.messages=e.getMessages():n.errors=e.getErrors();var i=e.getRedirect();i&&setTimeout(function(){return n.registerService.clearData(),n.router.navigateByUrl(i)},n.redirectDelay),n.cd.detectChanges()})}},{key:"openTermsOfService",value:function(){this.windowRef=this.windowService.open(this.termsOfServiceTemplate,{title:"Uslovi kori\u0161\u0107enja"})}}]),i}(O.k),Bt.\u0275fac=function(e){return new(e||Bt)(W.Qb(O.g),W.Qb(O.a),W.Qb(x.Ub),W.Qb(W.h),W.Qb(g.c),W.Qb(z))},Bt.\u0275cmp=W.Kb({type:Bt,selectors:[["register-confirmation"]],viewQuery:function(e,n){var i;1&e&&(W.Lc(Dt,1),W.Lc(St,1,W.P)),2&e&&(W.uc(i=W.ec())&&(n.reCaptcha=i.first),W.uc(i=W.ec())&&(n.termsOfServiceTemplate=i.first))},features:[W.Bb],decls:172,vars:64,consts:[[1,"text-center"],["disableStepNavigation","","selectedIndex","4"],["label","User","completed","true"],["label","Firma","completed","true"],["label","Operacije","completed","true"],["label","Informacije","completed","true"],["label","Potvrda"],[1,"row"],[1,"col-4"],[1,"row","mb-2"],[1,"col-12"],[1,"text-muted"],["size","small","nbButton","","fullWidth","","outline","","status","info",1,"no-select"],["size","small","nbButton","","class","no-select rad-text mb-2","fullWidth","","outline","","status","warning",4,"ngFor","ngForOf"],[1,"col-8"],["size","small","nbButton","","fullWidth","","outline","","status","success",1,"no-select"],[1,"col-6"],[1,"col-6","mb-1"],[1,"email-text","p-0","m-0"],[3,"ngSubmit"],["nbButton","","fullWidth","","status","danger","routerLink","../register-informations",1,"mt-2","col-6"],["nbButton","","fullWidth","","status","success","type","submit",1,"col-6","mt-2",3,"disabled"],["size","invisible",3,"siteKey","resolved"],["reCaptcha","reCaptcha"],[1,"row","justify-content-center","mt-2","mb-2"],[1,"col-5","flex-fill"],["name","terms","required",""],["uslovi",""],["href","javascript:;",3,"click"],["name","tacnost","required",""],["tacnost",""],["termsOfServiceTemplate",""],["size","small","nbButton","","fullWidth","","outline","","status","warning",1,"no-select","rad-text","mb-2"]],template:function(e,n){if(1&e&&(W.Wb(0,"h1",0),W.Fc(1,"Registruj se!"),W.Vb(),W.Wb(2,"nb-stepper",1),W.Wb(3,"nb-step",2),W.Fc(4,"Test"),W.Vb(),W.Rb(5,"nb-step",3),W.Rb(6,"nb-step",4),W.Rb(7,"nb-step",5),W.Wb(8,"nb-step",6),W.Wb(9,"div",7),W.Wb(10,"div",8),W.Wb(11,"div",9),W.Wb(12,"h5"),W.Fc(13,"User:"),W.Vb(),W.Vb(),W.Wb(14,"div",9),W.Wb(15,"div",10),W.Wb(16,"label",11),W.Fc(17,"Ime:"),W.Vb(),W.Vb(),W.Wb(18,"div",10),W.Wb(19,"button",12),W.Fc(20),W.ic(21,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(22,"div",9),W.Wb(23,"div",10),W.Wb(24,"label",11),W.Fc(25,"Prezime:"),W.Vb(),W.Vb(),W.Wb(26,"div",10),W.Wb(27,"button",12),W.Fc(28),W.ic(29,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(30,"div",9),W.Wb(31,"div",10),W.Wb(32,"label",11),W.Fc(33,"Telefon:"),W.Vb(),W.Vb(),W.Wb(34,"div",10),W.Wb(35,"button",12),W.Fc(36),W.ic(37,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(38,"div",9),W.Wb(39,"div",10),W.Wb(40,"label",11),W.Fc(41,"Email:"),W.Vb(),W.Vb(),W.Wb(42,"div",10),W.Wb(43,"button",12),W.Fc(44),W.ic(45,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(46,"div",9),W.Wb(47,"div",10),W.Wb(48,"label",11),W.Fc(49,"Korisni\u010dko ime:"),W.Vb(),W.Vb(),W.Wb(50,"div",10),W.Wb(51,"button",12),W.Fc(52),W.ic(53,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(54,"div",9),W.Wb(55,"h5"),W.Fc(56,"Rad firme:"),W.Vb(),W.Vb(),W.Wb(57,"div",9),W.Wb(58,"div",10),W.Dc(59,Tt,2,1,"button",13),W.ic(60,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(61,"div",14),W.Wb(62,"div",10),W.Wb(63,"div",9),W.Wb(64,"h5"),W.Fc(65,"Firma:"),W.Vb(),W.Vb(),W.Wb(66,"div",9),W.Wb(67,"div",10),W.Wb(68,"label",11),W.Fc(69,"Naziv:"),W.Vb(),W.Vb(),W.Wb(70,"div",10),W.Wb(71,"button",15),W.Fc(72),W.ic(73,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(74,"div",9),W.Wb(75,"div",16),W.Wb(76,"label",11),W.Fc(77,"PIB:"),W.Vb(),W.Vb(),W.Wb(78,"div",16),W.Wb(79,"label",11),W.Fc(80,"Mati\u010dni broj:"),W.Vb(),W.Vb(),W.Wb(81,"div",16),W.Wb(82,"button",15),W.Fc(83),W.ic(84,"async"),W.Vb(),W.Vb(),W.Wb(85,"div",16),W.Wb(86,"button",15),W.Fc(87),W.ic(88,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(89,"div",9),W.Wb(90,"div",10),W.Wb(91,"label",11),W.Fc(92,"Adresa:"),W.Vb(),W.Wb(93,"button",15),W.Fc(94),W.ic(95,"async"),W.ic(96,"async"),W.ic(97,"async"),W.ic(98,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(99,"div",9),W.Wb(100,"div",10),W.Wb(101,"label",11),W.Fc(102,"Delatnost:"),W.Vb(),W.Vb(),W.Wb(103,"div",10),W.Wb(104,"button",15),W.Fc(105),W.ic(106,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(107,"div",9),W.Wb(108,"div",16),W.Wb(109,"label",11),W.Fc(110,"Email:"),W.Vb(),W.Vb(),W.Wb(111,"div",16),W.Wb(112,"label",11),W.Fc(113,"Telefon:"),W.Vb(),W.Vb(),W.Wb(114,"div",17),W.Wb(115,"button",15),W.Wb(116,"p",18),W.Fc(117),W.ic(118,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(119,"div",17),W.Wb(120,"button",15),W.Fc(121),W.ic(122,"async"),W.Vb(),W.Vb(),W.Wb(123,"div",16),W.Wb(124,"label",11),W.Fc(125,"Email za prijem dokumenata:"),W.Vb(),W.Vb(),W.Wb(126,"div",16),W.Wb(127,"label",11),W.Fc(128,"Faks:"),W.Vb(),W.Vb(),W.Wb(129,"div",16),W.Wb(130,"button",15),W.Wb(131,"p",18),W.Fc(132),W.ic(133,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(134,"div",16),W.Wb(135,"button",15),W.Fc(136),W.ic(137,"async"),W.ic(138,"async"),W.Vb(),W.Vb(),W.Vb(),W.Wb(139,"div",9),W.Wb(140,"div",10),W.Wb(141,"label",11),W.Fc(142,"Zakonski zastupnik firme:"),W.Vb(),W.Vb(),W.Wb(143,"div",16),W.Wb(144,"button",15),W.Fc(145),W.ic(146,"async"),W.Vb(),W.Vb(),W.Wb(147,"div",16),W.Wb(148,"button",15),W.Fc(149),W.ic(150,"async"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(151,"form",19),W.dc("ngSubmit",function(){return n.register()}),W.Wb(152,"button",20),W.Fc(153," Nazad "),W.Vb(),W.Wb(154,"button",21),W.Fc(155," Zavr\u0161i "),W.Vb(),W.Wb(156,"re-captcha",22,23),W.dc("resolved",function(e){return n.resolved(e)}),W.Vb(),W.Vb(),W.Wb(158,"div",24),W.Wb(159,"div",25),W.Wb(160,"nb-checkbox",26,27),W.Fc(162," Sla\u017eem se sa "),W.Wb(163,"a",28),W.dc("click",function(){return n.openTermsOfService()}),W.Wb(164,"strong"),W.Fc(165,"Uslovima Kori\u0161\u0107enjima"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(166,"div",25),W.Wb(167,"nb-checkbox",29,30),W.Fc(169,"Potvr\u0111ujem da su sve unete informacije ta\u010dne "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Dc(170,Pt,1,0,"ng-template",null,31,W.Ec)),2&e){var i,t,a,o,r,s,c,l,b,u,d,p,v,g,m=W.vc(161),h=W.vc(168),f=null,k=null;W.Eb(20),W.Gc(null==(i=W.jc(21,22,n.user$))?null:i.firstName),W.Eb(8),W.Gc(null==(t=W.jc(29,24,n.user$))?null:t.lastName),W.Eb(8),W.Gc(null==(a=W.jc(37,26,n.user$))?null:a.phone),W.Eb(8),W.Gc(null==(o=W.jc(45,28,n.user$))?null:o.email),W.Eb(8),W.Gc(null==(r=W.jc(53,30,n.user$))?null:r.username),W.Eb(7),W.nc("ngForOf",W.jc(60,32,n.operations$)),W.Eb(13),W.Gc(null==(s=W.jc(73,34,n.company$))?null:s.name),W.Eb(11),W.Gc(null==(c=W.jc(84,36,n.company$))?null:c.pib),W.Eb(4),W.Gc(null==(l=W.jc(88,38,n.company$))?null:l.mat),W.Eb(7),W.Kc(" ",null==(f=W.jc(95,40,n.company$))?null:f.address.location.townshipName," , ",null==(f=W.jc(96,42,n.company$))?null:f.address.location.placeName,", ",null==(f=W.jc(97,44,n.company$))?null:f.address.street," ",null==(f=W.jc(98,46,n.company$))?null:f.address.location.zipCode,""),W.Eb(11),W.Gc(null==(b=W.jc(106,48,n.company$))?null:b.occupation.name),W.Eb(12),W.Gc(null==(u=W.jc(118,50,n.company$))?null:u.email),W.Eb(4),W.Gc(null==(d=W.jc(122,52,n.company$))?null:d.telephone),W.Eb(11),W.Gc(null==(p=W.jc(133,54,n.company$))?null:p.emailReception),W.Eb(4),W.Gc(""===(null==(k=W.jc(137,56,n.company$))?null:k.fax)?"/":null==(k=W.jc(138,58,n.company$))?null:k.fax),W.Eb(9),W.Gc(null==(v=W.jc(146,60,n.company$))?null:v.legalRep.firstName),W.Eb(4),W.Gc(null==(g=W.jc(150,62,n.company$))?null:g.legalRep.lastName),W.Eb(5),W.nc("disabled",!(m.checked&&h.checked)),W.Eb(2),W.nc("siteKey","6LfLNHsaAAAAAIhkWmF3F-DXvLPWdGQU2EpE-KvW")}},directives:[x.Bb,x.Ab,x.t,p.m,v.v,v.l,v.m,g.d,m.b,x.G,xt],pipes:[p.b],styles:[".no-select[_ngcontent-%COMP%]{pointer-events:none}.email-text[_ngcontent-%COMP%]{color:#00d68f}.email-text[_ngcontent-%COMP%], .rad-text[_ngcontent-%COMP%]{overflow:hidden;font-size:.75rem;font-weight:700;white-space:nowrap;text-overflow:ellipsis}"]}),Bt)},{path:"logout",component:ne},{path:"email-confirm",component:R},{path:"forgot-password",component:q},{path:"reset-password",component:(Qt=function(e){s(i,e);var n=l(i);function i(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return a(this,i),(t=n.call(this,e,o,r,s)).service=e,t.options=o,t.cd=r,t.router=s,t.activatedRoute=c,t.toastrService=l,t.showPassword="eye",t.password="",t.retypePassword="",t.token="",t.strategy=t.getConfigValue("forms.login.strategy"),t.token=t.activatedRoute.snapshot.params.token,t}return r(i,[{key:"resetPassword",value:function(e){var n=this;e.invalid?this.toastrService.showToast("Gre\u0161ka","Proverite sve informacije!","warning"):this.service.resetPassword(this.strategy,{password:this.password,token:this.token}).subscribe(function(e){e.isSuccess()?n.router.navigate(["login"]):n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")},function(e){n.toastrService.showToast("Gre\u0161ka","Poku\u0161ajte ponovo kasnije","warning")})}}]),i}(O.m),Qt.\u0275fac=function(e){return new(e||Qt)(W.Qb(O.g),W.Qb(O.a),W.Qb(W.h),W.Qb(g.c),W.Qb(g.a),W.Qb(N.a))},Qt.\u0275cmp=W.Kb({type:Qt,selectors:[["reset-password"]],features:[W.Bb],decls:30,vars:15,consts:[[1,"align-self-center"],[1,"mb-1","text-center"],[1,"mt-4",3,"ngSubmit"],["form","ngForm"],[1,"row","d-flex","justify-content-center"],[1,"col-8"],[1,"row","mb-2"],["for","input-password",1,"label","col-12"],[1,"col-10","pr-0"],["fullWidth","","id","input-password","name","password","nbInput","","placeholder","\u0160ifra","tabindex","1",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordModel","ngModel"],[1,"col-2","pl-0"],["fullWidth","","tabindex","-1","nbButton","","type","button",3,"click"],[3,"icon"],[1,"col-12"],[4,"ngIf"],[1,"row"],["for","input-rePassword",1,"label","col-12"],["fullWidth","","id","input-rePassword","name","rePass","nbInput","","placeholder","Potvrdi \u0161ifru","tabindex","2",3,"ngModel","required","status","type","ngModelChange"],["retypePasswordModel","ngModel"],[1,"row","mt-3","d-flex","justify-content-center"],["status","success","size","large","type","submit","nbButton","","fullWidth",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var i=W.Xb();W.Wb(0,"div",0),W.Wb(1,"h1",1),W.Fc(2,"Zaboravljena lozinka:"),W.Vb(),W.Wb(3,"form",2,3),W.dc("ngSubmit",function(){W.xc(i);var e=W.vc(4);return n.resetPassword(e)}),W.Wb(5,"div",4),W.Wb(6,"div",5),W.Wb(7,"div",6),W.Wb(8,"label",7),W.Fc(9,"\u0160ifra:"),W.Vb(),W.Wb(10,"div",8),W.Wb(11,"input",9,10),W.dc("ngModelChange",function(e){return n.password=e}),W.Vb(),W.Vb(),W.Wb(13,"div",11),W.Wb(14,"button",12),W.dc("click",function(){return n.showPassword="eye"===n.showPassword?"eye-off":"eye"}),W.Rb(15,"nb-icon",13),W.Vb(),W.Vb(),W.Wb(16,"div",14),W.Dc(17,Ut,3,2,"ng-container",15),W.Vb(),W.Vb(),W.Wb(18,"div",16),W.Wb(19,"label",17),W.Fc(20,"Ponovi \u0161ifru:"),W.Vb(),W.Wb(21,"div",14),W.Wb(22,"input",18,19),W.dc("ngModelChange",function(e){return n.retypePassword=e}),W.Vb(),W.Vb(),W.Wb(24,"div",14),W.Dc(25,Kt,3,2,"ng-container",15),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(26,"div",20),W.Wb(27,"div",5),W.Wb(28,"button",21),W.Fc(29,"Promeni lozinku"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&e){var t=W.vc(12),a=W.vc(23);W.Eb(11),W.nc("ngModel",n.password)("maxlength",n.getConfigValue("forms.validation.password.maxLength"))("minlength",n.getConfigValue("forms.validation.password.minLength"))("required",n.getConfigValue("forms.validation.password.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),W.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),W.Eb(4),W.nc("icon",n.showPassword),W.Eb(2),W.nc("ngIf",t.invalid&&t.touched),W.Eb(5),W.nc("ngModel",n.retypePassword)("required",n.getConfigValue("forms.validation.password.required"))("status",a.dirty?a.invalid||t.value!==a.value?"danger":"success":"basic")("type","eye"===n.showPassword?"password":"text"),W.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),W.Eb(3),W.nc("ngIf",a.invalid&&t.touched)}},directives:[v.v,v.l,v.m,x.T,v.b,v.k,v.n,v.f,v.g,v.s,x.t,x.Q,p.n],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),Qt)}]},{path:"redirect",component:ie},{path:"",redirectTo:"auth/login"},{path:"**",redirectTo:"auth/login"}],Ht=((_t=function e(){a(this,e)}).\u0275fac=function(e){return new(e||_t)},_t.\u0275mod=W.Ob({type:_t}),_t.\u0275inj=W.Nb({imports:[[g.g.forChild(Zt)],g.g]}),_t),Xt=((Gt=function e(){a(this,e)}).\u0275fac=function(e){return new(e||Gt)},Gt.\u0275mod=W.Ob({type:Gt}),Gt.\u0275inj=W.Nb({providers:[F,y,z,f.a,w.a,C.a,I.a],imports:[[M.a,p.c,g.g,x.p,x.U,x.w,x.H,Ht,x.ub,v.e,x.Ob,x.k,x.Ib,x.s,x.Cb,x.E,h.c,x.lb,x.N,x.S,x.zb,m.d,x.Qb,x.v]]}),Gt)},bS1W:function(e,n,i){"use strict";i.d(n,"a",function(){return u});var t,o=i("AytR"),c=i("fXoL"),b=i("tk/3"),u=((t=function(e){s(i,e);var n=l(i);function i(e){var t;return a(this,i),(t=n.call(this)).http=e,t.apiUrl=o.a.apiUrl,t}return r(i,[{key:"createPermit",value:function(e,n){return this.http.post(this.apiUrl+"/api/permit",{permit:e,companyID:n})}},{key:"deletePermit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.delete(this.apiUrl+"/api/permit/one/"+"".concat(n,"/").concat(e))}},{key:"getPermit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/permit/one/"+"".concat(n,"/").concat(e))}},{key:"getPermits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1?arguments[1]:void 0;return this.http.get(this.apiUrl+"/api/permit/many/"+"".concat(n,"/").concat(e))}},{key:"updatePermit",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/permit/one/"+"".concat(i,"/").concat(n),e)}},{key:"getCompaniesPermits",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return this.http.get(this.apiUrl+"/api/company/permits/"+e+"/"+n)}},{key:"sendPermitRequest",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this.http.post(this.apiUrl+"/api/mail/permit-request",{permitID:t,trashType:a,permitType:o,email:e,message:n,requestType:i})}}]),i}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||t)(c.ac(b.b))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac}),t)},"wH5/":function(e,n,i){"use strict";i.d(n,"a",function(){return u});var t,o=i("AytR"),c=i("fXoL"),b=i("tk/3"),u=((t=function(e){s(i,e);var n=l(i);function i(e){var t;return a(this,i),(t=n.call(this)).http=e,t.apiUrl=o.a.apiUrl,t}return r(i,[{key:"createCompany",value:function(e){return this.http.post(this.apiUrl+"/api/company",e)}},{key:"deleteCompany",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.delete(this.apiUrl+"/api/company/one/"+"".concat(n,"/").concat(e))}},{key:"getCompany",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/company/one/"+"".concat(n,"/").concat(e))}},{key:"getCompanys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1?arguments[1]:void 0;return this.http.get(this.apiUrl+"/api/company/many/"+"".concat(n,"/").concat(e))}},{key:"updateCompany",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";return this.http.patch(this.apiUrl+"/api/company/one/"+"".concat(i,"/").concat(n),e)}}]),i}(function(){return function e(){a(this,e)}}())).\u0275fac=function(e){return new(e||t)(c.ac(b.b))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac}),t)}}])}();