function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BKSH:function(e,t,n){"use strict";n.r(t),n.d(t,"ReportsModule",(function(){return ge}));var i=n("ofXK"),a=n("3Pt+"),o=n("aceb"),r=n("RS3s"),s=n("tyNb"),c=n("fJ6F"),l=n("ud2R"),b=n("fXoL"),u=n("jPBY"),d=n("7Oz7"),p={actions:{columnTitle:"Generi\u0161i DEO/DKO",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"trashReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"trashTransport",title:'<i class="fa fa-truck"></i>'}]},columns:{indexNumber:{title:"Indeksni Broj"},name:{title:"Naziv"},amount:{title:"Koli\u010dina (kg)"}}};function m(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div",1),b.Xb(1,"h5"),b.Hc(2),b.Wb(),b.Xb(3,"p"),b.Hc(4,"Generi\u0161i sve izve\u0161taje "),b.Xb(5,"i",2),b.fc("click",(function(){b.zc(n);var e=t.$implicit;return b.jc().allTrashReport(e)})),b.Wb(),b.Wb(),b.Xb(6,"ng2-smart-table",3),b.fc("custom",(function(e){b.zc(n);var i=t.$implicit;return b.jc().chooseAction(e,i)})),b.Wb(),b.Wb()}if(2&e){var i=t.$implicit,a=b.jc();b.Eb(2),b.Ic(i.name),b.Eb(4),b.pc("settings",a.storageReportSettings)("source",i.trashes)}}var f,g=((f=function(){function e(t,n,i,a){_classCallCheck(this,e),this.storageService=t,this.monthlyReportService=n,this.router=i,this.adminService=a,this.storages=[],this.storageReportSettings=p}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompany(this.companyPIB,"pib").subscribe((function(t){e.storageService.getCompaniesStorage(t._id,e.type).subscribe((function(t){e.storages=t}))}))}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"chooseAction",value:function(e,t){"trashReport"===e.action?this.trashReport(e,t):"trashTransport"===e.action&&"production"===this.type&&this.trashTransportReport(e,t)}},{key:"trashReport",value:function(e,t){var n=this,i=e.data;this.monthlyReportService.createMesecniIzvestaj(i,t,this.type.toUpperCase()).subscribe((function(e){return n.downloadFile(e)}))}},{key:"trashTransportReport",value:function(e,t){var n=e.data;this.router.navigate(["admin/reports/wmd",{trash:n._id,storage:t._id}])}},{key:"allTrashReport",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||f)(b.Rb(d.a),b.Rb(u.a),b.Rb(s.c),b.Rb(c.a))},f.\u0275cmp=b.Lb({type:f,selectors:[["storage-reports"]],inputs:{companyPIB:"companyPIB",type:"type"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,t){1&e&&b.Fc(0,m,7,3,"div",0),2&e&&b.pc("ngForOf",t.storages)},directives:[i.l,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),f);function h(e,t){if(1&e&&(b.Xb(0,"nb-tab",15),b.Sb(1,"storage-reports",16),b.Wb()),2&e){var n=b.jc();b.Eb(1),b.pc("companyPIB",n.pib)("type","production")}}function v(e,t){1&e&&(b.Xb(0,"nb-tab",17),b.Hc(1," NOT "),b.Wb())}function W(e,t){if(1&e&&(b.Xb(0,"nb-tab",18),b.Sb(1,"storage-reports",16),b.Wb()),2&e){var n=b.jc();b.Eb(1),b.pc("companyPIB",n.pib)("type","treatment")}}function X(e,t){if(1&e&&(b.Xb(0,"nb-tab",19),b.Sb(1,"storage-reports",16),b.Wb()),2&e){var n=b.jc();b.Eb(1),b.pc("companyPIB",n.pib)("type","dump")}}function y(e,t){1&e&&(b.Xb(0,"nb-tab",20),b.Hc(1," NOS "),b.Wb())}var k,C,j,M=((k=function(){function e(t,n,i,a){_classCallCheck(this,e),this.route=t,this.adminService=n,this.toastrService=i,this.roleService=a,this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.pib=this.route.snapshot.paramMap.get("pib"),this.adminService.getCompany(this.pib,"pib").subscribe((function(t){e.company=t,e.roleService.getOperations(e.company.operations).subscribe((function(t){e.operations=t}))}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||k)(b.Rb(s.a),b.Rb(c.a),b.Rb(o.Kb),b.Rb(l.a))},k.\u0275cmp=b.Lb({type:k,selectors:[["company-reports"]],decls:23,vars:7,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"companyPIB","type"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,t){1&e&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Xb(2,"div",0),b.Xb(3,"div",1),b.Xb(4,"a",2),b.Sb(5,"i",3),b.Wb(),b.Wb(),b.Xb(6,"div",4),b.Xb(7,"h5"),b.Hc(8),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"nb-card-body"),b.Xb(10,"div",5),b.Xb(11,"div",6),b.Xb(12,"label",7),b.Hc(13,"Email za prijem dokumenata:"),b.Wb(),b.Xb(14,"div",6),b.Xb(15,"input",8),b.fc("ngModelChange",(function(e){return t.company.emailReception=e})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(16,"div",5),b.Xb(17,"nb-tabset",9),b.Fc(18,h,2,2,"nb-tab",10),b.Fc(19,v,2,0,"nb-tab",11),b.Fc(20,W,2,2,"nb-tab",12),b.Fc(21,X,2,2,"nb-tab",13),b.Fc(22,y,2,0,"nb-tab",14),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(8),b.Ic(t.company.name),b.Eb(7),b.pc("ngModel",t.company.emailReception),b.Eb(3),b.pc("ngIf",null==t.operations?null:t.operations.production),b.Eb(1),b.pc("ngIf",null==t.operations?null:t.operations.transport),b.Eb(1),b.pc("ngIf",null==t.operations?null:t.operations.treatment),b.Eb(1),b.pc("ngIf",null==t.operations?null:t.operations.disposal),b.Eb(1),b.pc("ngIf",null==t.operations?null:t.operations.cache))},directives:[o.x,o.A,s.f,o.w,o.Q,a.b,a.k,a.n,o.Fb,i.m,o.Eb,g],styles:[""]}),k),I={pager:{perPage:10},actions:{add:!1,edit:!1,delete:!1},columns:{dan:{title:"Dan"},ukupnoStanje:{title:"Ukupno stanje (kg)"},ukupnoProizvodnja:{title:"Ukupna proizvodnja (kg)"},ukupnoTransport:{title:"Ukupan transport (kg)"},DKO:{valuePrepareFunction:function(e,t){return t.nazivFirme?t.nazivFirme+" "+t.brojDozvole:"/"},title:"DKO"}}},E=((C=function(){function e(t,n){_classCallCheck(this,e),this.route=t,this.reportService=n,this.settings=I,this.report={_id:"",dailyReport:[],month:0,storage:void 0,total:0,totalProduction:0,totalTransport:0,trash:void 0,year:0}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.reportService.getOneMonthlyReport(t).subscribe((function(t){e.report=t,e.dailyReports=e.report.dailyReport}))}}]),e}()).\u0275fac=function(e){return new(e||C)(b.Rb(s.a),b.Rb(u.a))},C.\u0275cmp=b.Lb({type:C,selectors:[["monthly-report-information"]],decls:53,vars:11,consts:[[1,"row","text-center"],[1,"col-1"],["routerLink","../..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-11"],[1,"row"],[1,"col-12"],[1,"label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"row","mt-2"],[3,"settings","source"]],template:function(e,t){1&e&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Xb(2,"div",0),b.Xb(3,"div",1),b.Xb(4,"a",2),b.Sb(5,"i",3),b.Wb(),b.Wb(),b.Xb(6,"div",4),b.Xb(7,"h5"),b.Hc(8),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"nb-card-body"),b.Xb(10,"div",5),b.Xb(11,"div",6),b.Xb(12,"label",7),b.Hc(13,"Godina: "),b.Wb(),b.Xb(14,"input",8),b.fc("ngModelChange",(function(e){return t.report.year=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"div",5),b.Xb(16,"div",6),b.Xb(17,"label",7),b.Hc(18,"Mesec: "),b.Wb(),b.Xb(19,"input",8),b.fc("ngModelChange",(function(e){return t.report.month=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(20,"div",5),b.Xb(21,"div",6),b.Xb(22,"label",7),b.Hc(23,"Skladi\u0161te: "),b.Wb(),b.Xb(24,"input",8),b.fc("ngModelChange",(function(e){return t.report.storage.name=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"div",5),b.Xb(26,"div",6),b.Xb(27,"label",7),b.Hc(28,"Indeksni Broj: "),b.Wb(),b.Xb(29,"input",8),b.fc("ngModelChange",(function(e){return t.report.trash.indexNumber=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(30,"div",5),b.Xb(31,"div",6),b.Xb(32,"label",7),b.Hc(33,"Trenutna Koli\u010dina na stanju: "),b.Wb(),b.Xb(34,"input",8),b.fc("ngModelChange",(function(e){return t.report.trash.amount=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(35,"div",5),b.Xb(36,"div",9),b.Xb(37,"label",7),b.Hc(38,"Fizi\u010dko stanje: "),b.Wb(),b.Xb(39,"input",8),b.fc("ngModelChange",(function(e){return t.report.trash.state=e})),b.Wb(),b.Wb(),b.Xb(40,"div",9),b.Xb(41,"label",7),b.Hc(42,"Na\u010din pakovanja: "),b.Wb(),b.Xb(43,"input",8),b.fc("ngModelChange",(function(e){return t.report.trash.packaging=e})),b.Wb(),b.Wb(),b.Xb(44,"div",9),b.Xb(45,"label",7),b.Hc(46,"Q Lista: "),b.Wb(),b.Xb(47,"input",8),b.fc("ngModelChange",(function(e){return t.report.trash.qList=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(48,"div",10),b.Xb(49,"div",6),b.Xb(50,"label",7),b.Hc(51,"Izve\u0161taj za svaki dan:"),b.Wb(),b.Sb(52,"ng2-smart-table",11),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(8),b.Ic(t.report.trash.name),b.Eb(6),b.pc("ngModel",t.report.year),b.Eb(5),b.pc("ngModel",t.report.month),b.Eb(5),b.pc("ngModel",t.report.storage.name),b.Eb(5),b.pc("ngModel",t.report.trash.indexNumber),b.Eb(5),b.pc("ngModel",t.report.trash.amount),b.Eb(5),b.pc("ngModel",t.report.trash.state),b.Eb(4),b.pc("ngModel",t.report.trash.packaging),b.Eb(4),b.pc("ngModel",t.report.trash.qList),b.Eb(5),b.pc("settings",t.settings)("source",t.dailyReports))},directives:[o.x,o.A,s.f,o.w,o.Q,a.b,a.k,a.n,r.b],styles:[""]}),C),S={pager:{perPage:10},actions:{columnTitle:"Generi\u0161i izve\u0161taj/Pregeldaj izve\u0161taje",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},name:{title:"Naziv Firme"},emailReception:{title:"Email za prijem"},telephone:{title:"Telefon"},operations:{title:"Rad firme"}}},w=((j=function(){function e(t,n,i){_classCallCheck(this,e),this.adminService=t,this.toastrService=n,this.router=i,this.companySource=new r.a,this.companySettings=S}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompanies().subscribe((function(t){e.companySource.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"companyReports",value:function(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.gotoAllReports(e)}},{key:"gotoCompanyReport",value:function(e){var t=e.data;this.router.navigate(["admin/reports/company/",t.pib])}},{key:"gotoAllReports",value:function(e){var t=e.data;this.router.navigate(["admin/reports//",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||j)(b.Rb(c.a),b.Rb(o.Kb),b.Rb(s.c))},j.\u0275cmp=b.Lb({type:j,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Hc(2,"Firme"),b.Wb(),b.Xb(3,"nb-card-body"),b.Xb(4,"ng2-smart-table",0),b.fc("custom",(function(e){return t.companyReports(e)})),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(4),b.pc("settings",t.companySettings)("source",t.companySource))},directives:[o.x,o.A,o.w,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),j),x=n("LRne"),z=n("SxV6"),H=n("X+yL"),P=n("wH5/"),R=n("Lx1j");function F(e,t){1&e&&(b.Xb(0,"span"),b.Hc(1,"proizvo\u0111a\u010du"),b.Wb())}function T(e,t){1&e&&(b.Xb(0,"span"),b.Hc(1,"transporteru"),b.Wb())}function O(e,t){1&e&&(b.Xb(0,"span"),b.Hc(1,"primalacu"),b.Wb())}function _(e,t){if(1&e&&(b.Xb(0,"nb-option",16),b.Hc(1),b.Wb()),2&e){var n=t.$implicit;b.pc("value",n),b.Eb(1),b.Ic(n.name)}}function L(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div",1),b.Xb(1,"button",13),b.fc("click",(function(){return b.zc(n),b.jc().chooseCompany()})),b.Hc(2,"Odaberi ve\u0107 postoje\u0107u firmu "),b.Wb(),b.Xb(3,"nb-select",14),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().tmpCompany=e})),b.Fc(4,_,2,2,"nb-option",15),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(1),b.pc("disabled",i.firstLoad),b.Eb(2),b.pc("disabled",!i.firstLoad)("ngModel",i.tmpCompany),b.Eb(1),b.pc("ngForOf",i.companies)}}function V(e,t){if(1&e&&(b.Xb(0,"nb-option",16),b.Hc(1),b.Wb()),2&e){var n=t.$implicit;b.pc("value",n),b.Eb(1),b.Ic(n)}}function N(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",0),b.Xb(2,"div",4),b.Xb(3,"label",5),b.Hc(4,"Predvi\u0111en na\u010din postupanja sa otpadom:"),b.Wb(),b.Wb(),b.Xb(5,"div",1),b.Xb(6,"nb-radio-group",17,18),b.fc("valueChange",(function(){b.zc(n);var e=b.xc(7);return b.jc().selectList(e.value)})),b.Xb(8,"nb-radio",19),b.Hc(9,"Tretman (R)"),b.Wb(),b.Xb(10,"nb-radio",20),b.Hc(11,"Odlaganje (D)"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(12,"div",0),b.Xb(13,"div",4),b.Xb(14,"label",5),b.Hc(15,"Odaberite R/D Listu"),b.Wb(),b.Wb(),b.Xb(16,"div",1),b.Xb(17,"nb-select",21),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.nacinPostupanja=e})),b.Fc(18,V,2,2,"nb-option",15),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(17),b.pc("ngModel",i.dko.nacinPostupanja),b.Eb(1),b.pc("ngForOf",i.treatmentList)}}function U(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",0),b.Xb(2,"div",4),b.Xb(3,"label",5),b.Hc(4,"Vrsta prevoznog sredstva:"),b.Wb(),b.Wb(),b.Xb(5,"div",1),b.Xb(6,"nb-select",21),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.vrstaVozila=e})),b.Xb(7,"nb-option",22),b.Hc(8,"Kamion"),b.Wb(),b.Xb(9,"nb-option",23),b.Hc(10,"Kombi"),b.Wb(),b.Xb(11,"nb-option",24),b.Hc(12,"Automobil"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"div",0),b.Xb(14,"div",4),b.Xb(15,"label",5),b.Hc(16,"Registraski broj prevoznog sredstva:"),b.Wb(),b.Wb(),b.Xb(17,"div",1),b.Xb(18,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.registarskiBroj=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"div",0),b.Xb(20,"div",4),b.Xb(21,"label",26),b.Hc(22,"Dozvola za prevoznika otpada:"),b.Wb(),b.Wb(),b.Xb(23,"div",10),b.Xb(24,"input",27),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.sifraDozvoleTransport=e})),b.Wb(),b.Wb(),b.Xb(25,"div",10),b.Xb(26,"input",28),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.datumDozvoleTransport=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",0),b.Xb(28,"div",4),b.Xb(29,"label",5),b.Hc(30,"Ruta kretanja pocetna/krajnja:"),b.Wb(),b.Wb(),b.Xb(31,"div",1),b.Xb(32,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.rutaKretanja[0]=e})),b.Wb(),b.Wb(),b.Xb(33,"div",1),b.Xb(34,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.rutaKretanja[1]=e})),b.Wb(),b.Wb(),b.Xb(35,"div",1),b.Xb(36,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.rutaKretanja[2]=e})),b.Wb(),b.Wb(),b.Xb(37,"div",1),b.Xb(38,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.rutaKretanja[3]=e})),b.Wb(),b.Wb(),b.Xb(39,"div",1),b.Xb(40,"input",25),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.rutaKretanja[4]=e})),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(6),b.pc("ngModel",i.dko.vrstaVozila),b.Eb(12),b.pc("ngModel",i.dko.registarskiBroj),b.Eb(6),b.pc("ngModel",i.dko.sifraDozvoleTransport),b.Eb(2),b.pc("ngModel",i.dko.datumDozvoleTransport),b.Eb(6),b.pc("ngModel",i.dko.rutaKretanja[0]),b.Eb(2),b.pc("ngModel",i.dko.rutaKretanja[1]),b.Eb(2),b.pc("ngModel",i.dko.rutaKretanja[2]),b.Eb(2),b.pc("ngModel",i.dko.rutaKretanja[3]),b.Eb(2),b.pc("ngModel",i.dko.rutaKretanja[4])}}function D(e,t){if(1&e){var n=b.Yb();b.Xb(0,"nb-radio-group",21),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc(2).dko.vrstaPrimalaca=e})),b.Xb(1,"nb-radio",32),b.Hc(2,"Tretman"),b.Wb(),b.Xb(3,"nb-radio",33),b.Hc(4,"Skladistenje"),b.Wb(),b.Xb(5,"nb-radio",34),b.Hc(6,"Odlaganje"),b.Wb(),b.Wb()}if(2&e){var i=b.jc(2);b.pc("ngModel",i.dko.vrstaPrimalaca)}}function B(e,t){if(1&e){var n=b.Yb();b.Xb(0,"nb-radio-group",21),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc(2).dko.vrstaPrimalaca=e})),b.Xb(1,"nb-radio",35),b.Hc(2,"Tretman"),b.Wb(),b.Xb(3,"nb-radio",36),b.Hc(4,"Skladistenje "),b.Wb(),b.Xb(5,"nb-radio",37),b.Hc(6,"Odlaganje"),b.Wb(),b.Wb()}if(2&e){var i=b.jc(2);b.pc("ngModel",i.dko.vrstaPrimalaca),b.Eb(1),b.pc("disabled",!i.checkCompanyType("Tretman Neopasnog Otpada")),b.Eb(2),b.pc("disabled",!i.checkCompanyType("Skladi\u0161tenje Neopasnog Otpada")),b.Eb(2),b.pc("disabled",!i.checkCompanyType("Odlaganje Neopasnog Otpada"))}}function q(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",0),b.Xb(2,"div",4),b.Xb(3,"label",26),b.Hc(4,"Vrsta primalaca:"),b.Wb(),b.Wb(),b.Xb(5,"div",1),b.Fc(6,D,7,1,"nb-radio-group",29),b.Fc(7,B,7,4,"nb-radio-group",29),b.Wb(),b.Wb(),b.Xb(8,"div",0),b.Xb(9,"div",4),b.Xb(10,"label",26),b.Hc(11,"Dozvola za primalaca otpada:"),b.Wb(),b.Wb(),b.Xb(12,"div",10),b.Xb(13,"input",30),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.sifraDozvolePrimalac=e})),b.Wb(),b.Wb(),b.Xb(14,"div",10),b.Xb(15,"input",31),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.datumDozvolePrimalac=e})),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(6),b.pc("ngIf",!i.firstLoad),b.Eb(1),b.pc("ngIf",i.firstLoad),b.Eb(6),b.pc("ngModel",i.dko.sifraDozvolePrimalac),b.Eb(2),b.pc("ngModel",i.dko.datumDozvolePrimalac)}}var K,A=((K=function(){function e(t,n){_classCallCheck(this,e),this.dkoService=t,this.firmaService=n,this.tmpCompany={address:{location:void 0,street:""},email:"",mat:"",name:"",operations:[],pib:"",telephone:""},this.companies=[],this.firstLoad=!1,this.dLista=[],this.rLista=[],this.treatmentList=[];for(var i=1;i<=15;i++)this.dLista.push("D"+i);for(var a=1;a<=13;a++)this.rLista.push("R"+a)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t,e.company&&(e.tmpCompany=e.company,e.dko.firmaProizvodjac=e.tmpCompany)}))}},{key:"selectList",value:function(e){this.treatmentList="R"===e?this.rLista:this.dLista}},{key:"sendCompany",value:function(){if("transport"===this.type)this.tmpCompany.operations.push("Transport "+this.trashType+" Otpada"),this.dko.firmaTransport=this.tmpCompany;else if("recipient"===this.type){var e=this.dko.vrstaPrimalaca.startsWith("s")?"Skladi\u0161tenje":this.dko.vrstaPrimalaca;e=e[0].toUpperCase()+e.substr(1).toLowerCase(),this.tmpCompany.operations.push(e+" "+this.trashType+" Otpada"),this.dko.firmaPrimalac=this.tmpCompany}this.dkoService.sendDKO(Object(x.a)(this.dko))}},{key:"chooseCompany",value:function(){("transport"!==this.type||this.firstLoad)&&("recipient"!==this.type||this.firstLoad||(this.firstLoad=!0))}},{key:"checkCompanyType",value:function(e){return!!this.tmpCompany.operations.includes(e)}}]),e}()).\u0275fac=function(e){return new(e||K)(b.Rb(H.a),b.Rb(P.a))},K.\u0275cmp=b.Lb({type:K,selectors:[["company-part"]],inputs:{company:"company",type:"type",trashType:"trashType"},decls:80,vars:28,consts:[[1,"row","mb-1"],[1,"col-6"],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-12"],[1,"label"],["fullWidth","","nbInput","","type","text",3,"ngModel","disabled","ngModelChange"],["nbInput","","fullWidth","",3,"disabled","ngModel","ngModelChange"],[1,"row","ml-2"],[1,"row","mt-2"],[1,"col-3"],["nbButton","","fullWidth","","status","danger","nbStepperPrevious",""],["nbButton","","fullWidth","","status","primary","type","button","nbStepperNext","",3,"click"],["fullWidth","","nbButton","","status","info","type","button",3,"disabled","click"],["fullWidth","",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"valueChange"],["nacinPostupanja",""],["value","R"],["value","D"],["fullWidth","",3,"ngModel","ngModelChange"],["value","kamion"],["value","kombi"],["value","automobil"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullWidth","",1,"label"],["fullWidth","","placeholder","Sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","placeholder","Datum nastanka","nbInput","","type","date",3,"ngModel","ngModelChange"],["fullWidth","",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","placeholder","sifra","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date","placeholder","datum nastanka",3,"ngModel","ngModelChange"],["value","treatment"],["value","storage"],["value","dump"],["value","treatment",3,"disabled"],["value","storage",3,"disabled"],["value","dump",3,"disabled"]],template:function(e,t){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"h5"),b.Hc(3,"Podaci o "),b.Fc(4,F,2,0,"span",2),b.Fc(5,T,2,0,"span",2),b.Fc(6,O,2,0,"span",2),b.Hc(7),b.Wb(),b.Wb(),b.Fc(8,L,5,4,"div",3),b.Wb(),b.Xb(9,"div",0),b.Xb(10,"div",4),b.Xb(11,"label",5),b.Hc(12,"PIB firme:"),b.Wb(),b.Wb(),b.Xb(13,"div",1),b.Xb(14,"input",6),b.fc("ngModelChange",(function(e){return t.tmpCompany.mat=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"div",0),b.Xb(16,"div",4),b.Xb(17,"label",5),b.Hc(18,"Mati\u010dni broj firme:"),b.Wb(),b.Wb(),b.Xb(19,"div",1),b.Xb(20,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.pib=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(21,"div",0),b.Xb(22,"div",4),b.Xb(23,"label",5),b.Hc(24,"Naziv firme:"),b.Wb(),b.Wb(),b.Xb(25,"div",1),b.Xb(26,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.name=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",0),b.Xb(28,"div",4),b.Xb(29,"label",5),b.Hc(30,"Adresa firme:"),b.Wb(),b.Wb(),b.Xb(31,"div",8),b.Xb(32,"div",4),b.Xb(33,"label",5),b.Hc(34,"Op\u0161tina:"),b.Wb(),b.Wb(),b.Xb(35,"div",1),b.Xb(36,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.townshipName=e})),b.Wb(),b.Wb(),b.Xb(37,"div",4),b.Xb(38,"label",5),b.Hc(39,"Location:"),b.Wb(),b.Wb(),b.Xb(40,"div",1),b.Xb(41,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.placeName=e})),b.Wb(),b.Wb(),b.Xb(42,"div",4),b.Xb(43,"label",5),b.Hc(44,"Po\u0161tanski broj:"),b.Wb(),b.Wb(),b.Xb(45,"div",1),b.Xb(46,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.address.location.zipCode=e})),b.Wb(),b.Wb(),b.Xb(47,"div",4),b.Xb(48,"label",5),b.Hc(49,"Ulica i broj:"),b.Wb(),b.Wb(),b.Xb(50,"div",1),b.Xb(51,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.address.street=e})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(52,"div",0),b.Xb(53,"div",4),b.Xb(54,"label",5),b.Hc(55,"Email firme:"),b.Wb(),b.Wb(),b.Xb(56,"div",1),b.Xb(57,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.email=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(58,"div",0),b.Xb(59,"div",4),b.Xb(60,"label",5),b.Hc(61,"Telefon firme:"),b.Wb(),b.Wb(),b.Xb(62,"div",1),b.Xb(63,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.telephone=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(64,"div",0),b.Xb(65,"div",4),b.Xb(66,"label",5),b.Hc(67,"Telefaks firme:"),b.Wb(),b.Wb(),b.Xb(68,"div",1),b.Xb(69,"input",7),b.fc("ngModelChange",(function(e){return t.tmpCompany.fax=e})),b.Wb(),b.Wb(),b.Wb(),b.Fc(70,N,19,2,"div",2),b.Fc(71,U,41,9,"div",2),b.Fc(72,q,16,4,"div",2),b.Xb(73,"div",9),b.Xb(74,"div",10),b.Xb(75,"button",11),b.Hc(76,"Nazad"),b.Wb(),b.Wb(),b.Xb(77,"div",10),b.Xb(78,"button",12),b.fc("click",(function(){return t.sendCompany()})),b.Hc(79,"Dalje "),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(4),b.pc("ngIf","production"===t.type),b.Eb(1),b.pc("ngIf","transport"===t.type),b.Eb(1),b.pc("ngIf","recipient"===t.type),b.Eb(1),b.Jc(" ","'"+(null==t.tmpCompany?null:t.tmpCompany.name)+"'",""),b.Eb(1),b.pc("ngIf","production"!==t.type),b.Eb(6),b.pc("ngModel",t.tmpCompany.mat)("disabled","production"===t.type),b.Eb(6),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.pib),b.Eb(6),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.name),b.Eb(10),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.townshipName),b.Eb(5),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.placeName),b.Eb(5),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.location.zipCode),b.Eb(5),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.address.street),b.Eb(6),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.email),b.Eb(6),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.telephone),b.Eb(6),b.pc("disabled","production"===t.type)("ngModel",t.tmpCompany.fax),b.Eb(1),b.pc("ngIf","production"===t.type),b.Eb(1),b.pc("ngIf","transport"===t.type),b.Eb(1),b.pc("ngIf","recipient"===t.type))},directives:[i.m,o.Q,a.b,a.k,a.n,o.t,o.Cb,o.Bb,o.qb,i.l,o.fb,o.mb,o.lb],styles:[""]}),K);function G(e,t){if(1&e&&(b.Xb(0,"button",16),b.Hc(1),b.Sb(2,"nb-icon",17),b.Wb()),2&e){var n=b.jc(),i=n.$implicit,a=n.index,o=b.jc();b.Eb(1),b.Jc(" ",i," "),b.Eb(1),b.pc("icon",a===o.dko.rutaKretanja.length-1?"checkmark-circle":"arrowhead-right")}}function Y(e,t){if(1&e&&(b.Xb(0,"div",14),b.Fc(1,G,3,2,"button",15),b.Wb()),2&e){var n=t.$implicit;b.Eb(1),b.pc("ngIf",""!==n&&void 0!==n)}}var $,J=(($=function(){function e(t,n){_classCallCheck(this,e),this.dkoService=t,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t;for(var n=0;n<5;n++)void 0!==e.dko.rutaKretanja[n]&&""!==e.dko.rutaKretanja[n]||e.dko.rutaKretanja.splice(n,1)}))}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}},{key:"generateDKO",value:function(){var e=this;this.dkoService.generateDKO(this.dko,this.storage._id,this.trash._id).subscribe((function(t){e.dko.otpad.indexNumber.endsWith("*")||e.downloadFile(t),e.router.navigate(["/admin/izvestaji/firme/"+e.dko.firmaProizvodjac.pib])}))}}]),e}()).\u0275fac=function(e){return new(e||$)(b.Rb(H.a),b.Rb(s.c))},$.\u0275cmp=b.Lb({type:$,selectors:[["confirm-part"]],inputs:{storage:"storage",trash:"trash"},decls:37,vars:5,consts:[[1,"row"],[1,"row","mb-1"],[1,"col-4"],[1,"label"],["nbButton","","outline","","status","success","fullWidth",""],["nbButton","","outline","","status","info","fullWidth",""],["nbButton","","outline","","status","danger","fullWidth",""],[1,"col-6"],["nbButton","","outline","","status","warning","fullWidth",""],[1,"label","col-12"],["class","col",4,"ngFor","ngForOf"],[1,"row","mt-5"],["nbButton","","fullWidth","","nbStepperPrevious","","status","danger"],["nbButton","","fullWidth","","status","success",3,"click"],[1,"col"],["nbButton","","fullWidth","",4,"ngIf"],["nbButton","","fullWidth",""],[3,"icon"]],template:function(e,t){1&e&&(b.Xb(0,"div",0),b.Xb(1,"h5"),b.Hc(2,"Potvrda i generisanje dokumenta"),b.Wb(),b.Wb(),b.Xb(3,"div",1),b.Xb(4,"div",2),b.Xb(5,"label",3),b.Hc(6,"Proizvo\u0111a\u010d:"),b.Wb(),b.Xb(7,"button",4),b.Hc(8),b.Wb(),b.Wb(),b.Xb(9,"div",2),b.Xb(10,"label",3),b.Hc(11,"Transporter:"),b.Wb(),b.Xb(12,"button",5),b.Hc(13),b.Wb(),b.Wb(),b.Xb(14,"div",2),b.Xb(15,"label",3),b.Hc(16,"Primalac:"),b.Wb(),b.Xb(17,"button",6),b.Hc(18),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"div",1),b.Xb(20,"div",7),b.Xb(21,"label",3),b.Hc(22,"Otpad "),b.Wb(),b.Xb(23,"button",8),b.Hc(24),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"div",1),b.Xb(26,"label",9),b.Hc(27,"Ruta kretanja otpada"),b.Wb(),b.Fc(28,Y,2,1,"div",10),b.Wb(),b.Xb(29,"div",11),b.Xb(30,"div",2),b.Xb(31,"button",12),b.Hc(32,"Nazad"),b.Wb(),b.Wb(),b.Sb(33,"div",2),b.Xb(34,"div",2),b.Xb(35,"button",13),b.fc("click",(function(){return t.generateDKO()})),b.Hc(36,"Generisi dokument"),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(8),b.Ic(null==t.dko||null==t.dko.firmaProizvodjac?null:t.dko.firmaProizvodjac.naziv),b.Eb(5),b.Ic(null==t.dko||null==t.dko.firmaTransport?null:t.dko.firmaTransport.naziv),b.Eb(5),b.Ic(null==t.dko||null==t.dko.firmaPrimalac?null:t.dko.firmaPrimalac.naziv),b.Eb(6),b.Ic(null==t.dko||null==t.dko.otpad?null:t.dko.otpad.naziv),b.Eb(4),b.pc("ngForOf",t.dko.rutaKretanja))},directives:[o.t,i.l,o.Cb,i.m,o.N],styles:[""]}),$);function Z(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div"),b.Xb(1,"div",0),b.Xb(2,"div",1),b.Xb(3,"label",2),b.Hc(4,"H Lista:"),b.Wb(),b.Wb(),b.Xb(5,"div",3),b.Xb(6,"input",33),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().trash.hList=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(7,"div",0),b.Xb(8,"div",1),b.Xb(9,"label",2),b.Hc(10,"Y Lista:"),b.Wb(),b.Wb(),b.Xb(11,"div",3),b.Xb(12,"input",34),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().trash.yList=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"div",0),b.Xb(14,"div",1),b.Xb(15,"label",2),b.Hc(16,"C Lista:"),b.Wb(),b.Wb(),b.Xb(17,"div",3),b.Xb(18,"input",34),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().trash.cList=e})),b.Wb(),b.Wb(),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(6),b.pc("ngModel",i.trash.hList),b.Eb(6),b.pc("ngModel",i.trash.yList),b.Eb(6),b.pc("ngModel",i.trash.cList)}}function Q(e,t){if(1&e){var n=b.Yb();b.Xb(0,"div",3),b.Xb(1,"input",35),b.fc("ngModelChange",(function(e){return b.zc(n),b.jc().dko.nacinPakovanja=e})),b.Wb(),b.Wb()}if(2&e){var i=b.jc();b.Eb(1),b.pc("ngModel",i.dko.nacinPakovanja)}}function ee(e,t){if(1&e&&(b.Xb(0,"nb-option",36),b.Hc(1),b.Wb()),2&e){var n=t.$implicit;b.pc("value",n),b.Eb(1),b.Ic(n)}}var te,ne=((te=function(){function e(t){_classCallCheck(this,e),this.dkoService=t,this.fizickaStanja=["\u010cvrsto","Te\u010dno","Gasovito","Prah"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dkoService.getDKO().subscribe((function(t){e.dko=t,e.dko.otpad=e.trash,e.dko.masaOtpada=e.trash.amount,e.dko.datumIspitivanja=e.trash.examinationDate,e.dko.sifraIspitivanja=e.trash.examinationCode,e.dko.fizickoStanje=e.trash.state,e.dko.qLista=e.trash.qList,e.dko.nacinPakovanja=e.trash.packaging,Object(b.Y)()&&(e.dko.vrstaOtpada="indutstrijski",e.dko.masaOtpada=10,e.dko.datumIspitivanja=new Date(2020,3,4),e.dko.sifraIspitivanja="1234DA",e.dko.qLista="Q1",e.dko.nacinPakovanja="Bure")})),this.dkoService.sendDKO(Object(x.a)(this.dko))}}]),e}()).\u0275fac=function(e){return new(e||te)(b.Rb(H.a))},te.\u0275cmp=b.Lb({type:te,selectors:[["trash-part"]],inputs:{trash:"trash",trashType:"trashType"},decls:102,vars:15,consts:[[1,"row","mb-1"],[1,"col-12"],[1,"label"],[1,"col-6"],["fullWidth","",3,"ngModel","ngModelChange"],["value","Industrijski"],["value","Komercijalni"],["value","Otpad iz doma\u0107instva"],["disabled","","fullWidth","","nbInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","number",3,"ngModel","ngModelChange"],["value","Bure"],["value","Kanister"],["value","Sanduk"],["value","Kese"],["value","Posude pod pritiskom"],["value","Kompozitno pakovanje"],["value","U rasutom stanju"],["value","ostalo"],["ostalo",""],["class","col-6",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","",1,"label"],[1,"col-3"],["fullWidth","","nbInput","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","type","date",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","text",3,"ngModel","ngModelChange"],["value","drumski"],["value","\u017eelezni\u010dki"],["value","re\u010dni"],[1,"row","mt-2"],["nbButton","","fullWidth","","status","primary","nbStepperNext",""],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","disabled","",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","ostalo",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){if(1&e&&(b.Xb(0,"div",0),b.Xb(1,"h5"),b.Hc(2),b.Wb(),b.Wb(),b.Xb(3,"div",0),b.Xb(4,"div",1),b.Xb(5,"label",2),b.Hc(6,"Vrsta Otpada:"),b.Wb(),b.Wb(),b.Xb(7,"div",3),b.Xb(8,"nb-select",4),b.fc("ngModelChange",(function(e){return t.dko.vrstaOtpada=e})),b.Xb(9,"nb-option",5),b.Hc(10,"Industrijski"),b.Wb(),b.Xb(11,"nb-option",6),b.Hc(12,"Komercijalni"),b.Wb(),b.Xb(13,"nb-option",7),b.Hc(14,"Otpad iz doma\u0107instva"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(15,"div",0),b.Xb(16,"div",1),b.Xb(17,"label",2),b.Hc(18,"Indeksni broj:"),b.Wb(),b.Wb(),b.Xb(19,"div",3),b.Xb(20,"input",8),b.fc("ngModelChange",(function(e){return t.trash.indexNumber=e})),b.Wb(),b.Wb(),b.Wb(),b.Fc(21,Z,19,3,"div",9),b.Xb(22,"div",0),b.Xb(23,"div",1),b.Xb(24,"label",2),b.Hc(25,"Q Lista:"),b.Wb(),b.Wb(),b.Xb(26,"div",3),b.Xb(27,"input",10),b.fc("ngModelChange",(function(e){return t.dko.qLista=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(28,"div",0),b.Xb(29,"div",1),b.Xb(30,"label",2),b.Hc(31,"Masa otpada:"),b.Wb(),b.Wb(),b.Xb(32,"div",3),b.Xb(33,"input",11),b.fc("ngModelChange",(function(e){return t.dko.masaOtpada=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(34,"div",0),b.Xb(35,"div",1),b.Xb(36,"label",2),b.Hc(37,"Na\u010din pakovanja otpada:"),b.Wb(),b.Wb(),b.Xb(38,"div",3),b.Xb(39,"nb-select",4),b.fc("ngModelChange",(function(e){return t.dko.nacinPakovanja=e})),b.Xb(40,"nb-option",12),b.Hc(41,"Bure"),b.Wb(),b.Xb(42,"nb-option",13),b.Hc(43,"Kanister"),b.Wb(),b.Xb(44,"nb-option",14),b.Hc(45,"Sanduk"),b.Wb(),b.Xb(46,"nb-option",15),b.Hc(47,"Kese"),b.Wb(),b.Xb(48,"nb-option",16),b.Hc(49,"Posude pod pritiskom"),b.Wb(),b.Xb(50,"nb-option",17),b.Hc(51,"Kompozitno pakovanje"),b.Wb(),b.Xb(52,"nb-option",18),b.Hc(53,"U rasutom stanju"),b.Wb(),b.Xb(54,"nb-option",19,20),b.Hc(56,"Ostalo"),b.Wb(),b.Wb(),b.Wb(),b.Fc(57,Q,2,1,"div",21),b.Wb(),b.Xb(58,"div",0),b.Xb(59,"div",1),b.Xb(60,"label",2),b.Hc(61,"Fizi\u010dko stanje otpada:"),b.Wb(),b.Wb(),b.Xb(62,"div",3),b.Xb(63,"nb-select",4),b.fc("ngModelChange",(function(e){return t.dko.fizickoStanje=e})),b.Fc(64,ee,2,2,"nb-option",22),b.Wb(),b.Wb(),b.Wb(),b.Xb(65,"div",0),b.Xb(66,"div",1),b.Xb(67,"label",23),b.Hc(68,"Izve\u0161taj o ispitivanju otpada:"),b.Wb(),b.Wb(),b.Xb(69,"div",24),b.Xb(70,"input",25),b.fc("ngModelChange",(function(e){return t.dko.sifraIspitivanja=e})),b.Wb(),b.Wb(),b.Xb(71,"div",24),b.Xb(72,"input",26),b.fc("ngModelChange",(function(e){return t.dko.datumIspitivanja=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(73,"div",0),b.Xb(74,"div",1),b.Xb(75,"label",2),b.Hc(76,"Odredi\u0161te:"),b.Wb(),b.Wb(),b.Xb(77,"div",3),b.Xb(78,"input",27),b.fc("ngModelChange",(function(e){return t.dko.rutaKretanja[0]=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(79,"div",0),b.Xb(80,"div",1),b.Xb(81,"label",2),b.Hc(82,"Vrsta prevoza:"),b.Wb(),b.Wb(),b.Xb(83,"div",3),b.Xb(84,"nb-select",4),b.fc("ngModelChange",(function(e){return t.dko.vidPrevoza=e})),b.Xb(85,"nb-option",28),b.Hc(86,"Drumski"),b.Wb(),b.Xb(87,"nb-option",29),b.Hc(88,"\u017delezni\u010dki"),b.Wb(),b.Xb(89,"nb-option",30),b.Hc(90,"Re\u010dni"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(91,"div",0),b.Xb(92,"div",1),b.Xb(93,"label",2),b.Hc(94,"Posebne napomene za rukovanje i dodatne informacije:"),b.Wb(),b.Wb(),b.Xb(95,"div",3),b.Xb(96,"input",27),b.fc("ngModelChange",(function(e){return t.dko.dodatneInformacije=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(97,"div",31),b.Sb(98,"div",24),b.Xb(99,"div",24),b.Xb(100,"button",32),b.Hc(101,"Dalje"),b.Wb(),b.Wb(),b.Wb()),2&e){var n=b.xc(55);b.Eb(2),b.Jc("Podaci o otpadu '",null==t.trash?null:t.trash.name,"'"),b.Eb(6),b.pc("ngModel",t.dko.vrstaOtpada),b.Eb(12),b.pc("ngModel",t.trash.indexNumber),b.Eb(1),b.pc("ngIf","Opasnog"===t.trashType),b.Eb(6),b.pc("ngModel",t.dko.qLista),b.Eb(6),b.pc("ngModel",t.dko.masaOtpada),b.Eb(6),b.pc("ngModel",t.dko.nacinPakovanja),b.Eb(18),b.pc("ngIf",n.selected),b.Eb(6),b.pc("ngModel",t.dko.fizickoStanje),b.Eb(1),b.pc("ngForOf",t.fizickaStanja),b.Eb(6),b.pc("ngModel",t.dko.sifraIspitivanja),b.Eb(2),b.pc("ngModel",t.dko.datumIspitivanja),b.Eb(6),b.pc("ngModel",t.dko.rutaKretanja[0]),b.Eb(6),b.pc("ngModel",t.dko.vidPrevoza),b.Eb(12),b.pc("ngModel",t.dko.dodatneInformacije)}},directives:[o.qb,a.k,a.n,o.fb,o.Q,a.b,i.m,a.p,i.l,o.t,o.Bb],styles:[""]}),te);function ie(e,t){if(1&e&&(b.Xb(0,"nb-step",11),b.Xb(1,"div",12),b.Sb(2,"trash-part",13),b.kc(3,"async"),b.Wb(),b.Wb()),2&e){var n=b.jc();b.Eb(2),b.pc("trashType",n.trashType)("trash",b.lc(3,2,n.trash$))}}function ae(e,t){if(1&e&&(b.Xb(0,"nb-step",14),b.Sb(1,"company-part",15),b.kc(2,"async"),b.Wb()),2&e){var n=b.jc();b.Eb(1),b.pc("trashType",n.trashType)("company",b.lc(2,3,n.company$))("type","production")}}var oe,re,se=((oe=function(){function e(t,n,i,a,o){_classCallCheck(this,e),this.route=t,this.notpadService=n,this.skladisteService=i,this.firmaService=a,this.dkoService=o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.params.storage;this.notpadService.getTrash(this.route.snapshot.params.trash).subscribe((function(t){e.trash=t,e.trash$=Object(x.a)(t),e.trashType=e.trash.indexNumber.endsWith("*")?"Opasnog":"Neopasnog"})),this.skladisteService.getStorage(t).subscribe((function(t){e.storage=t,e.dkoService.getDKO().subscribe((function(t){e.dko=t,e.dko.rutaKretanja=[e.storage.address.location.townshipName].concat(_toConsumableArray(e.dko.rutaKretanja)),e.dko.vrstaProizvodjaca=e.storage.__t?"SkladisteTretman"===e.storage.__t?"treatment":"storage":"production"})),e.dkoService.sendDKO(Object(x.a)(e.dko))})),this.firmaService.getCompany(t,"skladista").pipe(Object(z.a)()).subscribe((function(t){e.company=t,e.company$=Object(x.a)(t)}))}}]),e}()).\u0275fac=function(e){return new(e||oe)(b.Rb(s.a),b.Rb(R.a),b.Rb(d.a),b.Rb(P.a),b.Rb(H.a))},oe.\u0275cmp=b.Lb({type:oe,selectors:[["trash-transport-report"]],decls:15,vars:10,consts:[[1,"col-1"],[3,"routerLink"],[1,"fa","fa-2x","fa-arrow-left"],["orientation","vertical",3,"linear"],["label","Podaci o otpadu",4,"ngIf"],["label","Podaci o proizvo\u0111a\u010du",4,"ngIf"],["label","Podaci o transporteru"],[3,"trashType","type"],["label","Podaci o primalacu"],["label","Potvrda"],[3,"storage","trash"],["label","Podaci o otpadu"],[1,"test"],[3,"trashType","trash"],["label","Podaci o proizvo\u0111a\u010du"],[3,"trashType","company","type"]],template:function(e,t){1&e&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Xb(2,"div",0),b.Xb(3,"a",1),b.Sb(4,"i",2),b.Wb(),b.Wb(),b.Wb(),b.Xb(5,"nb-card-body"),b.Xb(6,"nb-stepper",3),b.Fc(7,ie,4,4,"nb-step",4),b.Fc(8,ae,3,5,"nb-step",5),b.Xb(9,"nb-step",6),b.Sb(10,"company-part",7),b.Wb(),b.Xb(11,"nb-step",8),b.Sb(12,"company-part",7),b.Wb(),b.Xb(13,"nb-step",9),b.Sb(14,"confirm-part",10),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(3),b.pc("routerLink","/admin/izvestaji/firme/"+(null==t.company?null:t.company.pib)),b.Eb(3),b.pc("linear",!1),b.Eb(1),b.pc("ngIf",t.trash$),b.Eb(1),b.pc("ngIf",t.company$),b.Eb(2),b.pc("trashType",t.trashType)("type","transport"),b.Eb(2),b.pc("trashType",t.trashType)("type","recipient"),b.Eb(2),b.pc("storage",t.storage)("trash",t.trash))},directives:[o.x,o.A,s.f,o.w,o.zb,i.m,o.yb,A,J,ne],pipes:[i.b],styles:[".test[_ngcontent-%COMP%]{width:147%}"]}),oe),ce={actions:{columnTitle:"Generi\u0161i GIO/Detaljnije",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"yearlyReport",title:'<i class="fa fa-file-pdf"></i>'},{name:"moreInfo",title:'<i class="fa fa-info-circle"></i>'}]},columns:{otpad:{valuePrepareFunction:function(e,t){return t.otpad.naziv+" ("+t.otpad.indeksniBroj+")"},title:"Otpad"},ukupnoProizvodnja:{title:"Ukupno proizvedeno"},ukupnoTransport:{title:"Ukupno transportovano"},ukupnoStanje:{title:"Ukupno stanje"}}},le=((re=function(){function e(t,n,i){_classCallCheck(this,e),this.reportService=t,this.router=n,this.companyService=i,this.reports=[],this.settings=ce}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.reportService.getAllMesecniIzvestajFirme(this.companyPIB).subscribe((function(t){e.reports=t.filter((function(t){return t.month===e.month}))})),this.companyService.getCompany(this.companyPIB,"pib").subscribe((function(t){e.company=t}))}},{key:"chooseAction",value:function(e){"moreInfo"===e.action&&this.reportInfo(e),"yearlyReport"===e.action&&this.generateYearlyReport(e.data)}},{key:"generateYearlyReport",value:function(e){var t=this,n=e.otpad;this.reportService.createGodisnjiIzvestaj(n,"PRODUCTION",this.company).subscribe((function(e){return t.downloadFile(e)}))}},{key:"reportInfo",value:function(e){var t=e.data;this.router.navigate(["admin/izvestaji/mesecni-izvestaj",t._id])}},{key:"downloadFile",value:function(e){var t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}}]),e}()).\u0275fac=function(e){return new(e||re)(b.Rb(u.a),b.Rb(s.c),b.Rb(P.a))},re.\u0275cmp=b.Lb({type:re,selectors:[["monthly-reports"]],inputs:{month:"month",companyPIB:"companyPIB"},decls:2,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,t){1&e&&(b.Xb(0,"div"),b.Xb(1,"ng2-smart-table",0),b.fc("custom",(function(e){return t.chooseAction(e)})),b.Wb(),b.Wb()),2&e&&(b.Eb(1),b.pc("settings",t.settings)("source",t.reports))},directives:[r.b],styles:[""]}),re);function be(e,t){if(1&e&&(b.Xb(0,"nb-tab",2),b.Sb(1,"monthly-reports",3),b.Wb()),2&e){var n=t.$implicit,i=t.index,a=b.jc();b.pc("active",a.currMonth===i)("tabTitle",n),b.Eb(1),b.pc("companyPIB",a.companyPIB)("month",i)}}var ue,de,pe,me=[{path:"",component:w},{path:"company/:pib",component:M},{path:"wmd",component:se},{path:"monthly-report/:id",component:E},{path:"yearly-report/:pib",component:(ue=function(){function e(t){_classCallCheck(this,e),this.route=t,this.months=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],this.currMonth=0,this.companyPIB=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.companyPIB=this.route.snapshot.paramMap.get("pib"),this.months$=Object(x.a)(this.months),this.currMonth=(new Date).getMonth()}}]),e}(),ue.\u0275fac=function(e){return new(e||ue)(b.Rb(s.a))},ue.\u0275cmp=b.Lb({type:ue,selectors:[["yearly-reports"]],decls:9,vars:3,consts:[["tabTitle","2020"],[3,"active","tabTitle",4,"ngFor","ngForOf"],[3,"active","tabTitle"],[3,"companyPIB","month"]],template:function(e,t){1&e&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Hc(2,"Ime kompanije"),b.Wb(),b.Xb(3,"nb-card-body"),b.Xb(4,"nb-tabset"),b.Xb(5,"nb-tab",0),b.Xb(6,"nb-tabset"),b.Fc(7,be,2,4,"nb-tab",1),b.kc(8,"async"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Eb(7),b.pc("ngForOf",b.lc(8,1,t.months$)))},directives:[o.x,o.A,o.w,o.Fb,o.Eb,i.l,le],pipes:[i.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:25%;text-align:center;margin-left:5px;font-size:1.1em}"]}),ue)}],fe=((pe=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:pe}),pe.\u0275inj=b.Ob({factory:function(e){return new(e||pe)},imports:[[s.g.forChild(me)],s.g]}),pe),ge=((de=function e(){_classCallCheck(this,e)}).\u0275mod=b.Pb({type:de}),de.\u0275inj=b.Ob({factory:function(e){return new(e||de)},imports:[[i.c,fe,o.u,o.P,o.Ab,o.B,o.Gb,r.c,o.R,a.e]]}),de)},FYoA:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return Ct}));var i,a,o=n("ofXK"),r=n("3Pt+"),s=n("aceb"),c=n("RS3s"),l=n("fJ6F"),b=n("X+yL"),u=n("wH5/"),d=n("bS1W"),p=n("fo3O"),m=n("jPBY"),f=n("Lx1j"),g=n("ud2R"),h=n("7Oz7"),v=n("vTDv"),W=n("bJfm"),X=n("RPbl"),y=n("tyNb"),k=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/users",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/companies",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/storages",icon:{icon:"box",pack:"font-awesome"}},{title:"Dozvole",link:"/admin/permits",icon:{icon:"paste",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/reports",icon:{icon:"print",pack:"font-awesome"}}],C=n("fXoL"),j=n("mgFL"),M=((i=function(){function e(){_classCallCheck(this,e),this.menu=k}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Lb({type:i,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(C.Xb(0,"ngx-one-column-layout"),C.Sb(1,"nb-menu",0),C.Sb(2,"router-outlet"),C.Wb()),2&e&&(C.Eb(1),C.pc("items",t.menu))},directives:[j.a,s.bb,y.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),i),I={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},name:{title:"Naziv"},email:{title:"Email"},emailReception:{title:"Email za prijem"},telephone:{title:"Telefon"},operations:{title:"Rad firme"}}},E=((a=function(){function e(t,n,i,a){_classCallCheck(this,e),this.companyService=t,this.toastrService=n,this.router=i,this.adminService=a,this.companies=new c.a,this.companySettings=I}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getCompanies().subscribe((function(t){e.companies.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.createCompany(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateCompany",value:function(e){var t=e.newData,n=e.confirm;try{this.companyService.updateCompany(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteCompany",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.companyService.deleteCompany(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"companyInfo",value:function(e){var t=e.data;this.router.navigate(["admin/companies",t.pib])}}]),e}()).\u0275fac=function(e){return new(e||a)(C.Rb(u.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(l.a))},a.\u0275cmp=C.Lb({type:a,selectors:[["admin-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(C.Xb(0,"nb-card"),C.Xb(1,"nb-card-header"),C.Hc(2,"Firme"),C.Wb(),C.Xb(3,"nb-card-body"),C.Xb(4,"ng2-smart-table",0),C.fc("createConfirm",(function(e){return t.createCompany(e)}))("editConfirm",(function(e){return t.updateCompany(e)}))("deleteConfirm",(function(e){return t.deleteCompany(e)}))("custom",(function(e){return t.companyInfo(e)})),C.Wb(),C.Wb(),C.Wb()),2&e&&(C.Eb(4),C.pc("settings",t.companySettings)("source",t.companies))},directives:[s.x,s.A,s.w,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),a),S=n("McNs");function w(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Email je obavezan! "),C.Wb())}function x(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Email mora biti validan! "),C.Wb())}function z(e,t){if(1&e&&(C.Vb(0),C.Fc(1,w,2,0,"p",60),C.Fc(2,x,2,0,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(41);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function H(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Email je obavezan! "),C.Wb())}function P(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Email mora biti validan! "),C.Wb())}function R(e,t){if(1&e&&(C.Vb(0),C.Fc(1,H,2,0,"p",60),C.Fc(2,P,2,0,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(49);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function F(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Telefon je obavezan! "),C.Wb())}function T(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function O(e,t){if(1&e&&(C.Vb(0),C.Fc(1,F,2,0,"p",60),C.Fc(2,T,2,2,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(57);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function _(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(3);C.Eb(1),C.Kc(" Faks mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function L(e,t){if(1&e&&(C.Vb(0),C.Fc(1,_,2,2,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(6);C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function V(e,t){if(1&e){var n=C.Yb();C.Xb(0,"div",10),C.Xb(1,"div",0),C.Xb(2,"label",62),C.Hc(3,"Faks:"),C.Wb(),C.Wb(),C.Xb(4,"div",9),C.Xb(5,"input",63,64),C.fc("ngModelChange",(function(e){return C.zc(n),C.jc().company.fax=e})),C.Wb(),C.Fc(7,L,2,1,"ng-container",23),C.Wb(),C.Wb()}if(2&e){var i=C.xc(6),a=C.jc();C.Eb(5),C.pc("ngModel",a.company.fax)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched)}}function N(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Zakosni zastupnik firme je obavezan! "),C.Wb())}function U(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.legalRep.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.legalRep.maxLength")," ")}}function D(e,t){if(1&e&&(C.Vb(0),C.Fc(1,N,2,0,"p",60),C.Fc(2,U,2,2,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(66);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function B(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Zakosni zastupnik firme je obavezan! "),C.Wb())}function q(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.legalRep.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.legalRep.maxLength")," ")}}function K(e,t){if(1&e&&(C.Vb(0),C.Fc(1,B,2,0,"p",60),C.Fc(2,q,2,2,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(73);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function A(e,t){1&e&&C.Sb(0,"input",65),2&e&&C.pc("placeholder",t.$implicit)}function G(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," Ime zakonskog zastupnika je obavezno! "),C.Wb())}function Y(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Jc(" Korisni\u010dko ime mora biti du\u017ee od ",n.getConfigValue("forms.validation.username.minLength")," slova! ")}}function $(e,t){if(1&e&&(C.Vb(0),C.Fc(1,G,2,0,"p",60),C.Fc(2,Y,2,1,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(102);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function J(e,t){1&e&&(C.Xb(0,"p",61),C.Hc(1," \u0160ifra je obavezna! "),C.Wb())}function Z(e,t){if(1&e&&(C.Xb(0,"p",61),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Jc(" \u0160ifra mora biti du\u017ee od ",n.getConfigValue("forms.validation.password.minLength")," slova! ")}}function Q(e,t){if(1&e&&(C.Vb(0),C.Fc(1,J,2,0,"p",60),C.Fc(2,Z,2,1,"p",60),C.Ub()),2&e){C.jc();var n=C.xc(109);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var ee,te=((ee=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.route=t,this.companyService=n,this.options=i,this.adminService=a,this.toastrService=o,this.router=r,this.showPassword="eye",this.company={address:{location:{placeName:"",placeCode:0,townshipName:"",zipCode:"",townshipCode:0},street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("pib");this.adminService.getCompany(t,"pib").subscribe((function(t){e.company=t}))}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateCompany",value:function(e){e.valid?(this.companyService.updateCompany(this.company,this.company._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoUser",value:function(){this.router.navigate(["admin/users",this.company.manager])}}]),e}()).\u0275fac=function(e){return new(e||ee)(C.Rb(y.a),C.Rb(u.a),C.Rb(S.a),C.Rb(l.a),C.Rb(s.Kb),C.Rb(y.c))},ee.\u0275cmp=C.Lb({type:ee,selectors:[["admin-company"]],decls:120,vars:57,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-legalRepFName",1,"label"],["fullWidth","","id","input-legalRepFName","name","legalRepFName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["legalRepFName","ngModel"],["for","input-legalRepLName",1,"label"],["fullWidth","","id","input-legalRepLName","name","legalRepLName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["legalRepLName","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],["for","input-usernameNRIZ",1,"label"],["fullWidth","","id","input-usernameNRIZ","name","usernameNRIZ","nbInput","","placeholder","Korisni\u010dko ime",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["usernameNRIZ","ngModel"],["for","input-passwordNRIZ",1,"label","col-12"],[1,"col-5","pr-0"],["fullWidth","","id","input-passwordNRIZ","name","passwordNRIZ","nbInput","","placeholder","\u0160ifra",3,"ngModel","maxlength","minlength","required","status","type","ngModelChange"],["passwordNRIZ","ngModel"],[1,"col-1","pl-0"],["fullWidth","","type","button","nbButton","",3,"click"],[3,"icon"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,t){if(1&e){var n=C.Yb();C.Xb(0,"nb-card",0),C.Xb(1,"form",1,2),C.fc("ngSubmit",(function(){C.zc(n);var e=C.xc(2);return t.updateCompany(e)})),C.Xb(3,"nb-card-header"),C.Xb(4,"div",3),C.Xb(5,"div",4),C.Xb(6,"a",5),C.Sb(7,"i",6),C.Wb(),C.Wb(),C.Xb(8,"div",7),C.Xb(9,"h5",8),C.Hc(10),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(11,"nb-card-body"),C.Xb(12,"div",3),C.Xb(13,"div",9),C.Xb(14,"div",10),C.Xb(15,"div",0),C.Xb(16,"label",11),C.Hc(17,"Naziv Firme:"),C.Wb(),C.Wb(),C.Xb(18,"div",9),C.Xb(19,"input",12,13),C.fc("ngModelChange",(function(e){return t.company.name=e})),C.Wb(),C.Wb(),C.Wb(),C.Xb(21,"div",10),C.Xb(22,"div",0),C.Xb(23,"label",14),C.Hc(24,"PIB:"),C.Wb(),C.Wb(),C.Xb(25,"div",9),C.Xb(26,"input",15,16),C.fc("ngModelChange",(function(e){return t.company.pib=e})),C.Wb(),C.Wb(),C.Wb(),C.Xb(28,"div",10),C.Xb(29,"div",0),C.Xb(30,"label",17),C.Hc(31,"Mati\u010dni broj:"),C.Wb(),C.Wb(),C.Xb(32,"div",9),C.Xb(33,"input",18,19),C.fc("ngModelChange",(function(e){return t.company.mat=e})),C.Wb(),C.Wb(),C.Wb(),C.Xb(35,"div",10),C.Xb(36,"div",0),C.Xb(37,"label",20),C.Hc(38,"Email:"),C.Wb(),C.Wb(),C.Xb(39,"div",9),C.Xb(40,"input",21,22),C.fc("ngModelChange",(function(e){return t.company.email=e})),C.Wb(),C.Fc(42,z,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Xb(43,"div",10),C.Xb(44,"div",0),C.Xb(45,"label",24),C.Hc(46,"Email za prijem dokumenata:"),C.Wb(),C.Wb(),C.Xb(47,"div",9),C.Xb(48,"input",25,26),C.fc("ngModelChange",(function(e){return t.company.emailReception=e})),C.Wb(),C.Fc(50,R,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Xb(51,"div",10),C.Xb(52,"div",0),C.Xb(53,"label",27),C.Hc(54,"Telefon:"),C.Wb(),C.Wb(),C.Xb(55,"div",9),C.Xb(56,"input",28,29),C.fc("ngModelChange",(function(e){return t.company.telephone=e})),C.Wb(),C.Fc(58,O,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Fc(59,V,8,6,"div",30),C.Xb(60,"div",10),C.Xb(61,"div",0),C.Xb(62,"label",31),C.Hc(63,"Ime zakonskog zastupnika firme:"),C.Wb(),C.Wb(),C.Xb(64,"div",9),C.Xb(65,"input",32,33),C.fc("ngModelChange",(function(e){return t.company.legalRep.firstName=e})),C.Wb(),C.Fc(67,D,3,2,"ng-container",23),C.Wb(),C.Xb(68,"div",0),C.Xb(69,"label",34),C.Hc(70,"Prezime zakonskog zastupnika firme:"),C.Wb(),C.Wb(),C.Xb(71,"div",9),C.Xb(72,"input",35,36),C.fc("ngModelChange",(function(e){return t.company.legalRep.lastName=e})),C.Wb(),C.Fc(74,K,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Wb(),C.Xb(75,"div",9),C.Xb(76,"div",10),C.Xb(77,"div",0),C.Xb(78,"label",37),C.Hc(79,"Adresa Firme:"),C.Wb(),C.Wb(),C.Xb(80,"div",9),C.Sb(81,"input",38),C.Wb(),C.Wb(),C.Xb(82,"div",3),C.Xb(83,"div",0),C.Xb(84,"label",39),C.Hc(85,"Rad firme:"),C.Wb(),C.Wb(),C.Xb(86,"div",9),C.Fc(87,A,1,1,"input",40),C.Wb(),C.Wb(),C.Xb(88,"div",10),C.Xb(89,"div",0),C.Xb(90,"label",41),C.Hc(91,"Menad\u017eer Firme:"),C.Wb(),C.Wb(),C.Xb(92,"div",42),C.Sb(93,"input",43),C.Wb(),C.Xb(94,"div",44),C.Xb(95,"button",45),C.fc("click",(function(){return t.gotoUser()})),C.Sb(96,"i",46),C.Wb(),C.Wb(),C.Wb(),C.Xb(97,"div",10),C.Xb(98,"div",9),C.Xb(99,"label",47),C.Hc(100,"NRIZ korisni\u010dko ime:"),C.Wb(),C.Xb(101,"input",48,49),C.fc("ngModelChange",(function(e){return t.company.nriz.username=e})),C.Wb(),C.Fc(103,$,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Xb(104,"div",3),C.Xb(105,"label",50),C.Hc(106,"NRIZ \u0160ifra:"),C.Wb(),C.Xb(107,"div",51),C.Xb(108,"input",52,53),C.fc("ngModelChange",(function(e){return t.company.nriz.password=e})),C.Wb(),C.Wb(),C.Xb(110,"div",54),C.Xb(111,"button",55),C.fc("click",(function(){return t.showPassword="eye"===t.showPassword?"eye-off":"eye"})),C.Sb(112,"nb-icon",56),C.Wb(),C.Wb(),C.Fc(113,Q,3,2,"ng-container",23),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(114,"nb-card-footer"),C.Xb(115,"div",3),C.Sb(116,"div",57),C.Xb(117,"div",58),C.Xb(118,"button",59),C.Hc(119,"SA\u010cUVAJ"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb()}if(2&e){var i=C.xc(41),a=C.xc(49),o=C.xc(57),r=C.xc(66),s=C.xc(73),c=C.xc(102),l=C.xc(109);C.Eb(10),C.Jc(" ",t.company.name,""),C.Eb(9),C.pc("ngModel",t.company.name),C.Eb(7),C.pc("ngModel",t.company.pib),C.Eb(7),C.pc("ngModel",t.company.mat),C.Eb(7),C.pc("ngModel",t.company.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched),C.Eb(6),C.pc("ngModel",t.company.emailReception)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),C.Eb(2),C.pc("ngIf",a.invalid&&a.touched),C.Eb(6),C.pc("ngModel",t.company.telephone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),C.Eb(2),C.pc("ngIf",o.invalid&&o.touched),C.Eb(1),C.pc("ngIf",""===t.company.fax),C.Eb(6),C.pc("ngModel",t.company.legalRep.firstName)("maxlength",t.getConfigValue("forms.validation.legalRep.maxLength"))("minlength",t.getConfigValue("forms.validation.legalRep.minLength"))("required",t.getConfigValue("forms.validation.legalRep.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),C.Eb(2),C.pc("ngIf",r.invalid&&r.touched),C.Eb(5),C.pc("ngModel",t.company.legalRep.lastName)("maxlength",t.getConfigValue("forms.validation.legalRep.maxLength"))("minlength",t.getConfigValue("forms.validation.legalRep.minLength"))("required",t.getConfigValue("forms.validation.legalRep.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),C.Eb(2),C.pc("ngIf",s.invalid&&s.touched),C.Eb(7),C.pc("placeholder",t.company.address.location.townshipName+", "+t.company.address.location.placeName+", "+t.company.address.street),C.Eb(6),C.pc("ngForOf",t.company.operations),C.Eb(6),C.pc("placeholder",t.company.manager),C.Eb(8),C.pc("ngModel",t.company.nriz.username)("maxlength",t.getConfigValue("forms.validation.username.maxLength"))("minlength",t.getConfigValue("forms.validation.username.minLength"))("required",t.getConfigValue("forms.validation.username.required"))("status",c.dirty?c.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!c.invalid||!c.touched)||null),C.Eb(2),C.pc("ngIf",c.invalid&&c.touched),C.Eb(5),C.pc("ngModel",t.company.nriz.password)("maxlength",t.getConfigValue("forms.validation.password.maxLength"))("minlength",t.getConfigValue("forms.validation.password.minLength"))("required",t.getConfigValue("forms.validation.password.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("type","eye"===t.showPassword?"password":"text"),C.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),C.Eb(4),C.pc("icon",t.showPassword),C.Eb(1),C.pc("ngIf",l.invalid&&l.touched)}},directives:[s.x,r.w,r.l,r.m,s.A,y.f,s.w,s.Q,r.b,r.k,r.n,r.q,r.s,o.m,r.f,r.g,o.l,s.t,s.N,s.y],styles:[""]}),ee),ne=n("kBrA"),ie=["viewTrash"];function ae(e,t){1&e&&(C.Xb(0,"p",49),C.Hc(1," Naziv dozvole je obavezan! "),C.Wb())}function oe(e,t){if(1&e&&(C.Vb(0),C.Fc(1,ae,2,0,"p",48),C.Ub()),2&e){C.jc();var n=C.xc(22);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required)}}function re(e,t){if(1&e){var n=C.Yb();C.Xb(0,"div",10),C.Xb(1,"div",11),C.Xb(2,"label",50),C.Hc(3,"Skladi\u0161te:"),C.Wb(),C.Wb(),C.Xb(4,"div",37),C.Xb(5,"input",51),C.fc("ngModelChange",(function(e){return C.zc(n),C.jc().permit.storage.name=e})),C.Wb(),C.Wb(),C.Xb(6,"div",39),C.Xb(7,"button",40),C.fc("click",(function(){return C.zc(n),C.jc().gotoStorage()})),C.Sb(8,"i",41),C.Wb(),C.Wb(),C.Wb()}if(2&e){var i=C.jc();C.Eb(5),C.pc("ngModel",i.permit.storage.name)}}function se(e,t){if(1&e){var n=C.Yb();C.Xb(0,"view-permits-trash-popup",52),C.fc("callUpdatePermitsTrash",(function(e){return C.zc(n),C.jc().updatePermitsTrashMethod(e)})),C.Wb()}if(2&e){var i=C.jc();C.pc("selectedPermit",i.permit)}}var ce,le=((ce=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=t,this.permitService=n,this.options=i,this.toastrService=a,this.router=o,this.adminService=r,this.windowService=s,this.permit={code:"",dateCreation:void 0,dateExpiration:void 0,name:"",trashList:[],type:""},this.company={address:{location:void 0,street:""},email:"",emailReception:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},manager:"",mat:"",name:"",occupation:void 0,operations:[],pib:"",telephone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getPermit(t).subscribe((function(t){e.permit=t,e.permit.dateCreation=new Date(t.dateCreation),e.permit.dateExpiration=new Date(t.dateExpiration),e.adminService.getCompany(e.permit._id,"permits").subscribe((function(t){e.company=t}))}))}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updatePermit",value:function(e){e.valid?(this.permitService.updatePermit(this.permit,this.permit._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"openPermitsTrashWindow",value:function(){this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}},{key:"updatePermitsTrashMethod",value:function(e){this.permit.trashList=e,this.permitService.updatePermit(this.permit,this.permit._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"gotoStorage",value:function(){this.router.navigate(["admin/storages",this.permit.storage._id])}},{key:"dateValid",value:function(e){return e.dateCreation<=e.dateExpiration}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||ce)(C.Rb(y.a),C.Rb(d.a),C.Rb(S.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(l.a),C.Rb(s.Qb))},ce.\u0275cmp=C.Lb({type:ce,selectors:[["admin-permit"]],viewQuery:function(e,t){var n;1&e&&C.Oc(ie,!0,C.N),2&e&&C.wc(n=C.gc())&&(t.viewTrash=n.first)},decls:90,vars:30,consts:[[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[3,"ngSubmit"],["formPermit","ngForm"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-permitName",1,"label"],["fullWidth","","id","input-permitName","name","permitName","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["permitName","ngModel"],[4,"ngIf"],["for","input-permitCode",1,"label"],["fullWidth","","id","input-permitCode","name","permitCode","nbInput","","type","text",3,"ngModel","ngModelChange"],["for","input-address",1,"label"],["disabled","","fullWidth","","id","input-address","name","address","nbInput","","type","text",3,"placeholder"],["for","input-dateCreation",1,"label"],["for","input-dateExpiration",1,"label"],[1,"col-5","mr-0","pr-0"],["fullWidth","","id","input-dateCreation","name","dateCreation","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateCreation","ngModel"],[3,"date","dateChange"],["dateCreationPicker",""],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["fullWidth","","id","input-dateExpiration","name","dateExpiration","nbInput","",3,"ngModel","nbDatepicker","required","status","ngModelChange"],["dateExpiration","ngModel"],["dateExpirationPicker",""],["for","input-permitType",1,"label"],["fullWidth","","name","permitType","id","input-permitType",3,"selected","ngModel","ngModelChange"],[3,"value"],["class","row mb-2",4,"ngIf"],["for","input-permitCompany",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-permitCompany","name","permitCompany","nbInput","","type","text",3,"ngModel","ngModelChange"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],[1,"row","d-flex","justify-content-end"],[1,"col-3"],["fullWidth","","nbButton","","status","primary","type","submit"],["viewTrash",""],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-permitStorage",1,"label"],["disabled","","fullWidth","","id","input-permitStorage","name","permitStorage","nbInput","","type","text",3,"ngModel","ngModelChange"],[3,"selectedPermit","callUpdatePermitsTrash"]],template:function(e,t){if(1&e){var n=C.Yb();C.Xb(0,"nb-card"),C.Xb(1,"nb-card-header"),C.Xb(2,"div",0),C.Xb(3,"div",1),C.Xb(4,"a",2),C.Sb(5,"i",3),C.Wb(),C.Wb(),C.Xb(6,"div",4),C.Xb(7,"h5",5),C.Hc(8),C.Wb(),C.Xb(9,"p",6),C.Hc(10),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(11,"nb-card-body"),C.Xb(12,"form",7,8),C.fc("ngSubmit",(function(){C.zc(n);var e=C.xc(13);return t.updatePermit(e)})),C.Xb(14,"div",0),C.Xb(15,"div",9),C.Xb(16,"div",10),C.Xb(17,"div",11),C.Xb(18,"label",12),C.Hc(19,"Naziv dozvole:"),C.Wb(),C.Wb(),C.Xb(20,"div",9),C.Xb(21,"input",13,14),C.fc("ngModelChange",(function(e){return t.permit.name=e})),C.Wb(),C.Fc(23,oe,2,1,"ng-container",15),C.Wb(),C.Wb(),C.Xb(24,"div",10),C.Xb(25,"div",11),C.Xb(26,"label",16),C.Hc(27,"\u0160ifra dozvole:"),C.Wb(),C.Wb(),C.Xb(28,"div",9),C.Xb(29,"input",17),C.fc("ngModelChange",(function(e){return t.permit.code=e})),C.Wb(),C.Wb(),C.Wb(),C.Xb(30,"div",10),C.Xb(31,"div",11),C.Xb(32,"label",18),C.Hc(33,"Adresa Dozvole:"),C.Wb(),C.Wb(),C.Xb(34,"div",9),C.Sb(35,"input",19),C.Wb(),C.Wb(),C.Xb(36,"div",10),C.Xb(37,"div",9),C.Xb(38,"label",20),C.Hc(39,"Datum trajanja dozvole:"),C.Wb(),C.Wb(),C.Xb(40,"div",9),C.Xb(41,"label",21),C.Hc(42,"Datum isteka dozvole:"),C.Wb(),C.Wb(),C.Xb(43,"div",22),C.Xb(44,"input",23,24),C.fc("ngModelChange",(function(e){return t.permit.dateCreation=e})),C.Wb(),C.Xb(46,"nb-datepicker",25,26),C.fc("dateChange",(function(e){return t.permit.dateCreation=e})),C.Wb(),C.Wb(),C.Xb(48,"button",27),C.Hc(49,"-"),C.Wb(),C.Xb(50,"div",28),C.Xb(51,"input",29,30),C.fc("ngModelChange",(function(e){return t.permit.dateExpiration=e})),C.Wb(),C.Xb(53,"nb-datepicker",25,31),C.fc("dateChange",(function(e){return t.permit.dateExpiration=e})),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(55,"div",9),C.Xb(56,"div",10),C.Xb(57,"div",11),C.Xb(58,"label",32),C.Hc(59,"Vrsta dozvole:"),C.Wb(),C.Wb(),C.Xb(60,"div",9),C.Xb(61,"nb-select",33),C.fc("ngModelChange",(function(e){return t.permit.type=e})),C.Xb(62,"nb-option",34),C.Hc(63,"Tretman"),C.Wb(),C.Xb(64,"nb-option",34),C.Hc(65,"Skladi\u0161tenje"),C.Wb(),C.Xb(66,"nb-option",34),C.Hc(67,"Odlaganje"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Fc(68,re,9,1,"div",35),C.Xb(69,"div",10),C.Xb(70,"div",11),C.Xb(71,"label",36),C.Hc(72,"Firma:"),C.Wb(),C.Wb(),C.Xb(73,"div",37),C.Xb(74,"input",38),C.fc("ngModelChange",(function(e){return t.company.name=e})),C.Wb(),C.Wb(),C.Xb(75,"div",39),C.Xb(76,"button",40),C.fc("click",(function(){return t.gotoCompany()})),C.Sb(77,"i",41),C.Wb(),C.Wb(),C.Wb(),C.Xb(78,"div",10),C.Xb(79,"div",11),C.Sb(80,"label",42),C.Wb(),C.Xb(81,"div",9),C.Xb(82,"button",43),C.fc("click",(function(){return t.openPermitsTrashWindow()})),C.Hc(83,"Pogledaj listu otpada "),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(84,"div",44),C.Xb(85,"div",45),C.Xb(86,"button",46),C.Hc(87,"SA\u010cUVAJ"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Fc(88,se,1,1,"ng-template",null,47,C.Gc)}if(2&e){var i=C.xc(22),a=C.xc(45),o=C.xc(47),r=C.xc(52),s=C.xc(54);C.Eb(8),C.Ic(t.permit.name),C.Eb(2),C.Ic(t.permit.__t),C.Eb(11),C.pc("ngModel",t.permit.name)("maxlength",t.getConfigValue("forms.validation.permitName.maxLength"))("minlength",t.getConfigValue("forms.validation.permitName.minLength"))("required",t.getConfigValue("forms.validation.permitName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched),C.Eb(6),C.pc("ngModel",t.permit.code),C.Eb(6),C.pc("placeholder",(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.townshipName)+", "+(null==t.permit.address||null==t.permit.address.location?null:t.permit.address.location.placeName)+", "+(null==t.permit||null==t.permit.address?null:t.permit.address.street)),C.Eb(9),C.pc("ngModel",t.permit.dateCreation)("nbDatepicker",o)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),C.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),C.Eb(2),C.pc("date",t.permit.dateCreation),C.Eb(5),C.pc("ngModel",t.permit.dateExpiration)("nbDatepicker",s)("required",t.getConfigValue("forms.validation.date.required"))("status",t.dateValid(t.permit)?"success":"danger"),C.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),C.Eb(2),C.pc("date",t.permit.dateExpiration),C.Eb(8),C.pc("selected",t.permit.type)("ngModel",t.permit.type),C.Eb(1),C.pc("value","treatment"),C.Eb(2),C.pc("value","cache"),C.Eb(2),C.pc("value","dump"),C.Eb(2),C.pc("ngIf",void 0!==t.permit.storage),C.Eb(6),C.pc("ngModel",t.company.name)}},directives:[s.x,s.A,y.f,s.w,r.w,r.l,r.m,s.Q,r.b,r.k,r.n,r.f,r.g,r.s,o.m,s.J,s.I,s.t,s.qb,s.fb,ne.a],styles:[""]}),ce),be=n("SxV6"),ue={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},code:{title:"\u0160ifra"},dateCreation:{valuePrepareFunction:function(e,t){return t.dateCreation.substring(0,10)},title:"Datum nastanka"},dateExpiration:{sortDirection:"asc",valuePrepareFunction:function(e,t){return t.dateExpiration.substring(0,10)},title:"Datum Isteka"}}};function de(e,t){if(1&e&&(C.Xb(0,"nb-option",3),C.Hc(1),C.Wb()),2&e){var n=t.$implicit;C.pc("value",n),C.Eb(1),C.Ic(n.name)}}var pe,me=((pe=function(){function e(t,n,i,a){_classCallCheck(this,e),this.permitService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedPermits=new c.a,this.permitSettings=ue,this.companyNames=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getPermits().pipe(Object(be.a)()).subscribe((function(t){e.permits=t,e.selectedPermits.load(t)})),this.adminService.getCompanyNames("permits").subscribe((function(t){e.companyNames=t}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectPermits",value:function(e){if("-"===e)this.selectedPermits.load(this.permits);else{var t=this.permits;t=t.filter((function(t){return e.permits.includes(t._id)})),this.selectedPermits.load(t)}}},{key:"updatePermit",value:function(e){var t=e.newData,n=e.confirm;try{this.permitService.updatePermit(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deletePermit",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.permitService.deletePermit(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"permitInfo",value:function(e){var t=e.data;this.router.navigate(["admin/permits",t._id])}}]),e}()).\u0275fac=function(e){return new(e||pe)(C.Rb(d.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(l.a))},pe.\u0275cmp=C.Lb({type:pe,selectors:[["admin-permits"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(C.Xb(0,"nb-card"),C.Xb(1,"nb-card-header"),C.Hc(2,"Dozvole"),C.Wb(),C.Xb(3,"nb-card-body"),C.Xb(4,"div",0),C.Xb(5,"label",1),C.Hc(6,"Odaberite firmu: "),C.Wb(),C.Xb(7,"nb-select",2),C.fc("selectedChange",(function(e){return t.selectPermits(e)})),C.Xb(8,"nb-option",3),C.Hc(9,"-"),C.Wb(),C.Fc(10,de,2,2,"nb-option",4),C.Wb(),C.Wb(),C.Xb(11,"div",5),C.Xb(12,"ng2-smart-table",6),C.fc("editConfirm",(function(e){return t.updatePermit(e)}))("deleteConfirm",(function(e){return t.deletePermit(e)}))("custom",(function(e){return t.permitInfo(e)})),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&e&&(C.Eb(8),C.pc("value","-"),C.Eb(2),C.pc("ngForOf",t.companyNames),C.Eb(2),C.pc("settings",t.permitSettings)("source",t.selectedPermits))},directives:[s.x,s.A,s.w,s.qb,s.fb,o.l,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),pe);function fe(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Ime je obavezno! "),C.Wb())}function ge(e,t){if(1&e&&(C.Xb(0,"p",27),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function he(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Ime mora biti validno! "),C.Wb())}function ve(e,t){if(1&e&&(C.Vb(0),C.Fc(1,fe,2,0,"p",26),C.Fc(2,ge,2,2,"p",26),C.Fc(3,he,2,0,"p",26),C.Ub()),2&e){C.jc();var n=C.xc(8);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function We(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Prezime je obavezno! "),C.Wb())}function Xe(e,t){if(1&e&&(C.Xb(0,"p",27),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function ye(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Prezime mora biti validno! "),C.Wb())}function ke(e,t){if(1&e&&(C.Vb(0),C.Fc(1,We,2,0,"p",26),C.Fc(2,Xe,2,2,"p",26),C.Fc(3,ye,2,0,"p",26),C.Ub()),2&e){C.jc();var n=C.xc(16),i=C.xc(8);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function Ce(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Email je obavezan! "),C.Wb())}function je(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Email mora biti validan! "),C.Wb())}function Me(e,t){if(1&e&&(C.Vb(0),C.Fc(1,Ce,2,0,"p",26),C.Fc(2,je,2,0,"p",26),C.Ub()),2&e){C.jc();var n=C.xc(24);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function Ie(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Korisni\u010dko ime je obavezno! "),C.Wb())}function Ee(e,t){if(1&e&&(C.Xb(0,"p",27),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function Se(e,t){if(1&e&&(C.Vb(0),C.Fc(1,Ie,2,0,"p",26),C.Fc(2,Ee,2,2,"p",26),C.Ub()),2&e){C.jc();var n=C.xc(32);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function we(e,t){1&e&&(C.Xb(0,"p",27),C.Hc(1," Telefon je obavezan! "),C.Wb())}function xe(e,t){if(1&e&&(C.Xb(0,"p",27),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function ze(e,t){if(1&e&&(C.Vb(0),C.Fc(1,we,2,0,"p",26),C.Fc(2,xe,2,2,"p",26),C.Ub()),2&e){C.jc();var n=C.xc(40);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var He,Pe,Re=((Pe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.korisnikService=t,this.options=n,this.toastrService=i,this.roleService=a,this.authService=o,this.korisnik={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:""},this.inputsDisabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getUserProfile(this.roleService.getUsername()).pipe(Object(be.a)()).subscribe((function(t){e.korisnik=t}))}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(e){if(e.valid){this.korisnikService.updateUser(this.korisnik,this.korisnik._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var t=null;this.authService.getToken().subscribe((function(e){t=e})),this.authService.refreshToken("email",t).subscribe((function(e){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Pe)(C.Rb(p.a),C.Rb(S.a),C.Rb(s.Kb),C.Rb(g.a),C.Rb(S.g))},Pe.\u0275cmp=C.Lb({type:Pe,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=C.Yb();C.Xb(0,"form",0,1),C.fc("ngSubmit",(function(){C.zc(n);var e=C.xc(1);return t.updateKorisnik(e)})),C.Xb(2,"div",2),C.Xb(3,"div",3),C.Xb(4,"label",4),C.Hc(5,"Ime:"),C.Wb(),C.Wb(),C.Xb(6,"div",5),C.Xb(7,"input",6,7),C.fc("ngModelChange",(function(e){return t.korisnik.firstName=e})),C.Wb(),C.Fc(9,ve,4,3,"ng-container",8),C.Wb(),C.Wb(),C.Xb(10,"div",2),C.Xb(11,"div",3),C.Xb(12,"label",9),C.Hc(13,"Prezime:"),C.Wb(),C.Wb(),C.Xb(14,"div",5),C.Xb(15,"input",10,11),C.fc("ngModelChange",(function(e){return t.korisnik.lastName=e})),C.Wb(),C.Fc(17,ke,4,3,"ng-container",8),C.Wb(),C.Wb(),C.Xb(18,"div",2),C.Xb(19,"div",3),C.Xb(20,"label",12),C.Hc(21,"Email:"),C.Wb(),C.Wb(),C.Xb(22,"div",5),C.Xb(23,"input",13,14),C.fc("ngModelChange",(function(e){return t.korisnik.email=e})),C.Wb(),C.Fc(25,Me,3,2,"ng-container",8),C.Wb(),C.Wb(),C.Xb(26,"div",2),C.Xb(27,"div",3),C.Xb(28,"label",15),C.Hc(29,"Korisni\u010dko ime:"),C.Wb(),C.Wb(),C.Xb(30,"div",5),C.Xb(31,"input",16,17),C.fc("ngModelChange",(function(e){return t.korisnik.username=e})),C.Wb(),C.Fc(33,Se,3,2,"ng-container",8),C.Wb(),C.Wb(),C.Xb(34,"div",2),C.Xb(35,"div",3),C.Xb(36,"label",18),C.Hc(37,"Telefon:"),C.Wb(),C.Wb(),C.Xb(38,"div",5),C.Xb(39,"input",19,20),C.fc("ngModelChange",(function(e){return t.korisnik.phone=e})),C.Wb(),C.Fc(41,ze,3,2,"ng-container",8),C.Wb(),C.Wb(),C.Xb(42,"div",21),C.Sb(43,"div",22),C.Xb(44,"div",23),C.Xb(45,"button",24),C.fc("click",(function(){return t.enableInputs()})),C.Hc(46,"IZMENI"),C.Wb(),C.Wb(),C.Xb(47,"div",23),C.Xb(48,"button",25),C.Hc(49,"SA\u010cUVAJ"),C.Wb(),C.Wb(),C.Wb(),C.Wb()}if(2&e){var i=C.xc(8),a=C.xc(16),o=C.xc(24),r=C.xc(32),s=C.xc(40);C.Eb(7),C.pc("ngModel",t.korisnik.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched),C.Eb(6),C.pc("ngModel",t.korisnik.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),C.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),C.Eb(2),C.pc("ngIf",a.invalid&&a.touched),C.Eb(6),C.pc("ngModel",t.korisnik.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),C.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),C.Eb(2),C.pc("ngIf",o.invalid&&o.touched),C.Eb(6),C.pc("ngModel",t.korisnik.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),C.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),C.Eb(2),C.pc("ngIf",r.invalid&&r.touched),C.Eb(6),C.pc("ngModel",t.korisnik.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),C.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),C.Eb(2),C.pc("ngIf",s.invalid&&s.touched),C.Eb(4),C.pc("disabled",!t.inputsDisabled),C.Eb(3),C.pc("disabled",t.inputsDisabled)}},directives:[r.w,r.l,r.m,s.Q,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.m,s.t],styles:[""]}),Pe),Fe=((He=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||He)},He.\u0275cmp=C.Lb({type:He,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,t){1&e&&(C.Xb(0,"nb-card"),C.Xb(1,"nb-card-body"),C.Sb(2,"ngx-profile-korisnik"),C.Wb(),C.Wb())},directives:[s.x,s.w,Re],styles:[""]}),He),Te={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indexNumber:{title:"Indeksni Broj",editable:!1},name:{title:"Naziv"},desc:{title:"Opis"},amount:{title:"Koli\u010dina (KG)"}}},Oe=n("navU");function _e(e,t){1&e&&(C.Xb(0,"p",35),C.Hc(1," Naziv skladi\u0161ta je obavezan! "),C.Wb())}function Le(e,t){if(1&e&&(C.Vb(0),C.Fc(1,_e,2,0,"p",34),C.Ub()),2&e){C.jc();var n=C.xc(22);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required)}}function Ve(e,t){1&e&&(C.Xb(0,"p",35),C.Hc(1," Veli\u010dina skladi\u0161ta je obavezna! "),C.Wb())}function Ne(e,t){if(1&e&&(C.Vb(0),C.Fc(1,Ve,2,0,"p",34),C.Ub()),2&e){C.jc();var n=C.xc(36);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required)}}function Ue(e,t){if(1&e&&(C.Xb(0,"div",11),C.Xb(1,"div",0),C.Xb(2,"label",36),C.Hc(3,"Geolokacija Skladi\u0161ta:"),C.Wb(),C.Wb(),C.Xb(4,"div",10),C.Sb(5,"input",37),C.Wb(),C.Wb()),2&e){var n=C.jc();C.Eb(5),C.pc("placeholder",n.storage.geolocationNorth+"N"+n.storage.geolocationEast+"E")}}function De(e,t){if(1&e&&(C.Xb(0,"div",11),C.Xb(1,"div",0),C.Xb(2,"label",38),C.Hc(3,"Vrsta Deponije:"),C.Wb(),C.Wb(),C.Xb(4,"div",10),C.Sb(5,"input",39),C.Wb(),C.Wb()),2&e){var n=C.jc();C.Eb(5),C.pc("placeholder",n.storage.dumpType)}}var Be,qe=function(){return{standalone:!0}},Ke=((Be=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=t,this.storageService=n,this.options=i,this.toastrService=a,this.router=o,this.trashService=r,this.adminService=s,this.storage={address:{location:void 0,street:""},amount:0,maxAmount:0,name:"",dumpType:""},this.settings=Te}return _createClass(e,[{key:"ngOnInit",value:function(){this.updateStorageView()}},{key:"updateStorageView",value:function(){var e=this,t=this.route.snapshot.paramMap.get("id");this.adminService.getStorage(t).subscribe((function(t){e.storage=t,e.adminService.getCompany(e.storage._id,"storages").subscribe((function(t){e.company=t}))}))}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateStorage",value:function(e){e.valid?(this.storageService.updateStorage(this.storage,this.storage._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"updateTrash",value:function(e,t){var n=this,i=e.newData,a=e.confirm;try{this.trashService.updateTrash(i,t._id,i._id).subscribe((function(e){n.updateStorageView()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.name,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(e,t){var n=this,i=e.data,a=e.confirm;try{this.trashService.deleteTrash(t._id,i._id).subscribe((function(e){n.updateStorageView()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.company.pib])}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}}]),e}()).\u0275fac=function(e){return new(e||Be)(C.Rb(y.a),C.Rb(h.a),C.Rb(S.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(f.a),C.Rb(l.a))},Be.\u0275cmp=C.Lb({type:Be,selectors:[["admin-storage"]],decls:66,vars:27,consts:[[1,"col-12"],[3,"ngSubmit"],["formStorage","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-storageName",1,"label"],["fullWidth","","id","input-storageName","name","storageName","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["storageName","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-storageSize",1,"label"],[1,"col-5","pr-0"],["fullWidth","","id","input-storageSize","name","storageSize","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["storageSize","ngModel"],[1,"col-1","pl-0"],["nbButton","","fullWidth","","disabled",""],["class","row mb-2",4,"ngIf"],["for","input-companyName",1,"label"],["disabled","","fullWidth","","id","input-companyName","name","companyName","nbInput","","type","text",3,"placeholder"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],[3,"storage"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[1,"mt-2",3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolocation",1,"label"],["disabled","","fullWidth","","id","input-geolocation","name","geolocation","nbInput","","type","text",3,"placeholder"],["for","input-dumpType",1,"label"],["disabled","","fullWidth","","id","input-dumpType","name","dumpType","nbInput","","type","text",3,"placeholder"]],template:function(e,t){if(1&e){var n=C.Yb();C.Xb(0,"nb-card",0),C.Xb(1,"form",1,2),C.fc("ngSubmit",(function(){C.zc(n);var e=C.xc(2);return t.updateStorage(e)})),C.Xb(3,"nb-card-header"),C.Xb(4,"div",3),C.Xb(5,"div",4),C.Xb(6,"a",5),C.Sb(7,"i",6),C.Wb(),C.Wb(),C.Xb(8,"div",7),C.Xb(9,"h5",8),C.Hc(10),C.Wb(),C.Xb(11,"p",9),C.Hc(12),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(13,"nb-card-body"),C.Xb(14,"div",3),C.Xb(15,"div",10),C.Xb(16,"div",11),C.Xb(17,"div",0),C.Xb(18,"label",12),C.Hc(19,"Naziv skladi\u0161ta:"),C.Wb(),C.Wb(),C.Xb(20,"div",10),C.Xb(21,"input",13,14),C.fc("ngModelChange",(function(e){return t.storage.name=e})),C.Wb(),C.Fc(23,Le,2,1,"ng-container",15),C.Wb(),C.Wb(),C.Xb(24,"div",11),C.Xb(25,"div",0),C.Xb(26,"label",16),C.Hc(27,"Adresa Skladi\u0161ta:"),C.Wb(),C.Wb(),C.Xb(28,"div",10),C.Sb(29,"input",17),C.Wb(),C.Wb(),C.Xb(30,"div",11),C.Xb(31,"div",0),C.Xb(32,"label",18),C.Hc(33,"Veli\u010dina skladi\u0161ta:"),C.Wb(),C.Wb(),C.Xb(34,"div",19),C.Xb(35,"input",20,21),C.fc("ngModelChange",(function(e){return t.storage.maxAmount=e})),C.Wb(),C.Fc(37,Ne,2,1,"ng-container",15),C.Wb(),C.Xb(38,"div",22),C.Xb(39,"button",23),C.Hc(40),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(41,"div",10),C.Fc(42,Ue,6,1,"div",24),C.Fc(43,De,6,1,"div",24),C.Xb(44,"div",11),C.Xb(45,"div",0),C.Xb(46,"label",25),C.Hc(47,"Firma skladi\u0161ta:"),C.Wb(),C.Wb(),C.Xb(48,"div",19),C.Sb(49,"input",26),C.Wb(),C.Xb(50,"div",22),C.Xb(51,"button",27),C.fc("click",(function(){return t.gotoCompany()})),C.Sb(52,"i",28),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(53,"div",11),C.Xb(54,"div",0),C.Sb(55,"storage-meter",29),C.Wb(),C.Wb(),C.Wb(),C.Xb(56,"nb-card-footer"),C.Xb(57,"div",3),C.Sb(58,"div",30),C.Xb(59,"div",31),C.Xb(60,"button",32),C.Hc(61,"SA\u010cUVAJ"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(62,"nb-card-header"),C.Hc(63,"Otpadi: "),C.Wb(),C.Xb(64,"nb-card-body"),C.Xb(65,"ng2-smart-table",33),C.fc("editConfirm",(function(e){return t.updateTrash(e,t.storage)}))("deleteConfirm",(function(e){return t.deleteTrash(e,t.storage)})),C.Wb(),C.Wb(),C.Wb(),C.Wb()}if(2&e){var i=C.xc(22),a=C.xc(36);C.Eb(10),C.Ic(t.storage.name),C.Eb(2),C.Ic(t.storage.__t),C.Eb(9),C.pc("ngModel",t.storage.name)("ngModelOptions",C.sc(25,qe))("maxlength",t.getConfigValue("forms.validation.storageName.maxLength"))("minlength",t.getConfigValue("forms.validation.storageName.minLength"))("required",t.getConfigValue("forms.validation.storageName.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched),C.Eb(6),C.pc("placeholder",(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.townshipName)+", "+(null==t.storage.address||null==t.storage.address.location?null:t.storage.address.location.placeName)+", "+(null==t.storage||null==t.storage.address?null:t.storage.address.street)),C.Eb(6),C.pc("ngModel",t.storage.maxAmount)("ngModelOptions",C.sc(26,qe))("pattern",t.getConfigValue("forms.validation.storageSize.pattern"))("required",t.getConfigValue("forms.validation.storageSize.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),C.Eb(2),C.pc("ngIf",a.invalid&&a.touched),C.Eb(3),C.Ic(t.storage.storageUnit),C.Eb(2),C.pc("ngIf",void 0!==t.storage.geolocationNorth),C.Eb(1),C.pc("ngIf",void 0!==t.storage.dumpType),C.Eb(6),C.pc("placeholder",null==t.company?null:t.company.name),C.Eb(6),C.pc("storage",t.storage),C.Eb(10),C.pc("settings",t.settings)("source",null==t.storage?null:t.storage.trashes)}},directives:[s.x,r.w,r.l,r.m,s.A,y.f,s.w,s.Q,r.b,r.k,r.n,r.f,r.g,r.s,o.m,r.p,r.q,s.t,Oe.a,s.y,c.b],styles:[""]}),Be),Ae={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",width:"20%",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{name:{title:"Naziv"},maxAmount:{title:"Veli\u010dina"},amount:{title:"Trenutno stanje"},capacity:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}};function Ge(e,t){if(1&e&&(C.Xb(0,"nb-option",3),C.Hc(1),C.Wb()),2&e){var n=t.$implicit;C.pc("value",n),C.Eb(1),C.Ic(n.name)}}var Ye,$e=((Ye=function(){function e(t,n,i,a){_classCallCheck(this,e),this.storageService=t,this.toastrService=n,this.router=i,this.adminService=a,this.selectedStorages=new c.a,this.storageSettings=Ae,this.companyNames=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getStorages().pipe(Object(be.a)()).subscribe((function(t){t.forEach((function(e){return e.capacity=(e.amount/e.maxAmount*100).toFixed(0)})),e.storages=t,e.selectedStorages.load(t)})),this.adminService.getCompanyNames("storages").subscribe((function(t){e.companyNames=t}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"selectStorages",value:function(e){if("-"===e)this.selectedStorages.load(this.storages);else{var t=this.storages;t=t.filter((function(t){return e.storages.includes(t._id)})),this.selectedStorages.load(t)}}},{key:"createStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.createStorage(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateStorage",value:function(e){var t=e.newData,n=e.confirm;try{this.storageService.updateStorage(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteStorage",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.name+"?"))return;this.storageService.deleteStorage(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.name,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.name+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"storageInfo",value:function(e){var t=e.data;this.router.navigate(["admin/storages",t._id])}}]),e}()).\u0275fac=function(e){return new(e||Ye)(C.Rb(h.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(l.a))},Ye.\u0275cmp=C.Lb({type:Ye,selectors:[["admin-storages"]],decls:13,vars:4,consts:[[1,"row"],[1,"label","text-left","col-12"],["fullWidth","","selected","-",1,"col-12",3,"selectedChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-12",3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(C.Xb(0,"nb-card"),C.Xb(1,"nb-card-header"),C.Hc(2,"Skladi\u0161ta"),C.Wb(),C.Xb(3,"nb-card-body"),C.Xb(4,"div",0),C.Xb(5,"label",1),C.Hc(6,"Odaberite firmu: "),C.Wb(),C.Xb(7,"nb-select",2),C.fc("selectedChange",(function(e){return t.selectStorages(e)})),C.Xb(8,"nb-option",3),C.Hc(9,"-"),C.Wb(),C.Fc(10,Ge,2,2,"nb-option",4),C.Wb(),C.Wb(),C.Xb(11,"div",5),C.Xb(12,"ng2-smart-table",6),C.fc("createConfirm",(function(e){return t.createStorage(e)}))("editConfirm",(function(e){return t.updateStorage(e)}))("deleteConfirm",(function(e){return t.deleteStorage(e)}))("custom",(function(e){return t.storageInfo(e)})),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&e&&(C.Eb(8),C.pc("value","-"),C.Eb(2),C.pc("ngForOf",t.companyNames),C.Eb(2),C.pc("settings",t.storageSettings)("source",t.selectedStorages))},directives:[s.x,s.A,s.w,s.qb,s.fb,o.l,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),Ye);function Je(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Ime je obavezno! "),C.Wb())}function Ze(e,t){if(1&e&&(C.Xb(0,"p",40),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function Qe(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Ime mora biti validno! "),C.Wb())}function et(e,t){if(1&e&&(C.Vb(0),C.Fc(1,Je,2,0,"p",39),C.Fc(2,Ze,2,2,"p",39),C.Fc(3,Qe,2,0,"p",39),C.Ub()),2&e){C.jc();var n=C.xc(19);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function tt(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Prezime je obavezno! "),C.Wb())}function nt(e,t){if(1&e&&(C.Xb(0,"p",40),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function it(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Prezime mora biti validno! "),C.Wb())}function at(e,t){if(1&e&&(C.Vb(0),C.Fc(1,tt,2,0,"p",39),C.Fc(2,nt,2,2,"p",39),C.Fc(3,it,2,0,"p",39),C.Ub()),2&e){C.jc();var n=C.xc(27),i=C.xc(19);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function ot(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Email je obavezan! "),C.Wb())}function rt(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Email mora biti validan! "),C.Wb())}function st(e,t){if(1&e&&(C.Vb(0),C.Fc(1,ot,2,0,"p",39),C.Fc(2,rt,2,0,"p",39),C.Ub()),2&e){C.jc();var n=C.xc(35);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.pattern)}}function ct(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Korisni\u010dko ime je obavezno! "),C.Wb())}function lt(e,t){if(1&e&&(C.Xb(0,"p",40),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function bt(e,t){if(1&e&&(C.Vb(0),C.Fc(1,ct,2,0,"p",39),C.Fc(2,lt,2,2,"p",39),C.Ub()),2&e){C.jc();var n=C.xc(43);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function ut(e,t){1&e&&(C.Xb(0,"p",40),C.Hc(1," Telefon je obavezan! "),C.Wb())}function dt(e,t){if(1&e&&(C.Xb(0,"p",40),C.Hc(1),C.Wb()),2&e){var n=C.jc(2);C.Eb(1),C.Kc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function pt(e,t){if(1&e&&(C.Vb(0),C.Fc(1,ut,2,0,"p",39),C.Fc(2,dt,2,2,"p",39),C.Ub()),2&e){C.jc();var n=C.xc(51);C.Eb(1),C.pc("ngIf",null==n.errors?null:n.errors.required),C.Eb(1),C.pc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var mt,ft,gt,ht,vt=((mt=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.route=t,this.adminService=n,this.options=i,this.userService=a,this.toastrService=o,this.router=r,this.user={email:"",firstName:"",lastName:"",password:"",phone:"",role:"",username:"",company:{pib:"",mat:"",address:void 0,name:"",fax:"",email:"",emailReception:"",manager:"",legalRep:{firstName:"",lastName:""},nriz:{username:"",password:""},telephone:"",occupation:void 0,operations:[]}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("username");this.adminService.getUser(t,"username").subscribe((function(t){e.user=t}))}},{key:"getConfigValue",value:function(e){return Object(S.n)(this.options,e,null)}},{key:"updateUser",value:function(e){e.valid?(this.userService.updateUser(this.user,this.user._id).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/companies",this.user.company.pib])}}]),e}()).\u0275fac=function(e){return new(e||mt)(C.Rb(y.a),C.Rb(l.a),C.Rb(S.a),C.Rb(p.a),C.Rb(s.Kb),C.Rb(y.c))},mt.\u0275cmp=C.Lb({type:mt,selectors:[["admin-user"]],decls:79,vars:43,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-role",1,"label"],["fullWidth","","id","input-role",3,"ngModel","selected","ngModelChange"],[3,"value"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","success","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,t){if(1&e){var n=C.Yb();C.Xb(0,"nb-card",0),C.Xb(1,"form",1,2),C.fc("ngSubmit",(function(){C.zc(n);var e=C.xc(2);return t.updateUser(e)})),C.Xb(3,"nb-card-header"),C.Xb(4,"div",3),C.Xb(5,"div",4),C.Xb(6,"a",5),C.Sb(7,"i",6),C.Wb(),C.Wb(),C.Xb(8,"div",7),C.Xb(9,"h5",8),C.Hc(10),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(11,"div",3),C.Xb(12,"nb-card-body",9),C.Xb(13,"div",10),C.Xb(14,"div",0),C.Xb(15,"label",11),C.Hc(16,"Ime:"),C.Wb(),C.Wb(),C.Xb(17,"div",9),C.Xb(18,"input",12,13),C.fc("ngModelChange",(function(e){return t.user.firstName=e})),C.Wb(),C.Fc(20,et,4,3,"ng-container",14),C.Wb(),C.Wb(),C.Xb(21,"div",10),C.Xb(22,"div",0),C.Xb(23,"label",15),C.Hc(24,"Prezime:"),C.Wb(),C.Wb(),C.Xb(25,"div",9),C.Xb(26,"input",16,17),C.fc("ngModelChange",(function(e){return t.user.lastName=e})),C.Wb(),C.Fc(28,at,4,3,"ng-container",14),C.Wb(),C.Wb(),C.Xb(29,"div",10),C.Xb(30,"div",0),C.Xb(31,"label",18),C.Hc(32,"Email:"),C.Wb(),C.Wb(),C.Xb(33,"div",9),C.Xb(34,"input",19,20),C.fc("ngModelChange",(function(e){return t.user.email=e})),C.Wb(),C.Fc(36,st,3,2,"ng-container",14),C.Wb(),C.Wb(),C.Xb(37,"div",10),C.Xb(38,"div",0),C.Xb(39,"label",21),C.Hc(40,"Korisni\u010dko ime:"),C.Wb(),C.Wb(),C.Xb(41,"div",9),C.Xb(42,"input",22,23),C.fc("ngModelChange",(function(e){return t.user.username=e})),C.Wb(),C.Fc(44,bt,3,2,"ng-container",14),C.Wb(),C.Wb(),C.Xb(45,"div",10),C.Xb(46,"div",0),C.Xb(47,"label",24),C.Hc(48,"Telefon:"),C.Wb(),C.Wb(),C.Xb(49,"div",9),C.Xb(50,"input",25,26),C.fc("ngModelChange",(function(e){return t.user.phone=e})),C.Wb(),C.Fc(52,pt,3,2,"ng-container",14),C.Wb(),C.Wb(),C.Wb(),C.Xb(53,"nb-card-body",9),C.Xb(54,"div",10),C.Xb(55,"div",0),C.Xb(56,"label",27),C.Hc(57,"Uloga:"),C.Wb(),C.Wb(),C.Xb(58,"div",9),C.Xb(59,"nb-select",28),C.fc("ngModelChange",(function(e){return t.user.role=e})),C.Xb(60,"nb-option",29),C.Hc(61,"Menad\u017eer"),C.Wb(),C.Xb(62,"nb-option",29),C.Hc(63,"Admin"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(64,"div",10),C.Xb(65,"div",0),C.Xb(66,"label",30),C.Hc(67,"Firma:"),C.Wb(),C.Wb(),C.Xb(68,"div",31),C.Sb(69,"input",32),C.Wb(),C.Xb(70,"div",33),C.Xb(71,"button",34),C.fc("click",(function(){return t.gotoCompany()})),C.Sb(72,"i",35),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Xb(73,"nb-card-footer"),C.Xb(74,"div",3),C.Sb(75,"div",36),C.Xb(76,"div",37),C.Xb(77,"button",38),C.Hc(78,"SA\u010cUVAJ"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb()}if(2&e){var i=C.xc(19),a=C.xc(27),o=C.xc(35),r=C.xc(43),s=C.xc(51);C.Eb(10),C.Kc(" ",t.user.firstName," ",t.user.lastName,""),C.Eb(8),C.pc("ngModel",t.user.firstName)("maxlength",t.getConfigValue("forms.validation.ime.maxLength"))("minlength",t.getConfigValue("forms.validation.ime.minLength"))("pattern",t.getConfigValue("forms.validation.ime.pattern"))("required",t.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),C.Eb(2),C.pc("ngIf",i.invalid&&i.touched),C.Eb(6),C.pc("ngModel",t.user.lastName)("maxlength",t.getConfigValue("forms.validation.prezime.maxLength"))("minlength",t.getConfigValue("forms.validation.prezime.minLength"))("pattern",t.getConfigValue("forms.validation.prezime.pattern"))("required",t.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),C.Eb(2),C.pc("ngIf",a.invalid&&a.touched),C.Eb(6),C.pc("ngModel",t.user.email)("pattern",t.getConfigValue("forms.validation.email.pattern"))("required",t.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),C.Eb(2),C.pc("ngIf",o.invalid&&o.touched),C.Eb(6),C.pc("ngModel",t.user.username)("maxlength",t.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",t.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",t.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),C.Eb(2),C.pc("ngIf",r.invalid&&r.touched),C.Eb(6),C.pc("ngModel",t.user.phone)("maxlength",t.getConfigValue("forms.validation.telefon.maxLength"))("minlength",t.getConfigValue("forms.validation.telefon.minLength"))("required",t.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),C.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),C.Eb(2),C.pc("ngIf",s.invalid&&s.touched),C.Eb(7),C.pc("ngModel",t.user.role)("selected",t.user.role),C.Eb(1),C.pc("value","manager"),C.Eb(2),C.pc("value","admin"),C.Eb(7),C.pc("placeholder",t.user.company.name)}},directives:[s.x,r.w,r.l,r.m,s.A,y.f,s.w,s.Q,r.b,r.k,r.n,r.f,r.g,r.q,r.s,o.m,s.qb,s.fb,s.t,s.y],styles:[""]}),mt),Wt={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{firstName:{title:"Ime"},lastName:{title:"Prezime"},username:{title:"Korisni\u010dko ime"},email:{title:"Email"},phone:{title:"Telefon"},company:{editable:!1,valuePrepareFunction:function(e,t){return t.company.name},title:"Firma"}}},Xt=[{path:"",component:M,children:[{path:"admin-dashboard",loadChildren:function(){return n.e(10).then(n.bind(null,"LaSW")).then((function(e){return e.AdminDashboardModule}))}},{path:"profile",component:Fe},{path:"users",component:(ft=function(){function e(t,n,i,a){_classCallCheck(this,e),this.adminService=t,this.toastrService=n,this.router=i,this.userService=a,this.usersSource=new c.a,this.userSettings=Wt}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.adminService.getUsers().subscribe((function(t){e.usersSource.load(t)}))}},{key:"showToast",value:function(e,t,n){this.toastrService.show(t,e,{status:n})}},{key:"createUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.createUser(t).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateUser",value:function(e){var t=e.newData,n=e.confirm;try{this.userService.updateUser(t,t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteUser",value:function(e){var t=e.data,n=e.confirm;try{if(!window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete "+t.username+"?"))return;this.userService.deleteUser(t._id).subscribe((function(e){})),n.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+t.username,"success")}catch(i){n.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+t.username+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"userInfo",value:function(e){var t=e.data;this.router.navigate(["admin/users",t.username])}}]),e}(),ft.\u0275fac=function(e){return new(e||ft)(C.Rb(l.a),C.Rb(s.Kb),C.Rb(y.c),C.Rb(p.a))},ft.\u0275cmp=C.Lb({type:ft,selectors:[["admin-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,t){1&e&&(C.Xb(0,"nb-card"),C.Xb(1,"nb-card-header"),C.Hc(2,"Korisnici"),C.Wb(),C.Xb(3,"nb-card-body"),C.Xb(4,"ng2-smart-table",0),C.fc("createConfirm",(function(e){return t.createUser(e)}))("editConfirm",(function(e){return t.updateUser(e)}))("deleteConfirm",(function(e){return t.deleteUser(e)}))("custom",(function(e){return t.userInfo(e)})),C.Wb(),C.Wb(),C.Wb()),2&e&&(C.Eb(4),C.pc("settings",t.userSettings)("source",t.usersSource))},directives:[s.x,s.A,s.w,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),ft)},{path:"users/:username",component:vt},{path:"companies",component:E},{path:"companies/:pib",component:te},{path:"storages",component:$e},{path:"storages/:id",component:Ke},{path:"permits",component:me},{path:"permits/:id",component:le},{path:"reports",loadChildren:function(){return Promise.resolve().then(n.bind(null,"BKSH")).then((function(e){return e.ReportsModule}))}}]}],yt=((gt=function e(){_classCallCheck(this,e)}).\u0275mod=C.Pb({type:gt}),gt.\u0275inj=C.Ob({factory:function(e){return new(e||gt)},imports:[[y.g.forChild(Xt)],y.g]}),gt),kt=n("BKSH"),Ct=((ht=function e(){_classCallCheck(this,e)}).\u0275mod=C.Pb({type:ht}),ht.\u0275inj=C.Ob({factory:function(e){return new(e||ht)},providers:[l.a,p.a,d.a,u.a,f.a,h.a,g.a,m.a,b.a],imports:[[o.c,yt,v.a,s.cb,s.B,c.c,s.R,r.e,s.u,s.P,s.kb,s.k,s.Gb,s.Ab,s.sb,s.K,s.nb,kt.ReportsModule,X.StorageModule,W.a]]}),ht)},"X+yL":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i,a=n("tk/3"),o=n("LRne"),r=n("AytR"),s=n("fXoL"),c=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).http=e,i.apiUrl=r.a.apiUrl,i.dko={datumDozvolePrimalac:new Date,datumDozvoleTransport:new Date,datumIspitivanja:new Date,dodatneInformacije:"",fizickoStanje:"",vrstaProizvodjaca:"",masaOtpada:0,nacinPakovanja:"",nacinPostupanja:"",otpad:void 0,qLista:"",registarskiBroj:"",rutaKretanja:new Array(5),sifraDozvolePrimalac:"",sifraDozvoleTransport:"",sifraIspitivanja:"",vidPrevoza:"",vrstaOtpada:"",vrstaPrimalaca:"",vrstaVozila:""},i}return _createClass(n,[{key:"sendSyncDKO",value:function(e){this.dko=e}},{key:"sendDKO",value:function(e){var t=this;e.subscribe((function(e){t.dko=e}))}},{key:"getDKO",value:function(){return Object(o.a)(this.dko)}},{key:"generateDKO",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/dko",{dko:e,skladiste:t,trash:n},{headers:i,responseType:"blob"})}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(s.bc(a.b))},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac}),i)},fJ6F:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl=i.a.apiUrl}return _createClass(e,[{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/one/"+"".concat(t,"/").concat(e))}},{key:"getUsers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/users/many/"+"".concat(t,"/").concat(e))}},{key:"getCompany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/one/"+"".concat(t,"/").concat(e))}},{key:"getCompanies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/companies/many/"+"".concat(t,"/").concat(e))}},{key:"getStorage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/one/"+"".concat(t,"/").concat(e))}},{key:"getStorages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/storages/many/"+"".concat(t,"/").concat(e))}},{key:"getPermit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/one/"+"".concat(t,"/").concat(e))}},{key:"getPermits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_id";return this.http.get(this.apiUrl+"/api/admin/permits/many/"+"".concat(t,"/").concat(e))}},{key:"getCompanyNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return this.http.get(this.apiUrl+"/api/admin/companies/storages/"+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.bc(o.b))},e.\u0275prov=a.Nb({token:e,factory:e.\u0275fac}),e}()},jPBY:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,a=n("tk/3"),o=n("AytR"),r=n("fXoL"),s=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).http=e,i.apiUrl=o.a.apiUrl,i}return _createClass(n,[{key:"getMonthlyReport",value:function(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}},{key:"getOneMonthlyReport",value:function(e){return this.http.get(this.apiUrl+"/api/mesecniizvestaj/"+e)}},{key:"createMesecniIzvestaj",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:n,storageID:t._id},{headers:i,responseType:"blob"})}},{key:"createGodisnjiIzvestaj",value:function(e,t,n){var i=new a.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/godisnjiizvestaj",{trash:e,reportType:t,company:n},{headers:i,responseType:"blob"})}},{key:"getAllMesecniIzvestajFirme",value:function(e){return this.mesecniIzvestaj$||(this.mesecniIzvestaj$=this.http.get(this.apiUrl+"/api/mesecniizvestaj/firma/"+e)),this.mesecniIzvestaj$}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(r.bc(a.b))},i.\u0275prov=r.Nb({token:i,factory:i.\u0275fac}),i)}}]);