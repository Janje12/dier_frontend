(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{FYoA:function(e,i,t){"use strict";t.r(i),t.d(i,"AdminModule",(function(){return Qe}));var n=t("ofXK"),a=t("3Pt+"),o=t("aceb"),r=t("RS3s"),s=t("g6/h"),l=t("v7Ib"),c=t("tk/3"),b=t("AytR"),u=t("fXoL");let d=(()=>{class e extends class{}{constructor(e){super(),this.http=e,this.apiUrl=b.a.apiUrl}getMesecniIzvestaj(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}createMesecniIzvestaj(e,i,t){let n=new c.e;return n=n.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:t,storageID:i._id},{headers:n,responseType:"blob"})}}return e.\u0275fac=function(i){return new(i||e)(u.bc(c.b))},e.\u0275prov=u.Nb({token:e,factory:e.\u0275fac}),e})();var m=t("El76"),f=t("ud2R"),g=t("pVkk"),p=t("vTDv"),h=t("tyNb");const v=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/korisnici",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/firme",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/skladiste",icon:{icon:"box",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/izvestaji",icon:{icon:"print",pack:"font-awesome"}}];var k=t("mgFL");let W=(()=>{class e{constructor(){this.menu=v}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,i){1&e&&(u.Xb(0,"ngx-one-column-layout"),u.Sb(1,"nb-menu",0),u.Sb(2,"router-outlet"),u.Wb()),2&e&&(u.Eb(1),u.nc("items",i.menu))},directives:[k.a,o.V,h.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),e})();const X={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv"},email:{title:"Email"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}};let C=(()=>{class e{constructor(e,i,t){this.firmaService=e,this.toastrService=i,this.router=t,this.companySource=new r.a,this.companySettings=X}ngOnInit(){this.firmaService.getFirma().subscribe(e=>{this.companySource.load(e)})}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}createCompany({newData:e,confirm:i}){try{this.firmaService.createFirma(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}updateCompany({newData:e,confirm:i}){try{this.firmaService.updateFirma(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}deleteCompany({data:e,confirm:i}){try{this.firmaService.deleteFirma(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}companyInfo({data:e}){this.router.navigate(["admin/firme",e.pib])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(s.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Ec(2,"Firme"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"ng2-smart-table",0),u.fc("createConfirm",(function(e){return i.createCompany(e)}))("editConfirm",(function(e){return i.updateCompany(e)}))("deleteConfirm",(function(e){return i.deleteCompany(e)}))("custom",(function(e){return i.companyInfo(e)})),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.nc("settings",i.companySettings)("source",i.companySource))},directives:[o.s,o.u,o.r,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),e})();var E=t("McNs");function y(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Email je obavezan! "),u.Wb())}function I(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Email mora biti validan! "),u.Wb())}function z(e,i){if(1&e&&(u.Vb(0),u.Cc(1,y,2,0,"p",47),u.Cc(2,I,2,0,"p",47),u.Ub()),2&e){u.hc();const e=u.uc(41);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function S(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Email je obavezan! "),u.Wb())}function j(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Email mora biti validan! "),u.Wb())}function M(e,i){if(1&e&&(u.Vb(0),u.Cc(1,S,2,0,"p",47),u.Cc(2,j,2,0,"p",47),u.Ub()),2&e){u.hc();const e=u.uc(49);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function x(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Telefon je obavezan! "),u.Wb())}function w(e,i){if(1&e&&(u.Xb(0,"p",48),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Telefon mora da bude du\u017ei od ",e.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",e.getConfigValue("forms.validation.telefon.maxLength")," ")}}function V(e,i){if(1&e&&(u.Vb(0),u.Cc(1,x,2,0,"p",47),u.Cc(2,w,2,2,"p",47),u.Ub()),2&e){u.hc();const e=u.uc(57);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function T(e,i){if(1&e&&(u.Xb(0,"p",48),u.Ec(1),u.Wb()),2&e){const e=u.hc(3);u.Eb(1),u.Hc(" Faks mora da bude du\u017ei od ",e.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",e.getConfigValue("forms.validation.telefon.maxLength")," ")}}function O(e,i){if(1&e&&(u.Vb(0),u.Cc(1,T,2,2,"p",47),u.Ub()),2&e){u.hc();const e=u.uc(6);u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function q(e,i){if(1&e){const e=u.Yb();u.Xb(0,"div",10),u.Xb(1,"div",0),u.Xb(2,"label",49),u.Ec(3,"Faks:"),u.Wb(),u.Wb(),u.Xb(4,"div",9),u.Xb(5,"input",50,51),u.fc("ngModelChange",(function(i){return u.wc(e),u.hc().company.faks=i})),u.Wb(),u.Cc(7,O,2,1,"ng-container",23),u.Wb(),u.Wb()}if(2&e){const e=u.uc(6),i=u.hc();u.Eb(5),u.nc("ngModel",i.company.faks)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("status",e.dirty?e.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),u.Eb(2),u.nc("ngIf",e.invalid&&e.touched)}}function L(e,i){1&e&&(u.Xb(0,"p",48),u.Ec(1," Zakosni zastupnik firme je obavezan! "),u.Wb())}function U(e,i){if(1&e&&(u.Xb(0,"p",48),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",e.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",e.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function F(e,i){if(1&e&&(u.Vb(0),u.Cc(1,L,2,0,"p",47),u.Cc(2,U,2,2,"p",47),u.Ub()),2&e){u.hc();const e=u.uc(66);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function R(e,i){1&e&&u.Sb(0,"input",52),2&e&&u.nc("placeholder",i.$implicit)}let P=(()=>{class e{constructor(e,i,t={},n,a){this.route=e,this.firmaService=i,this.options=t,this.toastrService=n,this.router=a,this.company={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}ngOnInit(){const e=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(e,"pib").subscribe(e=>{this.company=e})}getConfigValue(e){return Object(E.n)(this.options,e,null)}updateCompany(e){e.valid?(this.firmaService.updateFirma(this.company).subscribe(e=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}gotoUser(){this.router.navigate(["admin/korisnici",this.company.menadzer])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(h.a),u.Rb(s.a),u.Rb(E.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-company"]],decls:96,vars:34,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,i){if(1&e){const e=u.Yb();u.Xb(0,"nb-card",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){u.wc(e);const t=u.uc(2);return i.updateCompany(t)})),u.Xb(3,"nb-card-header"),u.Xb(4,"div",3),u.Xb(5,"div",4),u.Xb(6,"a",5),u.Sb(7,"i",6),u.Wb(),u.Wb(),u.Xb(8,"div",7),u.Xb(9,"h5",8),u.Ec(10),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(11,"nb-card-body"),u.Xb(12,"div",3),u.Xb(13,"div",9),u.Xb(14,"div",10),u.Xb(15,"div",0),u.Xb(16,"label",11),u.Ec(17,"Naziv Firme:"),u.Wb(),u.Wb(),u.Xb(18,"div",9),u.Xb(19,"input",12,13),u.fc("ngModelChange",(function(e){return i.company.naziv=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(21,"div",10),u.Xb(22,"div",0),u.Xb(23,"label",14),u.Ec(24,"PIB:"),u.Wb(),u.Wb(),u.Xb(25,"div",9),u.Xb(26,"input",15,16),u.fc("ngModelChange",(function(e){return i.company.pib=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"div",10),u.Xb(29,"div",0),u.Xb(30,"label",17),u.Ec(31,"Mati\u010dni broj:"),u.Wb(),u.Wb(),u.Xb(32,"div",9),u.Xb(33,"input",18,19),u.fc("ngModelChange",(function(e){return i.company.mat=e})),u.Wb(),u.Wb(),u.Wb(),u.Xb(35,"div",10),u.Xb(36,"div",0),u.Xb(37,"label",20),u.Ec(38,"Email:"),u.Wb(),u.Wb(),u.Xb(39,"div",9),u.Xb(40,"input",21,22),u.fc("ngModelChange",(function(e){return i.company.email=e})),u.Wb(),u.Cc(42,z,3,2,"ng-container",23),u.Wb(),u.Wb(),u.Xb(43,"div",10),u.Xb(44,"div",0),u.Xb(45,"label",24),u.Ec(46,"Email za prijem dokumenata:"),u.Wb(),u.Wb(),u.Xb(47,"div",9),u.Xb(48,"input",25,26),u.fc("ngModelChange",(function(e){return i.company.emailPrijem=e})),u.Wb(),u.Cc(50,M,3,2,"ng-container",23),u.Wb(),u.Wb(),u.Xb(51,"div",10),u.Xb(52,"div",0),u.Xb(53,"label",27),u.Ec(54,"Telefon:"),u.Wb(),u.Wb(),u.Xb(55,"div",9),u.Xb(56,"input",28,29),u.fc("ngModelChange",(function(e){return i.company.telefon=e})),u.Wb(),u.Cc(58,V,3,2,"ng-container",23),u.Wb(),u.Wb(),u.Cc(59,q,8,6,"div",30),u.Xb(60,"div",10),u.Xb(61,"div",0),u.Xb(62,"label",31),u.Ec(63,"Zakonski Zastupnik Firme:"),u.Wb(),u.Wb(),u.Xb(64,"div",9),u.Xb(65,"input",32,33),u.fc("ngModelChange",(function(e){return i.company.zakonskiZastupnik=e})),u.Wb(),u.Cc(67,F,3,2,"ng-container",23),u.Wb(),u.Wb(),u.Wb(),u.Xb(68,"div",9),u.Xb(69,"div",10),u.Xb(70,"div",0),u.Xb(71,"label",34),u.Ec(72,"Adresa Firme:"),u.Wb(),u.Wb(),u.Xb(73,"div",9),u.Sb(74,"input",35),u.Wb(),u.Wb(),u.Xb(75,"div",3),u.Xb(76,"div",0),u.Xb(77,"label",36),u.Ec(78,"Rad firme:"),u.Wb(),u.Wb(),u.Xb(79,"div",9),u.Cc(80,R,1,1,"input",37),u.Wb(),u.Wb(),u.Xb(81,"div",10),u.Xb(82,"div",0),u.Xb(83,"label",38),u.Ec(84,"Menad\u017eer Firme:"),u.Wb(),u.Wb(),u.Xb(85,"div",39),u.Sb(86,"input",40),u.Wb(),u.Xb(87,"div",41),u.Xb(88,"button",42),u.fc("click",(function(){return i.gotoUser()})),u.Sb(89,"i",43),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(90,"nb-card-footer"),u.Xb(91,"div",3),u.Sb(92,"div",44),u.Xb(93,"div",45),u.Xb(94,"button",46),u.Ec(95,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.uc(41),t=u.uc(49),n=u.uc(57),a=u.uc(66);u.Eb(10),u.Gc(" ",i.company.naziv,""),u.Eb(9),u.nc("ngModel",i.company.naziv),u.Eb(7),u.nc("ngModel",i.company.pib),u.Eb(7),u.nc("ngModel",i.company.mat),u.Eb(7),u.nc("ngModel",i.company.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),u.Eb(2),u.nc("ngIf",e.invalid&&e.touched),u.Eb(6),u.nc("ngModel",i.company.emailPrijem)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(6),u.nc("ngModel",i.company.telefon)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("required",i.getConfigValue("forms.validation.telefon.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(1),u.nc("ngIf",""===i.company.faks),u.Eb(6),u.nc("ngModel",i.company.zakonskiZastupnik)("maxlength",i.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",i.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",i.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(7),u.nc("placeholder",i.company.adresa.mesto.opstinaNaziv+", "+i.company.adresa.mesto.mestoNaziv+", "+i.company.adresa.ulica),u.Eb(6),u.nc("ngForOf",i.company.radFirme),u.Eb(6),u.nc("placeholder",i.company.menadzer)}},directives:[o.s,a.w,a.l,a.m,o.u,h.f,o.r,o.K,a.b,a.k,a.n,a.q,a.s,n.n,a.f,a.g,n.m,o.p,o.t],styles:[""]}),e})();var D=t("SxV6");function B(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Ime je obavezno! "),u.Wb())}function K(e,i){if(1&e&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.ime.maxLength")," ")}}function N(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Ime mora biti validno! "),u.Wb())}function _(e,i){if(1&e&&(u.Vb(0),u.Cc(1,B,2,0,"p",26),u.Cc(2,K,2,2,"p",26),u.Cc(3,N,2,0,"p",26),u.Ub()),2&e){u.hc();const e=u.uc(8);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function A(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Prezime je obavezno! "),u.Wb())}function Z(e,i){if(1&e&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.prezime.maxLength")," ")}}function G(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Prezime mora biti validno! "),u.Wb())}function H(e,i){if(1&e&&(u.Vb(0),u.Cc(1,A,2,0,"p",26),u.Cc(2,Z,2,2,"p",26),u.Cc(3,G,2,0,"p",26),u.Ub()),2&e){u.hc();const e=u.uc(16),i=u.uc(8);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function J(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Email je obavezan! "),u.Wb())}function Y(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Email mora biti validan! "),u.Wb())}function $(e,i){if(1&e&&(u.Vb(0),u.Cc(1,J,2,0,"p",26),u.Cc(2,Y,2,0,"p",26),u.Ub()),2&e){u.hc();const e=u.uc(24);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Q(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Korisni\u010dko ime je obavezno! "),u.Wb())}function ee(e,i){if(1&e&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function ie(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Q,2,0,"p",26),u.Cc(2,ee,2,2,"p",26),u.Ub()),2&e){u.hc();const e=u.uc(32);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function te(e,i){1&e&&(u.Xb(0,"p",27),u.Ec(1," Telefon je obavezan! "),u.Wb())}function ne(e,i){if(1&e&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Telefon mora da bude du\u017ei od ",e.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",e.getConfigValue("forms.validation.telefon.maxLength")," ")}}function ae(e,i){if(1&e&&(u.Vb(0),u.Cc(1,te,2,0,"p",26),u.Cc(2,ne,2,2,"p",26),u.Ub()),2&e){u.hc();const e=u.uc(40);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let oe=(()=>{class e{constructor(e,i={},t,n){this.korisnikService=e,this.options=i,this.toastrService=t,this.authService=n,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}ngOnInit(){this.korisnikService.getCurrentKorisnik().pipe(Object(D.a)()).subscribe(e=>{this.korisnik=e})}getConfigValue(e){return Object(E.n)(this.options,e,null)}enableInputs(){this.inputsDisabled=!1}updateKorisnik(e){if(e.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe(e=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;let e=null;this.authService.getToken().subscribe(i=>{e=i}),this.authService.refreshToken("email",e).subscribe(e=>{})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(l.a),u.Rb(E.a),u.Rb(o.zb),u.Rb(E.g))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(e);const t=u.uc(1);return i.updateKorisnik(t)})),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"label",4),u.Ec(5,"Ime:"),u.Wb(),u.Wb(),u.Xb(6,"div",5),u.Xb(7,"input",6,7),u.fc("ngModelChange",(function(e){return i.korisnik.ime=e})),u.Wb(),u.Cc(9,_,4,3,"ng-container",8),u.Wb(),u.Wb(),u.Xb(10,"div",2),u.Xb(11,"div",3),u.Xb(12,"label",9),u.Ec(13,"Prezime:"),u.Wb(),u.Wb(),u.Xb(14,"div",5),u.Xb(15,"input",10,11),u.fc("ngModelChange",(function(e){return i.korisnik.prezime=e})),u.Wb(),u.Cc(17,H,4,3,"ng-container",8),u.Wb(),u.Wb(),u.Xb(18,"div",2),u.Xb(19,"div",3),u.Xb(20,"label",12),u.Ec(21,"Email:"),u.Wb(),u.Wb(),u.Xb(22,"div",5),u.Xb(23,"input",13,14),u.fc("ngModelChange",(function(e){return i.korisnik.email=e})),u.Wb(),u.Cc(25,$,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(26,"div",2),u.Xb(27,"div",3),u.Xb(28,"label",15),u.Ec(29,"Korisni\u010dko ime:"),u.Wb(),u.Wb(),u.Xb(30,"div",5),u.Xb(31,"input",16,17),u.fc("ngModelChange",(function(e){return i.korisnik.korisnickoIme=e})),u.Wb(),u.Cc(33,ie,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(34,"div",2),u.Xb(35,"div",3),u.Xb(36,"label",18),u.Ec(37,"Telefon:"),u.Wb(),u.Wb(),u.Xb(38,"div",5),u.Xb(39,"input",19,20),u.fc("ngModelChange",(function(e){return i.korisnik.telefon=e})),u.Wb(),u.Cc(41,ae,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(42,"div",21),u.Sb(43,"div",22),u.Xb(44,"div",23),u.Xb(45,"button",24),u.fc("click",(function(){return i.enableInputs()})),u.Ec(46,"IZMENI"),u.Wb(),u.Wb(),u.Xb(47,"div",23),u.Xb(48,"button",25),u.Ec(49,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.uc(8),t=u.uc(16),n=u.uc(24),a=u.uc(32),o=u.uc(40);u.Eb(7),u.nc("ngModel",i.korisnik.ime)("maxlength",i.getConfigValue("forms.validation.ime.maxLength"))("minlength",i.getConfigValue("forms.validation.ime.minLength"))("pattern",i.getConfigValue("forms.validation.ime.pattern"))("required",i.getConfigValue("forms.validation.ime.required"))("status",e.dirty?e.invalid?"danger":"success":"basic")("disabled",i.inputsDisabled),u.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),u.Eb(2),u.nc("ngIf",e.invalid&&e.touched),u.Eb(6),u.nc("ngModel",i.korisnik.prezime)("maxlength",i.getConfigValue("forms.validation.prezime.maxLength"))("minlength",i.getConfigValue("forms.validation.prezime.minLength"))("pattern",i.getConfigValue("forms.validation.prezime.pattern"))("required",i.getConfigValue("forms.validation.prezime.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",i.inputsDisabled),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(6),u.nc("ngModel",i.korisnik.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",i.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",i.korisnik.korisnickoIme)("maxlength",i.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",i.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",i.getConfigValue("forms.validation.korisnickoIme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",i.inputsDisabled),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(6),u.nc("ngModel",i.korisnik.telefon)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("required",i.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",i.inputsDisabled),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(4),u.nc("disabled",!i.inputsDisabled),u.Eb(3),u.nc("disabled",i.inputsDisabled)}},directives:[a.w,a.l,a.m,o.K,a.b,a.k,a.n,a.f,a.g,a.q,a.s,n.n,o.p],styles:[""]}),e})(),re=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-body"),u.Sb(2,"ngx-profile-korisnik"),u.Wb(),u.Wb())},directives:[o.s,o.r,oe],styles:[""]}),e})();const se={actions:{columnTitle:"Generi\u0161i izve\u0161taj",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"generisi",title:'<i class="fa fa-file-pdf"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},kolicina:{title:"Koli\u010dina (kg)"}}};function le(e,i){if(1&e){const e=u.Yb();u.Xb(0,"div",1),u.Xb(1,"h5"),u.Ec(2),u.Wb(),u.Xb(3,"p"),u.Ec(4,"Generi\u0161i sve izve\u0161taje "),u.Xb(5,"i",2),u.fc("click",(function(){u.wc(e);const t=i.$implicit;return u.hc().allTrashReport(t)})),u.Wb(),u.Wb(),u.Xb(6,"ng2-smart-table",3),u.fc("custom",(function(t){u.wc(e);const n=i.$implicit;return u.hc().trashReport(t,n)})),u.Wb(),u.Wb()}if(2&e){const e=i.$implicit,t=u.hc();u.Eb(2),u.Fc(e.naziv),u.Eb(4),u.nc("settings",t.storageReportSettings)("source",e.neopasniOtpad)}}let ce=(()=>{class e{constructor(e,i){this.skladisteService=e,this.mesecniIzvestajService=i,this.storages=[],this.storageReportSettings=se}ngOnInit(){this.storageIDs.forEach(e=>this.skladisteService.getOneSkladiste(e).subscribe(e=>{this.storages.push(e)})),this.mergeOtpads()}mergeOtpads(){if(void 0!==this.storages)for(const e of this.storages)e.neopasniOtpad=e.neopasniOtpad.concat(e.opasniOtpad)}downloadFile(e){const i=new Blob([e],{type:"application/pdf"}),t=window.URL.createObjectURL(i);window.open(t)}trashReport({data:e},i){this.mesecniIzvestajService.createMesecniIzvestaj(e,i,"PRODUCTION").subscribe(e=>this.downloadFile(e))}allTrashReport(e){}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(g.a),u.Rb(d))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-storage-reports"]],inputs:{storageIDs:"storageIDs"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,i){1&e&&u.Cc(0,le,7,3,"div",0),2&e&&u.nc("ngForOf",i.storages)},directives:[n.m,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),e})();function be(e,i){if(1&e&&(u.Xb(0,"nb-tab",10),u.Sb(1,"ngx-storage-reports",11),u.Wb()),2&e){const e=u.hc();u.Eb(1),u.nc("storageIDs",e.company.skladista)}}function ue(e,i){1&e&&(u.Xb(0,"nb-tab",12),u.Ec(1," NOT "),u.Wb())}function de(e,i){1&e&&(u.Xb(0,"nb-tab",13),u.Ec(1," NOTR "),u.Wb())}function me(e,i){1&e&&(u.Xb(0,"nb-tab",14),u.Ec(1," NOO "),u.Wb())}function fe(e,i){1&e&&(u.Xb(0,"nb-tab",15),u.Ec(1," NOS "),u.Wb())}let ge=(()=>{class e{constructor(e,i,t,n,a){this.route=e,this.firmaService=i,this.toastrService=t,this.skladisteService=n,this.roleService=a,this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}ngOnInit(){const e=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(e,"pib").subscribe(e=>{this.company=e,this.skladisteService.getAllSkladistaFirme(this.company._id).pipe(Object(D.a)()).subscribe(e=>{this.skladista=e}),this.roleService.findOperations(this.company.radFirme).subscribe(e=>{this.operations=e})})}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(h.a),u.Rb(s.a),u.Rb(o.zb),u.Rb(g.a),u.Rb(f.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-company-reports"]],decls:18,vars:7,consts:[[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"storageIDs"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Xb(2,"h5"),u.Ec(3),u.Wb(),u.Wb(),u.Xb(4,"nb-card-body"),u.Xb(5,"div",0),u.Xb(6,"div",1),u.Xb(7,"label",2),u.Ec(8,"Email za prijem dokumenata:"),u.Wb(),u.Xb(9,"div",1),u.Xb(10,"input",3),u.fc("ngModelChange",(function(e){return i.company.emailPrijem=e})),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(11,"div",0),u.Xb(12,"nb-tabset",4),u.Cc(13,be,2,1,"nb-tab",5),u.Cc(14,ue,2,0,"nb-tab",6),u.Cc(15,de,2,0,"nb-tab",7),u.Cc(16,me,2,0,"nb-tab",8),u.Cc(17,fe,2,0,"nb-tab",9),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(3),u.Fc(i.company.naziv),u.Eb(7),u.nc("ngModel",i.company.emailPrijem),u.Eb(3),u.nc("ngIf",null==i.operations?null:i.operations.proizvodnja),u.Eb(1),u.nc("ngIf",null==i.operations?null:i.operations.transport),u.Eb(1),u.nc("ngIf",null==i.operations?null:i.operations.tretman),u.Eb(1),u.nc("ngIf",null==i.operations?null:i.operations.odlaganje),u.Eb(1),u.nc("ngIf",null==i.operations?null:i.operations.skladistenje))},directives:[o.s,o.u,o.r,o.K,a.b,a.k,a.n,o.ub,n.n,o.tb,ce],styles:[""]}),e})();const pe={pager:{perPage:10},actions:{columnTitle:"Jedan izve\u0161taj/Svi izve\u0161taji",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv Firme"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}};let he=(()=>{class e{constructor(e,i,t){this.firmaService=e,this.toastrService=i,this.router=t,this.companySource=new r.a,this.companySettings=pe}ngOnInit(){this.firmaService.getFirma().subscribe(e=>{this.companySource.load(e)})}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}companyReports(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.makeAllReports(e)}gotoCompanyReport({data:e}){this.router.navigate(["admin/izvestaji/firme/",e.pib])}makeAllReports(e){}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(s.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Ec(2,"Firme"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"ng2-smart-table",0),u.fc("custom",(function(e){return i.companyReports(e)})),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.nc("settings",i.companySettings)("source",i.companySource))},directives:[o.s,o.u,o.r,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),e})();const ve={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}};function ke(e,i){1&e&&(u.Xb(0,"p",34),u.Ec(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function We(e,i){if(1&e&&(u.Vb(0),u.Cc(1,ke,2,0,"p",33),u.Ub()),2&e){u.hc();const e=u.uc(22);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required)}}function Xe(e,i){1&e&&(u.Xb(0,"p",34),u.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),u.Wb())}function Ce(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Xe,2,0,"p",33),u.Ub()),2&e){u.hc();const e=u.uc(36);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required)}}function Ee(e,i){if(1&e&&(u.Xb(0,"div",11),u.Xb(1,"div",0),u.Xb(2,"label",35),u.Ec(3,"Geolokacija Skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(4,"div",10),u.Sb(5,"input",36),u.Wb(),u.Wb()),2&e){const e=u.hc();u.Eb(5),u.nc("placeholder",e.storage.geolokacijaN+"N"+e.storage.geolokacijaE+"E")}}function ye(e,i){if(1&e&&(u.Xb(0,"div",11),u.Xb(1,"div",0),u.Xb(2,"label",37),u.Ec(3,"Vrsta Deponije:"),u.Wb(),u.Wb(),u.Xb(4,"div",10),u.Sb(5,"input",38),u.Wb(),u.Wb()),2&e){const e=u.hc();u.Eb(5),u.nc("placeholder",e.storage.vrstaDeponije)}}const Ie=function(){return{standalone:!0}};let ze=(()=>{class e{constructor(e,i,t={},n,a,o,r){this.route=e,this.skladisteService=i,this.options=t,this.toastrService=n,this.router=a,this.notpadService=o,this.firmaService=r,this.storage={geolokacijaE:void 0,geolokacijaN:void 0,vrstaDeponije:void 0,_id:"",adresa:{mesto:{mestoNaziv:"",mestoSifra:0,opstinaNaziv:"",opstinaSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:0,naziv:""},this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.settings=ve}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(e).subscribe(e=>{this.storage=e;let i=this.storage.__t?this.storage.__t:"skladista";i=i.charAt(0).toLowerCase()+i.slice(1),i=i.substring(0,8)+"a"+i.slice(9),this.firmaService.findFirma(this.storage._id,i).subscribe(e=>{this.company=e}),this.mergeOtpads()}),this.updateSkladiste()}updateSkladiste(){const e=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(e).subscribe(e=>{this.storage=e,this.mergeOtpads()})}mergeOtpads(){void 0!==this.storage&&(this.storage.neopasniOtpad=this.storage.neopasniOtpad.concat(this.storage.opasniOtpad))}getConfigValue(e){return Object(E.n)(this.options,e,null)}updateStorage(e){e.valid?(this.skladisteService.updateSkladiste(this.storage).subscribe(e=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}updateTrash({newData:e,confirm:i},t){try{this.notpadService.updateNOtpad(e,t._id).subscribe(e=>{this.updateSkladiste()}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+e.naziv,"success")}catch(n){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}deleteTrash({data:e,confirm:i},t){try{this.notpadService.deleteNOtpad(e,t._id).subscribe(e=>{this.updateSkladiste()}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+e.naziv,"success")}catch(n){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}calculateStatus(){return this.storage.kolicina/this.storage.maxKolicina*100<33?"success":this.storage.kolicina/this.storage.maxKolicina*100<66?"warning":"danger"}calculateValue(){return this.storage.kolicina/this.storage.maxKolicina*100}gotoCompany(){this.router.navigate(["admin/firme",this.company.pib])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(h.a),u.Rb(g.a),u.Rb(E.a),u.Rb(o.zb),u.Rb(h.c),u.Rb(m.a),u.Rb(s.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-storage"]],decls:62,vars:29,consts:[[1,"col-12"],[3,"ngSubmit"],["formSkladista","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["velicina","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-firma",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-firma","name","firma","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],["size","large",3,"value","status"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolokacijaN",1,"label"],["disabled","","fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"placeholder"]],template:function(e,i){if(1&e){const e=u.Yb();u.Xb(0,"nb-card",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){u.wc(e);const t=u.uc(2);return i.updateStorage(t)})),u.Xb(3,"nb-card-header"),u.Xb(4,"div",3),u.Xb(5,"div",4),u.Xb(6,"a",5),u.Sb(7,"i",6),u.Wb(),u.Wb(),u.Xb(8,"div",7),u.Xb(9,"h5",8),u.Ec(10),u.Wb(),u.Xb(11,"p",9),u.Ec(12),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"nb-card-body"),u.Xb(14,"div",3),u.Xb(15,"div",10),u.Xb(16,"div",11),u.Xb(17,"div",0),u.Xb(18,"label",12),u.Ec(19,"Naziv skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(20,"div",10),u.Xb(21,"input",13,14),u.fc("ngModelChange",(function(e){return i.storage.naziv=e})),u.Wb(),u.Cc(23,We,2,1,"ng-container",15),u.Wb(),u.Wb(),u.Xb(24,"div",11),u.Xb(25,"div",0),u.Xb(26,"label",16),u.Ec(27,"Adresa Skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(28,"div",10),u.Sb(29,"input",17),u.Wb(),u.Wb(),u.Xb(30,"div",11),u.Xb(31,"div",0),u.Xb(32,"label",18),u.Ec(33,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(34,"div",10),u.Xb(35,"input",19,20),u.fc("ngModelChange",(function(e){return i.storage.maxKolicina=e})),u.Wb(),u.Cc(37,Ce,2,1,"ng-container",15),u.Wb(),u.Wb(),u.Wb(),u.Xb(38,"div",10),u.Cc(39,Ee,6,1,"div",21),u.Cc(40,ye,6,1,"div",21),u.Xb(41,"div",11),u.Xb(42,"div",0),u.Xb(43,"label",22),u.Ec(44,"Firma skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(45,"div",23),u.Sb(46,"input",24),u.Wb(),u.Xb(47,"div",25),u.Xb(48,"button",26),u.fc("click",(function(){return i.gotoCompany()})),u.Sb(49,"i",27),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(50,"div",11),u.Xb(51,"div",0),u.Xb(52,"nb-progress-bar",28),u.Ec(53),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(54,"nb-card-footer"),u.Xb(55,"div",3),u.Sb(56,"div",29),u.Xb(57,"div",30),u.Xb(58,"button",31),u.Ec(59,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(60,"nb-card-body"),u.Xb(61,"ng2-smart-table",32),u.fc("editConfirm",(function(e){return i.updateTrash(e,i.storage)}))("deleteConfirm",(function(e){return i.deleteTrash(e,i.storage)})),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.uc(22),t=u.uc(36);u.Eb(10),u.Fc(i.storage.naziv),u.Eb(2),u.Fc(i.storage.__t),u.Eb(9),u.nc("ngModel",i.storage.naziv)("ngModelOptions",u.qc(27,Ie))("maxlength",i.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",i.getConfigValue("forms.validation.nazivFirme.minLength"))("required",i.getConfigValue("forms.validation.nazivFirme.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),u.Eb(2),u.nc("ngIf",e.invalid&&e.touched),u.Eb(6),u.nc("placeholder",i.storage.adresa.mesto.opstinaNaziv+", "+i.storage.adresa.mesto.mestoNaziv+", "+i.storage.adresa.ulica),u.Eb(6),u.nc("ngModel",i.storage.maxKolicina)("ngModelOptions",u.qc(28,Ie))("pattern",i.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",i.getConfigValue("forms.validation.velicinaSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(2),u.nc("ngIf",void 0!==i.storage.geolokacijaN),u.Eb(1),u.nc("ngIf",void 0!==i.storage.vrstaDeponije),u.Eb(6),u.nc("placeholder",i.company.naziv),u.Eb(6),u.nc("value",i.calculateValue())("status",i.calculateStatus()),u.Eb(1),u.Hc(" ",i.storage.kolicina,"/",i.storage.maxKolicina," "),u.Eb(8),u.nc("settings",i.settings)("source",null==i.storage?null:i.storage.neopasniOtpad)}},directives:[o.s,a.w,a.l,a.m,o.u,h.f,o.r,o.K,a.b,a.k,a.n,a.f,a.g,a.s,n.n,a.p,a.q,o.p,o.db,o.t,r.b],styles:[""]}),e})();const Se={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{naziv:{title:"Naziv"},maxKolicina:{title:"Veli\u010dina"},kolicina:{title:"Trenutno stanje"},popunjenost:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}};let je=(()=>{class e{constructor(e,i,t){this.skladisteService=e,this.toastrService=i,this.router=t,this.storageSource=new r.a,this.storageSettings=Se}ngOnInit(){this.skladisteService.getSkladiste().subscribe(e=>{e.forEach(e=>e.popunjenost=(e.kolicina/e.maxKolicina*100).toFixed(0)),this.storageSource.load(e)})}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}createStorage({newData:e,confirm:i}){try{this.skladisteService.createSkladiste(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}updateStorage({newData:e,confirm:i}){try{this.skladisteService.updateSkladiste(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}deleteStorage({data:e,confirm:i}){try{this.skladisteService.deleteSkladiste(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+e.naziv,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+e.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}storageInfo({data:e}){this.router.navigate(["admin/skladiste",e._id])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(g.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-storages"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Ec(2,"Skladi\u0161ta"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"ng2-smart-table",0),u.fc("createConfirm",(function(e){return i.createStorage(e)}))("editConfirm",(function(e){return i.updateStorage(e)}))("deleteConfirm",(function(e){return i.deleteStorage(e)}))("custom",(function(e){return i.storageInfo(e)})),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.nc("settings",i.storageSettings)("source",i.storageSource))},directives:[o.s,o.u,o.r,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),e})();function Me(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Ime je obavezno! "),u.Wb())}function xe(e,i){if(1&e&&(u.Xb(0,"p",40),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.ime.maxLength")," ")}}function we(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Ime mora biti validno! "),u.Wb())}function Ve(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Me,2,0,"p",39),u.Cc(2,xe,2,2,"p",39),u.Cc(3,we,2,0,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(19);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Te(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Prezime je obavezno! "),u.Wb())}function Oe(e,i){if(1&e&&(u.Xb(0,"p",40),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Prezime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.prezime.maxLength")," ")}}function qe(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Prezime mora biti validno! "),u.Wb())}function Le(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Te,2,0,"p",39),u.Cc(2,Oe,2,2,"p",39),u.Cc(3,qe,2,0,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(27),i=u.uc(19);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Ue(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Email je obavezan! "),u.Wb())}function Fe(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Email mora biti validan! "),u.Wb())}function Re(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Ue,2,0,"p",39),u.Cc(2,Fe,2,0,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(35);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.pattern)}}function Pe(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Korisni\u010dko ime je obavezno! "),u.Wb())}function De(e,i){if(1&e&&(u.Xb(0,"p",40),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",e.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function Be(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Pe,2,0,"p",39),u.Cc(2,De,2,2,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(43);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ke(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Telefon je obavezan! "),u.Wb())}function Ne(e,i){if(1&e&&(u.Xb(0,"p",40),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Telefon mora da bude du\u017ei od ",e.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",e.getConfigValue("forms.validation.telefon.maxLength")," ")}}function _e(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Ke,2,0,"p",39),u.Cc(2,Ne,2,2,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(51);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}function Ae(e,i){1&e&&(u.Xb(0,"p",40),u.Ec(1," Uloga je obavezna! "),u.Wb())}function Ze(e,i){if(1&e&&(u.Xb(0,"p",40),u.Ec(1),u.Wb()),2&e){const e=u.hc(2);u.Eb(1),u.Hc(" Uloga mora da bude du\u017ee od ",e.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",e.getConfigValue("forms.validation.ime.maxLength")," ")}}function Ge(e,i){if(1&e&&(u.Vb(0),u.Cc(1,Ae,2,0,"p",39),u.Cc(2,Ze,2,2,"p",39),u.Ub()),2&e){u.hc();const e=u.uc(60);u.Eb(1),u.nc("ngIf",null==e.errors?null:e.errors.required),u.Eb(1),u.nc("ngIf",(null==e.errors?null:e.errors.minlength)||(null==e.errors?null:e.errors.maxlength))}}let He=(()=>{class e{constructor(e,i,t={},n,a){this.route=e,this.korisnikService=i,this.options=t,this.toastrService=n,this.router=a,this.user={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:"",firma:{_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}}ngOnInit(){const e=this.route.snapshot.paramMap.get("korisnickoIme");this.korisnikService.findKorisnik(e,"korisnickoIme").subscribe(e=>{this.user=e})}getConfigValue(e){return Object(E.n)(this.options,e,null)}updateUser(e){e.valid?(this.korisnikService.updateKorisnik(this.user).subscribe(e=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}gotoCompany(){this.router.navigate(["admin/firme",this.user.firma.pib])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(h.a),u.Rb(l.a),u.Rb(E.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-user"]],decls:77,vars:47,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-uloga",1,"label"],["fullWidth","","id","input-uloga","name","uloga","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["uloga","ngModel"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,i){if(1&e){const e=u.Yb();u.Xb(0,"nb-card",0),u.Xb(1,"form",1,2),u.fc("ngSubmit",(function(){u.wc(e);const t=u.uc(2);return i.updateUser(t)})),u.Xb(3,"nb-card-header"),u.Xb(4,"div",3),u.Xb(5,"div",4),u.Xb(6,"a",5),u.Sb(7,"i",6),u.Wb(),u.Wb(),u.Xb(8,"div",7),u.Xb(9,"h5",8),u.Ec(10),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(11,"div",3),u.Xb(12,"nb-card-body",9),u.Xb(13,"div",10),u.Xb(14,"div",0),u.Xb(15,"label",11),u.Ec(16,"Ime:"),u.Wb(),u.Wb(),u.Xb(17,"div",9),u.Xb(18,"input",12,13),u.fc("ngModelChange",(function(e){return i.user.ime=e})),u.Wb(),u.Cc(20,Ve,4,3,"ng-container",14),u.Wb(),u.Wb(),u.Xb(21,"div",10),u.Xb(22,"div",0),u.Xb(23,"label",15),u.Ec(24,"Prezime:"),u.Wb(),u.Wb(),u.Xb(25,"div",9),u.Xb(26,"input",16,17),u.fc("ngModelChange",(function(e){return i.user.prezime=e})),u.Wb(),u.Cc(28,Le,4,3,"ng-container",14),u.Wb(),u.Wb(),u.Xb(29,"div",10),u.Xb(30,"div",0),u.Xb(31,"label",18),u.Ec(32,"Email:"),u.Wb(),u.Wb(),u.Xb(33,"div",9),u.Xb(34,"input",19,20),u.fc("ngModelChange",(function(e){return i.user.email=e})),u.Wb(),u.Cc(36,Re,3,2,"ng-container",14),u.Wb(),u.Wb(),u.Xb(37,"div",10),u.Xb(38,"div",0),u.Xb(39,"label",21),u.Ec(40,"Korisni\u010dko ime:"),u.Wb(),u.Wb(),u.Xb(41,"div",9),u.Xb(42,"input",22,23),u.fc("ngModelChange",(function(e){return i.user.korisnickoIme=e})),u.Wb(),u.Cc(44,Be,3,2,"ng-container",14),u.Wb(),u.Wb(),u.Xb(45,"div",10),u.Xb(46,"div",0),u.Xb(47,"label",24),u.Ec(48,"Telefon:"),u.Wb(),u.Wb(),u.Xb(49,"div",9),u.Xb(50,"input",25,26),u.fc("ngModelChange",(function(e){return i.user.telefon=e})),u.Wb(),u.Cc(52,_e,3,2,"ng-container",14),u.Wb(),u.Wb(),u.Wb(),u.Xb(53,"nb-card-body",9),u.Xb(54,"div",10),u.Xb(55,"div",0),u.Xb(56,"label",27),u.Ec(57,"Uloga:"),u.Wb(),u.Wb(),u.Xb(58,"div",9),u.Xb(59,"input",28,29),u.fc("ngModelChange",(function(e){return i.user.uloga=e})),u.Wb(),u.Cc(61,Ge,3,2,"ng-container",14),u.Wb(),u.Wb(),u.Xb(62,"div",10),u.Xb(63,"div",0),u.Xb(64,"label",30),u.Ec(65,"Firma:"),u.Wb(),u.Wb(),u.Xb(66,"div",31),u.Sb(67,"input",32),u.Wb(),u.Xb(68,"div",33),u.Xb(69,"button",34),u.fc("click",(function(){return i.gotoCompany()})),u.Sb(70,"i",35),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(71,"nb-card-footer"),u.Xb(72,"div",3),u.Sb(73,"div",36),u.Xb(74,"div",37),u.Xb(75,"button",38),u.Ec(76,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&e){const e=u.uc(19),t=u.uc(27),n=u.uc(35),a=u.uc(43),o=u.uc(51),r=u.uc(60);u.Eb(10),u.Hc(" ",i.user.ime," ",i.user.prezime,""),u.Eb(8),u.nc("ngModel",i.user.ime)("maxlength",i.getConfigValue("forms.validation.ime.maxLength"))("minlength",i.getConfigValue("forms.validation.ime.minLength"))("pattern",i.getConfigValue("forms.validation.ime.pattern"))("required",i.getConfigValue("forms.validation.ime.required"))("status",e.dirty?e.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!e.invalid||!e.touched)||null),u.Eb(2),u.nc("ngIf",e.invalid&&e.touched),u.Eb(6),u.nc("ngModel",i.user.prezime)("maxlength",i.getConfigValue("forms.validation.prezime.maxLength"))("minlength",i.getConfigValue("forms.validation.prezime.minLength"))("pattern",i.getConfigValue("forms.validation.prezime.pattern"))("required",i.getConfigValue("forms.validation.prezime.required"))("status",t.dirty?t.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(6),u.nc("ngModel",i.user.email)("pattern",i.getConfigValue("forms.validation.email.pattern"))("required",i.getConfigValue("forms.validation.email.required"))("status",n.dirty?n.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",i.user.korisnickoIme)("maxlength",i.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",i.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",i.getConfigValue("forms.validation.korisnickoIme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(6),u.nc("ngModel",i.user.telefon)("maxlength",i.getConfigValue("forms.validation.telefon.maxLength"))("minlength",i.getConfigValue("forms.validation.telefon.minLength"))("required",i.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),u.Eb(2),u.nc("ngIf",o.invalid&&o.touched),u.Eb(7),u.nc("ngModel",i.user.uloga)("maxlength",i.getConfigValue("forms.validation.ime.maxLength"))("minlength",i.getConfigValue("forms.validation.ime.minLength"))("pattern",i.getConfigValue("forms.validation.ime.pattern"))("required",i.getConfigValue("forms.validation.ime.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),u.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),u.Eb(2),u.nc("ngIf",r.invalid&&r.touched),u.Eb(6),u.nc("placeholder",i.user.firma.naziv)}},directives:[o.s,a.w,a.l,a.m,o.u,h.f,o.r,o.K,a.b,a.k,a.n,a.f,a.g,a.q,a.s,n.n,o.p,o.t],styles:[""]}),e})();const Je={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{ime:{title:"Ime"},prezime:{title:"Prezime"},korisnickoIme:{title:"Korisni\u010dko ime"},email:{title:"Email"},telefon:{title:"Telefon"},firma:{editable:!1,valuePrepareFunction:(e,i)=>i.firma.naziv,title:"Firma"}}},Ye=[{path:"",component:W,children:[{path:"admin-dashboard",loadChildren:()=>t.e(8).then(t.bind(null,"LaSW")).then(e=>e.AdminDashboardModule)},{path:"profile",component:re},{path:"korisnici",component:(()=>{class e{constructor(e,i,t){this.korisnikService=e,this.toastrService=i,this.router=t,this.usersSource=new r.a,this.userSettings=Je}ngOnInit(){this.korisnikService.getKorisnik().subscribe(e=>{this.usersSource.load(e)})}showToast(e,i,t){this.toastrService.show(i,e,{status:t})}createUser({newData:e,confirm:i}){try{this.korisnikService.createKorisnik(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+e.korisnickoIme,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+e.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}updateUser({newData:e,confirm:i}){try{this.korisnikService.updateKorisnik(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+e.korisnickoIme,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+e.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}deleteUser({data:e,confirm:i}){try{this.korisnikService.deleteKorisnik(e).subscribe(e=>{}),i.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+e.korisnickoIme,"success")}catch(t){i.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+e.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}userInfo({data:e}){this.router.navigate(["admin/korisnici",e.korisnickoIme])}}return e.\u0275fac=function(i){return new(i||e)(u.Rb(l.a),u.Rb(o.zb),u.Rb(h.c))},e.\u0275cmp=u.Lb({type:e,selectors:[["ngx-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,i){1&e&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-card-header"),u.Ec(2,"Korisnici"),u.Wb(),u.Xb(3,"nb-card-body"),u.Xb(4,"ng2-smart-table",0),u.fc("createConfirm",(function(e){return i.createUser(e)}))("editConfirm",(function(e){return i.updateUser(e)}))("deleteConfirm",(function(e){return i.deleteUser(e)}))("custom",(function(e){return i.userInfo(e)})),u.Wb(),u.Wb(),u.Wb()),2&e&&(u.Eb(4),u.nc("settings",i.userSettings)("source",i.usersSource))},directives:[o.s,o.u,o.r,r.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),e})()},{path:"korisnici/:korisnickoIme",component:He},{path:"firme",component:C},{path:"firme/:pib",component:P},{path:"skladiste",component:je},{path:"skladiste/:id",component:ze},{path:"izvestaji",component:he},{path:"izvestaji/firme/:pib",component:ge}]}];let $e=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(i){return new(i||e)},imports:[[h.g.forChild(Ye)],h.g]}),e})(),Qe=(()=>{class e{}return e.\u0275mod=u.Pb({type:e}),e.\u0275inj=u.Ob({factory:function(i){return new(i||e)},providers:[l.a,s.a,m.a,d,g.a,f.a],imports:[[n.c,$e,p.a,o.W,o.v,r.c,o.L,a.e,o.q,o.J,o.eb,o.g,o.vb]]}),e})()}}]);