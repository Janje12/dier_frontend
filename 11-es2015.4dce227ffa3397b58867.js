(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"723k":function(i,e,n){"use strict";n.r(e),n.d(e,"ProfileModule",(function(){return xi}));var t=n("ofXK"),a=n("3Pt+"),l=n("aceb"),o=n("RS3s"),s=n("dgmN"),r=n("bJfm"),b=n("tyNb"),d=n("g6/h"),c=n("ud2R"),u=n("fXoL"),f=n("McNs"),g=n("SxV6"),p=n("v7Ib");function m(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Ime je obavezno! "),u.Wb())}function v(i,e){if(1&i&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.ime.maxLength")," ")}}function h(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Ime mora biti validno! "),u.Wb())}function W(i,e){if(1&i&&(u.Vb(0),u.Cc(1,m,2,0,"p",26),u.Cc(2,v,2,2,"p",26),u.Cc(3,h,2,0,"p",26),u.Ub()),2&i){u.hc();const i=u.uc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function k(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Prezime je obavezno! "),u.Wb())}function X(i,e){if(1&i&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Prezime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.prezime.maxLength")," ")}}function E(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Prezime mora biti validno! "),u.Wb())}function C(i,e){if(1&i&&(u.Vb(0),u.Cc(1,k,2,0,"p",26),u.Cc(2,X,2,2,"p",26),u.Cc(3,E,2,0,"p",26),u.Ub()),2&i){u.hc();const i=u.uc(16),e=u.uc(8);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==e.errors?null:e.errors.maxlength)),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function I(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Email je obavezan! "),u.Wb())}function M(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Email mora biti validan! "),u.Wb())}function z(i,e){if(1&i&&(u.Vb(0),u.Cc(1,I,2,0,"p",26),u.Cc(2,M,2,0,"p",26),u.Ub()),2&i){u.hc();const i=u.uc(24);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function S(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Korisni\u010dko ime je obavezno! "),u.Wb())}function w(i,e){if(1&i&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",i.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",i.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function y(i,e){if(1&i&&(u.Vb(0),u.Cc(1,S,2,0,"p",26),u.Cc(2,w,2,2,"p",26),u.Ub()),2&i){u.hc();const i=u.uc(32);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function x(i,e){1&i&&(u.Xb(0,"p",27),u.Ec(1," Telefon je obavezan! "),u.Wb())}function V(i,e){if(1&i&&(u.Xb(0,"p",27),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Telefon mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function j(i,e){if(1&i&&(u.Vb(0),u.Cc(1,x,2,0,"p",26),u.Cc(2,V,2,2,"p",26),u.Ub()),2&i){u.hc();const i=u.uc(40);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}let q=(()=>{class i{constructor(i,e={},n,t){this.korisnikService=i,this.options=e,this.toastrService=n,this.authService=t,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}ngOnInit(){this.korisnikService.getCurrentKorisnik().pipe(Object(g.a)()).subscribe(i=>{this.korisnik=i})}getConfigValue(i){return Object(f.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateKorisnik(i){if(i.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;let i=null;this.authService.getToken().subscribe(e=>{i=e}),this.authService.refreshToken("email",i).subscribe(i=>{})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,e,n){this.toastrService.show(e,i,{status:n})}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(p.a),u.Rb(f.a),u.Rb(l.Hb),u.Rb(f.g))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){const i=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(i);const n=u.uc(1);return e.updateKorisnik(n)})),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"label",4),u.Ec(5,"Ime:"),u.Wb(),u.Wb(),u.Xb(6,"div",5),u.Xb(7,"input",6,7),u.fc("ngModelChange",(function(i){return e.korisnik.ime=i})),u.Wb(),u.Cc(9,W,4,3,"ng-container",8),u.Wb(),u.Wb(),u.Xb(10,"div",2),u.Xb(11,"div",3),u.Xb(12,"label",9),u.Ec(13,"Prezime:"),u.Wb(),u.Wb(),u.Xb(14,"div",5),u.Xb(15,"input",10,11),u.fc("ngModelChange",(function(i){return e.korisnik.prezime=i})),u.Wb(),u.Cc(17,C,4,3,"ng-container",8),u.Wb(),u.Wb(),u.Xb(18,"div",2),u.Xb(19,"div",3),u.Xb(20,"label",12),u.Ec(21,"Email:"),u.Wb(),u.Wb(),u.Xb(22,"div",5),u.Xb(23,"input",13,14),u.fc("ngModelChange",(function(i){return e.korisnik.email=i})),u.Wb(),u.Cc(25,z,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(26,"div",2),u.Xb(27,"div",3),u.Xb(28,"label",15),u.Ec(29,"Korisni\u010dko ime:"),u.Wb(),u.Wb(),u.Xb(30,"div",5),u.Xb(31,"input",16,17),u.fc("ngModelChange",(function(i){return e.korisnik.korisnickoIme=i})),u.Wb(),u.Cc(33,y,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(34,"div",2),u.Xb(35,"div",3),u.Xb(36,"label",18),u.Ec(37,"Telefon:"),u.Wb(),u.Wb(),u.Xb(38,"div",5),u.Xb(39,"input",19,20),u.fc("ngModelChange",(function(i){return e.korisnik.telefon=i})),u.Wb(),u.Cc(41,j,3,2,"ng-container",8),u.Wb(),u.Wb(),u.Xb(42,"div",21),u.Sb(43,"div",22),u.Xb(44,"div",23),u.Xb(45,"button",24),u.fc("click",(function(){return e.enableInputs()})),u.Ec(46,"IZMENI"),u.Wb(),u.Wb(),u.Xb(47,"div",23),u.Xb(48,"button",25),u.Ec(49,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.uc(8),n=u.uc(16),t=u.uc(24),a=u.uc(32),l=u.uc(40);u.Eb(7),u.nc("ngModel",e.korisnik.ime)("maxlength",e.getConfigValue("forms.validation.ime.maxLength"))("minlength",e.getConfigValue("forms.validation.ime.minLength"))("pattern",e.getConfigValue("forms.validation.ime.pattern"))("required",e.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),u.Eb(2),u.nc("ngIf",i.invalid&&i.touched),u.Eb(6),u.nc("ngModel",e.korisnik.prezime)("maxlength",e.getConfigValue("forms.validation.prezime.maxLength"))("minlength",e.getConfigValue("forms.validation.prezime.minLength"))("pattern",e.getConfigValue("forms.validation.prezime.pattern"))("required",e.getConfigValue("forms.validation.prezime.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",e.korisnik.email)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(6),u.nc("ngModel",e.korisnik.korisnickoIme)("maxlength",e.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",e.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",e.getConfigValue("forms.validation.korisnickoIme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(6),u.nc("ngModel",e.korisnik.telefon)("maxlength",e.getConfigValue("forms.validation.telefon.maxLength"))("minlength",e.getConfigValue("forms.validation.telefon.minLength"))("required",e.getConfigValue("forms.validation.telefon.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),u.Eb(2),u.nc("ngIf",l.invalid&&l.touched),u.Eb(4),u.nc("disabled",!e.inputsDisabled),u.Eb(3),u.nc("disabled",e.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.f,a.g,a.q,a.s,t.n,l.t],styles:[""]}),i})();function D(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Email je obavezan! "),u.Wb())}function F(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Email mora biti validan! "),u.Wb())}function O(i,e){if(1&i&&(u.Vb(0),u.Cc(1,D,2,0,"p",37),u.Cc(2,F,2,0,"p",37),u.Ub()),2&i){u.hc();const i=u.uc(31);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function T(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Email je obavezan! "),u.Wb())}function L(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Email mora biti validan! "),u.Wb())}function P(i,e){if(1&i&&(u.Vb(0),u.Cc(1,T,2,0,"p",37),u.Cc(2,L,2,0,"p",37),u.Ub()),2&i){u.hc();const i=u.uc(39);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}function U(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Telefon je obavezan! "),u.Wb())}function R(i,e){if(1&i&&(u.Xb(0,"p",38),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Telefon mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function N(i,e){if(1&i&&(u.Vb(0),u.Cc(1,U,2,0,"p",37),u.Cc(2,R,2,2,"p",37),u.Ub()),2&i){u.hc();const i=u.uc(47);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function B(i,e){if(1&i&&(u.Xb(0,"p",38),u.Ec(1),u.Wb()),2&i){const i=u.hc(3);u.Eb(1),u.Hc(" Faks mora da bude du\u017ei od ",i.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.telefon.maxLength")," ")}}function Z(i,e){if(1&i&&(u.Vb(0),u.Cc(1,B,2,2,"p",37),u.Ub()),2&i){u.hc();const i=u.uc(6);u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function A(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div",4),u.Xb(1,"div",5),u.Xb(2,"label",39),u.Ec(3,"Faks:"),u.Wb(),u.Wb(),u.Xb(4,"div",3),u.Xb(5,"input",40,41),u.fc("ngModelChange",(function(e){return u.wc(i),u.hc().firma.faks=e})),u.Wb(),u.Cc(7,Z,2,1,"ng-container",18),u.Wb(),u.Wb()}if(2&i){const i=u.uc(6),e=u.hc();u.Eb(5),u.nc("ngModel",e.firma.faks)("maxlength",e.getConfigValue("forms.validation.telefon.maxLength"))("minlength",e.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),u.Eb(2),u.nc("ngIf",i.invalid&&i.touched)}}function K(i,e){1&i&&(u.Xb(0,"p",38),u.Ec(1," Zakosni zastupnik firme je obavezan! "),u.Wb())}function $(i,e){if(1&i&&(u.Xb(0,"p",38),u.Ec(1),u.Wb()),2&i){const i=u.hc(2);u.Eb(1),u.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",i.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",i.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function H(i,e){if(1&i&&(u.Vb(0),u.Cc(1,K,2,0,"p",37),u.Cc(2,$,2,2,"p",37),u.Ub()),2&i){u.hc();const i=u.uc(56);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",(null==i.errors?null:i.errors.minlength)||(null==i.errors?null:i.errors.maxlength))}}function Y(i,e){1&i&&u.Sb(0,"input",42),2&i&&u.nc("placeholder",e.$implicit)}let J=(()=>{class i{constructor(i,e={},n,t){this.firmaService=i,this.options=e,this.toastrService=n,this.authService=t,this.firma={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:{sifra:"",naziv:"",_id:""},email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.inputsDisabled=!0}ngOnInit(){this.firmaService.getCurrentFirma().pipe(Object(g.a)()).subscribe(i=>{this.firma=i})}getConfigValue(i){return Object(f.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateFirma(i){if(i.valid){this.firmaService.updateFirma(this.firma).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;let i=null;this.authService.getToken().subscribe(e=>{i=e}),this.authService.refreshToken("email",i).subscribe(i=>{})}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,e,n){this.toastrService.show(e,i,{status:n})}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(d.a),u.Rb(f.a),u.Rb(l.Hb),u.Rb(f.g))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile-firma"]],decls:79,vars:38,consts:[[1,"col-12",3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["disabled","","fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["disabled","","fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["disabled","","fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder",4,"ngFor","ngForOf"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","disabled","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder"]],template:function(i,e){if(1&i){const i=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(i);const n=u.uc(1);return e.updateFirma(n)})),u.Xb(2,"div",2),u.Xb(3,"div",3),u.Xb(4,"div",4),u.Xb(5,"div",5),u.Xb(6,"label",6),u.Ec(7,"Naziv Firme:"),u.Wb(),u.Wb(),u.Xb(8,"div",3),u.Xb(9,"input",7,8),u.fc("ngModelChange",(function(i){return e.firma.naziv=i})),u.Wb(),u.Wb(),u.Wb(),u.Xb(11,"div",4),u.Xb(12,"div",5),u.Xb(13,"label",9),u.Ec(14,"PIB:"),u.Wb(),u.Wb(),u.Xb(15,"div",3),u.Xb(16,"input",10,11),u.fc("ngModelChange",(function(i){return e.firma.pib=i})),u.Wb(),u.Wb(),u.Wb(),u.Xb(18,"div",4),u.Xb(19,"div",5),u.Xb(20,"label",12),u.Ec(21,"Mati\u010dni broj:"),u.Wb(),u.Wb(),u.Xb(22,"div",3),u.Xb(23,"input",13,14),u.fc("ngModelChange",(function(i){return e.firma.mat=i})),u.Wb(),u.Wb(),u.Wb(),u.Xb(25,"div",4),u.Xb(26,"div",5),u.Xb(27,"label",15),u.Ec(28,"Email:"),u.Wb(),u.Wb(),u.Xb(29,"div",3),u.Xb(30,"input",16,17),u.fc("ngModelChange",(function(i){return e.firma.email=i})),u.Wb(),u.Cc(32,O,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(33,"div",4),u.Xb(34,"div",5),u.Xb(35,"label",19),u.Ec(36,"Email za prijem dokumenata:"),u.Wb(),u.Wb(),u.Xb(37,"div",3),u.Xb(38,"input",20,21),u.fc("ngModelChange",(function(i){return e.firma.emailPrijem=i})),u.Wb(),u.Cc(40,P,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Xb(41,"div",4),u.Xb(42,"div",5),u.Xb(43,"label",22),u.Ec(44,"Telefon:"),u.Wb(),u.Wb(),u.Xb(45,"div",3),u.Xb(46,"input",23,24),u.fc("ngModelChange",(function(i){return e.firma.telefon=i})),u.Wb(),u.Cc(48,N,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Cc(49,A,8,7,"div",25),u.Xb(50,"div",4),u.Xb(51,"div",5),u.Xb(52,"label",26),u.Ec(53,"Zakonski Zastupnik Firme:"),u.Wb(),u.Wb(),u.Xb(54,"div",3),u.Xb(55,"input",27,28),u.fc("ngModelChange",(function(i){return e.firma.zakonskiZastupnik=i})),u.Wb(),u.Cc(57,H,3,2,"ng-container",18),u.Wb(),u.Wb(),u.Wb(),u.Xb(58,"div",3),u.Xb(59,"div",4),u.Xb(60,"div",5),u.Xb(61,"label",29),u.Ec(62,"Adresa Firme:"),u.Wb(),u.Wb(),u.Xb(63,"div",5),u.Sb(64,"input",30),u.Wb(),u.Wb(),u.Xb(65,"div",2),u.Xb(66,"div",5),u.Xb(67,"label",31),u.Ec(68,"Rad firme:"),u.Wb(),u.Wb(),u.Xb(69,"div",5),u.Cc(70,Y,1,1,"input",32),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(71,"div",2),u.Sb(72,"div",33),u.Xb(73,"div",34),u.Xb(74,"button",35),u.fc("click",(function(){return e.enableInputs()})),u.Ec(75," IZMENI "),u.Wb(),u.Wb(),u.Xb(76,"div",34),u.Xb(77,"button",36),u.Ec(78,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.uc(31),n=u.uc(39),t=u.uc(47),a=u.uc(56);u.Eb(9),u.nc("ngModel",e.firma.naziv),u.Eb(7),u.nc("ngModel",e.firma.pib),u.Eb(7),u.nc("ngModel",e.firma.mat),u.Eb(7),u.nc("ngModel",e.firma.email)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),u.Eb(2),u.nc("ngIf",i.invalid&&i.touched),u.Eb(6),u.nc("ngModel",e.firma.emailPrijem)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",e.firma.telefon)("maxlength",e.getConfigValue("forms.validation.telefon.maxLength"))("minlength",e.getConfigValue("forms.validation.telefon.minLength"))("required",e.getConfigValue("forms.validation.telefon.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(1),u.nc("ngIf",""===e.firma.faks),u.Eb(6),u.nc("ngModel",e.firma.zakonskiZastupnik)("maxlength",e.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",e.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",e.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),u.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),u.Eb(2),u.nc("ngIf",a.invalid&&a.touched),u.Eb(7),u.nc("placeholder",e.firma.adresa.mesto.opstinaNaziv+", "+e.firma.adresa.mesto.mestoNaziv+", "+e.firma.adresa.ulica),u.Eb(6),u.nc("ngForOf",e.firma.radFirme),u.Eb(4),u.nc("disabled",!e.inputsDisabled),u.Eb(3),u.nc("disabled",e.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.q,a.s,t.n,a.f,a.g,t.m,l.t],styles:[".divider-left[_ngcontent-%COMP%]{border-left:1px solid grey}"]}),i})();var _=n("pVkk");function G(i,e){1&i&&(u.Xb(0,"label",23),u.Ec(1,"Naziv Deponije:"),u.Wb())}function Q(i,e){1&i&&(u.Xb(0,"label",23),u.Ec(1,"Naziv Skladi\u0161ta za tretman:"),u.Wb())}function ii(i,e){1&i&&(u.Xb(0,"label",23),u.Ec(1,"Naziv Skladi\u0161ta za skladi\u0161tenje:"),u.Wb())}function ei(i,e){1&i&&(u.Xb(0,"label",23),u.Ec(1,"Naziv Skladi\u0161ta:"),u.Wb())}function ni(i,e){1&i&&(u.Xb(0,"p",25),u.Ec(1," Naziv skladi\u0161ta je obavezan! "),u.Wb())}function ti(i,e){if(1&i&&(u.Vb(0),u.Cc(1,ni,2,0,"p",24),u.Ub()),2&i){u.hc();const i=u.uc(11);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}function ai(i,e){1&i&&(u.Xb(0,"p",25),u.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),u.Wb())}function li(i,e){if(1&i&&(u.Vb(0),u.Cc(1,ai,2,0,"p",24),u.Ub()),2&i){u.hc();const i=u.uc(19);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}const oi=function(){return{standalone:!0}};function si(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",3),u.Xb(2,"div",8),u.Xb(3,"div",9),u.Xb(4,"div",10),u.Cc(5,G,2,0,"label",11),u.Cc(6,Q,2,0,"label",11),u.Cc(7,ii,2,0,"label",11),u.Cc(8,ei,2,0,"label",12),u.Wb(),u.Xb(9,"div",8),u.Xb(10,"input",13,14),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.naziv=n})),u.Wb(),u.Cc(12,ti,2,1,"ng-container",15),u.Wb(),u.Wb(),u.Xb(13,"div",9),u.Xb(14,"div",16),u.Xb(15,"label",17),u.Ec(16,"Veli\u010dina skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(17,"div",8),u.Xb(18,"input",18,19),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.maxKolicina=n})),u.Wb(),u.Cc(20,li,2,1,"ng-container",15),u.Wb(),u.Wb(),u.Wb(),u.Xb(21,"div",8),u.Xb(22,"div",9),u.Xb(23,"div",16),u.Xb(24,"label",20),u.Ec(25,"Adresa Skladi\u0161ta:"),u.Wb(),u.Wb(),u.Xb(26,"div",16),u.Sb(27,"input",21),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"div",9),u.Xb(29,"div",16),u.Xb(30,"nb-progress-bar",22),u.Ec(31),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=e.$implicit,n=u.uc(11),t=u.uc(19),a=u.hc();u.Eb(4),u.nc("ngSwitch",i.__t),u.Eb(1),u.nc("ngSwitchCase","SkladisteDeponija"),u.Eb(1),u.nc("ngSwitchCase","SkladisteTretman"),u.Eb(1),u.nc("ngSwitchCase","SkladisteSkladistenje"),u.Eb(3),u.nc("ngModel",i.naziv)("ngModelOptions",u.qc(26,oi))("maxlength",a.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",a.getConfigValue("forms.validation.nazivFirme.minLength"))("required",a.getConfigValue("forms.validation.nazivFirme.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",a.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",i.maxKolicina)("ngModelOptions",u.qc(27,oi))("pattern",a.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",a.getConfigValue("forms.validation.velicinaSkladista.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",a.inputsDisabled),u.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),u.Eb(2),u.nc("ngIf",t.invalid&&t.touched),u.Eb(7),u.nc("placeholder",i.adresa.mesto.opstinaNaziv+", "+i.adresa.mesto.mestoNaziv+", "+i.adresa.ulica),u.Eb(3),u.nc("value",a.calculateValue(i))("status",a.calculateStatus(i)),u.Eb(1),u.Hc(" ",i.kolicina,"/",i.maxKolicina," ")}}let ri=(()=>{class i{constructor(i,e={},n){this.skladisteService=i,this.options=e,this.toastrService=n,this.skladista=[],this.inputsDisabled=!0}ngOnInit(){this.skladisteService.getAllSkladistaFirme().pipe(Object(g.a)()).subscribe(i=>{this.skladista=i})}getConfigValue(i){return Object(f.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updateSkladiste(i){i.valid?(this.skladista.forEach(i=>this.skladisteService.updateSkladiste(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,e,n){this.toastrService.show(e,i,{status:n})}calculateStatus(i){return i.kolicina/i.maxKolicina*100<33?"success":i.kolicina/i.maxKolicina*100<66?"warning":"danger"}calculateValue(i){return i.kolicina/i.maxKolicina*100}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(_.a),u.Rb(f.a),u.Rb(l.Hb))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile-skladiste"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","status","primary","fullWidth","","type","button",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12",3,"ngSwitch"],["class","label","for","input-naziv",4,"ngSwitchCase"],["class","label","for","input-naziv",4,"ngSwitchDefault"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],[1,"col-12"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","disabled","ngModelChange"],["velicina","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],["size","large",3,"value","status"],["for","input-naziv",1,"label"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){const i=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(i);const n=u.uc(1);return e.updateSkladiste(n)})),u.Cc(2,si,32,28,"div",2),u.Xb(3,"div",3),u.Sb(4,"div",4),u.Xb(5,"div",5),u.Xb(6,"button",6),u.fc("click",(function(){return e.enableInputs()})),u.Ec(7," IZMENI "),u.Wb(),u.Wb(),u.Xb(8,"div",5),u.Xb(9,"button",7),u.Ec(10,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb()}2&i&&(u.Eb(2),u.nc("ngForOf",e.skladista),u.Eb(4),u.nc("disabled",!e.inputsDisabled),u.Eb(3),u.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,t.o,t.p,t.q,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,a.p,a.q,l.hb],styles:[""]}),i})();var bi=n("O97o"),di=n("kBrA");const ci=["viewTrash"];function ui(i,e){1&i&&(u.Xb(0,"p",30),u.Ec(1," Naziv dozvole je obavezan! "),u.Wb())}function fi(i,e){if(1&i&&(u.Vb(0),u.Cc(1,ui,2,0,"p",29),u.Ub()),2&i){u.hc();const i=u.uc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required)}}const gi=function(){return{standalone:!0}};function pi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div",10),u.Xb(1,"div",11),u.Xb(2,"label",31),u.Ec(3,"Skladi\u0161te:"),u.Wb(),u.Wb(),u.Xb(4,"div",9),u.Xb(5,"input",32),u.fc("ngModelChange",(function(e){return u.wc(i),u.hc().$implicit.skladistaSkladistenje.naziv=e})),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.hc().$implicit;u.Eb(5),u.nc("ngModel",i.skladistaSkladistenje.naziv)("ngModelOptions",u.qc(2,gi))}}function mi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div",10),u.Xb(1,"div",11),u.Xb(2,"label",33),u.Ec(3,"Skladi\u0161te:"),u.Wb(),u.Wb(),u.Xb(4,"div",9),u.Xb(5,"input",34),u.fc("ngModelChange",(function(e){return u.wc(i),u.hc().$implicit.skladistaDeponija.naziv=e})),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.hc().$implicit;u.Eb(5),u.nc("ngModel",i.skladistaDeponija.naziv)("ngModelOptions",u.qc(2,gi))}}function vi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div",10),u.Xb(1,"div",11),u.Xb(2,"label",35),u.Ec(3,"Skladi\u0161te:"),u.Wb(),u.Wb(),u.Xb(4,"div",9),u.Xb(5,"input",36),u.fc("ngModelChange",(function(e){return u.wc(i),u.hc().$implicit.skladistaTretman.naziv=e})),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.hc().$implicit;u.Eb(5),u.nc("ngModel",i.skladistaTretman.naziv)("ngModelOptions",u.qc(2,gi))}}function hi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",3),u.Xb(2,"div",9),u.Xb(3,"div",10),u.Xb(4,"div",11),u.Xb(5,"label",12),u.Ec(6,"Naziv dozvole:"),u.Wb(),u.Wb(),u.Xb(7,"div",9),u.Xb(8,"input",13,14),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.naziv=n})),u.Wb(),u.Cc(10,fi,2,1,"ng-container",15),u.Wb(),u.Wb(),u.Xb(11,"div",10),u.Xb(12,"div",11),u.Xb(13,"label",16),u.Ec(14,"\u0160ifra dozvole:"),u.Wb(),u.Wb(),u.Xb(15,"div",9),u.Xb(16,"input",17),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.sifra=n})),u.Wb(),u.Wb(),u.Wb(),u.Xb(17,"div",10),u.Xb(18,"div",11),u.Xb(19,"label",18),u.Ec(20,"Datum trajanja dozvole:"),u.Wb(),u.Wb(),u.Xb(21,"div",19),u.Sb(22,"input",20),u.Wb(),u.Xb(23,"button",21),u.Ec(24,"-"),u.Wb(),u.Xb(25,"div",22),u.Sb(26,"input",23),u.Wb(),u.Wb(),u.Wb(),u.Xb(27,"div",9),u.Xb(28,"div",10),u.Xb(29,"div",11),u.Xb(30,"label",24),u.Ec(31,"Vrsta dozvole:"),u.Wb(),u.Wb(),u.Xb(32,"div",9),u.Xb(33,"input",25),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.vrstaDozvole=n})),u.Wb(),u.Wb(),u.Wb(),u.Cc(34,pi,6,3,"div",26),u.Cc(35,mi,6,3,"div",26),u.Cc(36,vi,6,3,"div",26),u.Xb(37,"div",10),u.Xb(38,"div",11),u.Sb(39,"label",27),u.Wb(),u.Xb(40,"div",9),u.Xb(41,"button",28),u.fc("click",(function(){u.wc(i);const n=e.$implicit;return u.hc().openPermitsTrashWindow(n)})),u.Ec(42,"Pogledaj listu otpada "),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=e.$implicit,n=u.uc(9),t=u.hc();u.Eb(8),u.nc("ngModel",i.naziv)("ngModelOptions",u.qc(18,gi))("maxlength",t.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",t.getConfigValue("forms.validation.nazivFirme.minLength"))("required",t.getConfigValue("forms.validation.nazivFirme.required"))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("ngModel",i.sifra)("ngModelOptions",u.qc(19,gi)),u.Eb(6),u.nc("placeholder",t.getDate(i.datumNastanka)),u.Eb(4),u.nc("placeholder",t.getDate(i.datumTrajanja)),u.Eb(7),u.nc("ngModel",i.vrstaDozvole)("ngModelOptions",u.qc(20,gi)),u.Eb(1),u.nc("ngIf",void 0!==i.skladistaSkladistenje),u.Eb(1),u.nc("ngIf",void 0!==i.skladistaDeponija),u.Eb(1),u.nc("ngIf",void 0!==i.skladistaTretman)}}function Wi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"view-permits-trash-popup",37),u.fc("callUpdatePermitsTrash",(function(e){return u.wc(i),u.hc().updatePermitsTrashMethod(e)})),u.Wb()}if(2&i){const i=u.hc();u.nc("selectedPermit",i.selectedPermit)}}let ki=(()=>{class i{constructor(i,e={},n,t,a){this.permitService=i,this.options=e,this.toastrService=n,this.datePipe=t,this.windowService=a,this.permits=[],this.inputsDisabled=!0}ngOnInit(){this.permitService.getDozvolaFirme().pipe(Object(g.a)()).subscribe(i=>{this.permits=i})}getConfigValue(i){return Object(f.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updatePermits(i){i.valid?(this.permits.forEach(i=>this.permitService.updateDozvola(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}openPermitsTrashWindow(i){this.selectedPermit=i,this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}updatePermitsTrashMethod(i){this.selectedPermit.listaOtpada=i,this.permitService.updateDozvola(this.selectedPermit).subscribe(i=>{}),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}getDate(i){return this.datePipe.transform(i,"dd-MM-yyyy")}showToast(i,e,n){this.toastrService.show(e,i,{status:n})}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(bi.a),u.Rb(f.a),u.Rb(l.Hb),u.Rb(t.e),u.Rb(l.Nb))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile-dozvola"]],viewQuery:function(i,e){var n;1&i&&u.Lc(ci,!0,u.N),2&i&&u.tc(n=u.gc())&&(e.viewTrash=n.first)},decls:13,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["viewTrash",""],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-sifra",1,"label"],["disabled","","fullWidth","","id","input-sifra","name","sifra","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-datumNastanka",1,"label"],[1,"col-5","mr-0","pr-0"],["disabled","","fullWidth","","id","input-datumNastanka","name","datumNastanka","nbInput","","type","text",3,"placeholder"],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["disabled","","fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["class","row mb-2",4,"ngIf"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-skladisteSkladistenje",1,"label"],["disabled","","fullWidth","","id","input-skladisteSkladistenje","name","skladisteSkladistenje","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaDeponija",1,"label"],["disabled","","fullWidth","","id","input-skladistaDeponija","name","skladistaDeponija","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaTretman",1,"label"],["disabled","","fullWidth","","id","input-skladistaTretman","name","skladistaTretman","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],[3,"selectedPermit","callUpdatePermitsTrash"]],template:function(i,e){if(1&i){const i=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(i);const n=u.uc(1);return e.updatePermits(n)})),u.Cc(2,hi,43,21,"div",2),u.Xb(3,"div",3),u.Sb(4,"div",4),u.Xb(5,"div",5),u.Xb(6,"button",6),u.fc("click",(function(){return e.enableInputs()})),u.Ec(7," IZMENI "),u.Wb(),u.Wb(),u.Xb(8,"div",5),u.Xb(9,"button",7),u.Ec(10,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Cc(11,Wi,1,1,"ng-template",null,8,u.Dc)}2&i&&(u.Eb(2),u.nc("ngForOf",e.permits),u.Eb(4),u.nc("disabled",!e.inputsDisabled),u.Eb(3),u.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,di.a],styles:[""]}),i})();var Xi=n("8sB5");function Ei(i,e){1&i&&(u.Xb(0,"p",18),u.Ec(1," Registarski broj tablice je obavezan! "),u.Wb())}function Ci(i,e){1&i&&(u.Xb(0,"p",18),u.Ec(1," Registarski broj tablice mora biti validan! "),u.Wb())}function Ii(i,e){if(1&i&&(u.Vb(0),u.Cc(1,Ei,2,0,"p",17),u.Cc(2,Ci,2,0,"p",17),u.Ub()),2&i){u.hc();const i=u.uc(9);u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.required),u.Eb(1),u.nc("ngIf",null==i.errors?null:i.errors.pattern)}}const Mi=function(){return{standalone:!0}};function zi(i,e){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"div",3),u.Xb(2,"div",8),u.Xb(3,"div",9),u.Xb(4,"div",10),u.Xb(5,"label",11),u.Ec(6,"Registarski broj tablice:"),u.Wb(),u.Wb(),u.Xb(7,"div",8),u.Xb(8,"input",12,13),u.fc("ngModelChange",(function(n){return u.wc(i),e.$implicit.registarskiBroj=n})),u.Wb(),u.Cc(10,Ii,3,2,"ng-container",14),u.Wb(),u.Wb(),u.Xb(11,"div",9),u.Xb(12,"div",10),u.Xb(13,"label",15),u.Ec(14,"Vrsta vozila:"),u.Wb(),u.Wb(),u.Xb(15,"div",8),u.Sb(16,"input",16),u.Wb(),u.Wb(),u.Wb(),u.Sb(17,"div",8),u.Wb(),u.Wb()}if(2&i){const i=e.$implicit,n=u.uc(9),t=u.hc();u.Eb(8),u.nc("ngModel",i.registarskiBroj)("ngModelOptions",u.qc(7,Mi))("status",n.dirty?n.invalid?"danger":"success":"basic")("disabled",t.inputsDisabled),u.Fb("aria-invalid",!(!n.invalid||!n.touched)||null),u.Eb(2),u.nc("ngIf",n.invalid&&n.touched),u.Eb(6),u.nc("placeholder",i.vrstaVozila)}}let Si=(()=>{class i{constructor(i,e={},n){this.prevoznoSredstvoService=i,this.options=e,this.toastrService=n,this.prevoznoSredstvo=[],this.inputsDisabled=!0}ngOnInit(){this.prevoznoSredstvoService.getPrevoznoSredstvoFirme().pipe(Object(g.a)()).subscribe(i=>{this.prevoznoSredstvo=i})}getConfigValue(i){return Object(f.n)(this.options,i,null)}enableInputs(){this.inputsDisabled=!1}updatePrevoznoSredstvo(i){i.valid?(this.prevoznoSredstvo.forEach(i=>this.prevoznoSredstvoService.updatePrevoznoSredstvo(i).subscribe(i=>{})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}showToast(i,e,n){this.toastrService.show(e,i,{status:n})}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(Xi.a),u.Rb(f.a),u.Rb(l.Hb))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile-prevozno-sredstvo"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-registarskiBroj",1,"label"],["required","","pattern","([A-\u017d]{2})-(\\d{3,4})-([A-\u017d]{2})","fullWidth","","id","input-registarskiBroj","name","registarskiBroj","nbInput","","type","text",3,"ngModel","ngModelOptions","status","disabled","ngModelChange"],["registarskiBroj","ngModel"],[4,"ngIf"],["for","input-vrstaVozila",1,"label"],["fullWidth","","disabled","","id","input-vrstaVozila","name","vrstaVozila","nbInput","","type","text",3,"placeholder"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){const i=u.Yb();u.Xb(0,"form",0,1),u.fc("ngSubmit",(function(){u.wc(i);const n=u.uc(1);return e.updatePrevoznoSredstvo(n)})),u.Cc(2,zi,18,8,"div",2),u.Xb(3,"div",3),u.Sb(4,"div",4),u.Xb(5,"div",5),u.Xb(6,"button",6),u.fc("click",(function(){return e.enableInputs()})),u.Ec(7," IZMENI "),u.Wb(),u.Wb(),u.Xb(8,"div",5),u.Xb(9,"button",7),u.Ec(10,"SA\u010cUVAJ"),u.Wb(),u.Wb(),u.Wb(),u.Wb()}2&i&&(u.Eb(2),u.nc("ngForOf",e.prevoznoSredstvo),u.Eb(4),u.nc("disabled",!e.inputsDisabled),u.Eb(3),u.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.s,a.q,a.k,a.n,t.n],styles:[""]}),i})();const wi=[{path:"",component:(()=>{class i{constructor(i,e){this.roleService=i,this.companyService=e}ngOnInit(){this.companyService.getCurrentFirma().subscribe(i=>{this.roleService.getOperations(i.radFirme).subscribe(i=>{this.operations=i})})}}return i.\u0275fac=function(e){return new(e||i)(u.Rb(c.a),u.Rb(d.a))},i.\u0275cmp=u.Lb({type:i,selectors:[["ngx-profile"]],decls:12,vars:3,consts:[["tabIcon","person","tabTitle","Korisnik"],["tabIcon","briefcase","tabTitle","Firma"],["tabIcon","cube","tabTitle","Skladista",3,"disabled"],["tabIcon","file-text","tabTitle","Dozvole",3,"disabled"],["tabIcon","car","tabTitle","Prevozna Sredstva",3,"disabled"]],template:function(i,e){1&i&&(u.Xb(0,"nb-card"),u.Xb(1,"nb-tabset"),u.Xb(2,"nb-tab",0),u.Sb(3,"ngx-profile-korisnik"),u.Wb(),u.Xb(4,"nb-tab",1),u.Sb(5,"ngx-profile-firma"),u.Wb(),u.Xb(6,"nb-tab",2),u.Sb(7,"ngx-profile-skladiste"),u.Wb(),u.Xb(8,"nb-tab",3),u.Sb(9,"ngx-profile-dozvola"),u.Wb(),u.Xb(10,"nb-tab",4),u.Sb(11,"ngx-profile-prevozno-sredstvo"),u.Wb(),u.Wb(),u.Wb()),2&i&&(u.Eb(6),u.nc("disabled",!(null!=e.operations&&e.operations.production||null!=e.operations&&e.operations.treatment||null!=e.operations&&e.operations.disposal||null!=e.operations&&e.operations.cache)),u.Eb(2),u.nc("disabled",!(null!=e.operations&&e.operations.transport||null!=e.operations&&e.operations.treatment||null!=e.operations&&e.operations.disposal||null!=e.operations&&e.operations.cache)),u.Eb(2),u.nc("disabled",!(null!=e.operations&&e.operations.transport)))},directives:[l.w,l.Cb,l.Bb,q,J,ri,ki,Si],styles:[""]}),i})()}];let yi=(()=>{class i{}return i.\u0275mod=u.Pb({type:i}),i.\u0275inj=u.Ob({factory:function(e){return new(e||i)},imports:[[b.g.forChild(wi)],b.g]}),i})(),xi=(()=>{class i{}return i.\u0275mod=u.Pb({type:i}),i.\u0275inj=u.Ob({factory:function(e){return new(e||i)},imports:[[yi,t.c,a.e,l.P,l.ib,l.u,l.Db,l.z,l.gb,o.c,s.PagesModule,r.a]]}),i})()}}]);