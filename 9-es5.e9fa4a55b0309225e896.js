function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);if(n){var a=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{FYoA:function(e,n,t){"use strict";t.r(n),t.d(n,"AdminModule",(function(){return gn}));var i,a,o,r=t("ofXK"),s=t("3Pt+"),l=t("aceb"),c=t("RS3s"),u=t("g6/h"),b=t("v7Ib"),d=t("tk/3"),f=t("AytR"),m=t("fXoL"),g=((i=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this)).http=e,i.apiUrl=f.a.apiUrl,i}return _createClass(t,[{key:"getMesecniIzvestaj",value:function(){return this.http.get(this.apiUrl+"/api/mesecniizvestaj")}},{key:"createMesecniIzvestaj",value:function(e,n,t){var i=new d.e;return i=i.set("Accept","application/pdf"),this.http.post(this.apiUrl+"/api/mesecniizvestaj",{trash:e,reportType:t,storageID:n._id},{headers:i,responseType:"blob"})}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())).\u0275fac=function(e){return new(e||i)(m.bc(d.b))},i.\u0275prov=m.Nb({token:i,factory:i.\u0275fac}),i),p=t("El76"),v=t("ud2R"),h=t("pVkk"),k=t("vTDv"),y=t("tyNb"),C=[{title:"Po\u010detni panel",icon:{icon:"home",pack:"font-awesome"},link:"/admin/admin-dashboard",home:!0},{title:"ADMIN PANELA",group:!0},{title:"Korisnici",link:"/admin/korisnici",icon:{icon:"user",pack:"font-awesome"}},{title:"Firme",link:"/admin/firme",icon:{icon:"industry",pack:"font-awesome"}},{title:"Skladi\u0161ta",link:"/admin/skladiste",icon:{icon:"box",pack:"font-awesome"}},{title:"Izve\u0161taji",link:"/admin/izvestaji",icon:{icon:"print",pack:"font-awesome"}}],W=t("mgFL"),X=((a=function(){function e(){_classCallCheck(this,e),this.menu=C}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=m.Lb({type:a,selectors:[["ng-component"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,n){1&e&&(m.Xb(0,"ngx-one-column-layout"),m.Sb(1,"nb-menu",0),m.Sb(2,"router-outlet"),m.Wb()),2&e&&(m.Eb(1),m.nc("items",n.menu))},directives:[W.a,l.V,y.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),a),E={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></a>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv"},email:{title:"Email"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}},I=((o=function(){function e(n,t,i){_classCallCheck(this,e),this.firmaService=n,this.toastrService=t,this.router=i,this.companySource=new c.a,this.companySettings=E}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firmaService.getFirma().subscribe((function(n){e.companySource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createCompany",value:function(e){var n=e.newData,t=e.confirm;try{this.firmaService.createFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateCompany",value:function(e){var n=e.newData,t=e.confirm;try{this.firmaService.updateFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteCompany",value:function(e){var n=e.data,t=e.confirm;try{this.firmaService.deleteFirma(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"companyInfo",value:function(e){var n=e.data;this.router.navigate(["admin/firme",n.pib])}}]),e}()).\u0275fac=function(e){return new(e||o)(m.Rb(u.a),m.Rb(l.zb),m.Rb(y.c))},o.\u0275cmp=m.Lb({type:o,selectors:[["ngx-companies"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Ec(2,"Firme"),m.Wb(),m.Xb(3,"nb-card-body"),m.Xb(4,"ng2-smart-table",0),m.fc("createConfirm",(function(e){return n.createCompany(e)}))("editConfirm",(function(e){return n.updateCompany(e)}))("deleteConfirm",(function(e){return n.deleteCompany(e)}))("custom",(function(e){return n.companyInfo(e)})),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(4),m.nc("settings",n.companySettings)("source",n.companySource))},directives:[l.s,l.u,l.r,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),o),z=t("McNs");function S(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Email je obavezan! "),m.Wb())}function j(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Email mora biti validan! "),m.Wb())}function M(e,n){if(1&e&&(m.Vb(0),m.Cc(1,S,2,0,"p",47),m.Cc(2,j,2,0,"p",47),m.Ub()),2&e){m.hc();var t=m.uc(41);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function w(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Email je obavezan! "),m.Wb())}function x(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Email mora biti validan! "),m.Wb())}function V(e,n){if(1&e&&(m.Vb(0),m.Cc(1,w,2,0,"p",47),m.Cc(2,x,2,0,"p",47),m.Ub()),2&e){m.hc();var t=m.uc(49);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function O(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Telefon je obavezan! "),m.Wb())}function _(e,n){if(1&e&&(m.Xb(0,"p",48),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function T(e,n){if(1&e&&(m.Vb(0),m.Cc(1,O,2,0,"p",47),m.Cc(2,_,2,2,"p",47),m.Ub()),2&e){m.hc();var t=m.uc(57);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function L(e,n){if(1&e&&(m.Xb(0,"p",48),m.Ec(1),m.Wb()),2&e){var t=m.hc(3);m.Eb(1),m.Hc(" Faks mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function q(e,n){if(1&e&&(m.Vb(0),m.Cc(1,L,2,2,"p",47),m.Ub()),2&e){m.hc();var t=m.uc(6);m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function F(e,n){if(1&e){var t=m.Yb();m.Xb(0,"div",10),m.Xb(1,"div",0),m.Xb(2,"label",49),m.Ec(3,"Faks:"),m.Wb(),m.Wb(),m.Xb(4,"div",9),m.Xb(5,"input",50,51),m.fc("ngModelChange",(function(e){return m.wc(t),m.hc().company.faks=e})),m.Wb(),m.Cc(7,q,2,1,"ng-container",23),m.Wb(),m.Wb()}if(2&e){var i=m.uc(6),a=m.hc();m.Eb(5),m.nc("ngModel",a.company.faks)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",i.dirty?i.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),m.Eb(2),m.nc("ngIf",i.invalid&&i.touched)}}function U(e,n){1&e&&(m.Xb(0,"p",48),m.Ec(1," Zakosni zastupnik firme je obavezan! "),m.Wb())}function R(e,n){if(1&e&&(m.Xb(0,"p",48),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",t.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function P(e,n){if(1&e&&(m.Vb(0),m.Cc(1,U,2,0,"p",47),m.Cc(2,R,2,2,"p",47),m.Ub()),2&e){m.hc();var t=m.uc(66);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function D(e,n){1&e&&m.Sb(0,"input",52),2&e&&m.nc("placeholder",n.$implicit)}var B,A=((B=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.route=n,this.firmaService=t,this.options=i,this.toastrService=a,this.router=o,this.company={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(n,"pib").subscribe((function(n){e.company=n}))}},{key:"getConfigValue",value:function(e){return Object(z.n)(this.options,e,null)}},{key:"updateCompany",value:function(e){e.valid?(this.firmaService.updateFirma(this.company).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"gotoUser",value:function(){this.router.navigate(["admin/korisnici",this.company.menadzer])}}]),e}()).\u0275fac=function(e){return new(e||B)(m.Rb(y.a),m.Rb(u.a),m.Rb(z.a),m.Rb(l.zb),m.Rb(y.c))},B.\u0275cmp=m.Lb({type:B,selectors:[["ngx-company"]],decls:96,vars:34,consts:[[1,"col-12"],[3,"ngSubmit"],["formCompany","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["fullWidth","","disabled","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","class","mb-1","type","text",3,"placeholder",4,"ngFor","ngForOf"],["for","input-menadzer",1,"label"],[1,"col-5","pr-0","ml-0"],["fullWidth","","disabled","","id","input-menadzer","name","menadzer","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",1,"mb-1",3,"placeholder"]],template:function(e,n){if(1&e){var t=m.Yb();m.Xb(0,"nb-card",0),m.Xb(1,"form",1,2),m.fc("ngSubmit",(function(){m.wc(t);var e=m.uc(2);return n.updateCompany(e)})),m.Xb(3,"nb-card-header"),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"a",5),m.Sb(7,"i",6),m.Wb(),m.Wb(),m.Xb(8,"div",7),m.Xb(9,"h5",8),m.Ec(10),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"nb-card-body"),m.Xb(12,"div",3),m.Xb(13,"div",9),m.Xb(14,"div",10),m.Xb(15,"div",0),m.Xb(16,"label",11),m.Ec(17,"Naziv Firme:"),m.Wb(),m.Wb(),m.Xb(18,"div",9),m.Xb(19,"input",12,13),m.fc("ngModelChange",(function(e){return n.company.naziv=e})),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",10),m.Xb(22,"div",0),m.Xb(23,"label",14),m.Ec(24,"PIB:"),m.Wb(),m.Wb(),m.Xb(25,"div",9),m.Xb(26,"input",15,16),m.fc("ngModelChange",(function(e){return n.company.pib=e})),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",10),m.Xb(29,"div",0),m.Xb(30,"label",17),m.Ec(31,"Mati\u010dni broj:"),m.Wb(),m.Wb(),m.Xb(32,"div",9),m.Xb(33,"input",18,19),m.fc("ngModelChange",(function(e){return n.company.mat=e})),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",10),m.Xb(36,"div",0),m.Xb(37,"label",20),m.Ec(38,"Email:"),m.Wb(),m.Wb(),m.Xb(39,"div",9),m.Xb(40,"input",21,22),m.fc("ngModelChange",(function(e){return n.company.email=e})),m.Wb(),m.Cc(42,M,3,2,"ng-container",23),m.Wb(),m.Wb(),m.Xb(43,"div",10),m.Xb(44,"div",0),m.Xb(45,"label",24),m.Ec(46,"Email za prijem dokumenata:"),m.Wb(),m.Wb(),m.Xb(47,"div",9),m.Xb(48,"input",25,26),m.fc("ngModelChange",(function(e){return n.company.emailPrijem=e})),m.Wb(),m.Cc(50,V,3,2,"ng-container",23),m.Wb(),m.Wb(),m.Xb(51,"div",10),m.Xb(52,"div",0),m.Xb(53,"label",27),m.Ec(54,"Telefon:"),m.Wb(),m.Wb(),m.Xb(55,"div",9),m.Xb(56,"input",28,29),m.fc("ngModelChange",(function(e){return n.company.telefon=e})),m.Wb(),m.Cc(58,T,3,2,"ng-container",23),m.Wb(),m.Wb(),m.Cc(59,F,8,6,"div",30),m.Xb(60,"div",10),m.Xb(61,"div",0),m.Xb(62,"label",31),m.Ec(63,"Zakonski Zastupnik Firme:"),m.Wb(),m.Wb(),m.Xb(64,"div",9),m.Xb(65,"input",32,33),m.fc("ngModelChange",(function(e){return n.company.zakonskiZastupnik=e})),m.Wb(),m.Cc(67,P,3,2,"ng-container",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(68,"div",9),m.Xb(69,"div",10),m.Xb(70,"div",0),m.Xb(71,"label",34),m.Ec(72,"Adresa Firme:"),m.Wb(),m.Wb(),m.Xb(73,"div",9),m.Sb(74,"input",35),m.Wb(),m.Wb(),m.Xb(75,"div",3),m.Xb(76,"div",0),m.Xb(77,"label",36),m.Ec(78,"Rad firme:"),m.Wb(),m.Wb(),m.Xb(79,"div",9),m.Cc(80,D,1,1,"input",37),m.Wb(),m.Wb(),m.Xb(81,"div",10),m.Xb(82,"div",0),m.Xb(83,"label",38),m.Ec(84,"Menad\u017eer Firme:"),m.Wb(),m.Wb(),m.Xb(85,"div",39),m.Sb(86,"input",40),m.Wb(),m.Xb(87,"div",41),m.Xb(88,"button",42),m.fc("click",(function(){return n.gotoUser()})),m.Sb(89,"i",43),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(90,"nb-card-footer"),m.Xb(91,"div",3),m.Sb(92,"div",44),m.Xb(93,"div",45),m.Xb(94,"button",46),m.Ec(95,"SA\u010cUVAJ"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var i=m.uc(41),a=m.uc(49),o=m.uc(57),r=m.uc(66);m.Eb(10),m.Gc(" ",n.company.naziv,""),m.Eb(9),m.nc("ngModel",n.company.naziv),m.Eb(7),m.nc("ngModel",n.company.pib),m.Eb(7),m.nc("ngModel",n.company.mat),m.Eb(7),m.nc("ngModel",n.company.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),m.Eb(2),m.nc("ngIf",i.invalid&&i.touched),m.Eb(6),m.nc("ngModel",n.company.emailPrijem)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),m.Eb(2),m.nc("ngIf",a.invalid&&a.touched),m.Eb(6),m.nc("ngModel",n.company.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),m.Eb(2),m.nc("ngIf",o.invalid&&o.touched),m.Eb(1),m.nc("ngIf",""===n.company.faks),m.Eb(6),m.nc("ngModel",n.company.zakonskiZastupnik)("maxlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",n.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",n.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),m.Eb(2),m.nc("ngIf",r.invalid&&r.touched),m.Eb(7),m.nc("placeholder",n.company.adresa.mesto.opstinaNaziv+", "+n.company.adresa.mesto.mestoNaziv+", "+n.company.adresa.ulica),m.Eb(6),m.nc("ngForOf",n.company.radFirme),m.Eb(6),m.nc("placeholder",n.company.menadzer)}},directives:[l.s,s.w,s.l,s.m,l.u,y.f,l.r,l.K,s.b,s.k,s.n,s.q,s.s,r.n,s.f,s.g,r.m,l.p,l.t],styles:[""]}),B),N=t("SxV6");function K(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Ime je obavezno! "),m.Wb())}function Z(e,n){if(1&e&&(m.Xb(0,"p",27),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function G(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Ime mora biti validno! "),m.Wb())}function H(e,n){if(1&e&&(m.Vb(0),m.Cc(1,K,2,0,"p",26),m.Cc(2,Z,2,2,"p",26),m.Cc(3,G,2,0,"p",26),m.Ub()),2&e){m.hc();var t=m.uc(8);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function J(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Prezime je obavezno! "),m.Wb())}function Y(e,n){if(1&e&&(m.Xb(0,"p",27),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.prezime.maxLength")," ")}}function $(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Prezime mora biti validno! "),m.Wb())}function Q(e,n){if(1&e&&(m.Vb(0),m.Cc(1,J,2,0,"p",26),m.Cc(2,Y,2,2,"p",26),m.Cc(3,$,2,0,"p",26),m.Ub()),2&e){m.hc();var t=m.uc(16),i=m.uc(8);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ee(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Email je obavezan! "),m.Wb())}function ne(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Email mora biti validan! "),m.Wb())}function te(e,n){if(1&e&&(m.Vb(0),m.Cc(1,ee,2,0,"p",26),m.Cc(2,ne,2,0,"p",26),m.Ub()),2&e){m.hc();var t=m.uc(24);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function ie(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Korisni\u010dko ime je obavezno! "),m.Wb())}function ae(e,n){if(1&e&&(m.Xb(0,"p",27),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function oe(e,n){if(1&e&&(m.Vb(0),m.Cc(1,ie,2,0,"p",26),m.Cc(2,ae,2,2,"p",26),m.Ub()),2&e){m.hc();var t=m.uc(32);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function re(e,n){1&e&&(m.Xb(0,"p",27),m.Ec(1," Telefon je obavezan! "),m.Wb())}function se(e,n){if(1&e&&(m.Xb(0,"p",27),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function le(e,n){if(1&e&&(m.Vb(0),m.Cc(1,re,2,0,"p",26),m.Cc(2,se,2,2,"p",26),m.Ub()),2&e){m.hc();var t=m.uc(40);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var ce,ue,be=((ue=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,e),this.korisnikService=n,this.options=t,this.toastrService=i,this.authService=a,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getCurrentKorisnik().pipe(Object(N.a)()).subscribe((function(n){e.korisnik=n}))}},{key:"getConfigValue",value:function(e){return Object(z.n)(this.options,e,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(e){if(e.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var n=null;this.authService.getToken().subscribe((function(e){n=e})),this.authService.refreshToken("email",n).subscribe((function(e){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}()).\u0275fac=function(e){return new(e||ue)(m.Rb(b.a),m.Rb(z.a),m.Rb(l.zb),m.Rb(z.g))},ue.\u0275cmp=m.Lb({type:ue,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=m.Yb();m.Xb(0,"form",0,1),m.fc("ngSubmit",(function(){m.wc(t);var e=m.uc(1);return n.updateKorisnik(e)})),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"label",4),m.Ec(5,"Ime:"),m.Wb(),m.Wb(),m.Xb(6,"div",5),m.Xb(7,"input",6,7),m.fc("ngModelChange",(function(e){return n.korisnik.ime=e})),m.Wb(),m.Cc(9,H,4,3,"ng-container",8),m.Wb(),m.Wb(),m.Xb(10,"div",2),m.Xb(11,"div",3),m.Xb(12,"label",9),m.Ec(13,"Prezime:"),m.Wb(),m.Wb(),m.Xb(14,"div",5),m.Xb(15,"input",10,11),m.fc("ngModelChange",(function(e){return n.korisnik.prezime=e})),m.Wb(),m.Cc(17,Q,4,3,"ng-container",8),m.Wb(),m.Wb(),m.Xb(18,"div",2),m.Xb(19,"div",3),m.Xb(20,"label",12),m.Ec(21,"Email:"),m.Wb(),m.Wb(),m.Xb(22,"div",5),m.Xb(23,"input",13,14),m.fc("ngModelChange",(function(e){return n.korisnik.email=e})),m.Wb(),m.Cc(25,te,3,2,"ng-container",8),m.Wb(),m.Wb(),m.Xb(26,"div",2),m.Xb(27,"div",3),m.Xb(28,"label",15),m.Ec(29,"Korisni\u010dko ime:"),m.Wb(),m.Wb(),m.Xb(30,"div",5),m.Xb(31,"input",16,17),m.fc("ngModelChange",(function(e){return n.korisnik.korisnickoIme=e})),m.Wb(),m.Cc(33,oe,3,2,"ng-container",8),m.Wb(),m.Wb(),m.Xb(34,"div",2),m.Xb(35,"div",3),m.Xb(36,"label",18),m.Ec(37,"Telefon:"),m.Wb(),m.Wb(),m.Xb(38,"div",5),m.Xb(39,"input",19,20),m.fc("ngModelChange",(function(e){return n.korisnik.telefon=e})),m.Wb(),m.Cc(41,le,3,2,"ng-container",8),m.Wb(),m.Wb(),m.Xb(42,"div",21),m.Sb(43,"div",22),m.Xb(44,"div",23),m.Xb(45,"button",24),m.fc("click",(function(){return n.enableInputs()})),m.Ec(46,"IZMENI"),m.Wb(),m.Wb(),m.Xb(47,"div",23),m.Xb(48,"button",25),m.Ec(49,"SA\u010cUVAJ"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var i=m.uc(8),a=m.uc(16),o=m.uc(24),r=m.uc(32),s=m.uc(40);m.Eb(7),m.nc("ngModel",n.korisnik.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),m.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),m.Eb(2),m.nc("ngIf",i.invalid&&i.touched),m.Eb(6),m.nc("ngModel",n.korisnik.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),m.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),m.Eb(2),m.nc("ngIf",a.invalid&&a.touched),m.Eb(6),m.nc("ngModel",n.korisnik.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),m.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),m.Eb(2),m.nc("ngIf",o.invalid&&o.touched),m.Eb(6),m.nc("ngModel",n.korisnik.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),m.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),m.Eb(2),m.nc("ngIf",r.invalid&&r.touched),m.Eb(6),m.nc("ngModel",n.korisnik.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic")("disabled",n.inputsDisabled),m.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),m.Eb(2),m.nc("ngIf",s.invalid&&s.touched),m.Eb(4),m.nc("disabled",!n.inputsDisabled),m.Eb(3),m.nc("disabled",n.inputsDisabled)}},directives:[s.w,s.l,s.m,l.K,s.b,s.k,s.n,s.f,s.g,s.q,s.s,r.n,l.p],styles:[""]}),ue),de=((ce=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ce)},ce.\u0275cmp=m.Lb({type:ce,selectors:[["ngx-profile"]],decls:3,vars:0,template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-body"),m.Sb(2,"ngx-profile-korisnik"),m.Wb(),m.Wb())},directives:[l.s,l.r,be],styles:[""]}),ce),fe={actions:{columnTitle:"Generi\u0161i izve\u0161taj",position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"generisi",title:'<i class="fa fa-file-pdf"></i>'}]},columns:{indeksniBroj:{title:"Indeksni Broj"},naziv:{title:"Naziv"},kolicina:{title:"Koli\u010dina (kg)"}}};function me(e,n){if(1&e){var t=m.Yb();m.Xb(0,"div",1),m.Xb(1,"h5"),m.Ec(2),m.Wb(),m.Xb(3,"p"),m.Ec(4,"Generi\u0161i sve izve\u0161taje "),m.Xb(5,"i",2),m.fc("click",(function(){m.wc(t);var e=n.$implicit;return m.hc().allTrashReport(e)})),m.Wb(),m.Wb(),m.Xb(6,"ng2-smart-table",3),m.fc("custom",(function(e){m.wc(t);var i=n.$implicit;return m.hc().trashReport(e,i)})),m.Wb(),m.Wb()}if(2&e){var i=n.$implicit,a=m.hc();m.Eb(2),m.Fc(i.naziv),m.Eb(4),m.nc("settings",a.storageReportSettings)("source",i.neopasniOtpad)}}var ge,pe=((ge=function(){function e(n,t){_classCallCheck(this,e),this.skladisteService=n,this.mesecniIzvestajService=t,this.storages=[],this.storageReportSettings=fe}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.storageIDs.forEach((function(n){return e.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storages.push(n)}))})),this.mergeOtpads()}},{key:"mergeOtpads",value:function(){if(void 0!==this.storages){var e,n=_createForOfIteratorHelper(this.storages);try{for(n.s();!(e=n.n()).done;){var t=e.value;t.neopasniOtpad=t.neopasniOtpad.concat(t.opasniOtpad)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"downloadFile",value:function(e){var n=new Blob([e],{type:"application/pdf"}),t=window.URL.createObjectURL(n);window.open(t)}},{key:"trashReport",value:function(e,n){var t=this,i=e.data;this.mesecniIzvestajService.createMesecniIzvestaj(i,n,"PRODUCTION").subscribe((function(e){return t.downloadFile(e)}))}},{key:"allTrashReport",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||ge)(m.Rb(h.a),m.Rb(g))},ge.\u0275cmp=m.Lb({type:ge,selectors:[["ngx-storage-reports"]],inputs:{storageIDs:"storageIDs"},decls:1,vars:1,consts:[["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"fa","fa-download",3,"click"],[3,"settings","source","custom"]],template:function(e,n){1&e&&m.Cc(0,me,7,3,"div",0),2&e&&m.nc("ngForOf",n.storages)},directives:[r.m,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover, i[_ngcontent-%COMP%]:hover{color:#1e90ff;cursor:pointer}"]}),ge);function ve(e,n){if(1&e&&(m.Xb(0,"nb-tab",10),m.Sb(1,"ngx-storage-reports",11),m.Wb()),2&e){var t=m.hc();m.Eb(1),m.nc("storageIDs",t.company.skladista)}}function he(e,n){1&e&&(m.Xb(0,"nb-tab",12),m.Ec(1," NOT "),m.Wb())}function ke(e,n){1&e&&(m.Xb(0,"nb-tab",13),m.Ec(1," NOTR "),m.Wb())}function ye(e,n){1&e&&(m.Xb(0,"nb-tab",14),m.Ec(1," NOO "),m.Wb())}function Ce(e,n){1&e&&(m.Xb(0,"nb-tab",15),m.Ec(1," NOS "),m.Wb())}var We,Xe,Ee=((We=function(){function e(n,t,i,a,o){_classCallCheck(this,e),this.route=n,this.firmaService=t,this.toastrService=i,this.skladisteService=a,this.roleService=o,this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("pib");this.firmaService.findFirma(n,"pib").subscribe((function(n){e.company=n,e.skladisteService.getAllSkladistaFirme(e.company._id).pipe(Object(N.a)()).subscribe((function(n){e.skladista=n})),e.roleService.findOperations(e.company.radFirme).subscribe((function(n){e.operations=n}))}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}}]),e}()).\u0275fac=function(e){return new(e||We)(m.Rb(y.a),m.Rb(u.a),m.Rb(l.zb),m.Rb(h.a),m.Rb(v.a))},We.\u0275cmp=m.Lb({type:We,selectors:[["ngx-company-reports"]],decls:18,vars:7,consts:[[1,"row","mb-2"],[1,"col-6"],[1,"col-12","label"],["nbInput","","disabled","","fullWidth","",3,"ngModel","ngModelChange"],[1,"col-12"],["active","","tabTitle","Proizvodnja Otpada",4,"ngIf"],["tabTitle","Transport Otpada",4,"ngIf"],["tabTitle","Tretman Otpada",4,"ngIf"],["tabTitle","Odlaganje Otpada",4,"ngIf"],["tabTitle","Skladi\u0161tenje Otpada",4,"ngIf"],["active","","tabTitle","Proizvodnja Otpada"],[3,"storageIDs"],["tabTitle","Transport Otpada"],["tabTitle","Tretman Otpada"],["tabTitle","Odlaganje Otpada"],["tabTitle","Skladi\u0161tenje Otpada"]],template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Xb(2,"h5"),m.Ec(3),m.Wb(),m.Wb(),m.Xb(4,"nb-card-body"),m.Xb(5,"div",0),m.Xb(6,"div",1),m.Xb(7,"label",2),m.Ec(8,"Email za prijem dokumenata:"),m.Wb(),m.Xb(9,"div",1),m.Xb(10,"input",3),m.fc("ngModelChange",(function(e){return n.company.emailPrijem=e})),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",0),m.Xb(12,"nb-tabset",4),m.Cc(13,ve,2,1,"nb-tab",5),m.Cc(14,he,2,0,"nb-tab",6),m.Cc(15,ke,2,0,"nb-tab",7),m.Cc(16,ye,2,0,"nb-tab",8),m.Cc(17,Ce,2,0,"nb-tab",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(3),m.Fc(n.company.naziv),m.Eb(7),m.nc("ngModel",n.company.emailPrijem),m.Eb(3),m.nc("ngIf",null==n.operations?null:n.operations.proizvodnja),m.Eb(1),m.nc("ngIf",null==n.operations?null:n.operations.transport),m.Eb(1),m.nc("ngIf",null==n.operations?null:n.operations.tretman),m.Eb(1),m.nc("ngIf",null==n.operations?null:n.operations.odlaganje),m.Eb(1),m.nc("ngIf",null==n.operations?null:n.operations.skladistenje))},directives:[l.s,l.u,l.r,l.K,s.b,s.k,s.n,l.ub,r.n,l.tb,pe],styles:[""]}),We),Ie={pager:{perPage:10},actions:{columnTitle:"Jedan izve\u0161taj/Svi izve\u0161taji",add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"one report",title:'<i class="fa fa-file-alt"></i>'},{name:"all reports",title:'<i class="fa fa-book"></i>'}]},columns:{pib:{title:"PIB"},mat:{title:"Mati\u010dni broj"},naziv:{title:"Naziv Firme"},emailPrijem:{title:"Email za prijem"},telefon:{title:"Telefon"},radFirme:{title:"Rad firme"}}},ze=((Xe=function(){function e(n,t,i){_classCallCheck(this,e),this.firmaService=n,this.toastrService=t,this.router=i,this.companySource=new c.a,this.companySettings=Ie}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firmaService.getFirma().subscribe((function(n){e.companySource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"companyReports",value:function(e){"one report"===e.action?this.gotoCompanyReport(e):"all reports"===e.action&&this.makeAllReports(e)}},{key:"gotoCompanyReport",value:function(e){var n=e.data;this.router.navigate(["admin/izvestaji/firme/",n.pib])}},{key:"makeAllReports",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Xe)(m.Rb(u.a),m.Rb(l.zb),m.Rb(y.c))},Xe.\u0275cmp=m.Lb({type:Xe,selectors:[["ngx-reports"]],decls:5,vars:2,consts:[[3,"settings","source","custom"]],template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Ec(2,"Firme"),m.Wb(),m.Xb(3,"nb-card-body"),m.Xb(4,"ng2-smart-table",0),m.fc("custom",(function(e){return n.companyReports(e)})),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(4),m.nc("settings",n.companySettings)("source",n.companySource))},directives:[l.s,l.u,l.r,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:40px;text-align:center;margin-left:5px;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff;cursor:pointer}"]}),Xe),Se={hideSubHeader:!0,pager:{perPage:4},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{position:"right",add:!1,edit:!0,delete:!0},columns:{indeksniBroj:{title:"Indeksni Broj",editable:!1},naziv:{title:"Naziv"},opis:{title:"Opis"},kolicina:{title:"Koli\u010dina (kg)"}}};function je(e,n){1&e&&(m.Xb(0,"p",34),m.Ec(1," Naziv skladi\u0161ta je obavezan! "),m.Wb())}function Me(e,n){if(1&e&&(m.Vb(0),m.Cc(1,je,2,0,"p",33),m.Ub()),2&e){m.hc();var t=m.uc(22);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required)}}function we(e,n){1&e&&(m.Xb(0,"p",34),m.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),m.Wb())}function xe(e,n){if(1&e&&(m.Vb(0),m.Cc(1,we,2,0,"p",33),m.Ub()),2&e){m.hc();var t=m.uc(36);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required)}}function Ve(e,n){if(1&e&&(m.Xb(0,"div",11),m.Xb(1,"div",0),m.Xb(2,"label",35),m.Ec(3,"Geolokacija Skladi\u0161ta:"),m.Wb(),m.Wb(),m.Xb(4,"div",10),m.Sb(5,"input",36),m.Wb(),m.Wb()),2&e){var t=m.hc();m.Eb(5),m.nc("placeholder",t.storage.geolokacijaN+"N"+t.storage.geolokacijaE+"E")}}function Oe(e,n){if(1&e&&(m.Xb(0,"div",11),m.Xb(1,"div",0),m.Xb(2,"label",37),m.Ec(3,"Vrsta Deponije:"),m.Wb(),m.Wb(),m.Xb(4,"div",10),m.Sb(5,"input",38),m.Wb(),m.Wb()),2&e){var t=m.hc();m.Eb(5),m.nc("placeholder",t.storage.vrstaDeponije)}}var _e,Te,Le=function(){return{standalone:!0}},qe=((_e=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.route=n,this.skladisteService=t,this.options=i,this.toastrService=a,this.router=o,this.notpadService=r,this.firmaService=s,this.storage={geolokacijaE:void 0,geolokacijaN:void 0,vrstaDeponije:void 0,_id:"",adresa:{mesto:{mestoNaziv:"",mestoSifra:0,opstinaNaziv:"",opstinaSifra:0,postanskiBroj:""},ulica:""},kolicina:0,maxKolicina:0,naziv:""},this.company={_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.settings=Se}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storage=n;var t=e.storage.__t?e.storage.__t:"skladista";t=(t=t.charAt(0).toLowerCase()+t.slice(1)).substring(0,8)+"a"+t.slice(9),e.firmaService.findFirma(e.storage._id,t).subscribe((function(n){e.company=n})),e.mergeOtpads()})),this.updateSkladiste()}},{key:"updateSkladiste",value:function(){var e=this,n=this.route.snapshot.paramMap.get("id");this.skladisteService.getOneSkladiste(n).subscribe((function(n){e.storage=n,e.mergeOtpads()}))}},{key:"mergeOtpads",value:function(){void 0!==this.storage&&(this.storage.neopasniOtpad=this.storage.neopasniOtpad.concat(this.storage.opasniOtpad))}},{key:"getConfigValue",value:function(e){return Object(z.n)(this.options,e,null)}},{key:"updateStorage",value:function(e){e.valid?(this.skladisteService.updateSkladiste(this.storage).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"updateTrash",value:function(e,n){var t=this,i=e.newData,a=e.confirm;try{this.notpadService.updateNOtpad(i,n._id).subscribe((function(e){t.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteTrash",value:function(e,n){var t=this,i=e.data,a=e.confirm;try{this.notpadService.deleteNOtpad(i,n._id).subscribe((function(e){t.updateSkladiste()})),a.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+i.naziv,"success")}catch(o){a.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+i.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"calculateStatus",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100<33?"success":this.storage.kolicina/this.storage.maxKolicina*100<66?"warning":"danger"}},{key:"calculateValue",value:function(){return this.storage.kolicina/this.storage.maxKolicina*100}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/firme",this.company.pib])}}]),e}()).\u0275fac=function(e){return new(e||_e)(m.Rb(y.a),m.Rb(h.a),m.Rb(z.a),m.Rb(l.zb),m.Rb(y.c),m.Rb(p.a),m.Rb(u.a))},_e.\u0275cmp=m.Lb({type:_e,selectors:[["ngx-storage"]],decls:62,vars:29,consts:[[1,"col-12"],[3,"ngSubmit"],["formSkladista","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"text-center","text-muted"],[1,"col-6"],[1,"row","mb-2"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","adresa","nbInput","","type","text",3,"placeholder"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","ngModelChange"],["velicina","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-firma",1,"label"],[1,"col-5","pr-0"],["disabled","","fullWidth","","id","input-firma","name","firma","nbInput","","type","text",3,"placeholder"],[1,"col-1","pl-0"],["status","primary","nbButton","","fullWidth","",3,"click"],[1,"fa","fa-link"],["size","large",3,"value","status"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],[3,"settings","source","editConfirm","deleteConfirm"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-geolokacijaN",1,"label"],["disabled","","fullWidth","","id","input-geolokacijaN","name","geolokacijaN","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"placeholder"]],template:function(e,n){if(1&e){var t=m.Yb();m.Xb(0,"nb-card",0),m.Xb(1,"form",1,2),m.fc("ngSubmit",(function(){m.wc(t);var e=m.uc(2);return n.updateStorage(e)})),m.Xb(3,"nb-card-header"),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"a",5),m.Sb(7,"i",6),m.Wb(),m.Wb(),m.Xb(8,"div",7),m.Xb(9,"h5",8),m.Ec(10),m.Wb(),m.Xb(11,"p",9),m.Ec(12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"nb-card-body"),m.Xb(14,"div",3),m.Xb(15,"div",10),m.Xb(16,"div",11),m.Xb(17,"div",0),m.Xb(18,"label",12),m.Ec(19,"Naziv skladi\u0161ta:"),m.Wb(),m.Wb(),m.Xb(20,"div",10),m.Xb(21,"input",13,14),m.fc("ngModelChange",(function(e){return n.storage.naziv=e})),m.Wb(),m.Cc(23,Me,2,1,"ng-container",15),m.Wb(),m.Wb(),m.Xb(24,"div",11),m.Xb(25,"div",0),m.Xb(26,"label",16),m.Ec(27,"Adresa Skladi\u0161ta:"),m.Wb(),m.Wb(),m.Xb(28,"div",10),m.Sb(29,"input",17),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"div",0),m.Xb(32,"label",18),m.Ec(33,"Veli\u010dina skladi\u0161ta:"),m.Wb(),m.Wb(),m.Xb(34,"div",10),m.Xb(35,"input",19,20),m.fc("ngModelChange",(function(e){return n.storage.maxKolicina=e})),m.Wb(),m.Cc(37,xe,2,1,"ng-container",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(38,"div",10),m.Cc(39,Ve,6,1,"div",21),m.Cc(40,Oe,6,1,"div",21),m.Xb(41,"div",11),m.Xb(42,"div",0),m.Xb(43,"label",22),m.Ec(44,"Firma skladi\u0161ta:"),m.Wb(),m.Wb(),m.Xb(45,"div",23),m.Sb(46,"input",24),m.Wb(),m.Xb(47,"div",25),m.Xb(48,"button",26),m.fc("click",(function(){return n.gotoCompany()})),m.Sb(49,"i",27),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",11),m.Xb(51,"div",0),m.Xb(52,"nb-progress-bar",28),m.Ec(53),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(54,"nb-card-footer"),m.Xb(55,"div",3),m.Sb(56,"div",29),m.Xb(57,"div",30),m.Xb(58,"button",31),m.Ec(59,"SA\u010cUVAJ"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(60,"nb-card-body"),m.Xb(61,"ng2-smart-table",32),m.fc("editConfirm",(function(e){return n.updateTrash(e,n.storage)}))("deleteConfirm",(function(e){return n.deleteTrash(e,n.storage)})),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var i=m.uc(22),a=m.uc(36);m.Eb(10),m.Fc(n.storage.naziv),m.Eb(2),m.Fc(n.storage.__t),m.Eb(9),m.nc("ngModel",n.storage.naziv)("ngModelOptions",m.qc(27,Le))("maxlength",n.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",n.getConfigValue("forms.validation.nazivFirme.minLength"))("required",n.getConfigValue("forms.validation.nazivFirme.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),m.Eb(2),m.nc("ngIf",i.invalid&&i.touched),m.Eb(6),m.nc("placeholder",n.storage.adresa.mesto.opstinaNaziv+", "+n.storage.adresa.mesto.mestoNaziv+", "+n.storage.adresa.ulica),m.Eb(6),m.nc("ngModel",n.storage.maxKolicina)("ngModelOptions",m.qc(28,Le))("pattern",n.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",n.getConfigValue("forms.validation.velicinaSkladista.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),m.Eb(2),m.nc("ngIf",a.invalid&&a.touched),m.Eb(2),m.nc("ngIf",void 0!==n.storage.geolokacijaN),m.Eb(1),m.nc("ngIf",void 0!==n.storage.vrstaDeponije),m.Eb(6),m.nc("placeholder",n.company.naziv),m.Eb(6),m.nc("value",n.calculateValue())("status",n.calculateStatus()),m.Eb(1),m.Hc(" ",n.storage.kolicina,"/",n.storage.maxKolicina," "),m.Eb(8),m.nc("settings",n.settings)("source",null==n.storage?null:n.storage.neopasniOtpad)}},directives:[l.s,s.w,s.l,s.m,l.u,y.f,l.r,l.K,s.b,s.k,s.n,s.f,s.g,s.s,r.n,s.p,s.q,l.p,l.db,l.t,c.b],styles:[""]}),_e),Fe={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{naziv:{title:"Naziv"},maxKolicina:{title:"Veli\u010dina"},kolicina:{title:"Trenutno stanje"},popunjenost:{editable:!1,sort:!0,sortDirection:"desc",title:"Popunjenost (%)"}}},Ue=((Te=function(){function e(n,t,i){_classCallCheck(this,e),this.skladisteService=n,this.toastrService=t,this.router=i,this.storageSource=new c.a,this.storageSettings=Fe}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.skladisteService.getSkladiste().subscribe((function(n){n.forEach((function(e){return e.popunjenost=(e.kolicina/e.maxKolicina*100).toFixed(0)})),e.storageSource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createStorage",value:function(e){var n=e.newData,t=e.confirm;try{this.skladisteService.createSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateStorage",value:function(e){var n=e.newData,t=e.confirm;try{this.skladisteService.updateSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteStorage",value:function(e){var n=e.data,t=e.confirm;try{this.skladisteService.deleteSkladiste(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.naziv,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.naziv+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"storageInfo",value:function(e){var n=e.data;this.router.navigate(["admin/skladiste",n._id])}}]),e}()).\u0275fac=function(e){return new(e||Te)(m.Rb(h.a),m.Rb(l.zb),m.Rb(y.c))},Te.\u0275cmp=m.Lb({type:Te,selectors:[["ngx-storages"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Ec(2,"Skladi\u0161ta"),m.Wb(),m.Xb(3,"nb-card-body"),m.Xb(4,"ng2-smart-table",0),m.fc("createConfirm",(function(e){return n.createStorage(e)}))("editConfirm",(function(e){return n.updateStorage(e)}))("deleteConfirm",(function(e){return n.deleteStorage(e)}))("custom",(function(e){return n.storageInfo(e)})),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(4),m.nc("settings",n.storageSettings)("source",n.storageSource))},directives:[l.s,l.u,l.r,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),Te);function Re(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Ime je obavezno! "),m.Wb())}function Pe(e,n){if(1&e&&(m.Xb(0,"p",40),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function De(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Ime mora biti validno! "),m.Wb())}function Be(e,n){if(1&e&&(m.Vb(0),m.Cc(1,Re,2,0,"p",39),m.Cc(2,Pe,2,2,"p",39),m.Cc(3,De,2,0,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(19);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Ae(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Prezime je obavezno! "),m.Wb())}function Ne(e,n){if(1&e&&(m.Xb(0,"p",40),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Prezime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.prezime.maxLength")," ")}}function Ke(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Prezime mora biti validno! "),m.Wb())}function Ze(e,n){if(1&e&&(m.Vb(0),m.Cc(1,Ae,2,0,"p",39),m.Cc(2,Ne,2,2,"p",39),m.Cc(3,Ke,2,0,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(27),i=m.uc(19);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==i.errors?null:i.errors.maxlength)),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Ge(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Email je obavezan! "),m.Wb())}function He(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Email mora biti validan! "),m.Wb())}function Je(e,n){if(1&e&&(m.Vb(0),m.Cc(1,Ge,2,0,"p",39),m.Cc(2,He,2,0,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(35);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function Ye(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Korisni\u010dko ime je obavezno! "),m.Wb())}function $e(e,n){if(1&e&&(m.Xb(0,"p",40),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",t.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function Qe(e,n){if(1&e&&(m.Vb(0),m.Cc(1,Ye,2,0,"p",39),m.Cc(2,$e,2,2,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(43);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function en(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Telefon je obavezan! "),m.Wb())}function nn(e,n){if(1&e&&(m.Xb(0,"p",40),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Telefon mora da bude du\u017ei od ",t.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",t.getConfigValue("forms.validation.telefon.maxLength")," ")}}function tn(e,n){if(1&e&&(m.Vb(0),m.Cc(1,en,2,0,"p",39),m.Cc(2,nn,2,2,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(51);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function an(e,n){1&e&&(m.Xb(0,"p",40),m.Ec(1," Uloga je obavezna! "),m.Wb())}function on(e,n){if(1&e&&(m.Xb(0,"p",40),m.Ec(1),m.Wb()),2&e){var t=m.hc(2);m.Eb(1),m.Hc(" Uloga mora da bude du\u017ee od ",t.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",t.getConfigValue("forms.validation.ime.maxLength")," ")}}function rn(e,n){if(1&e&&(m.Vb(0),m.Cc(1,an,2,0,"p",39),m.Cc(2,on,2,2,"p",39),m.Ub()),2&e){m.hc();var t=m.uc(60);m.Eb(1),m.nc("ngIf",null==t.errors?null:t.errors.required),m.Eb(1),m.nc("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}var sn,ln,cn,un,bn=((sn=function(){function e(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,e),this.route=n,this.korisnikService=t,this.options=i,this.toastrService=a,this.router=o,this.user={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:"",firma:{_id:"",adresa:{mesto:void 0,ulica:""},delatnost:void 0,email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,n=this.route.snapshot.paramMap.get("korisnickoIme");this.korisnikService.findKorisnik(n,"korisnickoIme").subscribe((function(n){e.user=n}))}},{key:"getConfigValue",value:function(e){return Object(z.n)(this.options,e,null)}},{key:"updateUser",value:function(e){e.valid?(this.korisnikService.updateKorisnik(this.user).subscribe((function(e){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success")):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"gotoCompany",value:function(){this.router.navigate(["admin/firme",this.user.firma.pib])}}]),e}()).\u0275fac=function(e){return new(e||sn)(m.Rb(y.a),m.Rb(b.a),m.Rb(z.a),m.Rb(l.zb),m.Rb(y.c))},sn.\u0275cmp=m.Lb({type:sn,selectors:[["ngx-user"]],decls:77,vars:47,consts:[[1,"col-12"],[3,"ngSubmit"],["formUser","ngForm"],[1,"row"],[1,"col-1"],["routerLink","..",1,""],[1,"fa","fa-2x","fa-arrow-left"],[1,"col-9"],[1,"text-center"],[1,"col-6"],[1,"row","mb-2"],["for","input-ime",1,"label"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","ngModelChange"],["telefon","ngModel"],["for","input-uloga",1,"label"],["fullWidth","","id","input-uloga","name","uloga","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","ngModelChange"],["uloga","ngModel"],["for","input-firma",1,"label"],[1,"col-5","mr-0","pr-0"],["nbInput","","fullWidth","","id","input-firma","type","text",3,"placeholder"],[1,"col-1","pl-0","ml-0"],["status","primary","nbButton","","type","button",3,"click"],[1,"fa","fa-link"],[1,"col-8"],[1,"col-4"],["fullWidth","","nbButton","","status","primary","type","submit"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(e,n){if(1&e){var t=m.Yb();m.Xb(0,"nb-card",0),m.Xb(1,"form",1,2),m.fc("ngSubmit",(function(){m.wc(t);var e=m.uc(2);return n.updateUser(e)})),m.Xb(3,"nb-card-header"),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"a",5),m.Sb(7,"i",6),m.Wb(),m.Wb(),m.Xb(8,"div",7),m.Xb(9,"h5",8),m.Ec(10),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",3),m.Xb(12,"nb-card-body",9),m.Xb(13,"div",10),m.Xb(14,"div",0),m.Xb(15,"label",11),m.Ec(16,"Ime:"),m.Wb(),m.Wb(),m.Xb(17,"div",9),m.Xb(18,"input",12,13),m.fc("ngModelChange",(function(e){return n.user.ime=e})),m.Wb(),m.Cc(20,Be,4,3,"ng-container",14),m.Wb(),m.Wb(),m.Xb(21,"div",10),m.Xb(22,"div",0),m.Xb(23,"label",15),m.Ec(24,"Prezime:"),m.Wb(),m.Wb(),m.Xb(25,"div",9),m.Xb(26,"input",16,17),m.fc("ngModelChange",(function(e){return n.user.prezime=e})),m.Wb(),m.Cc(28,Ze,4,3,"ng-container",14),m.Wb(),m.Wb(),m.Xb(29,"div",10),m.Xb(30,"div",0),m.Xb(31,"label",18),m.Ec(32,"Email:"),m.Wb(),m.Wb(),m.Xb(33,"div",9),m.Xb(34,"input",19,20),m.fc("ngModelChange",(function(e){return n.user.email=e})),m.Wb(),m.Cc(36,Je,3,2,"ng-container",14),m.Wb(),m.Wb(),m.Xb(37,"div",10),m.Xb(38,"div",0),m.Xb(39,"label",21),m.Ec(40,"Korisni\u010dko ime:"),m.Wb(),m.Wb(),m.Xb(41,"div",9),m.Xb(42,"input",22,23),m.fc("ngModelChange",(function(e){return n.user.korisnickoIme=e})),m.Wb(),m.Cc(44,Qe,3,2,"ng-container",14),m.Wb(),m.Wb(),m.Xb(45,"div",10),m.Xb(46,"div",0),m.Xb(47,"label",24),m.Ec(48,"Telefon:"),m.Wb(),m.Wb(),m.Xb(49,"div",9),m.Xb(50,"input",25,26),m.fc("ngModelChange",(function(e){return n.user.telefon=e})),m.Wb(),m.Cc(52,tn,3,2,"ng-container",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(53,"nb-card-body",9),m.Xb(54,"div",10),m.Xb(55,"div",0),m.Xb(56,"label",27),m.Ec(57,"Uloga:"),m.Wb(),m.Wb(),m.Xb(58,"div",9),m.Xb(59,"input",28,29),m.fc("ngModelChange",(function(e){return n.user.uloga=e})),m.Wb(),m.Cc(61,rn,3,2,"ng-container",14),m.Wb(),m.Wb(),m.Xb(62,"div",10),m.Xb(63,"div",0),m.Xb(64,"label",30),m.Ec(65,"Firma:"),m.Wb(),m.Wb(),m.Xb(66,"div",31),m.Sb(67,"input",32),m.Wb(),m.Xb(68,"div",33),m.Xb(69,"button",34),m.fc("click",(function(){return n.gotoCompany()})),m.Sb(70,"i",35),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(71,"nb-card-footer"),m.Xb(72,"div",3),m.Sb(73,"div",36),m.Xb(74,"div",37),m.Xb(75,"button",38),m.Ec(76,"SA\u010cUVAJ"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var i=m.uc(19),a=m.uc(27),o=m.uc(35),r=m.uc(43),s=m.uc(51),l=m.uc(60);m.Eb(10),m.Hc(" ",n.user.ime," ",n.user.prezime,""),m.Eb(8),m.nc("ngModel",n.user.ime)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",i.dirty?i.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),m.Eb(2),m.nc("ngIf",i.invalid&&i.touched),m.Eb(6),m.nc("ngModel",n.user.prezime)("maxlength",n.getConfigValue("forms.validation.prezime.maxLength"))("minlength",n.getConfigValue("forms.validation.prezime.minLength"))("pattern",n.getConfigValue("forms.validation.prezime.pattern"))("required",n.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),m.Eb(2),m.nc("ngIf",a.invalid&&a.touched),m.Eb(6),m.nc("ngModel",n.user.email)("pattern",n.getConfigValue("forms.validation.email.pattern"))("required",n.getConfigValue("forms.validation.email.required"))("status",o.dirty?o.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),m.Eb(2),m.nc("ngIf",o.invalid&&o.touched),m.Eb(6),m.nc("ngModel",n.user.korisnickoIme)("maxlength",n.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",n.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",n.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),m.Eb(2),m.nc("ngIf",r.invalid&&r.touched),m.Eb(6),m.nc("ngModel",n.user.telefon)("maxlength",n.getConfigValue("forms.validation.telefon.maxLength"))("minlength",n.getConfigValue("forms.validation.telefon.minLength"))("required",n.getConfigValue("forms.validation.telefon.required"))("status",s.dirty?s.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!s.invalid||!s.touched)||null),m.Eb(2),m.nc("ngIf",s.invalid&&s.touched),m.Eb(7),m.nc("ngModel",n.user.uloga)("maxlength",n.getConfigValue("forms.validation.ime.maxLength"))("minlength",n.getConfigValue("forms.validation.ime.minLength"))("pattern",n.getConfigValue("forms.validation.ime.pattern"))("required",n.getConfigValue("forms.validation.ime.required"))("status",l.dirty?l.invalid?"danger":"success":"basic"),m.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),m.Eb(2),m.nc("ngIf",l.invalid&&l.touched),m.Eb(6),m.nc("placeholder",n.user.firma.naziv)}},directives:[l.s,s.w,s.l,s.m,l.u,y.f,l.r,l.K,s.b,s.k,s.n,s.f,s.g,s.q,s.s,r.n,l.p,l.t],styles:[""]}),sn),dn={pager:{perPage:10},add:{confirmCreate:!0,addButtonContent:'<i  class="fa fa-plus"></i>',createButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="fa fa-edit"></i>',saveButtonContent:'<i class="fa fa-check"></i>',cancelButtonContent:'<i class="fa fa-times"></i>'},delete:{confirmDelete:!0,deleteButtonContent:'<i class="fa fa-trash"></i>',createButtonContent:'<i class="fa fa-check"></i>'},actions:{columnTitle:"Operacije",position:"right",custom:[{name:"info",title:'<div class="px-5"><i class="fa fa-info-circle"></i></div>'}]},columns:{ime:{title:"Ime"},prezime:{title:"Prezime"},korisnickoIme:{title:"Korisni\u010dko ime"},email:{title:"Email"},telefon:{title:"Telefon"},firma:{editable:!1,valuePrepareFunction:function(e,n){return n.firma.naziv},title:"Firma"}}},fn=[{path:"",component:X,children:[{path:"admin-dashboard",loadChildren:function(){return t.e(8).then(t.bind(null,"LaSW")).then((function(e){return e.AdminDashboardModule}))}},{path:"profile",component:de},{path:"korisnici",component:(ln=function(){function e(n,t,i){_classCallCheck(this,e),this.korisnikService=n,this.toastrService=t,this.router=i,this.usersSource=new c.a,this.userSettings=dn}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.korisnikService.getKorisnik().subscribe((function(n){e.usersSource.load(n)}))}},{key:"showToast",value:function(e,n,t){this.toastrService.show(n,e,{status:t})}},{key:"createUser",value:function(e){var n=e.newData,t=e.confirm;try{this.korisnikService.createKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste kreirali "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke do kreiranja "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"updateUser",value:function(e){var n=e.newData,t=e.confirm;try{this.korisnikService.updateKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste uredili "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da promenite "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"deleteUser",value:function(e){var n=e.data,t=e.confirm;try{this.korisnikService.deleteKorisnik(n).subscribe((function(e){})),t.resolve(),this.showToast("Uspeh!","Uspe\u0161no ste obrisali "+n.korisnickoIme,"success")}catch(i){t.reject(),this.showToast("Gre\u0161ka!","Do\u0161lo je do gre\u0161ke dok ste poku\u0161ali da obri\u0161ete "+n.korisnickoIme+". Molimo vas poku\u0161ajte kasnije.","danger")}}},{key:"userInfo",value:function(e){var n=e.data;this.router.navigate(["admin/korisnici",n.korisnickoIme])}}]),e}(),ln.\u0275fac=function(e){return new(e||ln)(m.Rb(b.a),m.Rb(l.zb),m.Rb(y.c))},ln.\u0275cmp=m.Lb({type:ln,selectors:[["ngx-users"]],decls:5,vars:2,consts:[[3,"settings","source","createConfirm","editConfirm","deleteConfirm","custom"]],template:function(e,n){1&e&&(m.Xb(0,"nb-card"),m.Xb(1,"nb-card-header"),m.Ec(2,"Korisnici"),m.Wb(),m.Xb(3,"nb-card-body"),m.Xb(4,"ng2-smart-table",0),m.fc("createConfirm",(function(e){return n.createUser(e)}))("editConfirm",(function(e){return n.updateUser(e)}))("deleteConfirm",(function(e){return n.deleteUser(e)}))("custom",(function(e){return n.userInfo(e)})),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(4),m.nc("settings",n.userSettings)("source",n.usersSource))},directives:[l.s,l.u,l.r,c.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#1e90ff}"]}),ln)},{path:"korisnici/:korisnickoIme",component:bn},{path:"firme",component:I},{path:"firme/:pib",component:A},{path:"skladiste",component:Ue},{path:"skladiste/:id",component:qe},{path:"izvestaji",component:ze},{path:"izvestaji/firme/:pib",component:Ee}]}],mn=((un=function e(){_classCallCheck(this,e)}).\u0275mod=m.Pb({type:un}),un.\u0275inj=m.Ob({factory:function(e){return new(e||un)},imports:[[y.g.forChild(fn)],y.g]}),un),gn=((cn=function e(){_classCallCheck(this,e)}).\u0275mod=m.Pb({type:cn}),cn.\u0275inj=m.Ob({factory:function(e){return new(e||cn)},providers:[b.a,u.a,p.a,g,h.a,v.a],imports:[[r.c,mn,k.a,l.W,l.v,c.c,l.L,s.e,l.q,l.J,l.eb,l.g,l.vb]]}),cn)}}]);