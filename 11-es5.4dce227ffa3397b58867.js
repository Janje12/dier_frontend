function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function _createClass(i,e,n){return e&&_defineProperties(i.prototype,e),n&&_defineProperties(i,n),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"723k":function(i,e,n){"use strict";n.r(e),n.d(e,"ProfileModule",(function(){return Pi}));var t=n("ofXK"),a=n("3Pt+"),l=n("aceb"),r=n("RS3s"),o=n("dgmN"),s=n("bJfm"),b=n("tyNb"),d=n("g6/h"),u=n("ud2R"),c=n("fXoL"),f=n("McNs"),g=n("SxV6"),p=n("v7Ib");function v(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Ime je obavezno! "),c.Wb())}function m(i,e){if(1&i&&(c.Xb(0,"p",27),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.ime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.ime.maxLength")," ")}}function h(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Ime mora biti validno! "),c.Wb())}function k(i,e){if(1&i&&(c.Vb(0),c.Cc(1,v,2,0,"p",26),c.Cc(2,m,2,2,"p",26),c.Cc(3,h,2,0,"p",26),c.Ub()),2&i){c.hc();var n=c.uc(8);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength)),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function W(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Prezime je obavezno! "),c.Wb())}function X(i,e){if(1&i&&(c.Xb(0,"p",27),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Prezime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.prezime.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.prezime.maxLength")," ")}}function C(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Prezime mora biti validno! "),c.Wb())}function E(i,e){if(1&i&&(c.Vb(0),c.Cc(1,W,2,0,"p",26),c.Cc(2,X,2,2,"p",26),c.Cc(3,C,2,0,"p",26),c.Ub()),2&i){c.hc();var n=c.uc(16),t=c.uc(8);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==t.errors?null:t.errors.maxlength)),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function I(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Email je obavezan! "),c.Wb())}function M(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Email mora biti validan! "),c.Wb())}function z(i,e){if(1&i&&(c.Vb(0),c.Cc(1,I,2,0,"p",26),c.Cc(2,M,2,0,"p",26),c.Ub()),2&i){c.hc();var n=c.uc(24);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function y(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Korisni\u010dko ime je obavezno! "),c.Wb())}function S(i,e){if(1&i&&(c.Xb(0,"p",27),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Korisni\u010dko ime mora da bude du\u017ee od ",n.getConfigValue("forms.validation.korisnickoIme.minLength")," a kra\u0107e od ",n.getConfigValue("forms.validation.korisnickoIme.maxLength")," ")}}function w(i,e){if(1&i&&(c.Vb(0),c.Cc(1,y,2,0,"p",26),c.Cc(2,S,2,2,"p",26),c.Ub()),2&i){c.hc();var n=c.uc(32);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function x(i,e){1&i&&(c.Xb(0,"p",27),c.Ec(1," Telefon je obavezan! "),c.Wb())}function j(i,e){if(1&i&&(c.Xb(0,"p",27),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function V(i,e){if(1&i&&(c.Vb(0),c.Cc(1,x,2,0,"p",26),c.Cc(2,j,2,2,"p",26),c.Ub()),2&i){c.hc();var n=c.uc(40);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}var q,D=((q=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,i),this.korisnikService=e,this.options=n,this.toastrService=t,this.authService=a,this.korisnik={_id:"",email:"",ime:"",korisnickoIme:"",prezime:"",sifra:"",telefon:"",uloga:""},this.inputsDisabled=!0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.korisnikService.getCurrentKorisnik().pipe(Object(g.a)()).subscribe((function(e){i.korisnik=e}))}},{key:"getConfigValue",value:function(i){return Object(f.n)(this.options,i,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateKorisnik",value:function(i){if(i.valid){this.korisnikService.updateKorisnik(this.korisnik).subscribe((function(i){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var e=null;this.authService.getToken().subscribe((function(i){e=i})),this.authService.refreshToken("email",e).subscribe((function(i){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(i,e,n){this.toastrService.show(e,i,{status:n})}}]),i}()).\u0275fac=function(i){return new(i||q)(c.Rb(p.a),c.Rb(f.a),c.Rb(l.Hb),c.Rb(f.g))},q.\u0275cmp=c.Lb({type:q,selectors:[["ngx-profile-korisnik"]],decls:50,vars:43,consts:[[3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row","mb-2"],[1,"col-12"],["for","input-ime",1,"label"],[1,"col-3"],["fullWidth","","id","input-ime","name","ime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["ime","ngModel"],[4,"ngIf"],["for","input-prezime",1,"label"],["fullWidth","","id","input-prezime","name","prezime","nbInput","","onkeypress","return /[a-zA-Z\u010d\u0107\u017e\u0111\u0161\u0160\u0110\u017d\u0106\u010c]/i.test(event.key)","type","text",3,"ngModel","maxlength","minlength","pattern","required","status","disabled","ngModelChange"],["prezime","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],["for","input-korisnickoIme",1,"label"],["fullWidth","","id","input-korisnickoIme","name","korisnickoIme","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["korisnickoIme","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){var n=c.Yb();c.Xb(0,"form",0,1),c.fc("ngSubmit",(function(){c.wc(n);var i=c.uc(1);return e.updateKorisnik(i)})),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"label",4),c.Ec(5,"Ime:"),c.Wb(),c.Wb(),c.Xb(6,"div",5),c.Xb(7,"input",6,7),c.fc("ngModelChange",(function(i){return e.korisnik.ime=i})),c.Wb(),c.Cc(9,k,4,3,"ng-container",8),c.Wb(),c.Wb(),c.Xb(10,"div",2),c.Xb(11,"div",3),c.Xb(12,"label",9),c.Ec(13,"Prezime:"),c.Wb(),c.Wb(),c.Xb(14,"div",5),c.Xb(15,"input",10,11),c.fc("ngModelChange",(function(i){return e.korisnik.prezime=i})),c.Wb(),c.Cc(17,E,4,3,"ng-container",8),c.Wb(),c.Wb(),c.Xb(18,"div",2),c.Xb(19,"div",3),c.Xb(20,"label",12),c.Ec(21,"Email:"),c.Wb(),c.Wb(),c.Xb(22,"div",5),c.Xb(23,"input",13,14),c.fc("ngModelChange",(function(i){return e.korisnik.email=i})),c.Wb(),c.Cc(25,z,3,2,"ng-container",8),c.Wb(),c.Wb(),c.Xb(26,"div",2),c.Xb(27,"div",3),c.Xb(28,"label",15),c.Ec(29,"Korisni\u010dko ime:"),c.Wb(),c.Wb(),c.Xb(30,"div",5),c.Xb(31,"input",16,17),c.fc("ngModelChange",(function(i){return e.korisnik.korisnickoIme=i})),c.Wb(),c.Cc(33,w,3,2,"ng-container",8),c.Wb(),c.Wb(),c.Xb(34,"div",2),c.Xb(35,"div",3),c.Xb(36,"label",18),c.Ec(37,"Telefon:"),c.Wb(),c.Wb(),c.Xb(38,"div",5),c.Xb(39,"input",19,20),c.fc("ngModelChange",(function(i){return e.korisnik.telefon=i})),c.Wb(),c.Cc(41,V,3,2,"ng-container",8),c.Wb(),c.Wb(),c.Xb(42,"div",21),c.Sb(43,"div",22),c.Xb(44,"div",23),c.Xb(45,"button",24),c.fc("click",(function(){return e.enableInputs()})),c.Ec(46,"IZMENI"),c.Wb(),c.Wb(),c.Xb(47,"div",23),c.Xb(48,"button",25),c.Ec(49,"SA\u010cUVAJ"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=c.uc(8),a=c.uc(16),l=c.uc(24),r=c.uc(32),o=c.uc(40);c.Eb(7),c.nc("ngModel",e.korisnik.ime)("maxlength",e.getConfigValue("forms.validation.ime.maxLength"))("minlength",e.getConfigValue("forms.validation.ime.minLength"))("pattern",e.getConfigValue("forms.validation.ime.pattern"))("required",e.getConfigValue("forms.validation.ime.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(6),c.nc("ngModel",e.korisnik.prezime)("maxlength",e.getConfigValue("forms.validation.prezime.maxLength"))("minlength",e.getConfigValue("forms.validation.prezime.minLength"))("pattern",e.getConfigValue("forms.validation.prezime.pattern"))("required",e.getConfigValue("forms.validation.prezime.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(6),c.nc("ngModel",e.korisnik.email)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched),c.Eb(6),c.nc("ngModel",e.korisnik.korisnickoIme)("maxlength",e.getConfigValue("forms.validation.korisnickoIme.maxLength"))("minlength",e.getConfigValue("forms.validation.korisnickoIme.minLength"))("required",e.getConfigValue("forms.validation.korisnickoIme.required"))("status",r.dirty?r.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(6),c.nc("ngModel",e.korisnik.telefon)("maxlength",e.getConfigValue("forms.validation.telefon.maxLength"))("minlength",e.getConfigValue("forms.validation.telefon.minLength"))("required",e.getConfigValue("forms.validation.telefon.required"))("status",o.dirty?o.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),c.Eb(2),c.nc("ngIf",o.invalid&&o.touched),c.Eb(4),c.nc("disabled",!e.inputsDisabled),c.Eb(3),c.nc("disabled",e.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.f,a.g,a.q,a.s,t.n,l.t],styles:[""]}),q);function F(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Email je obavezan! "),c.Wb())}function O(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Email mora biti validan! "),c.Wb())}function T(i,e){if(1&i&&(c.Vb(0),c.Cc(1,F,2,0,"p",37),c.Cc(2,O,2,0,"p",37),c.Ub()),2&i){c.hc();var n=c.uc(31);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function P(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Email je obavezan! "),c.Wb())}function L(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Email mora biti validan! "),c.Wb())}function U(i,e){if(1&i&&(c.Vb(0),c.Cc(1,P,2,0,"p",37),c.Cc(2,L,2,0,"p",37),c.Ub()),2&i){c.hc();var n=c.uc(39);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}function R(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Telefon je obavezan! "),c.Wb())}function N(i,e){if(1&i&&(c.Xb(0,"p",38),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Telefon mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function _(i,e){if(1&i&&(c.Vb(0),c.Cc(1,R,2,0,"p",37),c.Cc(2,N,2,2,"p",37),c.Ub()),2&i){c.hc();var n=c.uc(47);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function B(i,e){if(1&i&&(c.Xb(0,"p",38),c.Ec(1),c.Wb()),2&i){var n=c.hc(3);c.Eb(1),c.Hc(" Faks mora da bude du\u017ei od ",n.getConfigValue("forms.validation.telefon.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.telefon.maxLength")," ")}}function Z(i,e){if(1&i&&(c.Vb(0),c.Cc(1,B,2,2,"p",37),c.Ub()),2&i){c.hc();var n=c.uc(6);c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function A(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div",4),c.Xb(1,"div",5),c.Xb(2,"label",39),c.Ec(3,"Faks:"),c.Wb(),c.Wb(),c.Xb(4,"div",3),c.Xb(5,"input",40,41),c.fc("ngModelChange",(function(i){return c.wc(n),c.hc().firma.faks=i})),c.Wb(),c.Cc(7,Z,2,1,"ng-container",18),c.Wb(),c.Wb()}if(2&i){var t=c.uc(6),a=c.hc();c.Eb(5),c.nc("ngModel",a.firma.faks)("maxlength",a.getConfigValue("forms.validation.telefon.maxLength"))("minlength",a.getConfigValue("forms.validation.telefon.minLength"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",a.inputsDisabled),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched)}}function K(i,e){1&i&&(c.Xb(0,"p",38),c.Ec(1," Zakosni zastupnik firme je obavezan! "),c.Wb())}function $(i,e){if(1&i&&(c.Xb(0,"p",38),c.Ec(1),c.Wb()),2&i){var n=c.hc(2);c.Eb(1),c.Hc(" Zakosni zastupnik mora da bude du\u017ei od ",n.getConfigValue("forms.validation.zastupink.minLength")," a kra\u0107i od ",n.getConfigValue("forms.validation.zastupink.maxLength")," ")}}function H(i,e){if(1&i&&(c.Vb(0),c.Cc(1,K,2,0,"p",37),c.Cc(2,$,2,2,"p",37),c.Ub()),2&i){c.hc();var n=c.uc(56);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function Y(i,e){1&i&&c.Sb(0,"input",42),2&i&&c.nc("placeholder",e.$implicit)}var J,G=((J=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,i),this.firmaService=e,this.options=n,this.toastrService=t,this.authService=a,this.firma={_id:"",adresa:{mesto:{opstinaNaziv:"",opstinaSifra:0,mestoNaziv:"",mestoSifra:0,postanskiBroj:""},ulica:""},delatnost:{sifra:"",naziv:"",_id:""},email:"",emailPrijem:"",mat:"",menadzer:"",naziv:"",pib:"",radFirme:[],telefon:"",zakonskiZastupnik:""},this.inputsDisabled=!0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.firmaService.getCurrentFirma().pipe(Object(g.a)()).subscribe((function(e){i.firma=e}))}},{key:"getConfigValue",value:function(i){return Object(f.n)(this.options,i,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateFirma",value:function(i){if(i.valid){this.firmaService.updateFirma(this.firma).subscribe((function(i){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0;var e=null;this.authService.getToken().subscribe((function(i){e=i})),this.authService.refreshToken("email",e).subscribe((function(i){}))}else this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(i,e,n){this.toastrService.show(e,i,{status:n})}}]),i}()).\u0275fac=function(i){return new(i||J)(c.Rb(d.a),c.Rb(f.a),c.Rb(l.Hb),c.Rb(f.g))},J.\u0275cmp=c.Lb({type:J,selectors:[["ngx-profile-firma"]],decls:79,vars:38,consts:[[1,"col-12",3,"ngSubmit"],["formKorisnik","ngForm"],[1,"row"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["disabled","","fullWidth","","id","input-naziv","name","ime","nbInput","","type","text",3,"ngModel","ngModelChange"],["naziv","ngModel"],["for","input-pib",1,"label"],["disabled","","fullWidth","","id","input-pib","name","pib","nbInput","","type","text",3,"ngModel","ngModelChange"],["pib","ngModel"],["for","input-mat",1,"label"],["disabled","","fullWidth","","id","input-mat","name","mat","nbInput","","type","text",3,"ngModel","ngModelChange"],["mat","ngModel"],["for","input-email",1,"label"],["fullWidth","","id","input-email","name","email","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-emailPrijem",1,"label"],["fullWidth","","id","input-emailPrijem","name","emailPrijem","nbInput","","type","text",3,"ngModel","pattern","required","status","disabled","ngModelChange"],["emailPrijem","ngModel"],["for","input-telefon",1,"label"],["fullWidth","","id","input-telefon","name","telefon","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["telefon","ngModel"],["class","row mb-2",4,"ngIf"],["for","input-zastupink",1,"label"],["fullWidth","","id","input-zastupink","name","zastupink","nbInput","","type","text",3,"ngModel","maxlength","minlength","required","status","disabled","ngModelChange"],["zastupink","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],[1,"label"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder",4,"ngFor","ngForOf"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-faks",1,"label"],["fullWidth","","id","input-faks","name","faks","nbInput","","type","text",3,"ngModel","maxlength","minlength","status","disabled","ngModelChange"],["faks","ngModel"],["disabled","","fullWidth","","nbInput","","type","text",3,"placeholder"]],template:function(i,e){if(1&i){var n=c.Yb();c.Xb(0,"form",0,1),c.fc("ngSubmit",(function(){c.wc(n);var i=c.uc(1);return e.updateFirma(i)})),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"label",6),c.Ec(7,"Naziv Firme:"),c.Wb(),c.Wb(),c.Xb(8,"div",3),c.Xb(9,"input",7,8),c.fc("ngModelChange",(function(i){return e.firma.naziv=i})),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"div",4),c.Xb(12,"div",5),c.Xb(13,"label",9),c.Ec(14,"PIB:"),c.Wb(),c.Wb(),c.Xb(15,"div",3),c.Xb(16,"input",10,11),c.fc("ngModelChange",(function(i){return e.firma.pib=i})),c.Wb(),c.Wb(),c.Wb(),c.Xb(18,"div",4),c.Xb(19,"div",5),c.Xb(20,"label",12),c.Ec(21,"Mati\u010dni broj:"),c.Wb(),c.Wb(),c.Xb(22,"div",3),c.Xb(23,"input",13,14),c.fc("ngModelChange",(function(i){return e.firma.mat=i})),c.Wb(),c.Wb(),c.Wb(),c.Xb(25,"div",4),c.Xb(26,"div",5),c.Xb(27,"label",15),c.Ec(28,"Email:"),c.Wb(),c.Wb(),c.Xb(29,"div",3),c.Xb(30,"input",16,17),c.fc("ngModelChange",(function(i){return e.firma.email=i})),c.Wb(),c.Cc(32,T,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Xb(33,"div",4),c.Xb(34,"div",5),c.Xb(35,"label",19),c.Ec(36,"Email za prijem dokumenata:"),c.Wb(),c.Wb(),c.Xb(37,"div",3),c.Xb(38,"input",20,21),c.fc("ngModelChange",(function(i){return e.firma.emailPrijem=i})),c.Wb(),c.Cc(40,U,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Xb(41,"div",4),c.Xb(42,"div",5),c.Xb(43,"label",22),c.Ec(44,"Telefon:"),c.Wb(),c.Wb(),c.Xb(45,"div",3),c.Xb(46,"input",23,24),c.fc("ngModelChange",(function(i){return e.firma.telefon=i})),c.Wb(),c.Cc(48,_,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Cc(49,A,8,7,"div",25),c.Xb(50,"div",4),c.Xb(51,"div",5),c.Xb(52,"label",26),c.Ec(53,"Zakonski Zastupnik Firme:"),c.Wb(),c.Wb(),c.Xb(54,"div",3),c.Xb(55,"input",27,28),c.fc("ngModelChange",(function(i){return e.firma.zakonskiZastupnik=i})),c.Wb(),c.Cc(57,H,3,2,"ng-container",18),c.Wb(),c.Wb(),c.Wb(),c.Xb(58,"div",3),c.Xb(59,"div",4),c.Xb(60,"div",5),c.Xb(61,"label",29),c.Ec(62,"Adresa Firme:"),c.Wb(),c.Wb(),c.Xb(63,"div",5),c.Sb(64,"input",30),c.Wb(),c.Wb(),c.Xb(65,"div",2),c.Xb(66,"div",5),c.Xb(67,"label",31),c.Ec(68,"Rad firme:"),c.Wb(),c.Wb(),c.Xb(69,"div",5),c.Cc(70,Y,1,1,"input",32),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(71,"div",2),c.Sb(72,"div",33),c.Xb(73,"div",34),c.Xb(74,"button",35),c.fc("click",(function(){return e.enableInputs()})),c.Ec(75," IZMENI "),c.Wb(),c.Wb(),c.Xb(76,"div",34),c.Xb(77,"button",36),c.Ec(78,"SA\u010cUVAJ"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=c.uc(31),a=c.uc(39),l=c.uc(47),r=c.uc(56);c.Eb(9),c.nc("ngModel",e.firma.naziv),c.Eb(7),c.nc("ngModel",e.firma.pib),c.Eb(7),c.nc("ngModel",e.firma.mat),c.Eb(7),c.nc("ngModel",e.firma.email)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",t.dirty?t.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!t.invalid||!t.touched)||null),c.Eb(2),c.nc("ngIf",t.invalid&&t.touched),c.Eb(6),c.nc("ngModel",e.firma.emailPrijem)("pattern",e.getConfigValue("forms.validation.email.pattern"))("required",e.getConfigValue("forms.validation.email.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(6),c.nc("ngModel",e.firma.telefon)("maxlength",e.getConfigValue("forms.validation.telefon.maxLength"))("minlength",e.getConfigValue("forms.validation.telefon.minLength"))("required",e.getConfigValue("forms.validation.telefon.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched),c.Eb(1),c.nc("ngIf",""===e.firma.faks),c.Eb(6),c.nc("ngModel",e.firma.zakonskiZastupnik)("maxlength",e.getConfigValue("forms.validation.imeZakonskogZastupinka.maxLength"))("minlength",e.getConfigValue("forms.validation.imeZakonskogZastupinka.minLength"))("required",e.getConfigValue("forms.validation.imeZakonskogZastupinka.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",e.inputsDisabled),c.Fb("aria-invalid",!(!r.invalid||!r.touched)||null),c.Eb(2),c.nc("ngIf",r.invalid&&r.touched),c.Eb(7),c.nc("placeholder",e.firma.adresa.mesto.opstinaNaziv+", "+e.firma.adresa.mesto.mestoNaziv+", "+e.firma.adresa.ulica),c.Eb(6),c.nc("ngForOf",e.firma.radFirme),c.Eb(4),c.nc("disabled",!e.inputsDisabled),c.Eb(3),c.nc("disabled",e.inputsDisabled)}},directives:[a.w,a.l,a.m,l.O,a.b,a.k,a.n,a.q,a.s,t.n,a.f,a.g,t.m,l.t],styles:[".divider-left[_ngcontent-%COMP%]{border-left:1px solid grey}"]}),J),Q=n("pVkk");function ii(i,e){1&i&&(c.Xb(0,"label",23),c.Ec(1,"Naziv Deponije:"),c.Wb())}function ei(i,e){1&i&&(c.Xb(0,"label",23),c.Ec(1,"Naziv Skladi\u0161ta za tretman:"),c.Wb())}function ni(i,e){1&i&&(c.Xb(0,"label",23),c.Ec(1,"Naziv Skladi\u0161ta za skladi\u0161tenje:"),c.Wb())}function ti(i,e){1&i&&(c.Xb(0,"label",23),c.Ec(1,"Naziv Skladi\u0161ta:"),c.Wb())}function ai(i,e){1&i&&(c.Xb(0,"p",25),c.Ec(1," Naziv skladi\u0161ta je obavezan! "),c.Wb())}function li(i,e){if(1&i&&(c.Vb(0),c.Cc(1,ai,2,0,"p",24),c.Ub()),2&i){c.hc();var n=c.uc(11);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required)}}function ri(i,e){1&i&&(c.Xb(0,"p",25),c.Ec(1," Veli\u010dina skladi\u0161ta je obavezna! "),c.Wb())}function oi(i,e){if(1&i&&(c.Vb(0),c.Cc(1,ri,2,0,"p",24),c.Ub()),2&i){c.hc();var n=c.uc(19);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required)}}var si=function(){return{standalone:!0}};function bi(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",3),c.Xb(2,"div",8),c.Xb(3,"div",9),c.Xb(4,"div",10),c.Cc(5,ii,2,0,"label",11),c.Cc(6,ei,2,0,"label",11),c.Cc(7,ni,2,0,"label",11),c.Cc(8,ti,2,0,"label",12),c.Wb(),c.Xb(9,"div",8),c.Xb(10,"input",13,14),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.naziv=i})),c.Wb(),c.Cc(12,li,2,1,"ng-container",15),c.Wb(),c.Wb(),c.Xb(13,"div",9),c.Xb(14,"div",16),c.Xb(15,"label",17),c.Ec(16,"Veli\u010dina skladi\u0161ta:"),c.Wb(),c.Wb(),c.Xb(17,"div",8),c.Xb(18,"input",18,19),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.maxKolicina=i})),c.Wb(),c.Cc(20,oi,2,1,"ng-container",15),c.Wb(),c.Wb(),c.Wb(),c.Xb(21,"div",8),c.Xb(22,"div",9),c.Xb(23,"div",16),c.Xb(24,"label",20),c.Ec(25,"Adresa Skladi\u0161ta:"),c.Wb(),c.Wb(),c.Xb(26,"div",16),c.Sb(27,"input",21),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(28,"div",9),c.Xb(29,"div",16),c.Xb(30,"nb-progress-bar",22),c.Ec(31),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=e.$implicit,a=c.uc(11),l=c.uc(19),r=c.hc();c.Eb(4),c.nc("ngSwitch",t.__t),c.Eb(1),c.nc("ngSwitchCase","SkladisteDeponija"),c.Eb(1),c.nc("ngSwitchCase","SkladisteTretman"),c.Eb(1),c.nc("ngSwitchCase","SkladisteSkladistenje"),c.Eb(3),c.nc("ngModel",t.naziv)("ngModelOptions",c.qc(26,si))("maxlength",r.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",r.getConfigValue("forms.validation.nazivFirme.minLength"))("required",r.getConfigValue("forms.validation.nazivFirme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",r.inputsDisabled),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(6),c.nc("ngModel",t.maxKolicina)("ngModelOptions",c.qc(27,si))("pattern",r.getConfigValue("forms.validation.velicinaSkladista.pattern"))("required",r.getConfigValue("forms.validation.velicinaSkladista.required"))("status",l.dirty?l.invalid?"danger":"success":"basic")("disabled",r.inputsDisabled),c.Fb("aria-invalid",!(!l.invalid||!l.touched)||null),c.Eb(2),c.nc("ngIf",l.invalid&&l.touched),c.Eb(7),c.nc("placeholder",t.adresa.mesto.opstinaNaziv+", "+t.adresa.mesto.mestoNaziv+", "+t.adresa.ulica),c.Eb(3),c.nc("value",r.calculateValue(t))("status",r.calculateStatus(t)),c.Eb(1),c.Hc(" ",t.kolicina,"/",t.maxKolicina," ")}}var di,ui=((di=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,i),this.skladisteService=e,this.options=n,this.toastrService=t,this.skladista=[],this.inputsDisabled=!0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.skladisteService.getAllSkladistaFirme().pipe(Object(g.a)()).subscribe((function(e){i.skladista=e}))}},{key:"getConfigValue",value:function(i){return Object(f.n)(this.options,i,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updateSkladiste",value:function(i){var e=this;i.valid?(this.skladista.forEach((function(i){return e.skladisteService.updateSkladiste(i).subscribe((function(i){}))})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(i,e,n){this.toastrService.show(e,i,{status:n})}},{key:"calculateStatus",value:function(i){return i.kolicina/i.maxKolicina*100<33?"success":i.kolicina/i.maxKolicina*100<66?"warning":"danger"}},{key:"calculateValue",value:function(i){return i.kolicina/i.maxKolicina*100}}]),i}()).\u0275fac=function(i){return new(i||di)(c.Rb(Q.a),c.Rb(f.a),c.Rb(l.Hb))},di.\u0275cmp=c.Lb({type:di,selectors:[["ngx-profile-skladiste"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","status","primary","fullWidth","","type","button",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12",3,"ngSwitch"],["class","label","for","input-naziv",4,"ngSwitchCase"],["class","label","for","input-naziv",4,"ngSwitchDefault"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],[1,"col-12"],["for","input-velicina",1,"label"],["fullWidth","","id","input-velicina","name","velicina","nbInput","","type","number",3,"ngModel","ngModelOptions","pattern","required","status","disabled","ngModelChange"],["velicina","ngModel"],["for","input-adresa",1,"label"],["disabled","","fullWidth","","id","input-adresa","name","faks","nbInput","","type","text",3,"placeholder"],["size","large",3,"value","status"],["for","input-naziv",1,"label"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){var n=c.Yb();c.Xb(0,"form",0,1),c.fc("ngSubmit",(function(){c.wc(n);var i=c.uc(1);return e.updateSkladiste(i)})),c.Cc(2,bi,32,28,"div",2),c.Xb(3,"div",3),c.Sb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"button",6),c.fc("click",(function(){return e.enableInputs()})),c.Ec(7," IZMENI "),c.Wb(),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"button",7),c.Ec(10,"SA\u010cUVAJ"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}2&i&&(c.Eb(2),c.nc("ngForOf",e.skladista),c.Eb(4),c.nc("disabled",!e.inputsDisabled),c.Eb(3),c.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,t.o,t.p,t.q,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,a.p,a.q,l.hb],styles:[""]}),di),ci=n("O97o"),fi=n("kBrA"),gi=["viewTrash"];function pi(i,e){1&i&&(c.Xb(0,"p",30),c.Ec(1," Naziv dozvole je obavezan! "),c.Wb())}function vi(i,e){if(1&i&&(c.Vb(0),c.Cc(1,pi,2,0,"p",29),c.Ub()),2&i){c.hc();var n=c.uc(9);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required)}}var mi=function(){return{standalone:!0}};function hi(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div",10),c.Xb(1,"div",11),c.Xb(2,"label",31),c.Ec(3,"Skladi\u0161te:"),c.Wb(),c.Wb(),c.Xb(4,"div",9),c.Xb(5,"input",32),c.fc("ngModelChange",(function(i){return c.wc(n),c.hc().$implicit.skladistaSkladistenje.naziv=i})),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=c.hc().$implicit;c.Eb(5),c.nc("ngModel",t.skladistaSkladistenje.naziv)("ngModelOptions",c.qc(2,mi))}}function ki(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div",10),c.Xb(1,"div",11),c.Xb(2,"label",33),c.Ec(3,"Skladi\u0161te:"),c.Wb(),c.Wb(),c.Xb(4,"div",9),c.Xb(5,"input",34),c.fc("ngModelChange",(function(i){return c.wc(n),c.hc().$implicit.skladistaDeponija.naziv=i})),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=c.hc().$implicit;c.Eb(5),c.nc("ngModel",t.skladistaDeponija.naziv)("ngModelOptions",c.qc(2,mi))}}function Wi(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div",10),c.Xb(1,"div",11),c.Xb(2,"label",35),c.Ec(3,"Skladi\u0161te:"),c.Wb(),c.Wb(),c.Xb(4,"div",9),c.Xb(5,"input",36),c.fc("ngModelChange",(function(i){return c.wc(n),c.hc().$implicit.skladistaTretman.naziv=i})),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=c.hc().$implicit;c.Eb(5),c.nc("ngModel",t.skladistaTretman.naziv)("ngModelOptions",c.qc(2,mi))}}function Xi(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",3),c.Xb(2,"div",9),c.Xb(3,"div",10),c.Xb(4,"div",11),c.Xb(5,"label",12),c.Ec(6,"Naziv dozvole:"),c.Wb(),c.Wb(),c.Xb(7,"div",9),c.Xb(8,"input",13,14),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.naziv=i})),c.Wb(),c.Cc(10,vi,2,1,"ng-container",15),c.Wb(),c.Wb(),c.Xb(11,"div",10),c.Xb(12,"div",11),c.Xb(13,"label",16),c.Ec(14,"\u0160ifra dozvole:"),c.Wb(),c.Wb(),c.Xb(15,"div",9),c.Xb(16,"input",17),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.sifra=i})),c.Wb(),c.Wb(),c.Wb(),c.Xb(17,"div",10),c.Xb(18,"div",11),c.Xb(19,"label",18),c.Ec(20,"Datum trajanja dozvole:"),c.Wb(),c.Wb(),c.Xb(21,"div",19),c.Sb(22,"input",20),c.Wb(),c.Xb(23,"button",21),c.Ec(24,"-"),c.Wb(),c.Xb(25,"div",22),c.Sb(26,"input",23),c.Wb(),c.Wb(),c.Wb(),c.Xb(27,"div",9),c.Xb(28,"div",10),c.Xb(29,"div",11),c.Xb(30,"label",24),c.Ec(31,"Vrsta dozvole:"),c.Wb(),c.Wb(),c.Xb(32,"div",9),c.Xb(33,"input",25),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.vrstaDozvole=i})),c.Wb(),c.Wb(),c.Wb(),c.Cc(34,hi,6,3,"div",26),c.Cc(35,ki,6,3,"div",26),c.Cc(36,Wi,6,3,"div",26),c.Xb(37,"div",10),c.Xb(38,"div",11),c.Sb(39,"label",27),c.Wb(),c.Xb(40,"div",9),c.Xb(41,"button",28),c.fc("click",(function(){c.wc(n);var i=e.$implicit;return c.hc().openPermitsTrashWindow(i)})),c.Ec(42,"Pogledaj listu otpada "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&i){var t=e.$implicit,a=c.uc(9),l=c.hc();c.Eb(8),c.nc("ngModel",t.naziv)("ngModelOptions",c.qc(18,mi))("maxlength",l.getConfigValue("forms.validation.nazivFirme.maxLength"))("minlength",l.getConfigValue("forms.validation.nazivFirme.minLength"))("required",l.getConfigValue("forms.validation.nazivFirme.required"))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",l.inputsDisabled),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(6),c.nc("ngModel",t.sifra)("ngModelOptions",c.qc(19,mi)),c.Eb(6),c.nc("placeholder",l.getDate(t.datumNastanka)),c.Eb(4),c.nc("placeholder",l.getDate(t.datumTrajanja)),c.Eb(7),c.nc("ngModel",t.vrstaDozvole)("ngModelOptions",c.qc(20,mi)),c.Eb(1),c.nc("ngIf",void 0!==t.skladistaSkladistenje),c.Eb(1),c.nc("ngIf",void 0!==t.skladistaDeponija),c.Eb(1),c.nc("ngIf",void 0!==t.skladistaTretman)}}function Ci(i,e){if(1&i){var n=c.Yb();c.Xb(0,"view-permits-trash-popup",37),c.fc("callUpdatePermitsTrash",(function(i){return c.wc(n),c.hc().updatePermitsTrashMethod(i)})),c.Wb()}if(2&i){var t=c.hc();c.nc("selectedPermit",t.selectedPermit)}}var Ei,Ii=((Ei=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;_classCallCheck(this,i),this.permitService=e,this.options=n,this.toastrService=t,this.datePipe=a,this.windowService=l,this.permits=[],this.inputsDisabled=!0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.permitService.getDozvolaFirme().pipe(Object(g.a)()).subscribe((function(e){i.permits=e}))}},{key:"getConfigValue",value:function(i){return Object(f.n)(this.options,i,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updatePermits",value:function(i){var e=this;i.valid?(this.permits.forEach((function(i){return e.permitService.updateDozvola(i).subscribe((function(i){}))})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"openPermitsTrashWindow",value:function(i){this.selectedPermit=i,this.windowRef=this.windowService.open(this.viewTrash,{title:"Lista otpada"})}},{key:"updatePermitsTrashMethod",value:function(i){this.selectedPermit.listaOtpada=i,this.permitService.updateDozvola(this.selectedPermit).subscribe((function(i){})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.windowRef.close()}},{key:"getDate",value:function(i){return this.datePipe.transform(i,"dd-MM-yyyy")}},{key:"showToast",value:function(i,e,n){this.toastrService.show(e,i,{status:n})}}]),i}()).\u0275fac=function(i){return new(i||Ei)(c.Rb(ci.a),c.Rb(f.a),c.Rb(l.Hb),c.Rb(t.e),c.Rb(l.Nb))},Ei.\u0275cmp=c.Lb({type:Ei,selectors:[["ngx-profile-dozvola"]],viewQuery:function(i,e){var n;1&i&&c.Lc(gi,!0,c.N),2&i&&c.tc(n=c.gc())&&(e.viewTrash=n.first)},decls:13,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],["viewTrash",""],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-naziv",1,"label"],["fullWidth","","id","input-naziv","name","naziv","nbInput","","type","text",3,"ngModel","ngModelOptions","maxlength","minlength","required","status","disabled","ngModelChange"],["naziv","ngModel"],[4,"ngIf"],["for","input-sifra",1,"label"],["disabled","","fullWidth","","id","input-sifra","name","sifra","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-datumNastanka",1,"label"],[1,"col-5","mr-0","pr-0"],["disabled","","fullWidth","","id","input-datumNastanka","name","datumNastanka","nbInput","","type","text",3,"placeholder"],["disabled","","nbButton","",1,"mx-0","px-0","col-1"],[1,"col-5","ml-0","pl-0"],["disabled","","fullWidth","","id","input-datumTrajanja","name","datumTrajanja","nbInput","","type","text",3,"placeholder"],["for","input-vrsta",1,"label"],["disabled","","fullWidth","","id","input-vrsta","name","vrsta","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["class","row mb-2",4,"ngIf"],[1,"label"],["nbButton","","fullWidth","","status","success","type","button",3,"click"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"],["for","input-skladisteSkladistenje",1,"label"],["disabled","","fullWidth","","id","input-skladisteSkladistenje","name","skladisteSkladistenje","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaDeponija",1,"label"],["disabled","","fullWidth","","id","input-skladistaDeponija","name","skladistaDeponija","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["for","input-skladistaTretman",1,"label"],["disabled","","fullWidth","","id","input-skladistaTretman","name","skladistaTretman","nbInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],[3,"selectedPermit","callUpdatePermitsTrash"]],template:function(i,e){if(1&i){var n=c.Yb();c.Xb(0,"form",0,1),c.fc("ngSubmit",(function(){c.wc(n);var i=c.uc(1);return e.updatePermits(i)})),c.Cc(2,Xi,43,21,"div",2),c.Xb(3,"div",3),c.Sb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"button",6),c.fc("click",(function(){return e.enableInputs()})),c.Ec(7," IZMENI "),c.Wb(),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"button",7),c.Ec(10,"SA\u010cUVAJ"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Cc(11,Ci,1,1,"ng-template",null,8,c.Dc)}2&i&&(c.Eb(2),c.nc("ngForOf",e.permits),c.Eb(4),c.nc("disabled",!e.inputsDisabled),c.Eb(3),c.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.k,a.n,a.f,a.g,a.s,t.n,fi.a],styles:[""]}),Ei),Mi=n("8sB5");function zi(i,e){1&i&&(c.Xb(0,"p",18),c.Ec(1," Registarski broj tablice je obavezan! "),c.Wb())}function yi(i,e){1&i&&(c.Xb(0,"p",18),c.Ec(1," Registarski broj tablice mora biti validan! "),c.Wb())}function Si(i,e){if(1&i&&(c.Vb(0),c.Cc(1,zi,2,0,"p",17),c.Cc(2,yi,2,0,"p",17),c.Ub()),2&i){c.hc();var n=c.uc(9);c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.required),c.Eb(1),c.nc("ngIf",null==n.errors?null:n.errors.pattern)}}var wi=function(){return{standalone:!0}};function xi(i,e){if(1&i){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",3),c.Xb(2,"div",8),c.Xb(3,"div",9),c.Xb(4,"div",10),c.Xb(5,"label",11),c.Ec(6,"Registarski broj tablice:"),c.Wb(),c.Wb(),c.Xb(7,"div",8),c.Xb(8,"input",12,13),c.fc("ngModelChange",(function(i){return c.wc(n),e.$implicit.registarskiBroj=i})),c.Wb(),c.Cc(10,Si,3,2,"ng-container",14),c.Wb(),c.Wb(),c.Xb(11,"div",9),c.Xb(12,"div",10),c.Xb(13,"label",15),c.Ec(14,"Vrsta vozila:"),c.Wb(),c.Wb(),c.Xb(15,"div",8),c.Sb(16,"input",16),c.Wb(),c.Wb(),c.Wb(),c.Sb(17,"div",8),c.Wb(),c.Wb()}if(2&i){var t=e.$implicit,a=c.uc(9),l=c.hc();c.Eb(8),c.nc("ngModel",t.registarskiBroj)("ngModelOptions",c.qc(7,wi))("status",a.dirty?a.invalid?"danger":"success":"basic")("disabled",l.inputsDisabled),c.Fb("aria-invalid",!(!a.invalid||!a.touched)||null),c.Eb(2),c.nc("ngIf",a.invalid&&a.touched),c.Eb(6),c.nc("placeholder",t.vrstaVozila)}}var ji,Vi,qi,Di,Fi=((ji=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,i),this.prevoznoSredstvoService=e,this.options=n,this.toastrService=t,this.prevoznoSredstvo=[],this.inputsDisabled=!0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.prevoznoSredstvoService.getPrevoznoSredstvoFirme().pipe(Object(g.a)()).subscribe((function(e){i.prevoznoSredstvo=e}))}},{key:"getConfigValue",value:function(i){return Object(f.n)(this.options,i,null)}},{key:"enableInputs",value:function(){this.inputsDisabled=!1}},{key:"updatePrevoznoSredstvo",value:function(i){var e=this;i.valid?(this.prevoznoSredstvo.forEach((function(i){return e.prevoznoSredstvoService.updatePrevoznoSredstvo(i).subscribe((function(i){}))})),this.showToast("Uspeh","Uspe\u0161no ste izmenili informacije!","success"),this.inputsDisabled=!0):this.showToast("Gre\u0161ka","Informacije koje ste uneli nisu ta\u010dne!","danger")}},{key:"showToast",value:function(i,e,n){this.toastrService.show(e,i,{status:n})}}]),i}()).\u0275fac=function(i){return new(i||ji)(c.Rb(Mi.a),c.Rb(f.a),c.Rb(l.Hb))},ji.\u0275cmp=c.Lb({type:ji,selectors:[["ngx-profile-prevozno-sredstvo"]],decls:11,vars:3,consts:[[3,"ngSubmit"],["formSkladista","ngForm"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-8"],[1,"col-2"],["nbButton","","fullWidth","","type","button","status","primary",3,"disabled","click"],["fullWidth","","nbButton","","status","primary","type","submit",3,"disabled"],[1,"col-6"],[1,"row","mb-2"],[1,"col-12"],["for","input-registarskiBroj",1,"label"],["required","","pattern","([A-\u017d]{2})-(\\d{3,4})-([A-\u017d]{2})","fullWidth","","id","input-registarskiBroj","name","registarskiBroj","nbInput","","type","text",3,"ngModel","ngModelOptions","status","disabled","ngModelChange"],["registarskiBroj","ngModel"],[4,"ngIf"],["for","input-vrstaVozila",1,"label"],["fullWidth","","disabled","","id","input-vrstaVozila","name","vrstaVozila","nbInput","","type","text",3,"placeholder"],["class","error-message mt-1 mb-0",4,"ngIf"],[1,"error-message","mt-1","mb-0"]],template:function(i,e){if(1&i){var n=c.Yb();c.Xb(0,"form",0,1),c.fc("ngSubmit",(function(){c.wc(n);var i=c.uc(1);return e.updatePrevoznoSredstvo(i)})),c.Cc(2,xi,18,8,"div",2),c.Xb(3,"div",3),c.Sb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"button",6),c.fc("click",(function(){return e.enableInputs()})),c.Ec(7," IZMENI "),c.Wb(),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"button",7),c.Ec(10,"SA\u010cUVAJ"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}2&i&&(c.Eb(2),c.nc("ngForOf",e.prevoznoSredstvo),c.Eb(4),c.nc("disabled",!e.inputsDisabled),c.Eb(3),c.nc("disabled",e.inputsDisabled))},directives:[a.w,a.l,a.m,t.m,l.t,l.O,a.b,a.s,a.q,a.k,a.n,t.n],styles:[""]}),ji),Oi=[{path:"",component:(Vi=function(){function i(e,n){_classCallCheck(this,i),this.roleService=e,this.companyService=n}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.companyService.getCurrentFirma().subscribe((function(e){i.roleService.getOperations(e.radFirme).subscribe((function(e){i.operations=e}))}))}}]),i}(),Vi.\u0275fac=function(i){return new(i||Vi)(c.Rb(u.a),c.Rb(d.a))},Vi.\u0275cmp=c.Lb({type:Vi,selectors:[["ngx-profile"]],decls:12,vars:3,consts:[["tabIcon","person","tabTitle","Korisnik"],["tabIcon","briefcase","tabTitle","Firma"],["tabIcon","cube","tabTitle","Skladista",3,"disabled"],["tabIcon","file-text","tabTitle","Dozvole",3,"disabled"],["tabIcon","car","tabTitle","Prevozna Sredstva",3,"disabled"]],template:function(i,e){1&i&&(c.Xb(0,"nb-card"),c.Xb(1,"nb-tabset"),c.Xb(2,"nb-tab",0),c.Sb(3,"ngx-profile-korisnik"),c.Wb(),c.Xb(4,"nb-tab",1),c.Sb(5,"ngx-profile-firma"),c.Wb(),c.Xb(6,"nb-tab",2),c.Sb(7,"ngx-profile-skladiste"),c.Wb(),c.Xb(8,"nb-tab",3),c.Sb(9,"ngx-profile-dozvola"),c.Wb(),c.Xb(10,"nb-tab",4),c.Sb(11,"ngx-profile-prevozno-sredstvo"),c.Wb(),c.Wb(),c.Wb()),2&i&&(c.Eb(6),c.nc("disabled",!(null!=e.operations&&e.operations.production||null!=e.operations&&e.operations.treatment||null!=e.operations&&e.operations.disposal||null!=e.operations&&e.operations.cache)),c.Eb(2),c.nc("disabled",!(null!=e.operations&&e.operations.transport||null!=e.operations&&e.operations.treatment||null!=e.operations&&e.operations.disposal||null!=e.operations&&e.operations.cache)),c.Eb(2),c.nc("disabled",!(null!=e.operations&&e.operations.transport)))},directives:[l.w,l.Cb,l.Bb,D,G,ui,Ii,Fi],styles:[""]}),Vi)}],Ti=((Di=function i(){_classCallCheck(this,i)}).\u0275mod=c.Pb({type:Di}),Di.\u0275inj=c.Ob({factory:function(i){return new(i||Di)},imports:[[b.g.forChild(Oi)],b.g]}),Di),Pi=((qi=function i(){_classCallCheck(this,i)}).\u0275mod=c.Pb({type:qi}),qi.\u0275inj=c.Ob({factory:function(i){return new(i||qi)},imports:[[Ti,t.c,a.e,l.P,l.ib,l.u,l.Db,l.z,l.gb,r.c,o.PagesModule,s.a]]}),qi)}}]);